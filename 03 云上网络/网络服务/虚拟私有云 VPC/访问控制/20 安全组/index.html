
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="renjiangzhou@163.com">
      
      
      
        <link rel="prev" href="../10%20VPC%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%A6%82%E8%BF%B0/">
      
      
        <link rel="next" href="../30%20%E7%BD%91%E7%BB%9CACL/">
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>安全组和安全组规则概述 - 网络之路</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.35f28582.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../../.." title="网络之路" class="md-header__button md-logo" aria-label="网络之路" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            网络之路
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              安全组和安全组规则概述
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/DNS%E8%A7%A3%E6%9E%90/" class="md-tabs__link">
          
  
  网络基础

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E5%A0%86%E5%8F%A0%E7%BD%91%E5%85%B3%E3%80%81%E4%B8%BB%E5%A4%87%E7%BD%91%E5%85%B3%E3%80%81%E5%A4%9A%E6%B4%BB%E7%BD%91%E5%85%B3/" class="md-tabs__link">
          
  
  概念百科

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../00%20%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/" class="md-tabs__link">
          
  
  云上网络

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E6%9C%89%E4%BA%91/" class="md-tabs__link">
          
  
  数据中心

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/" class="md-tabs__link">
          
  
  WLAN

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/" class="md-tabs__link">
          
  
  可靠性

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/prometheus/Alertmanager/" class="md-tabs__link">
          
  
  NetDevOps

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/markdown/" class="md-tabs__link">
          
  
  知识管理

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="网络之路" class="md-nav__button md-logo" aria-label="网络之路" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    网络之路
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    网络基础
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            网络基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DNS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            DNS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/DNS%E8%A7%A3%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    各记录类型说明及规则
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    概念百科
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            概念百科
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E5%A0%86%E5%8F%A0%E7%BD%91%E5%85%B3%E3%80%81%E4%B8%BB%E5%A4%87%E7%BD%91%E5%85%B3%E3%80%81%E5%A4%9A%E6%B4%BB%E7%BD%91%E5%85%B3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    堆叠网关/主备网关/多活网关
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E6%8E%A7%E5%88%B6%E3%80%81%E7%BD%91%E7%BB%9C%E3%80%81%E8%AE%A1%E7%AE%97%E3%80%81%E5%AD%98%E5%82%A8%E8%8A%82%E7%82%B9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    控制/网络/计算/存储节点
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E7%A7%81%E6%9C%89%E4%BA%91%E3%80%81%E5%85%AC%E6%9C%89%E4%BA%91%E3%80%81%E6%B7%B7%E5%90%88%E4%BA%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    私有云/公有云/混合云
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E7%BA%BF%E9%80%9F%E8%BD%AC%E5%8F%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线速转发
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E4%BA%91%E7%BD%91%E4%B8%80%E4%BD%93%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    云网一体化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/EVPN/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EVPN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Leaf%E8%8A%82%E7%82%B9%E5%92%8CSpine%E8%8A%82%E7%82%B9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Leaf节点和Spine节点
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    什么是Overlay网络
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/RD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/RT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/VPN/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VPN
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    云上网络
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            云上网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    网络服务
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            网络服务
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00%20%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    相关概念
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01%20%E4%BB%80%E4%B9%88%E6%98%AFVPC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    什么是VPC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3" checked>
        
          
          <label class="md-nav__link" for="__nav_4_1_3" id="__nav_4_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    虚拟私有云 VPC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1_3">
            <span class="md-nav__icon md-icon"></span>
            虚拟私有云 VPC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3_1" checked>
        
          
          <label class="md-nav__link" for="__nav_4_1_3_1" id="__nav_4_1_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    访问控制
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1_3_1">
            <span class="md-nav__icon md-icon"></span>
            访问控制
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10%20VPC%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VPC访问控制概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    安全组
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    安全组
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 安全组和安全组规则概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 安全组和安全组规则概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. 安全组
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. 安全组规则
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. 安全组及规则的工作原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    <span class="md-ellipsis">
      1.4. 流量匹配安全组规则的顺序
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15" class="md-nav__link">
    <span class="md-ellipsis">
      1.5. 安全组配置示例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16" class="md-nav__link">
    <span class="md-ellipsis">
      1.6. 安全组配置流程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17" class="md-nav__link">
    <span class="md-ellipsis">
      1.7. 安全组的使用限制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18" class="md-nav__link">
    <span class="md-ellipsis">
      1.8. 实践建议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 默认安全组概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 默认安全组概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. 默认安全组规则说明
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. 默认安全组应用示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../30%20%E7%BD%91%E7%BB%9CACL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网络ACL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Azure
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Azure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    什么是 Azure ExpressRoute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    什么是 Azure VPN 网关
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据中心
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            数据中心
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E6%9C%89%E4%BA%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    公有云
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B7%E5%90%88%E4%BA%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    混合云
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    私有云
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    大二层
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            大二层
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00 什么是VXLAN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 VXLAN网络中的RD、RT是什么？如何配置RD、RT？
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    WLAN
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            WLAN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WLAN安全配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../05 WLAN/未命名.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    可靠性
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            可靠性
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    链路聚合LACP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/002%20%E4%BB%80%E4%B9%88%E6%98%AFEth-trunk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eth-trunk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/003%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86%E5%8F%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    什么是堆叠
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    什么是M-LAG
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/005%20%E5%A6%82%E4%BD%95%E4%BB%8E%E5%A0%86%E5%8F%A0%E5%88%87%E6%8D%A2%E4%B8%BAM-LAG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何从堆叠切换为M-LAG
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NetDevOps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            NetDevOps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" >
        
          
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    开源软件
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            开源软件
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/prometheus/Alertmanager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alertmanager
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    知识管理
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            知识管理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mkdocs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 安全组和安全组规则概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 安全组和安全组规则概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. 安全组
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. 安全组规则
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. 安全组及规则的工作原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    <span class="md-ellipsis">
      1.4. 流量匹配安全组规则的顺序
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15" class="md-nav__link">
    <span class="md-ellipsis">
      1.5. 安全组配置示例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16" class="md-nav__link">
    <span class="md-ellipsis">
      1.6. 安全组配置流程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17" class="md-nav__link">
    <span class="md-ellipsis">
      1.7. 安全组的使用限制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18" class="md-nav__link">
    <span class="md-ellipsis">
      1.8. 实践建议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 默认安全组概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 默认安全组概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. 默认安全组规则说明
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. 默认安全组应用示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>安全组</h1>

<h3 id="1">1. 安全组和安全组规则概述<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<h4 id="11">1.1. 安全组<a class="headerlink" href="#11" title="Permanent link">&para;</a></h4>
<p>安全组是一个逻辑上的分组，为具有相同安全保护需求并相互信任的云服务器、云容器、云数据库等实例提供访问策略。安全组创建后，用户可以在安全组中定义各种访问规则，当实例加入该安全组后，即受到这些访问规则的保护。</p>
<p>您在创建实例时（比如云服务器），必须将实例加入一个安全组，如果此前您还未创建任何安全组，那么系统会自动为您创建<a href="21%20默认安全组概述.md">默认安全组</a>并关联至该实例。除了默认安全组，您还可以根据业务需求创建自定义安全组并关联至实例。一个实例可以关联多个安全组，多个安全组按照优先级顺序依次匹配流量。</p>
<p>安全组中包括入方向规则和出方向规则，您可以针对每条入方向规则指定来源、端口和协议，针对出方向规则指定目的地、端口和协议，用来控制安全组内实例入方向和出方向的网络流量。以图1为例，在区域A内，某客户有一个虚拟私有云VPC-A和子网Subnet-A，在子网Subnet-A中创建一个云服务器ECS-A，并为ECS-A关联一个安全组Sg-A来保护ECS-A的网络安全。</p>
<ul>
<li>安全组Sg-A的入方向存在一条放通ICMP端口的自定义规则，因此可以通过个人PC (计算机)**ping**通ECS-A。但是安全组内未包含允许SSH流量进入实例的规则，因此您无法通过个人PC远程登录ECS-A。</li>
<li>当ECS-A需要通过EIP访问公网时，由于安全组Sg-A的出方向规则允许所有流量从实例流出，因此ECS-A可以访问公网。</li>
</ul>
<p><strong>图1</strong> 安全组架构图<br />
<a class="glightbox" href="../images/d38027378d970288943588a74abe196f_MD5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/d38027378d970288943588a74abe196f_MD5.png" /></a></p>
<div class="admonition note">
<p class="admonition-title">说明</p>
<p>您可以免费使用安全组资源，当前不收取任何费用。</p>
</div>
<h4 id="12">1.2. 安全组规则<a class="headerlink" href="#12" title="Permanent link">&para;</a></h4>
<ul>
<li>安全组中包括入方向规则和出方向规则，用来控制安全组内实例的入方向和出方向的网络流量。<ul>
<li>入方向规则：控制外部请求访问安全组内的实例，即流量流入实例。</li>
<li>出方向规则：控制安全组内实例访问外部的请求，即流量从实例流出。</li>
</ul>
</li>
<li>安全组规则由协议端口、源地址/目的地址等组成，关键信息说明如下：<ul>
<li>策略：支持允许或拒绝。当流量的协议、端口、源地址/目的地址成功匹配某个安全组规则后，会对流量执行规则对应的策略，允许或拒绝流量。</li>
<li>优先级：优先级可选范围为1-100，数字越小，规则优先级级别越高。安全组规则匹配流量时，首先按照优先级进行排序，其次按照策略排序，拒绝策略高于允许策略，更多信息请参见<a href="#流量匹配安全组规则的顺序">流量匹配安全组规则的顺序</a>。</li>
<li>类型：支持设置IPv4和IPv6协议的规则。</li>
<li>协议端口：包括网络协议类型和端口范围。<ul>
<li>网络协议：匹配流量的协议类型，支持TCP、UDP、ICMP和GRE协议。</li>
<li>端口范围：匹配流量的目的端口，取值范围为：1～65535。</li>
</ul>
</li>
<li>
<p>源地址或目的地址：在入方向中，匹配流量的源地址。在出方向中，匹配流量的目的地址。</p>
<p>您可以使用IP地址、安全组、IP地址组作为源地址或者目的地址。</p>
<ul>
<li>IP地址：某个固定的IP地址或者网段，支持IPv4和IPv6地址。比如：192.168.10.10/32（IPv4地址）、192.168.1.0/24（IPv4网段）、2407:c080:802:469::/64（IPv6网段）</li>
<li>安全组：目标安全组和当前安全组位于同一区域，表示流量匹配目标安全组内所有实例的私有IP地址。比如：当安全组A内有实例a，安全组B内有实例b，在安全组A的入方向规则中，放通源地址为安全组B的流量，则来自实例b的内网访问请求被允许进入实例a。</li>
<li>IP地址组：<a href="https://support.huaweicloud.com/usermanual-vpc/vpc_IPAddressGroup_0002.html">IP地址组</a>是一个或者多个IP地址的集合，对于安全策略相同的IP网段和IP地址，此处建议您使用IP地址组简化管理。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="13">1.3. 安全组及规则的工作原理<a class="headerlink" href="#13" title="Permanent link">&para;</a></h4>
<ul>
<li>安全组是有状态的。如果您从实例发送一个出站请求，且该安全组的出方向规则是放通的话，那么无论其入方向规则如何，都将允许该出站请求的响应流量流入。同理，如果该安全组的入方向规则是放通的，那无论出方向规则如何，都将允许入站请求的响应流量可以流出。</li>
<li>
<p>安全组使用连接跟踪来标识进出实例的流量信息，入方向安全组的规则变更，对原有流量立即生效。出方向安全组规则的变更，不影响已建立的长连接，只对新建立的连接生效。</p>
<p>当您在安全组内增加、删除、更新规则，或者在安全组内添加、移出实例时，系统会自动清除该安全组内所有实例入方向的连接，详细说明如下：</p>
<ul>
<li>由入方向流量建立的连接，已建立的长连接将会断开。所有入方向流量立即重新建立连接，并匹配新的安全组入方向规则。</li>
<li>由出方向流量建立的连接，已建立的长连接不会断开，依旧遵循原有安全组规则。出方向流量新建立的连接，将会匹配新的安全组出方向规则。</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">须知</p>
<p>对于已建立的长连接，流量断开后，不会立即建立新的连接，需要超过连接跟踪的老化时间后，才会新建立连接并匹配新的规则。比如，对于已建立的ICMP协议长连接，当流量中断后，需要超过老化时间30s后，将会新建立连接并匹配新的规则，详细说明如下：</p>
<ul>
<li>
<p>不同协议的连接跟踪老化时间不同，比如已建立连接状态的TCP协议连接老化时间是600s，ICMP协议老化时间是30s。对于除TCP和ICMP的其他协议，如果两个方向都收到了报文，连接老化时间是180s，如果只是单方向收到了报文，另一个方向没有收到报文，则连接老化时间是30s。</p>
</li>
<li>
<p>TCP协议处于不同状态下的连接老化时间也不相同，比如TCP连接处于ESTABLISHED（连接已建立）状态时，老化时间是600s，处于FIN-WAIT（连接即将关闭）状态时，老化时间是30s。</p>
</li>
</ul>
</div>
<ul>
<li>
<p>安全组规则遵循白名单原理，当在规则中没有明确定义允许或拒绝某条流量时，安全组一律拒绝该流量流入或者流出实例。</p>
<ul>
<li>
<p>在入方向中，当请求匹配上安全组中入方向规则的源地址，并且策略为“允许”时，允许该请求进入，其他请求一律拦截。因此，默认情况下您一般不用在入方向配置策略为“拒绝”的规则。</p>
<p><a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0073379079.html#zh-cn_topic_0073379079__table18856122016576">表1</a>中的入方向规则，确保安全组内实例内网网络互通，不建议您删除或者修改该安全组规则。</p>
</li>
<li>
<p>在出方向中，<a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0073379079.html#zh-cn_topic_0073379079__table18856122016576">表1</a>中的出方向规则允许所有流量从安全组内实例流出，即实例可访问外部任意IP和端口。如果您删除了该规则，则安全组内的实例无法访问外部，请您谨慎操作。</p>
</li>
</ul>
</li>
</ul>
<p><strong>表1</strong> 安全组规则说明</p>
<table>
<thead>
<tr>
<th style="text-align: left;">方向</th>
<th style="text-align: left;">策略</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">协议端口</th>
<th style="text-align: left;">源地址/目的地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">入方向</td>
<td style="text-align: left;">允许</td>
<td style="text-align: left;">IPv4</td>
<td style="text-align: left;">全部</td>
<td style="text-align: left;">源地址：当前安全组</td>
</tr>
<tr>
<td style="text-align: left;">入方向</td>
<td style="text-align: left;">允许</td>
<td style="text-align: left;">IPv6</td>
<td style="text-align: left;">全部</td>
<td style="text-align: left;">源地址：当前安全组</td>
</tr>
<tr>
<td style="text-align: left;">出方向</td>
<td style="text-align: left;">允许</td>
<td style="text-align: left;">IPv4</td>
<td style="text-align: left;">全部</td>
<td style="text-align: left;">目的地址：0.0.0.0/0</td>
</tr>
<tr>
<td style="text-align: left;">出方向</td>
<td style="text-align: left;">允许</td>
<td style="text-align: left;">IPv6</td>
<td style="text-align: left;">全部</td>
<td style="text-align: left;">目的地址：::/0</td>
</tr>
</tbody>
</table>
<h4 id="14">1.4. 流量匹配安全组规则的顺序<a class="headerlink" href="#14" title="Permanent link">&para;</a></h4>
<p>一个实例可以关联多个安全组，并且一个安全组内可以包含多个安全组规则。安全组规则匹配流量时，首先按照优先级进行排序，其次按照策略匹配，拒绝策略高于允许策略。如[[|图2]]所示，以入方向的流量为例，实例的网络流量将按照以下原则匹配安全组规则，入方向和出方向的流量匹配顺序相同。</p>
<ol>
<li>
<p>首先，流量按照安全组的顺序进行匹配。您可以自行调整安全组顺序，安全组序号越小，表示优先级越高。</p>
<p>比如，安全组A的序号为1，安全组B的序号为2，安全组A的优先级高于安全组B，流量优先匹配安全组A内的入方向规则。</p>
</li>
<li>
<p>其次，流量按照安全组规则的优先级和策略进行匹配。</p>
<ol>
<li>
<p>先按照安全组规则优先级匹配，优先级的数字越小，优先级越高。</p>
<p>比如安全组规则A的优先级为1，安全组规则B的优先级为2，安全组规则A的优先级高于安全组规则B，流量优先匹配安全组规则A。</p>
</li>
<li>
<p>安全组规则优先级相同的情况下，再按照策略匹配，拒绝策略高于允许策略。</p>
</li>
</ol>
</li>
<li>
<p>流量按照协议端口和源地址，遍历了所有安全组内的入方向规则。</p>
<ul>
<li>如果成功匹配某个规则，则执行以下操作：<ul>
<li>如果规则的策略是允许，则允许该流量访问安全组内实例。</li>
<li>如果规则的策略是拒绝，则拒绝该流量访问安全组内实例。</li>
</ul>
</li>
<li>如果未匹配上任何规则，则拒绝该流量访问安全组内的实例。</li>
</ul>
</li>
</ol>
<p><strong>图2</strong> 安全组匹配顺序<br />
<a class="glightbox" href="../images/c3cb3e177af79dbd79b6c972f7cfd86d_MD5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/c3cb3e177af79dbd79b6c972f7cfd86d_MD5.png" /></a></p>
<h4 id="15">1.5. 安全组配置示例<a class="headerlink" href="#15" title="Permanent link">&para;</a></h4>
<p>您可以在安全组内放通指定IP地址，允许指定IP地址访问安全组内实例，或者在某个安全组内放通另外一个安全组，实现不同安全组内的实例内网互通。通过安全组规则，您可以灵活控制组网内流量的走向，以确保您的网络安全，以下为您提供了典型的安全组应用示例。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">控制外部指定IP地址或安全组对实例的访问</label><label for="__tabbed_1_2">控制虚拟IP访问安全组内实例</label><label for="__tabbed_1_3">控制对等连接两端VPC内的实例互访</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>如<a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0073379079.html#zh-cn_topic_0073379079__fig1329293304110">图3</a>所示，在VPC-X中有两个子网Subnet-A和Subnet-B，Subnet-A中的ECS承载同一类业务，需要相同的网络连接请求，因此均关联至安全组Sg-A。同理，Subnet-B中的ECS均关联至另外一个安全组Sg-B。</p>
<ul>
<li>安全组Sg-A入方向规则A01允许从指定IP地址 (172.16.0.0/24)访问安全组内实例的SSH(22)端口，用于远程登录安全组内的Linux云服务器。</li>
<li>安全组Sg-A入方向规则A02允许安全组内的实例可使用任何协议和端口互相通信，即子网Subnet-A内的ECS网络互通。</li>
<li>安全组Sg-B入方向规则B01允许Sg-A内的实例访问Sg-B内实例的SSH(22)端口，即通过子网Subnet-A的ECS可远程登录Subnet-B内的ECS。</li>
<li>安全组Sg-B入方向规则B02允许安全组内的实例可使用任何协议和端口互相通信，即子网Subnet-B内的ECS网络互通。</li>
<li>两个安全组的出方向规则允许所有流量从安全组内实例流出。</li>
</ul>
<p><strong>图3</strong> 控制外部指定IP地址或安全组对实例的访问<br />
<a class="glightbox" href="../images/4de6492695f1daac6abb0eb1fd1460bf_MD5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/4de6492695f1daac6abb0eb1fd1460bf_MD5.png" /></a></p>
</div>
<div class="tabbed-block">
<p>如果您通过中间网络实例在不同子网的实例之间转发流量，比如<a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0073379079.html#zh-cn_topic_0073379079__fig6130104111412">图4</a>中，子网Subnet-A的ECS通过虚拟IP和子网Subnet-B的ECS互相通信。由于存在中间网络实例，此时安全组规则的源地址选择实例所在的安全组时，无法放通中间网络实例转发的流量，源地址必须设置成中间网络实例的私有IP地址或者子网网段。</p>
<p>在VPC-X中有两个子网Subnet-A和Subnet-B，Subnet-A中的ECS关联至安全组Sg-A，Subnet-B中的ECS关联至安全组Sg-B。通过虚拟IP将Subnet-A中的ECS搭建成Keepalived高可用集群，后端服务器ECS-A01和ECS-A02形成主备模式，对外使用虚拟IP进行通信。</p>
<ul>
<li>安全组Sg-A入方向规则A01允许Sg-B内的实例使用任何协议和端口访问Sg-A内的实例。</li>
<li>安全组Sg-B入方向规则说明如下：<ul>
<li>规则B02：允许Sg-A内的实例使用私有IP地址访问Sg-B内实例，但是当前组网下，Sg-A内的实例和Sg-B内的实例通信需要经过虚拟IP，此时虚拟IP的流量无法流入Sg-B内的实例，该规则不适用于当前组网。</li>
<li>规则B01：允许虚拟IP(192.168.0.21)使用任何协议和端口访问Sg-B内的实例。当前组网中，您还可以将源地址设置成子网Subnet-A的网段192.168.0.0/24。</li>
</ul>
</li>
</ul>
<p><strong>图4</strong> 控制虚拟IP访问安全组内实例<br />
<a class="glightbox" href="../images/1b89debf7813165553aada1cbdb54a74_MD5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/1b89debf7813165553aada1cbdb54a74_MD5.png" /></a></p>
</div>
<div class="tabbed-block">
<p>如<a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0073379079.html#zh-cn_topic_0073379079__fig105008489156">图5</a>所示，在区域A内，通过VPC对等连接连通VPC-A和VPC-B之间的网络。对等连接路由配置完成后，子网Subnet-A01和子网Subnet-B01之间网络已连通。但是由于两个子网内的ECS分别关联了不同的安全组，此时ECS之间仍然网络不通，您还需要放通安全组Sg-A和Sg-B的网络，才可以实现对等连接两端的ECS网络互通。</p>
<ul>
<li>在安全组Sg-A中，规则A01允许来自Sg-B内实例的流量访问Sg-A内的实例，源地址为安全组Sg-B。</li>
<li>在安全组Sg-B中，规则B01允许来自Sg-A内实例的流量访问Sg-B内的实例，源地址为安全组Sg-A。</li>
</ul>
<p><strong>图5</strong> 控制对等连接两端VPC内的实例互访<br />
<a class="glightbox" href="../images/6e35c71d5896f36aff0810eedad76865_MD5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/6e35c71d5896f36aff0810eedad76865_MD5.png" /></a></p>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">说明：</p>
<p>更多安全组规则配置示例，请参见<a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0081124350.html">安全组配置示例</a>。</p>
</div>
<h4 id="16">1.6. 安全组配置流程<a class="headerlink" href="#16" title="Permanent link">&para;</a></h4>
<p><strong>图6</strong> 安全组配置流程<br />
<a class="glightbox" href="../images/3b6ab8113ca1e7d39d123bb0121eedaf_MD5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/3b6ab8113ca1e7d39d123bb0121eedaf_MD5.png" /></a></p>
<p><strong>表2</strong> 安全组配置流程说明</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>步骤</th>
<th>说明</th>
<th>操作指导</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>创建安全组</td>
<td>创建安全组时候，您可以使用系统提供的规则。预置的部分安全组规则，详细信息请参见<a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0013748715.html#zh-cn_topic_0013748715__table117828131111">安全组模板说明</a><strong>。</strong></td>
<td><a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0013748715.html">创建安全组</a></td>
</tr>
<tr>
<td>2</td>
<td>配置安全组规则</td>
<td>安全组创建完成后，如果模板里面的规则不能满足业务要求，您还可以在安全组中添加新的安全组规则，或者修改已有的安全组规则。</td>
<td><a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0030969470.html">添加安全组规则</a><a href="https://support.huaweicloud.com/usermanual-vpc/SecurityGroup_0004.html">快速添加多条安全组规则</a></td>
</tr>
<tr>
<td>3</td>
<td>在安全组中添加实例</td>
<td>创建实例的时候，会自动将实例加入一个安全组内，实例将会受到安全组的保护。如果一个安全组无法满足您的要求，您可以将实例加入多个安全组。</td>
<td><a href="https://support.huaweicloud.com/usermanual-vpc/SecurityGroup_0017.html">在安全组中添加或移出实例</a></td>
</tr>
</tbody>
</table>
<h4 id="17">1.7. 安全组的使用限制<a class="headerlink" href="#17" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>为了确保良好的网络性能体验，建议一个实例最多关联5个安全组。</p>
</li>
<li>
<p>建议一个安全组关联的实例数量不应超过6000个，否则会引起安全组性能下降。</p>
</li>
<li>
<p>在一个安全组中，对于入方向规则来说，源地址是安全组的规则数量+源地址是IP地址组的规则数量+端口是不连续端口号的规则数量 ≤ 128条，否则超过数量的安全组规则将不生效。出方向的限制和入方向一致。</p>
<ul>
<li>源地址是安全组时，包括本安全组和其他安全组。</li>
<li>不连续端口号取值示例为22,25,27。</li>
</ul>
</li>
<li>
<p>如果您添加安全组规则时，使用IP地址组或者不连续端口，那么该安全组规则对不同规格云服务器的生效情况存在差异，为了避免您的安全组规则不生效，请您查看<a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0073379079.html#zh-cn_topic_0073379079__table9182817155011">表3</a>了解详情。</p>
<p><strong>表3</strong> 安全组规则限制</p>
<table>
<thead>
<tr>
<th>安全组规则</th>
<th>云服务器类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>添加安全组规则时，“源地址”和“目的地址”可选择“IP地址组”</td>
<td>不支持的X86云服务器规格如下：通用计算型（S1型、C1型、C2型 ）内存优化型（M1型）高性能计算型（H1型）磁盘增强型（ D1型）GPU加速型（G1型、G2型）超大内存型（E1型、E2型、ET2型）</td>
</tr>
<tr>
<td>添加安全组规则时，“协议端口”可配置为不连续端口号</td>
<td>不支持的X86云服务器规格如下：通用计算型（S1型、C1型、C2型 ）内存优化型（M1型）高性能计算型（H1型）磁盘增强型（ D1型）GPU加速型（G1型、G2型）超大内存型（E1型、E2型、ET2型）<br /><br />所有鲲鹏云服务器规格不支持配置不连续端口。如果您在鲲鹏云服务器中添加安全组规则时，使用了不连续端口号，那么除了该条规则不会生效，该规则后的其他规则也不会生效。比如：您先配置了安全组规则A（不连续端口号22,24），再配置了下一条安全组规则B（独立端口号9096），则安全组规则A和B均不会生效。</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>当您的组网中存在以下情况时，来自ELB和VPCEP的流量不受网络ACL和安全组规则的限制。</p>
<ul>
<li>
<p>ELB实例的监听器开启“获取客户端IP”功能时，不受限制。</p>
<p>比如规则已明确拒绝来自ELB实例的流量进入后端云服务器，此时该规则无法拦截来自ELB的流量，流量依然会抵达后端云服务器。</p>
</li>
<li>
<p>VPCEP实例类型为“专业型”时，不受限制。</p>
</li>
</ul>
</li>
</ul>
<h4 id="18">1.8. 实践建议<a class="headerlink" href="#18" title="Permanent link">&para;</a></h4>
<ul>
<li>请您遵循白名单原则配置安全组规则，即安全组内实例默认拒绝所有外部的访问请求，通过添加允许规则放通指定的网络流量。</li>
<li>添加安全组规则时，请遵循最小授权原则。例如，放通22端口用于远程登录云服务器时，建议仅允许指定的IP地址登录，谨慎使用0.0.0.0/0（所有IP地址）。</li>
<li>请您尽量保持单个安全组内规则的简洁，通过不同的安全组来管理不同用途的实例。如果您使用一个安全组管理您的所有业务实例，可能会导致单个安全组内的规则过于冗余复杂，增加维护管理成本。</li>
<li>您可以将实例按照用途加入到不同的安全组内。例如，当您具有面向公网提供网站访问的业务时，建议您将运行公网业务的Web服务器加入到同一个安全组，此时仅需要放通对外部提供服务的特定端口，例如80、443等，默认拒绝外部其他的访问请求。同时，请避免在运行公网业务的Web服务器上运行内部业务，例如MySQL、Redis等，建议您将内部业务部署在不需要连通公网的服务器上，并将这些服务器关联至其他安全组内。</li>
<li>对于安全策略相同的多个IP地址，您可以将其添加到一个IP地址组内统一管理，并在安全组内添加针对该IP地址组的授权规则。当IP地址发生变化时，您只需要在IP地址组内修改IP地址，那么IP地址组对应的安全组规则将会随之变更，无需逐次修改安全组内的规则，降低了安全组管理的难度，提升效率。具体方法，请参见<a href="https://support.huaweicloud.com/usermanual-vpc/vpc_IPAddressGroup_0018.html">使用IP地址组提升安全组规则管理效率</a>。</li>
<li>请您尽量避免直接修改已运行业务的安全组规则。如果您需要修改使用中的安全组规则，建议您先克隆一个测试安全组，然后在测试安全组上进行调试，确保测试安全组内实例网络正常后，再修改使用中的安全组规则，减少对业务的影响。具体方法，请参见<a href="https://support.huaweicloud.com/usermanual-vpc/vpc_SecurityGroup_0009.html">克隆安全组</a>。</li>
<li>
<p>您在安全组内新添加实例，或者修改安全组的规则后，此时不需要重启实例，安全组规则会自动生效。</p>
<p>如果您的安全组规则配置完未生效，请参考<a href="https://support.huaweicloud.com/vpc_faq/faq_security_0006.html">为什么配置的安全组规则不生效？</a>。</p>
</li>
</ul>
<p>父主题： <a href="https://support.huaweicloud.com/usermanual-vpc/vpc_SecurityGroup_0001.html">安全组</a></p>
<h3 id="2">2. 默认安全组概述<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<p>如果您未创建任何安全组，那么您在首次使用安全组时，系统会自动为您创建一个默认安全组。</p>
<ul>
<li>默认安全组名称为default，为了区分默认安全组和您自己创建的安全组，不支持修改默认安全组名称。</li>
<li>您无法删除默认安全组，可以在默认安全组内修改已有规则或者添加新的规则。</li>
<li>默认安全组仅确保安全组内实例互通，默认拒绝所有外部请求进入实例，如果您需要登录默认安全组关联的实例，请参见<a href="https://support.huaweicloud.com/usermanual-vpc/zh-cn_topic_0081124350.html#zh-cn_topic_0081124350__section14933617154810">通过本地服务器远程登录云服务器</a>添加安全组规则放通指定端口。</li>
<li>如果实际业务对不同用途实例的安全要求存在差异，那么建议您创建自定义安全组，并将实例按照用途加入到不同的安全组内。</li>
</ul>
<div class="admonition note">
<p class="admonition-title">说明：</p>
<p>您可以免费使用安全组资源，当前不收取任何费用。</p>
</div>
<p>​    </p>
<h4 id="21">2.1. 默认安全组规则说明<a class="headerlink" href="#21" title="Permanent link">&para;</a></h4>
<p>默认安全组规则说明如下：</p>
<ul>
<li>入方向规则：入方向流量受限，只允许安全组内实例互通，拒绝来自安全组外部的所有请求进入实例。</li>
<li>出方向规则：出方向流量放行，允许所有请求从安全组内实例流出。</li>
</ul>
<p><strong>图1</strong> 默认安全组<br />
<a class="glightbox" href="../images/dc6095bd4467fe542d669ca00db136df_MD5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/dc6095bd4467fe542d669ca00db136df_MD5.png" /></a></p>
<p>默认安全组规则的详细说明如<a href="https://support.huaweicloud.com/usermanual-vpc/SecurityGroup_0003.html#SecurityGroup_0003__table102261597217">表1</a>所示。</p>
<p><strong>表1</strong> 默认安全组规则</p>
<table>
<thead>
<tr>
<th style="text-align: left;">方向</th>
<th style="text-align: left;">策略</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">协议端口</th>
<th style="text-align: left;">源地址/目的地址</th>
<th style="text-align: left;">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">入方向</td>
<td style="text-align: left;">允许</td>
<td style="text-align: left;">IPv4</td>
<td style="text-align: left;">全部</td>
<td style="text-align: left;">源地址：默认安全组（default）</td>
<td style="text-align: left;">针对全部IPv4协议，允许安全组内的实例可使用任何协议和端口互相通信，确保安全组内实例网络互通。</td>
</tr>
<tr>
<td style="text-align: left;">入方向</td>
<td style="text-align: left;">允许</td>
<td style="text-align: left;">IPv6</td>
<td style="text-align: left;">全部</td>
<td style="text-align: left;">源地址：默认安全组（default）</td>
<td style="text-align: left;">针对全部IPv6协议，允许安全组内的实例可使用任何协议和端口互相通信，确保安全组内实例网络互通。</td>
</tr>
<tr>
<td style="text-align: left;">出方向</td>
<td style="text-align: left;">允许</td>
<td style="text-align: left;">IPv4</td>
<td style="text-align: left;">全部</td>
<td style="text-align: left;">目的地址：0.0.0.0/0</td>
<td style="text-align: left;">针对全部IPv4协议，允许所有流量从安全组内实例流出，即实例可访问外部任意IP和端口。</td>
</tr>
<tr>
<td style="text-align: left;">出方向</td>
<td style="text-align: left;">允许</td>
<td style="text-align: left;">IPv6</td>
<td style="text-align: left;">全部</td>
<td style="text-align: left;">目的地址：::/0</td>
<td style="text-align: left;">针对全部IPv6协议，允许所有流量从安全组内实例流出，即实例可访问外部任意IP和端口。</td>
</tr>
</tbody>
</table>
<h4 id="22">2.2. 默认安全组应用示例<a class="headerlink" href="#22" title="Permanent link">&para;</a></h4>
<p>如<a href="https://support.huaweicloud.com/usermanual-vpc/SecurityGroup_0003.html#SecurityGroup_0003__fig1329293304110">图2</a>所示，VPC-X内有三个子网，其中子网Subnet-A和Subnet-B中的ECS均关联默认安全组，默认安全组仅确保安全组内实例互通，默认拒绝所有外部请求进入实例。ECS-A01、ECS-A02、ECS-B01和ECS-B02之间内网网络互通，但是无法接受来自NAT网关的流量。</p>
<p>如果您需要放通NAT网关的流量，您可以在默认安全组中添加对应的规则，或者创建新的安全组，并关联给实例使用。</p>
<p><strong>图2</strong> 默认安全组应用示例<br />
<a class="glightbox" href="../images/efbc90e24ace39fa88b2a9d6c46c1af5_MD5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/efbc90e24ace39fa88b2a9d6c46c1af5_MD5.png" /></a></p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../10%20VPC%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%A6%82%E8%BF%B0/" class="md-footer__link md-footer__link--prev" aria-label="上一页: VPC访问控制概述">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                VPC访问控制概述
              </div>
            </div>
          </a>
        
        
          
          <a href="../30%20%E7%BD%91%E7%BB%9CACL/" class="md-footer__link md-footer__link--next" aria-label="下一页: 网络ACL">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                网络ACL
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/RenJiangZhou2163" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<renjiangzhou@163.com>" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": [{"navigation_depth": 4}, "navigation.footer", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.sections", "navigation.top", "content.code.copy", "content.tabs.link", "search.highlight", "search.share", "search.suggest", "navigation.path", "navigation.instant", "navigation.instant.progress", "navigation.footer", "search.highlight"], "search": "../../../../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>