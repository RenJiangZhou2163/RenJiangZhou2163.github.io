{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/markdown/","title":"mkdocs","text":""},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/markdown/#1-markdown","title":"1. markdown\u5982\u4f55\u5728\u8868\u683c\u7684\u5355\u5143\u683c\u4e2d\u589e\u52a0\u65e0\u5e8f\u5217\u8868\uff1f","text":""},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/markdown/#11","title":"1.1. \u793a\u4f8b\u6e90\u7801","text":"<pre><code>| \u5e8f\u53f7  | \u540d\u79f0      | \u63cf\u8ff0                                               |\n| --- | ------- | ------------------------------------------------ |\n| 1   | Alice   | &lt;ul&gt;&lt;li&gt;\u9879\u76ee\u4e00&lt;/li&gt;&lt;li&gt;\u9879\u76ee\u4e8c&lt;/li&gt;&lt;li&gt;\u9879\u76ee\u4e09&lt;/li&gt;&lt;/ul&gt;\u54c8\u54c8\u54c8 |\n| 2   | Bob     | &lt;ul&gt;&lt;li&gt;\u4efb\u52a1A&lt;/li&gt;&lt;li&gt;\u4efb\u52a1B&lt;/li&gt;&lt;/ul&gt;                |\n| 3   | Charlie | &lt;ul&gt;&lt;li&gt;\u5de5\u4f5cX&lt;/li&gt;&lt;li&gt;\u5de5\u4f5cY&lt;/li&gt;&lt;/ul&gt;                |\n</code></pre>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/markdown/#12","title":"1.2. \u793a\u4f8b\u6548\u679c","text":"\u5e8f\u53f7 \u540d\u79f0 \u63cf\u8ff0 1 Alice <ul><li>\u9879\u76ee\u4e00</li><li>\u9879\u76ee\u4e8c</li><li>\u9879\u76ee\u4e09</li></ul>\u54c8\u54c8\u54c8 2 Bob <ul><li>\u4efb\u52a1A</li><li>\u4efb\u52a1B</li></ul> 3 Charlie <ul><li>\u5de5\u4f5cX</li><li>\u5de5\u4f5cY</li></ul>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/markdown/#2-typora","title":"2. typora","text":"<p>https://github.com/lipengzhou/typora-theme-auto-numbering https://support.typora.io/Auto-Numbering/</p>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/","title":"Mkdocs","text":""},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#1","title":"1. \u4f7f\u7528\u6307\u5bfc","text":""},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#11","title":"1.1. \u53c2\u8003\u6587\u6863","text":"\u6587\u6863\u8bf4\u660e \u94fe\u63a5 MkDocs\u5b98\u65b9\u6587\u6863 https://squidfunk.github.io/mkdocs-material/ MkDocs\u4e2d\u6587\u6587\u6863 https://hellowac.github.io/mkdocs-docs-zh/ https://github.com/blueswen/mkdocs-glightbox"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#12-plugin","title":"1.2. Plugin","text":"\u63d2\u4ef6\u529f\u80fd \u94fe\u63a5 obsidian\u652f\u6301 https://ndy2.github.io/mkdocs-obsidian-support-plugin/"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#13","title":"1.3. \u914d\u7f6e\u8bf4\u660e","text":""},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#131","title":"1.3.1. \u6807\u9898\u52a0\u7c97\u6548\u679c","text":"<p>\u5728<code>mkdocs.yml</code>\u6587\u4ef6\u4e2d\u76f4\u63a5\u8bbe\u7f6e\u6807\u9898\u52a0\u7c97\u6548\u679c\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a<code>mkdocs.yml</code>\u4e3b\u8981\u7528\u4e8e\u914d\u7f6e\u7ad9\u70b9\u4fe1\u606f\u3001\u5bfc\u822a\u3001\u4e3b\u9898\u548c\u63d2\u4ef6\u7b49\u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u7528\u4e8e\u76f4\u63a5\u5b9a\u4e49\u6837\u5f0f\u3002\u7136\u800c\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5728<code>mkdocs.yml</code>\u4e2d\u5f15\u7528\u81ea\u5b9a\u4e49CSS\u6587\u4ef6\u6765\u95f4\u63a5\u5b9e\u73b0\u8fd9\u4e00\u76ee\u6807\u3002</p>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#2","title":"2. \u5177\u4f53\u6b65\u9aa4","text":""},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#21-css","title":"2.1. \u521b\u5efa\u81ea\u5b9a\u4e49CSS\u6587\u4ef6","text":"<p>\u5728\u4f60\u7684MkDocs\u9879\u76ee\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>extra.css</code>\u7684\u81ea\u5b9a\u4e49CSS\u6587\u4ef6\u3002\u4f8b\u5982\uff0c\u5728<code>docs</code>\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a<code>stylesheets</code>\u5b50\u76ee\u5f55\uff0c\u7136\u540e\u5728\u5176\u4e2d\u521b\u5efa<code>extra.css</code>\uff1a</p> <pre><code>my_project/\n    docs/\n        index.md\n        about.md\n        contact.md\n        stylesheets/\n            extra.css\n    mkdocs.yml\n</code></pre>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#22-css","title":"2.2. \u7f16\u8f91\u81ea\u5b9a\u4e49CSS\u6587\u4ef6","text":"<p>\u5728<code>extra.css</code>\u4e2d\u6dfb\u52a0\u4f60\u5e0c\u671b\u7684\u6807\u9898\u52a0\u7c97\u6837\u5f0f\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u793a\u4f8b\u4ee3\u7801\uff0c\u5c55\u793a\u5982\u4f55\u4e3a\u4e0d\u540c\u7ea7\u522b\u7684\u6807\u9898\uff08\u5982h1, h2, h3\u7b49\uff09\u8bbe\u7f6e\u52a0\u7c97\u6548\u679c\uff1a</p> <pre><code>/* \u589e\u52a0\u9009\u62e9\u5668\u4f18\u5148\u7ea7 */\n.md-content h1, .md-content h2, .md-content h3, .md-content h4, .md-content h5, .md-content h6 {\n    font-weight: bold !important;\n}\n</code></pre>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#23-mkdocs","title":"2.3. \u66f4\u65b0MkDocs\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5728\u4f60\u7684<code>mkdocs.yml</code>\u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u7528\u8fd9\u4e2a\u81ea\u5b9a\u4e49CSS\u6587\u4ef6\uff1a</p> <pre><code>site_name: \u6211\u7684\u6587\u6863\u7ad9\u70b9\n\nnav:\n  - \u9996\u9875: index.md\n  - \u5173\u4e8e\u6211\u4eec: about.md\n  - \u8054\u7cfb\u6211\u4eec: contact.md\n\ntheme:\n  name: material  # \u6216\u8005\u5176\u4ed6\u4f60\u6b63\u5728\u4f7f\u7528\u7684\u4e3b\u9898\n\nextra_css:\n  - stylesheets/extra.css\n\nmarkdown_extensions:\n  - toc:\n      permalink: true\n</code></pre>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#24","title":"2.4. \u91cd\u65b0\u751f\u6210\u6587\u6863","text":"<p>\u4fdd\u5b58\u6240\u6709\u66f4\u6539\u540e\uff0c\u91cd\u65b0\u751f\u6210\u5e76\u67e5\u770b\u4f60\u7684MkDocs\u6587\u6863\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8\u672c\u5730\u5f00\u53d1\u670d\u52a1\u5668\uff1a</p> <pre><code>mkdocs serve\n</code></pre>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#25","title":"2.5. \u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5b8c\u6574\u793a\u4f8b\uff0c\u5c55\u793a\u5982\u4f55\u5728MkDocs\u9879\u76ee\u4e2d\u5b9e\u73b0\u6807\u9898\u52a0\u7c97\u6548\u679c\u3002</p>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#251","title":"2.5.1. \u9879\u76ee\u7ed3\u6784","text":"<pre><code>my_project/\n    docs/\n        index.md\n        about.md\n        contact.md\n        stylesheets/\n            extra.css\n    mkdocs.yml\n</code></pre>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#252-extracss","title":"2.5.2. <code>extra.css</code>","text":"<pre><code>/* \u8bbe\u7f6e\u6240\u6709\u7ea7\u522b\u6807\u9898\u4e3a\u52a0\u7c97 */\nh1, h2, h3, h4, h5, h6 {\n    font-weight: bold;\n}\n</code></pre>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#253-mkdocsyml","title":"2.5.3. <code>mkdocs.yml</code>","text":"<pre><code>site_name: \u6211\u7684\u6587\u6863\u7ad9\u70b9\n\nnav:\n  - \u9996\u9875: index.md\n  - \u5173\u4e8e\u6211\u4eec: about.md\n  - \u8054\u7cfb\u6211\u4eec: contact.md\n\ntheme:\n  name: material  # \u6216\u8005\u5176\u4ed6\u4f60\u6b63\u5728\u4f7f\u7528\u7684\u4e3b\u9898\n\nextra_css:\n  - stylesheets/extra.css\n\nmarkdown_extensions:\n  - toc:\n      permalink: true\n</code></pre> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u5c31\u80fd\u6210\u529f\u5728MkDocs\u6587\u6863\u4e2d\u5b9e\u73b0\u6807\u9898\u52a0\u7c97\u6548\u679c\u3002\u5982\u679c\u6709\u66f4\u591a\u5177\u4f53\u9700\u6c42\u6216\u95ee\u9898\uff0c\u6b22\u8fce\u7ee7\u7eed\u63d0\u95ee\uff01</p>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#3","title":"3. \u4e0d\u751f\u6548\u95ee\u9898\u6392\u67e5","text":"<p>\u5982\u679c\u6309\u7167\u4ee5\u4e0a\u6b65\u9aa4\u64cd\u4f5c\u540e\uff0c\u4ecd\u7136\u6ca1\u6709\u5b9e\u73b0\u6807\u9898\u52a0\u7c97\u6548\u679c\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u8fdb\u884c\u6392\u67e5\uff1a</p>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#31-css","title":"3.1. \u68c0\u67e5CSS\u6587\u4ef6\u8def\u5f84","text":"<p>\u786e\u4fdd<code>extra.css</code>\u6587\u4ef6\u7684\u8def\u5f84\u5728<code>mkdocs.yml</code>\u4e2d\u914d\u7f6e\u6b63\u786e\u3002\u8def\u5f84\u5e94\u76f8\u5bf9\u4e8e<code>docs</code>\u76ee\u5f55\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u7684CSS\u6587\u4ef6\u5728<code>docs/stylesheets/extra.css</code>\uff0c\u786e\u4fdd\u5728<code>mkdocs.yml</code>\u4e2d\u8fd9\u6837\u5f15\u7528\uff1a</p> <pre><code>extra_css:\n  - stylesheets/extra.css\n</code></pre>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#32","title":"3.2. \u6e05\u9664\u6d4f\u89c8\u5668\u7f13\u5b58","text":"<p>\u6709\u65f6\u6d4f\u89c8\u5668\u4f1a\u7f13\u5b58\u65e7\u7684CSS\u6587\u4ef6\uff0c\u5bfc\u81f4\u4f60\u770b\u4e0d\u5230\u6700\u65b0\u7684\u6837\u5f0f\u66f4\u6539\u3002\u5c1d\u8bd5\u6e05\u9664\u6d4f\u89c8\u5668\u7f13\u5b58\u6216\u4f7f\u7528\u65e0\u75d5\u6a21\u5f0f\uff08\u9690\u79c1\u6a21\u5f0f\uff09\u67e5\u770b\u6587\u6863\u3002</p>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#33-css","title":"3.3. \u786e\u8ba4CSS\u9009\u62e9\u5668\u4f18\u5148\u7ea7","text":"<p>\u786e\u4fdd\u4f60\u7684CSS\u9009\u62e9\u5668\u5177\u6709\u8db3\u591f\u7684\u4f18\u5148\u7ea7\u6765\u8986\u76d6\u9ed8\u8ba4\u6837\u5f0f\u3002\u5982\u679c\u5176\u4ed6\u6837\u5f0f\u8868\u4e2d\u7684\u9009\u62e9\u5668\u5177\u6709\u66f4\u9ad8\u4f18\u5148\u7ea7\uff0c\u4f60\u7684\u6837\u5f0f\u53ef\u80fd\u4e0d\u4f1a\u751f\u6548\u3002\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u589e\u52a0\u9009\u62e9\u5668\u7684\u4f18\u5148\u7ea7\uff0c\u4f8b\u5982\uff1a</p> <pre><code>/* \u589e\u52a0\u9009\u62e9\u5668\u4f18\u5148\u7ea7 */\n.md-content h1, .md-content h2, .md-content h3, .md-content h4, .md-content h5, .md-content h6 {c\n    font-weight: bold !important;\n}\n</code></pre>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#34","title":"3.4. \u4f7f\u7528\u5f00\u53d1\u8005\u5de5\u5177\u68c0\u67e5\u6837\u5f0f","text":"<p>\u4f7f\u7528\u6d4f\u89c8\u5668\u7684\u5f00\u53d1\u8005\u5de5\u5177\uff08\u901a\u5e38\u6309 <code>F12</code> \u6216\u53f3\u952e\u70b9\u51fb\u9875\u9762\u7136\u540e\u9009\u62e9\u201c\u68c0\u67e5\u201d\uff09\u67e5\u770b\u6807\u9898\u5143\u7d20\uff0c\u786e\u8ba4\u5b83\u4eec\u662f\u5426\u5e94\u7528\u4e86\u4f60\u7684\u81ea\u5b9a\u4e49\u6837\u5f0f\u3002\u5982\u679c\u6ca1\u6709\u5e94\u7528\uff0c\u68c0\u67e5\u5177\u4f53\u539f\u56e0\u3002</p>"},{"location":"01%20%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/mkdocs/#35-mkdocscss","title":"3.5. \u786e\u4fddMkDocs\u6b63\u786e\u52a0\u8f7d\u4e86\u81ea\u5b9a\u4e49CSS","text":"<p>\u542f\u52a8MkDocs\u672c\u5730\u670d\u52a1\u5668\u5e76\u67e5\u770b\u751f\u6210\u7684HTML\u6e90\u4ee3\u7801\uff0c\u786e\u4fdd\u81ea\u5b9a\u4e49CSS\u6587\u4ef6\u88ab\u6b63\u786e\u52a0\u8f7d\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8\u672c\u5730\u670d\u52a1\u5668\uff1a</p> <pre><code>mkdocs serve\n</code></pre> <p>\u7136\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 <code>http://127.0.0.1:8000/</code> \u5e76\u67e5\u770b\u9875\u9762\u6e90\u4ee3\u7801\uff0c\u786e\u8ba4\u662f\u5426\u6709\u5982\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>&lt;link rel=\"stylesheet\" href=\"/stylesheets/extra.css\"&gt;\n</code></pre>"},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/EVPN/","title":"EVPN","text":"<p>EVPN\uff08Ethernet Virtual Private Network\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u4e8c\u5c42\u7f51\u7edc\u4e92\u8054\u7684VPN\u6280\u672f\uff0c\u5728VXLAN\u7f51\u7edc\u4e2d\u5f15\u5165EVPN\u4f5c\u4e3aVXLAN\u7684\u63a7\u5236\u5e73\u9762\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2aEVPN\uff0c\u90fd\u5177\u6709\u8def\u7531\u533a\u5206\u7b26\uff08Route Distinguisher\uff1aRD\uff09\u548c\u8def\u7531\u76ee\u6807\uff08Route Target\uff1aRT\uff09\u4e24\u5927\u5c5e\u6027\uff0c\u8fd9\u4e9b\u5c5e\u6027\u7528\u4e8e\u63a7\u5236\u5728VTEP\u4e4b\u95f4\u53d1\u9001\u6216\u63a5\u6536EVPN\u8def\u7531\u3002</p>"},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Leaf%E8%8A%82%E7%82%B9%E5%92%8CSpine%E8%8A%82%E7%82%B9/","title":"Leaf\u8282\u70b9\u548cSpine\u8282\u70b9","text":"<p>Leaf\u8282\u70b9\u5373\u53f6\u5b50\u8282\u70b9\uff0cVXLAN Fabric\u7f51\u7edc\u529f\u80fd\u63a5\u5165\u8282\u70b9\uff0c\u63d0\u4f9b\u5404\u79cd\u7f51\u7edc\u8bbe\u5907\u63a5\u5165VXLAN\u7f51\u7edc\u529f\u80fd\u3002</p> <p>Spine\u8282\u70b9\u5373\u9aa8\u5e72\u8282\u70b9\uff0cVXLAN Fabric\u7f51\u7edc\u6838\u5fc3\u8282\u70b9\uff0c\u63d0\u4f9b\u9ad8\u901fIP\u8f6c\u53d1\u529f\u80fd\uff0c\u901a\u8fc7\u9ad8\u901f\u63a5\u53e3\u8fde\u63a5\u5404\u4e2a\u529f\u80fdLeaf\u8282\u70b9\u3002</p> <p>\u5728\u672c\u89e3\u51b3\u65b9\u6848\u4e2d\uff0cUnderlay\u7ec4\u7f51\u91c7\u7528Spine-Leaf\u67b6\u6784\u3002</p> <p>\u56fe1\u00a0Underlay\u7684Spine-Leaf\u67b6\u6784\u793a\u610f\u56fe </p> <p>Leaf\u4e0eSpine\u5168\u8fde\u63a5\uff0c\u7b49\u4ef7\u591a\u8def\u5f84\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u53ef\u7528\u6027\u3002</p> <ul> <li>Spine\u8282\u70b9\u4e00\u822c\u90e8\u7f72\u4e24\u53f0\u6216\u591a\u53f0\u5927\u5bb9\u91cf\u4ea4\u6362\u8bbe\u5907\uff0cSpine\u8282\u70b9\u540cLeaf\u8282\u70b9\u4e09\u5c42\u4e92\u901a\uff0c\u6784\u5efaIP Fabric\u7f51\u7edc\u3002</li> <li>Leaf\u8282\u70b9\u53ef\u90e8\u7f72\u63a5\u5165\u5c42\u7ea7\u4ea4\u6362\u673a\uff0c\u540c\u6bcf\u4e2aSpine\u8282\u70b9\u76f8\u8fde\u6784\u5efa\u5168\u8fde\u63a5\u62d3\u6251\uff1b\u540c\u65f6Leaf\u8282\u70b9\u4f5c\u4e3aunderlay\u7f51\u7edc\u7684L2/L3\u5206\u754c\uff0c\u540cSpine\u8282\u70b9\u4e09\u5c42\u4e92\u901a\u3002\u4e00\u822c\u60c5\u51b5\u4e0bLeaf\u8282\u70b9\u7684TOR\u8bbe\u5907\u6570\u91cf\u8f83\u591a\uff0c\u5efa\u8bae\u91c7\u7528iStack\u5806\u53e0\u3001M-Lag\u6216SVF\u6280\u672f\u6765\u63a5\u5165\u670d\u52a1\u5668\u3002</li> </ul> <p>\u5176\u4e2d\uff0cLeaf\u8282\u70b9\u4f5c\u4e3aVXLAN Fabric\u7f51\u7edc\u529f\u80fd\u63a5\u5165\u8282\u70b9\uff0c\u662f\u4e00\u79cd\u7269\u7406\u7ec4\u7f51\u7684\u89d2\u8272\uff0c\u8d1f\u8d23\u8fde\u63a5\u670d\u52a1\u5668\u548c\u7f51\u7edc\u8bbe\u5907\uff0c\u4f7f\u5b83\u4eec\u63a5\u5165VXLAN\u7f51\u7edc\u3002\u7531\u4e8e\u5176\u63a5\u5165\u7684\u5bf9\u8c61\u4e0d\u540c\uff0c\u53c8\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u5b50\u7c7b\uff1a</p> <ul> <li>Border Leaf\uff1a\u63d0\u4f9b\u6570\u636e\u4e2d\u5fc3\u5916\u90e8\u6d41\u91cf\u63a5\u5165\u6570\u636e\u4e2d\u5fc3VXLAN Fabric\u7f51\u7edc\u7684\u529f\u80fd\uff0c\u7528\u4e8e\u8fde\u63a5\u8def\u7531\u5668\u6216\u8005\u4f20\u8f93\u8bbe\u5907\u3002</li> <li>Server Leaf\uff1a\u63d0\u4f9b\u865a\u62df\u5316\u670d\u52a1\u5668\u3001\u975e\u865a\u62df\u5316\u670d\u52a1\u5668\u7b49\u8ba1\u7b97\u8d44\u6e90\u63a5\u5165VXLAN Fabric\u7f51\u7edc\u7684\u529f\u80fd\u3002</li> <li>Service Leaf\uff1a\u63d0\u4f9b\u9632\u706b\u5899\u548c\u8d1f\u8f7d\u5747\u8861\u5668\u7b49L4~L7\u589e\u503c\u670d\u52a1\u63a5\u5165\u3002</li> </ul>","tags":["Leaf\u8282\u70b9","Spine\u8282\u70b9"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/","title":"\u4ec0\u4e48\u662fOverlay\u7f51\u7edc","text":"<p>Overlay\u610f\u4e3a\u53e0\u52a0\uff0c\u5373\u901a\u8fc7\u5728\u73b0\u6709\u7f51\u7edc\u4e0a\u53e0\u52a0\u4e00\u4e2a\u8f6f\u4ef6\u5b9a\u4e49\u7684\u903b\u8f91\u7f51\u7edc\uff0c\u539f\u6709\u7f51\u7edc\u5c3d\u91cf\u4e0d\u505a\u6539\u9020\uff0c\u901a\u8fc7\u5b9a\u4e49\u5176\u4e0a\u7684\u903b\u8f91\u7f51\u7edc\u6765\u5b9e\u73b0\u4e1a\u52a1\u903b\u8f91\uff0c\u89e3\u51b3\u539f\u6709\u6570\u636e\u4e2d\u5fc3\u7684\u7f51\u7edc\u95ee\u9898\u3002Overlay\u662f\u4e00\u79cd\u5c06(\u4e1a\u52a1\u7684)\u4e8c\u5c42\u7f51\u7edc\u6784\u67b6\u5728(\u4f20\u7edf\u7f51\u7edc\u7684)\u4e09\u5c42/\u56db\u5c42\u62a5\u6587\u4e2d\u8fdb\u884c\u4f20\u9012\u7684\u7f51\u7edc\u6280\u672f\u3002</p> <p>Overlay\u6280\u672f\u5b9e\u9645\u4e0a\u662f\u4e00\u79cd\u96a7\u9053\u5c01\u88c5\u6280\u672f\uff0c\u4e3b\u8981\u6709VXLAN\u3001NVGRE\u7b49\uff0c\u57fa\u672c\u539f\u7406\u90fd\u662f\u901a\u8fc7\u96a7\u9053\u5c01\u88c5\u7684\u65b9\u5f0f\u5c06\u4e8c\u5c42\u62a5\u6587\u8fdb\u884c\u5c01\u88c5\u540e\u5728\u73b0\u6709\u7f51\u7edc\u4e2d\u8fdb\u884c\u900f\u660e\u4f20\u8f93\uff0c\u5230\u8fbe\u76ee\u7684\u5730\u4e4b\u540e\u518d\u89e3\u5c01\u88c5\u5f97\u5230\u539f\u59cb\u62a5\u6587\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u5927\u4e8c\u5c42\u7f51\u7edc\u53e0\u52a0\uff08overlay\uff09\u5728\u73b0\u6709\u7684\u7f51\u7edc\u4e4b\u4e0a\u3002</p> <p>Underlay\u662f\u4e00\u5f20\u627f\u8f7d\u7f51\uff0c\u7531\u5404\u7c7b\u7269\u7406\u8bbe\u5907\u6784\u6210\uff0c\u5982TOR\u4ea4\u6362\u673a\u3001\u6c47\u805a\u4ea4\u6362\u673a\u3001\u6838\u5fc3\u4ea4\u6362\u673a\u3001\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907\u4e0e\u9632\u706b\u5899\u8bbe\u5907\u7b49\u3002</p> <p>\u5b9e\u65bdOverlay\u6280\u672f\u540e\uff0c\u4f1a\u5728Underlay\u7f51\u7edc\u57fa\u7840\u4e0a\u5f62\u6210\u4e00\u5f20\u903b\u8f91\u7f51\u3002</p> <p>\u56fe1\u00a0Overlay\u662fUnderlay\u57fa\u7840\u4e0a\u7684\u903b\u8f91\u7f51\u7edc </p> <ul> <li>Overlay\u7f51\u7edc\u662f\u5efa\u7acb\u5728\u5df2\u6709\u7684Underlay\u7f51\u7edc\u57fa\u7840\u4e0a\u7684\u865a\u62df\u7f51\uff0c\u7531\u903b\u8f91\u8282\u70b9\u548c\u903b\u8f91\u94fe\u8def\u6784\u6210\u3002</li> <li>Overlay\u7f51\u7edc\u5177\u6709\u72ec\u7acb\u7684\u63a7\u5236\u548c\u8f6c\u53d1\u5e73\u9762\uff0c\u5bf9\u4e8e\u8fde\u63a5\u5728Overlay\u8fb9\u7f18\u8bbe\u5907\u4e4b\u5916\u7684\u7ec8\u7aef\u6765\u8bf4\uff0c\u7269\u7406\u7f51\u7edc\u662f\u900f\u660e\u7684\u3002</li> </ul>","tags":["Overlay","Underlay","Overlay\u7f51\u7edc"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/#1-overlay","title":"1. \u4ec0\u4e48\u662fOverlay\u7f51\u7edc\uff1f","text":"<p>Overlay\u7f51\u7edc\u662f\u901a\u8fc7\u7f51\u7edc\u865a\u62df\u5316\u6280\u672f\uff0c\u5728\u540c\u4e00\u5f20Underlay\u7f51\u7edc\u4e0a\u6784\u5efa\u51fa\u7684\u4e00\u5f20\u6216\u8005\u591a\u5f20\u865a\u62df\u7684\u903b\u8f91\u7f51\u7edc\u3002\u4e0d\u540c\u7684Overlay\u7f51\u7edc\u867d\u7136\u5171\u4eabUnderlay\u7f51\u7edc\u4e2d\u7684\u8bbe\u5907\u548c\u7ebf\u8def\uff0c\u4f46\u662fOverlay\u7f51\u7edc\u4e2d\u7684\u4e1a\u52a1\u4e0eUnderlay\u7f51\u7edc\u4e2d\u7684\u7269\u7406\u7ec4\u7f51\u548c\u4e92\u8054\u6280\u672f\u76f8\u4e92\u89e3\u8026\u3002Overlay\u7f51\u7edc\u7684\u591a\u5b9e\u4f8b\u5316\uff0c\u65e2\u53ef\u4ee5\u670d\u52a1\u4e8e\u540c\u4e00\u79df\u6237\u7684\u4e0d\u540c\u4e1a\u52a1\uff08\u5982\u591a\u4e2a\u90e8\u95e8\uff09\uff0c\u4e5f\u53ef\u4ee5\u670d\u52a1\u4e8e\u4e0d\u540c\u79df\u6237\uff0c\u662fSD-WAN\u4ee5\u53ca\u6570\u636e\u4e2d\u5fc3\u7b49\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u7684\u6838\u5fc3\u7ec4\u7f51\u6280\u672f\u3002</p>","tags":["Overlay","Underlay","Overlay\u7f51\u7edc"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/#11-overlay","title":"1.1. \u4e3a\u4ec0\u4e48\u9700\u8981Overlay\u7f51\u7edc\uff1f","text":"<p>Overlay\u7f51\u7edc\u548cUnderlay\u7f51\u7edc\u662f\u4e00\u7ec4\u76f8\u5bf9\u6982\u5ff5\uff0cOverlay\u7f51\u7edc\u662f\u5efa\u7acb\u5728Underlay\u7f51\u7edc\u4e0a\u7684\u903b\u8f91\u7f51\u7edc\u3002\u800c\u4e3a\u4ec0\u4e48\u9700\u8981\u5efa\u7acbOverlay\u7f51\u7edc\uff0c\u5c31\u8981\u4ece\u5e95\u5c42\u7684Underlay\u7f51\u7edc\u7684\u6982\u5ff5\u4ee5\u53ca\u5c40\u9650\u8bb2\u8d77\u3002</p>","tags":["Overlay","Underlay","Overlay\u7f51\u7edc"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/#111-underlay","title":"1.1.1. Underlay\u7f51\u7edc","text":"<p>Underlay\u7f51\u7edc\u6b63\u5982\u5176\u540d\uff0c\u662fOverlay\u7f51\u7edc\u7684\u5e95\u5c42\u7269\u7406\u57fa\u7840\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0cUnderlay\u7f51\u7edc\u53ef\u4ee5\u662f\u7531\u591a\u4e2a\u7c7b\u578b\u8bbe\u5907\u4e92\u8054\u800c\u6210\u7684\u7269\u7406\u7f51\u7edc\uff0c\u8d1f\u8d23\u7f51\u7edc\u4e4b\u95f4\u7684\u6570\u636e\u5305\u4f20\u8f93\u3002</p> <p> \u5178\u578b\u7684Underlay\u7f51\u7edc</p> <p>\u5728Underlay\u7f51\u7edc\u4e2d\uff0c\u4e92\u8054\u7684\u8bbe\u5907\u53ef\u4ee5\u662f\u5404\u7c7b\u578b\u4ea4\u6362\u673a\u3001\u8def\u7531\u5668\u3001\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907\u3001\u9632\u706b\u5899\u7b49\uff0c\u4f46\u7f51\u7edc\u7684\u5404\u4e2a\u8bbe\u5907\u4e4b\u95f4\u5fc5\u987b\u901a\u8fc7\u8def\u7531\u534f\u8bae\u6765\u786e\u4fdd\u4e4b\u95f4IP\u7684\u8fde\u901a\u6027\u3002</p> <p>Underlay\u7f51\u7edc\u53ef\u4ee5\u662f\u4e8c\u5c42\u4e5f\u53ef\u4ee5\u662f\u4e09\u5c42\u7f51\u7edc\u3002\u5176\u4e2d\u4e8c\u5c42\u7f51\u7edc\u901a\u5e38\u5e94\u7528\u4e8e\u4ee5\u592a\u7f51\uff0c\u901a\u8fc7VLAN\u8fdb\u884c\u5212\u5206\u3002\u4e09\u5c42\u7f51\u7edc\u7684\u5178\u578b\u5e94\u7528\u5c31\u662f\u4e92\u8054\u7f51\uff0c\u5176\u5728\u540c\u4e00\u4e2a\u81ea\u6cbb\u57df\u4f7f\u7528OSPF\u3001IS-IS\u7b49\u534f\u8bae\u8fdb\u884c\u8def\u7531\u63a7\u5236\uff0c\u5728\u5404\u4e2a\u81ea\u6cbb\u57df\u4e4b\u95f4\u5219\u91c7\u7528BGP\u7b49\u534f\u8bae\u8fdb\u884c\u8def\u7531\u4f20\u9012\u4e0e\u4e92\u8054\u3002\u968f\u7740\u6280\u672f\u7684\u8fdb\u6b65\uff0c\u4e5f\u51fa\u73b0\u4e86\u4f7f\u7528MPLS\u8fd9\u79cd\u4ecb\u4e8e\u4e8c\u4e09\u5c42\u7684WAN\u6280\u672f\u642d\u5efa\u7684Underlay\u7f51\u7edc\u3002</p> <p>\u7136\u800c\u4f20\u7edf\u7684\u7f51\u7edc\u8bbe\u5907\u5bf9\u6570\u636e\u5305\u7684\u8f6c\u53d1\u90fd\u57fa\u4e8e\u786c\u4ef6\uff0c\u5176\u6784\u5efa\u800c\u6210\u7684Underlay\u7f51\u7edc\u4e5f\u4ea7\u751f\u4e86\u5982\u4e0b\u7684\u95ee\u9898\uff1a</p> <ul> <li>\u7531\u4e8e\u786c\u4ef6\u6839\u636e\u76ee\u7684IP\u5730\u5740\u8fdb\u884c\u6570\u636e\u5305\u7684\u8f6c\u53d1\uff0c\u6240\u4ee5\u4f20\u8f93\u7684\u8def\u5f84\u4f9d\u8d56\u5341\u5206\u4e25\u91cd\u3002</li> <li>\u65b0\u589e\u6216\u53d8\u66f4\u4e1a\u52a1\u9700\u8981\u5bf9\u73b0\u6709\u5e95\u5c42\u7f51\u7edc\u8fde\u63a5\u8fdb\u884c\u4fee\u6539\uff0c\u91cd\u65b0\u914d\u7f6e\u8017\u65f6\u4e25\u91cd\u3002</li> <li>\u4e92\u8054\u7f51\u4e0d\u80fd\u4fdd\u8bc1\u79c1\u5bc6\u901a\u4fe1\u7684\u5b89\u5168\u8981\u6c42\u3002</li> <li>\u7f51\u7edc\u5207\u7247\u548c\u7f51\u7edc\u5206\u6bb5\u5b9e\u73b0\u590d\u6742\uff0c\u65e0\u6cd5\u505a\u5230\u7f51\u7edc\u8d44\u6e90\u7684\u6309\u9700\u5206\u914d\u3002</li> <li>\u591a\u8def\u5f84\u8f6c\u53d1\u7e41\u7410\uff0c\u65e0\u6cd5\u878d\u5408\u591a\u4e2a\u5e95\u5c42\u7f51\u7edc\u6765\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3002</li> </ul>","tags":["Overlay","Underlay","Overlay\u7f51\u7edc"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/#112-overlay","title":"1.1.2. Overlay\u7f51\u7edc","text":"<p>\u4e3a\u4e86\u6446\u8131Underlay\u7f51\u7edc\u7684\u79cd\u79cd\u9650\u5236\uff0c\u73b0\u5728\u591a\u91c7\u7528\u7f51\u7edc\u865a\u62df\u5316\u6280\u672f\u5728Underlay\u7f51\u7edc\u4e4b\u4e0a\u521b\u5efa\u865a\u62df\u7684Overlay\u7f51\u7edc\u3002</p> <p> Overlay\u7f51\u7edc\u62d3\u6251</p> <p>\u5728Overlay\u7f51\u7edc\u4e2d\uff0c\u8bbe\u5907\u4e4b\u95f4\u53ef\u4ee5\u901a\u8fc7\u903b\u8f91\u94fe\u8def\uff0c\u6309\u7167\u9700\u6c42\u5b8c\u6210\u4e92\u8054\u5f62\u6210Overlay\u62d3\u6251\u3002</p> <p>\u76f8\u4e92\u8fde\u63a5\u7684Overlay\u8bbe\u5907\u4e4b\u95f4\u5efa\u7acb\u96a7\u9053\uff0c\u6570\u636e\u5305\u51c6\u5907\u4f20\u8f93\u51fa\u53bb\u65f6\uff0c\u8bbe\u5907\u4e3a\u6570\u636e\u5305\u6dfb\u52a0\u65b0\u7684IP\u5934\u90e8\u548c\u96a7\u9053\u5934\u90e8\uff0c\u5e76\u4e14\u88ab\u5c4f\u853d\u6389\u5185\u5c42\u7684IP\u5934\u90e8\uff0c\u6570\u636e\u5305\u6839\u636e\u65b0\u7684IP\u5934\u90e8\u8fdb\u884c\u8f6c\u53d1\u3002\u5f53\u6570\u636e\u5305\u4f20\u9012\u5230\u53e6\u4e00\u4e2a\u8bbe\u5907\u540e\uff0c\u5916\u90e8\u7684IP\u62a5\u5934\u548c\u96a7\u9053\u5934\u5c06\u88ab\u4e22\u5f03\uff0c\u5f97\u5230\u539f\u59cb\u7684\u6570\u636e\u5305\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2dOverlay\u7f51\u7edc\u5e76\u4e0d\u611f\u77e5Underlay\u7f51\u7edc\u3002</p> <p>Overlay\u7f51\u7edc\u6709\u7740\u5404\u79cd\u7f51\u7edc\u534f\u8bae\u548c\u6807\u51c6\uff0c\u5305\u62ecVXLAN\u3001NVGRE\u3001SST\u3001GRE\u3001NVO3\u3001EVPN\u7b49\u3002</p> <p>\u968f\u7740SDN\u6280\u672f\u7684\u5f15\u5165\uff0c\u52a0\u5165\u4e86\u63a7\u5236\u5668\u7684Overlay\u7f51\u7edc\uff0c\u6709\u7740\u5982\u4e0b\u7684\u4f18\u70b9\uff1a</p> <ul> <li>\u6d41\u91cf\u4f20\u8f93\u4e0d\u4f9d\u8d56\u7279\u5b9a\u7ebf\u8def\u3002Overlay\u7f51\u7edc\u4f7f\u7528\u96a7\u9053\u6280\u672f\uff0c\u53ef\u4ee5\u7075\u6d3b\u9009\u62e9\u4e0d\u540c\u7684\u5e95\u5c42\u94fe\u8def\uff0c\u4f7f\u7528\u591a\u79cd\u65b9\u5f0f\u4fdd\u8bc1\u6d41\u91cf\u7684\u7a33\u5b9a\u4f20\u8f93\u3002</li> <li>Overlay\u7f51\u7edc\u53ef\u4ee5\u6309\u7167\u9700\u6c42\u5efa\u7acb\u4e0d\u540c\u7684\u865a\u62df\u62d3\u6251\u7ec4\u7f51\uff0c\u65e0\u9700\u5bf9\u5e95\u5c42\u7f51\u7edc\u4f5c\u51fa\u4fee\u6539\u3002</li> <li>\u901a\u8fc7\u52a0\u5bc6\u624b\u6bb5\u53ef\u4ee5\u89e3\u51b3\u4fdd\u62a4\u79c1\u5bc6\u6d41\u91cf\u5728\u4e92\u8054\u7f51\u4e0a\u7684\u901a\u4fe1\u3002</li> <li>\u652f\u6301\u7f51\u7edc\u5207\u7247\u4e0e\u7f51\u7edc\u5206\u6bb5\u3002\u5c06\u4e0d\u540c\u7684\u4e1a\u52a1\u5206\u5272\u5f00\u6765\uff0c\u53ef\u4ee5\u5b9e\u73b0\u7f51\u7edc\u8d44\u6e90\u7684\u6700\u4f18\u5206\u914d\u3002</li> <li>\u652f\u6301\u591a\u8def\u5f84\u8f6c\u53d1\u3002\u5728Overlay\u7f51\u7edc\u4e2d\uff0c\u6d41\u91cf\u4ece\u6e90\u4f20\u8f93\u5230\u76ee\u7684\u53ef\u901a\u8fc7\u591a\u6761\u8def\u5f84\uff0c\u4ece\u800c\u5b9e\u73b0\u8d1f\u8f7d\u5206\u62c5\uff0c\u6700\u5927\u5316\u5229\u7528\u7ebf\u8def\u7684\u5e26\u5bbd\u3002</li> </ul>","tags":["Overlay","Underlay","Overlay\u7f51\u7edc"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/#12-overlay","title":"1.2. Overlay\u7f51\u7edc\u6709\u54ea\u4e9b\u4f8b\u5b50\uff1f","text":"<p>Overlay\u7f51\u7edc\u5728SD-WAN\u3001\u6570\u636e\u4e2d\u5fc3\u4e24\u5927\u89e3\u51b3\u65b9\u6848\u4e2d\u88ab\u5e7f\u6cdb\u5e94\u7528\uff0c\u7531\u4e8e\u5176\u5e95\u5c42Underlay\u7f51\u7edc\u7684\u67b6\u6784\u4e5f\u4e0d\u5c3d\u76f8\u540c\uff0c\u4f7f\u5f97Overlay\u7f51\u7edc\u7684\u62d3\u6251\u5b58\u5728\u4e0d\u540c\u7684\u5f62\u5f0f\u3002</p>","tags":["Overlay","Underlay","Overlay\u7f51\u7edc"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/#121-overlay","title":"1.2.1. \u6570\u636e\u4e2d\u5fc3\u7684Overlay\u7f51\u7edc","text":"<p>\u968f\u7740\u6570\u636e\u4e2d\u5fc3\u67b6\u6784\u6f14\u8fdb\uff0c\u73b0\u5728\u6570\u636e\u4e2d\u5fc3\u591a\u91c7\u7528Spine-Leaf\u67b6\u6784\u6784\u5efaUnderlay\u7f51\u7edc\uff0c\u901a\u8fc7VXLAN\u6280\u672f\u6784\u5efa\u4e92\u8054\u7684Overlay\u7f51\u7edc\uff0c\u4e1a\u52a1\u62a5\u6587\u8fd0\u884c\u5728VXLAN Overlay\u7f51\u7edc\u4e0a\uff0c\u4e0e\u7269\u7406\u627f\u8f7d\u7f51\u7edc\u89e3\u8026\u3002</p> <p> \u6570\u636e\u4e2d\u5fc3\u7684Overlay\u7f51\u7edc</p> <p>Leaf\u4e0eSpine\u5168\u8fde\u63a5\uff0c\u7b49\u4ef7\u591a\u8def\u5f84\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u53ef\u7528\u6027\u3002</p> <p>Leaf\u8282\u70b9\u4f5c\u4e3a\u7f51\u7edc\u529f\u80fd\u63a5\u5165\u8282\u70b9\uff0c\u63d0\u4f9bUnderlay\u7f51\u7edc\u4e2d\u5404\u79cd\u7f51\u7edc\u8bbe\u5907\u63a5\u5165VXLAN\u7f51\u7edc\u529f\u80fd\uff0c\u540c\u65f6\u4e5f\u4f5c\u4e3aOverlay\u7f51\u7edc\u7684\u8fb9\u7f18\u8bbe\u5907\u627f\u62c5VTEP\uff08VXLAN Tunnel EndPoint\uff09\u7684\u89d2\u8272\u3002</p> <p>Spine\u8282\u70b9\u5373\u9aa8\u5e72\u8282\u70b9\uff0c\u662f\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7684\u6838\u5fc3\u8282\u70b9\uff0c\u63d0\u4f9b\u9ad8\u901fIP\u8f6c\u53d1\u529f\u80fd\uff0c\u901a\u8fc7\u9ad8\u901f\u63a5\u53e3\u8fde\u63a5\u5404\u4e2a\u529f\u80fdLeaf\u8282\u70b9\u3002</p>","tags":["Overlay","Underlay","Overlay\u7f51\u7edc"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/#122-sd-wanoverlay","title":"1.2.2. SD-WAN\u4e2d\u7684Overlay\u7f51\u7edc","text":"<p>SD-WAN\u7684Underlay\u7f51\u7edc\u57fa\u4e8e\u5e7f\u57df\u7f51\uff0c\u901a\u8fc7\u6df7\u5408\u94fe\u8def\u7684\u65b9\u5f0f\u8fbe\u6210\u603b\u90e8\u7ad9\u70b9\u3001\u5206\u652f\u7ad9\u70b9\u3001\u4e91\u7f51\u7ad9\u70b9\u4e4b\u95f4\u7684\u4e92\u8054\u3002\u901a\u8fc7\u642d\u5efaOverlay\u7f51\u7edc\u7684\u903b\u8f91\u62d3\u6251\uff0c\u5b8c\u6210\u4e0d\u540c\u573a\u666f\u4e0b\u7684\u4e92\u8054\u9700\u6c42\u3002</p> <p>\u56fe1-5\u00a0SD-WAN\u7684Overlay\u7f51\u7edc\uff08\u4ee5Hub-Spoke\u4e3a\u4f8b\uff09</p> <p> </p> <p>SD-WAN\u7684\u7f51\u7edc\u4e3b\u8981\u7531CPE\u8bbe\u5907\u6784\u6210\uff0c\u5176\u4e2dCPE\u53c8\u5206\u4e3aEdge\u548cGW\u4e24\u79cd\u7c7b\u578b\u3002</p> <ul> <li>Edge\uff1a\u662fSD-WAN\u7ad9\u70b9\u7684\u51fa\u53e3\u8bbe\u5907\u3002</li> <li>GW\uff1a\u662f\u8054\u63a5SD-WAN\u7ad9\u70b9\u548c\u5176\u4ed6\u7f51\u7edc\uff08\u5982\u4f20\u7edfVPN\uff09\u7684\u7f51\u5173\u8bbe\u5907\u3002</li> </ul> <p>\u6839\u636e\u4f01\u4e1a\u7f51\u7edc\u89c4\u6a21\u3001\u4e2d\u5fc3\u7ad9\u70b9\u6570\u91cf\u3001\u7ad9\u70b9\u95f4\u4e92\u8bbf\u9700\u6c42\u53ef\u4ee5\u642d\u5efa\u51fa\u591a\u4e2a\u4e0d\u540c\u7c7b\u578b\u7684Overlay\u7f51\u7edc\u3002</p> <ul> <li>Hub-spoke\uff1a\u9002\u7528\u4e8e\u4f01\u4e1a\u62e5\u67091~2\u4e2a\u6570\u636e\u4e2d\u5fc3\uff0c\u4e1a\u52a1\u4e3b\u8981\u5728\u603b\u90e8\u548c\u6570\u636e\u4e2d\u5fc3\uff0c\u5206\u652f\u901a\u8fc7WAN\u96c6\u4e2d\u8bbf\u95ee\u90e8\u7f72\u5728\u603b\u90e8\u6216\u8005\u6570\u636e\u4e2d\u5fc3\u7684\u4e1a\u52a1\u3002\u5206\u652f\u4e4b\u95f4\u65e0\u6216\u8005\u6709\u5c11\u91cf\u7684\u4e92\u8bbf\u9700\u6c42\uff0c\u5206\u652f\u4e4b\u95f4\u901a\u8fc7\u603b\u90e8\u6216\u8005\u6570\u636e\u4e2d\u5fc3\u7ed5\u884c\u3002</li> <li>Full-mesh\uff1a\u9002\u7528\u4e8e\u7ad9\u70b9\u89c4\u6a21\u4e0d\u591a\u7684\u5c0f\u4f01\u4e1a\uff0c\u6216\u8005\u5728\u5206\u652f\u4e4b\u95f4\u9700\u8981\u8fdb\u884c\u534f\u540c\u5de5\u4f5c\u7684\u5927\u4f01\u4e1a\u4e2d\u90e8\u7f72\u3002\u5927\u4f01\u4e1a\u7684\u534f\u540c\u4e1a\u52a1\uff0c\u5982VoIP\u548c\u89c6\u9891\u4f1a\u8bae\u7b49\u9ad8\u4ef7\u503c\u7684\u5e94\u7528\uff0c\u5bf9\u4e8e\u7f51\u7edc\u4e22\u5305\u3001\u65f6\u5ef6\u548c\u6296\u52a8\u7b49\u7f51\u7edc\u6027\u80fd\u5177\u6709\u5f88\u9ad8\u7684\u8981\u6c42\uff0c\u56e0\u6b64\u8fd9\u7c7b\u4e1a\u52a1\u66f4\u9002\u7528\u4e8e\u5206\u652f\u7ad9\u70b9\u4e4b\u95f4\u76f4\u63a5\u8fdb\u884c\u4e92\u8bbf\u3002</li> <li>\u5206\u5c42\u7ec4\u7f51\uff1a\u9002\u5e94\u4e8e\u7f51\u7edc\u7ad9\u70b9\u89c4\u6a21\u5e9e\u5927\u6216\u8005\u7ad9\u70b9\u5206\u6563\u5206\u5e03\u5728\u591a\u4e2a\u56fd\u5bb6\u6216\u5730\u533a\u7684\u5927\u578b\u8de8\u56fd\u4f01\u4e1a\u548c\u5927\u4f01\u4e1a\uff0c\u7f51\u7edc\u7ed3\u6784\u6e05\u6670\uff0c\u7f51\u7edc\u53ef\u6269\u5c55\u6027\u597d\u3002</li> <li>\u591aHub\u7ec4\u7f51\uff1a\u9002\u7528\u4e8e\u6709\u591a\u4e2a\u6570\u636e\u4e2d\u5fc3\uff0c\u6bcf\u4e2a\u6570\u636e\u4e2d\u5fc3\u5747\u90e8\u7f72\u4e1a\u52a1\u670d\u52a1\u5668\u4e3a\u5206\u652f\u63d0\u4f9b\u4e1a\u52a1\u670d\u52a1\u7684\u4f01\u4e1a\u3002</li> <li>POP\u7ec4\u7f51\uff1a\u5f53\u8fd0\u8425\u5546/MSP\u9762\u5411\u4f01\u4e1a\u63d0\u4f9bSD-WAN\u7f51\u7edc\u63a5\u5165\u670d\u52a1\u65f6\uff0c\u4f01\u4e1a\u4e00\u65f6\u95f4\u4e0d\u80fd\u5c06\u5168\u90e8\u7ad9\u70b9\u6539\u9020\u4e3aSD-WAN\u7ad9\u70b9\uff0c\u7f51\u7edc\u4e2d\u540c\u65f6\u5b58\u5728\u4f20\u7edf\u5206\u652f\u7ad9\u70b9\u548cSD-WAN\u7ad9\u70b9\u8fd9\u4e24\u7c7b\u7ad9\u70b9\uff0c\u4e14\u8fd9\u4e9b\u7ad9\u70b9\u95f4\u6709\u6d41\u91cf\u4e92\u901a\u7684\u8bc9\u6c42\u3002\u4e00\u5957IWG\uff08Interworking Gateway\uff0c\u4e92\u901a\u7f51\u5173\uff09\u7ec4\u7f51\u80fd\u540c\u65f6\u4e3a\u591a\u4e2a\u4f01\u4e1a\u79df\u6237\u63d0\u4f9bSD-WAN\u7ad9\u70b9\u548c\u5df2\u6709\u7684\u4f20\u7edfMPLS\u00a0VPN\u7f51\u7edc\u7684\u7ad9\u70b9\u8fde\u901a\u670d\u52a1\u3002</li> </ul>","tags":["Overlay","Underlay","Overlay\u7f51\u7edc"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/#13-overlay-vs-underlay","title":"1.3. Overlay\u7f51\u7edc VS Underlay\u7f51\u7edc","text":"<p>Overlay\u7f51\u7edc\u548cUnderlay\u7f51\u7edc\u7684\u533a\u522b\u5982\u4e0b\u6240\u793a\uff1a</p> <p>\u88681-1\u00a0Underlay\u7f51\u7edc VS Overlay\u7f51\u7edc</p> \u5bf9\u6bd4\u9879 Underlay\u7f51\u7edc Overlay\u7f51\u7edc \u6570\u636e\u4f20\u8f93 \u901a\u8fc7\u7f51\u7edc\u8bbe\u5907\u4f8b\u5982\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u8fdb\u884c\u4f20\u8f93 \u6cbf\u7740\u8282\u70b9\u95f4\u7684\u865a\u62df\u94fe\u8def\u8fdb\u884c\u4f20\u8f93 \u5305\u5c01\u88c5\u548c\u5f00\u9500 \u53d1\u751f\u5728\u7f51\u7edc\u7684\u4e8c\u5c42\u548c\u4e09\u5c42 \u9700\u8981\u8de8\u6e90\u548c\u76ee\u7684\u5c01\u88c5\u6570\u636e\u5305\uff0c\u4ea7\u751f\u989d\u5916\u7684\u5f00\u9500 \u62a5\u6587\u63a7\u5236 \u9762\u5411\u786c\u4ef6 \u9762\u5411\u8f6f\u4ef6 \u90e8\u7f72\u65f6\u95f4 \u4e0a\u7ebf\u65b0\u670d\u52a1\u6d89\u53ca\u5927\u91cf\u914d\u7f6e\uff0c\u8017\u65f6\u591a \u53ea\u9700\u66f4\u6539\u865a\u62df\u7f51\u7edc\u4e2d\u7684\u62d3\u6251\u7ed3\u6784\uff0c\u53ef\u5feb\u901f\u90e8\u7f72 \u591a\u8def\u5f84\u8f6c\u53d1 \u56e0\u4e3a\u53ef\u6269\u5c55\u6027\u4f4e\uff0c\u6240\u4ee5\u9700\u8981\u4f7f\u7528\u591a\u8def\u5f84\u8f6c\u53d1\uff0c\u800c\u8fd9\u4f1a\u4ea7\u751f\u66f4\u591a\u7684\u5f00\u9500\u548c\u7f51\u7edc\u590d\u6742\u5ea6 \u652f\u6301\u865a\u62df\u7f51\u7edc\u5185\u7684\u591a\u8def\u5f84\u8f6c\u53d1 \u6269\u5c55\u6027 \u5e95\u5c42\u7f51\u7edc\u4e00\u65e6\u642d\u5efa\u597d\uff0c\u65b0\u589e\u8bbe\u5907\u8f83\u4e3a\u56f0\u96be\uff0c\u53ef\u6269\u5c55\u6027\u5dee \u6269\u5c55\u6027\u5f3a\uff0c\u4f8b\u5982VLAN\u6700\u591a\u53ef\u652f\u63014096\u4e2a\u6807\u8bc6\u7b26\uff0c\u800cVXLAN\u5219\u63d0\u4f9b\u591a\u8fbe1600\u4e07\u4e2a\u6807\u8bc6\u7b26 \u534f\u8bae \u4ee5\u592a\u7f51\u4ea4\u6362\u3001VLAN\u3001\u8def\u7531\u534f\u8bae\uff08OSPF\u3001IS-IS\u3001BGP\u7b49\uff09 VXLAN\u3001NVGRE\u3001SST\u3001GRE\u3001NVO3\u3001EVPN \u591a\u79df\u6237\u7ba1\u7406 \u9700\u8981\u4f7f\u7528\u57fa\u4e8eNAT\u6216\u8005VRF\u7684\u9694\u79bb\uff0c\u8fd9\u5728\u5927\u578b\u7f51\u7edc\u4e2d\u662f\u4e2a\u5de8\u5927\u7684\u6311\u6218 \u80fd\u591f\u7ba1\u7406\u591a\u4e2a\u79df\u6237\u4e4b\u95f4\u7684\u91cd\u53e0IP\u5730\u5740","tags":["Overlay","Underlay","Overlay\u7f51\u7edc"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/Overlay%E5%92%8CUnderlay/#14","title":"1.4. \u53c2\u8003\u8d44\u6e90","text":"<p>1\u4e86\u89e3Underlay\u4e0eOverlay\u7f51\u7edc\uff08CloudFabric\u89e3\u51b3\u65b9\u6848\uff09</p> <p>2Overlay\u7f51\u7edc\u6982\u5ff5\uff08SD-WAN\u89e3\u51b3\u65b9\u6848\uff09</p> <p>3Overlay\u7f51\u7edc\u914d\u7f6e\u6307\u5357\uff08iMaster NCE-WAN\uff09</p>","tags":["Overlay","Underlay","Overlay\u7f51\u7edc"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/RD/","title":"RD","text":""},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/RD/#rd","title":"RD \u6982\u5ff5","text":"<p>RD(Route-Distinguisher\uff0c\u8def\u7531\u533a\u5206\u7b26)\uff1aRD\u7528\u6765\u533a\u5206\u672c\u5730VRF\uff0c\u8be5\u5c5e\u6027\u4ec5\u672c\u5730\u6709\u6548\u30028\u4e2a\u5b57\u8282\u7684RD+4\u4e2a\u5b57\u8282\u7684IPv4\u5730\u5740\u7ec4\u621096\u4f4dVPNv4\u8def\u7531\uff0c\u4f7f\u4e0d\u552f\u4e00\u7684IPv4\u5730\u5740\u8f6c\u5316\u4e3a\u552f\u4e00\u7684VPN-IPv4\u5730\u5740\uff0c\u8be5VPNv4\u8def\u7531\u5728ISP\u57df\u5185\u4f20\u9012\uff08\u533a\u5206\uff09\uff0cRD\u7ed9\u67d0VRF\u91cc\u9762\u7684\u8def\u7531\u6253\u4e0a\u6807\u7b7e\uff0c\u8fdb\u800c\u5b9e\u73b0\u5730\u5740\u7684\u590d\u7528\u800c\u4e0d\u4ea7\u751f\u51b2\u7a81\u3002</p>"},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/RT/","title":"RT","text":"<p>RT(Route Tagert)\uff1a\u662fBGP\u7684\u6269\u5c55\u56e2\u4f53\u5c5e\u6027\uff0c\u5b83\u5206\u6210Import RT\u548cExport RT\uff0c\u5206\u522b\u7528\u4e8e\u8def\u7531\u7684\u5bfc\u5165\u3001\u5bfc\u51fa\u7b56\u7565\u3002</p> <p>\u901a\u8fc7\u914d\u7f6eimport\u548cexport RT\uff0c\u6765\u63a7\u5236\u6536\u53d1\u8def\u7531\u3002</p> <p>1.\u5f53\u4eceVRF\u8868\u4e2d\u5bfc\u51fa\u8def\u7531\u65f6\uff0c\u8981\u7528export RT\u5bf9VRF\u8def\u7531\u8fdb\u884c\u6807\u8bb0\u3002</p> <p>2.\u5f53\u5f80VRF\u8868\u4e2d\u5bfc\u5165\u8def\u7531\u65f6\uff0c\u53ea\u6709\u6240\u5e26RT\u6807\u8bb0\u4e0e\u8be5VRF\u8868\u4e2d\u4efb\u610f\u4e00\u4e2aimport RT\u76f8\u7b26\u7684\u8def\u7531\u624d\u4f1a\u88ab\u5bfc\u5165\u5230VRF\u8868\u4e2d\u3002</p>"},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/VPN/","title":"VPN","text":"<p>VPN\uff08Virtual Private Network\uff09\uff1a\u4e5f\u79f0VRF(Virtual Route Forwarding\uff0c\u865a\u62df\u8def\u7531\u53ca\u8f6c\u53d1) \uff0c\u76ee\u7684\u662f\u89e3\u51b3\u4e0d\u540c\u4f01\u4e1a\u79c1\u7f51\u5730\u5740\u6bb5\u76f8\u540c\uff0c\u4e3a\u4e86\u9632\u6b62\u51b2\u7a81\uff0c\u91c7\u7528\u5c06\u76f8\u540c\u79c1\u7f51\u5730\u5740\u653e\u5230\u4e0d\u540c\u7684VRF\u8868\u4e2d\u3002</p> <p>\u4e00\u53f0\u8bbe\u5907\u7531\u4e8e\u53ef\u80fd\u540c\u65f6\u8fde\u63a5\u4e86\u591a\u4e2a\u7528\u6237\uff0c\u8fd9\u4e9b\u7528\u6237\uff08\u7684\u8def\u7531\uff09\u5f7c\u6b64\u4e4b\u95f4\u9700\u8981\u76f8\u4e92\u9694\u79bb\uff0c\u90a3\u4e48\u8fd9\u65f6\u5019\u5c31\u7528\u5230\u4e86VRF\uff0c\u8bbe\u5907\u4e0a\u6bcf\u4e00\u4e2a\u7528\u6237\u90fd\u5bf9\u5e94\u4e00\u4e2aVRF\u3002\u8bbe\u5907\u9664\u4e86\u7ef4\u62a4\u5168\u5c40IP\u8def\u7531\u8868\u4e4b\u5916\uff0c\u8fd8\u4e3a\u6bcf\u4e2aVRF\u7ef4\u62a4\u4e00\u5f20\u72ec\u7acb\u7684IP\u8def\u7531\u8868\uff0c\u8fd9\u5f20\u8def\u7531\u8868\u79f0\u4e3aVRF\u8def\u7531\u8868\u3002\u8981\u6ce8\u610f\u7684\u662f\u5168\u5c40IP\u8def\u7531\u8868\uff0c\u4ee5\u53ca\u6bcf\u4e00\u4e2aVRF\u8def\u7531\u8868\u90fd\u662f\u76f8\u4e92\u72ec\u7acb\u6216\u8005\u8bf4\u76f8\u4e92\u9694\u79bb\u7684\u3002</p> <p>\u5bf9\u4e8e\u6bcf\u4e00\u4e2aVRF\u8868\uff0c\u90fd\u5177\u6709\u8def\u7531\u533a\u5206\u7b26(Route Distinguisher\uff1aRD)\u548c\u8def\u7531\u76ee\u6807(Route Target\uff1aRT)\u4e24\u5927\u5c5e\u6027\u3002</p>"},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E4%BA%91%E7%BD%91%E4%B8%80%E4%BD%93%E5%8C%96/","title":"\u4e91\u7f51\u4e00\u4f53\u5316","text":"<p>\u4f20\u7edf\u6570\u636e\u4e2d\u5fc3\u9047\u5230\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u56f0\u5883\uff1a</p> <ul> <li>\u56f0\u5883\u4e00\uff1a\u4e1a\u52a1\u90e8\u7f72\u6548\u7387\u4f4e\u3002\u65b0\u4e1a\u52a1\u4e0a\u7ebf\u65f6\uff0c\u9700\u8981\u5927\u91cf\u89c4\u5212\u3001\u914d\u7f6e\u3001\u6d4b\u8bd5\u3001\u8001\u4e1a\u52a1\u5f71\u54cd\u8bc4\u4f30\u7b49\uff0c\u90e8\u7f72\u65f6\u957f\u65e0\u6cd5\u6ee1\u8db3\u65b0\u4e1a\u52a1\u8981\u6c42\u3002</li> <li>\u56f0\u5883\u4e8c\uff1a\u8d44\u6e90\u5229\u7528\u7387\u4f4e\u3002\u5f88\u591a\u7cfb\u7edf\u72ec\u7acb\u5360\u7528\u8d44\u6e90\u6c60\uff0c\u5f62\u6210\u70df\u56f1\u5f0f\u8d44\u6e90\u5229\u7528\u5f62\u6001\uff0c\u5f53\u4e00\u4e2a\u7cfb\u7edf\u8d44\u6e90\u4f7f\u7528\u7387\u4f4e\u65f6\uff0c\u5176\u4ed6\u7cfb\u7edf\u65e0\u6cd5\u4f7f\u7528\u6b64\u8d44\u6e90\u6c60\u4e2d\u591a\u4f59\u7684\u8d44\u6e90\u3002</li> <li>\u56f0\u5883\u4e09\uff1a\u8fd0\u7ef4\u7ba1\u7406\u590d\u6742\u3002\u6570\u636e\u4e2d\u5fc3\u4e2d\u591a\u6837\u5316\u4e1a\u52a1\u53e0\u52a0\u8fd0\u884c\uff0c\u5f53\u67d0\u4e00\u4e1a\u52a1\u6545\u969c\u65f6\uff0c\u5f88\u96be\u5feb\u901f\u53d1\u73b0\u5e76\u9694\u79bb\u6545\u969c\u3002</li> </ul> <p>SDN\u548c\u4e91\u8ba1\u7b97\u53ef\u4ee5\u6765\u89e3\u51b3\u4f20\u7edf\u6570\u636e\u4e2d\u5fc3\u7684\u4e0a\u8ff0\u56f0\u5883\u3002\u4e91\u5316\u6570\u636e\u4e2d\u5fc3\u5177\u6709\u4e1a\u52a1\u81ea\u52a8\u5316\u3001\u5f39\u6027\u8d44\u6e90\u6c60\u3001\u7cbe\u7ec6\u5316\u8fd0\u7ef4\u4e09\u4e2a\u5178\u578b\u7279\u5f81\u3002</p> <p>SDN\u662f\u7528\u6765\u652f\u6491ICT\u5b9e\u73b0\u4e91\u8ba1\u7b97\u7684\u5173\u952e\u6280\u672f\u3002\u76ee\u524d\u8f6f\u4ef6\u5b9a\u4e49\u8ba1\u7b97\uff08\u865a\u62df\u670d\u52a1\u5668\uff09\u3001\u8f6f\u4ef6\u5b9a\u4e49\u5b58\u50a8\uff08\u5206\u5e03\u5f0f\u5b58\u50a8\uff09\u5df2\u7ecf\u5177\u5907\uff0c\u56e0\u6b64\u547c\u5524\u7f51\u7edc\u5c42\u9762\u4e5f\u5fc5\u987b\u5b9e\u73b0\u8f6f\u4ef6\u5b9a\u4e49\u7f51\u7edc\uff0c\u4ece\u800c\u5b9e\u73b0\u654f\u6377\u7f51\u7edc\u7684\u76ee\u6807\u3002</p> <p>\u4e91\u4e3b\u8981\u5206\u4e3a\u79c1\u6709\u4e91\u3001\u516c\u6709\u4e91\u3001\u6df7\u5408\u4e91\u4e09\u7c7b\uff1a</p> <ul> <li>\u79c1\u6709\u4e91\u662f\u5355\u4e2a\u4f01\u4e1a\u7684\u4e00\u79cd\u4e13\u7528\u4e91\u57fa\u7840\u67b6\u6784\uff0c\u5176\u57fa\u7840\u8bbe\u65bd\u7684\u5b9a\u5236\u5316\u7a0b\u5ea6\u8f83\u9ad8\uff0c\u7a81\u663e\u4e86\u4f01\u4e1a\u81ea\u8eab\u7684\u4e1a\u52a1\u7279\u70b9\u3002</li> <li>\u5f88\u591a\u4e2d\u5c0f\u578b\u4f01\u4e1a\u65e0\u6cd5\u81ea\u5df1\u5efa\u8bbe\u5177\u6709\u4e00\u5b9a\u89c4\u6a21\u7684\u4e91\uff0c\u56e0\u6b64\u8f6c\u800c\u5411\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u79df\u7528\u76f8\u5173\u7684\u57fa\u7840\u8bbe\u65bd\u548c\u8d44\u6e90\uff0c\u4ece\u800c\u8fc5\u901f\u6784\u5efa\u81ea\u5df1\u7684\u865a\u62df\u6570\u636e\u4e2d\u5fc3\uff0c\u8fd9\u5c31\u662f\u516c\u6709\u4e91\u3002</li> <li>\u4f01\u4e1a\u7684\u4e00\u90e8\u5206\u57fa\u7840\u8bbe\u65bd\u5728\u516c\u6709\u4e91\u4e0a\uff0c\u53e6\u4e00\u90e8\u5206\u5728\u79c1\u6709\u4e91\u4e0a\uff0c\u8fd9\u4e24\u79cd\u4e91\u901a\u8fc7\u67d0\u79cd\u5f62\u5f0f\u4e92\u901a\uff0c\u5b9e\u73b0\u5e94\u7528\u53ef\u79fb\u690d\u3001\u6570\u636e\u53ef\u8fc1\u79fb\u7b49\uff0c\u8fd9\u5c31\u662f\u6df7\u5408\u4e91\u3002</li> </ul> <p>\u5728\u672c\u89e3\u51b3\u65b9\u6848\u4e2d\uff0c\u4e91\u7f51\u4e00\u4f53\u5316\u7684\u903b\u8f91\u67b6\u6784\u5982 \u56fe1 \u6240\u793a\uff0c\u7528\u6237\u7684\u64cd\u4f5c\u754c\u9762\u5728\u4e91\u7ba1\u7406\u5e73\u53f0\u4e0a\uff0c\u4e91\u7ba1\u7406\u5e73\u53f0\u4e0e\u63a7\u5236\u5668\u3001VMM\u5206\u522b\u5bf9\u63a5\uff0c\u4ece\u800c\u5b9e\u73b0\u8ba1\u7b97\u4e0e\u7f51\u7edc\u7684\u4e1a\u52a1\u8054\u52a8\uff1a</p> <ul> <li>\u4e91\u7ba1\u7406\u5e73\u53f0\u5c06\u4e0e\u7f51\u7edc\u76f8\u5173\u7684\u4e1a\u52a1\u6307\u4ee4\u4e0b\u53d1\u7ed9\u63a7\u5236\u5668\u5904\u7406\uff0c\u63a7\u5236\u5668\u8fdb\u884c\u4e1a\u52a1\u8bed\u8a00\u7684\u7ffb\u8bd1\u540e\uff0c\u8f6c\u6362\u4e3a\u7f51\u7edc\u914d\u7f6e\u6a21\u578b\uff0c\u4e0b\u53d1\u7ed9\u5bf9\u5e94\u7684\u7f51\u7edc\u8bbe\u5907\u3002</li> <li>\u4e91\u7ba1\u7406\u5e73\u53f0\u5c06\u4e0e\u8ba1\u7b97\u76f8\u5173\u7684\u4e1a\u52a1\u6307\u4ee4\u4e0b\u53d1\u7ed9VMM\u5904\u7406\uff0cVMM\u5b8c\u6210\u8ba1\u7b97\u8d44\u6e90\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\u3002</li> </ul> <p>\u56fe1\u00a0\u4e91\u7f51\u4e00\u4f53\u5316\u65b9\u6848\u6982\u89c8 </p>","tags":["\u4e91\u7f51\u4e00\u4f53\u5316"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E5%A0%86%E5%8F%A0%E7%BD%91%E5%85%B3%E3%80%81%E4%B8%BB%E5%A4%87%E7%BD%91%E5%85%B3%E3%80%81%E5%A4%9A%E6%B4%BB%E7%BD%91%E5%85%B3/","title":"\u5806\u53e0\u7f51\u5173/\u4e3b\u5907\u7f51\u5173/\u591a\u6d3b\u7f51\u5173","text":"<p>\u7f51\u5173\u8bbe\u5907\u7684\u5f62\u6001\u4e3b\u8981\u6709\u5806\u53e0\u3001\u4e3b\u5907\u3001\u591a\u6d3b\u4e09\u79cd\u3002</p> <p>\u5806\u53e0\u7f51\u5173 \u662f\u6307\u4e24\u53f0\u7f51\u5173\u8bbe\u5907\u4e4b\u95f4\u5f62\u6210CSS\u5806\u53e0\u6216iStack\u5806\u53e0\uff0c\u4ece\u800c\u5f62\u6210\u7edf\u4e00\u7684\u63a7\u5236\u9762\u6765\u4f5c\u4e3aVXLAN L3\u7f51\u5173\u3002</p> <p>\u4e3b\u5907\u7f51\u5173 \u662f\u6307\u4e24\u53f0\u72ec\u7acb\u8bbe\u5907\u5efa\u7acbVRRP\u7ec4\uff0c\u5177\u6709\u72ec\u7acb\u7684\u96a7\u9053\u7aef\u70b9\u5730\u5740\u3002\u4e3b\u5907\u7f51\u5173\u4f7f\u7528\u76f8\u540c\u7684VRRP\u865a\u5730\u5740\u4f5c\u4e3aVXLAN L3\u7f51\u5173\u5730\u5740\uff0c\u670d\u52a1\u5668\u770b\u5230\u4e00\u4e2a\u903b\u8f91\u7f51\u5173\u3002</p> <p>\u591a\u6d3b\u7f51\u5173 \u662f\u6307\u4e24\u53f0\u6216\u56db\u53f0\u72ec\u7acb\u8bbe\u5907\u5efa\u7acbDFS\u7ec4\uff0c\u914d\u7f6e\u76f8\u540c\u7684\u7f51\u5173\u5730\u5740\u548c\u96a7\u9053\u7aef\u70b9\u5730\u5740\uff0c\u670d\u52a1\u5668\u770b\u5230\u4e00\u4e2a\u903b\u8f91\u7f51\u5173\u3002</p> <p>\u4e09\u79cd\u7f51\u5173\u5f62\u6001\u7684\u5bf9\u6bd4\u53c2\u89c1 \u88681\u3002</p> <p>\u88681\u00a0\u4e0d\u540c\u7f51\u5173\u5f62\u6001\u7684\u5bf9\u6bd4</p> \u7f51\u5173\u90e8\u7f72\u5f62\u6001 \u7279\u70b9 \u53ef\u9760\u6027 \u8d1f\u8f7d\u5206\u62c5 \u914d\u7f6e\u590d\u6742\u5ea6 \u5806\u53e0\u7f51\u5173 \u5f62\u6210\u5355\u4e00\u903b\u8f91\u8bbe\u5907\uff0c\u914d\u7f6e\u7ba1\u7406\u7b80\u5355\uff0c\u8fd0\u7ef4\u754c\u9762\u6e05\u6670\u3002\u7f51\u5173\u6d41\u91cf\u80fd\u591f\u5728\u5806\u53e0\u6210\u5458\u8bbe\u5907\u4e0a\u8d1f\u8f7d\u5206\u62c5\u3002 \u4e2d \u662f \u7b80\u5355 \u4e3b\u5907\u7f51\u5173 \u4e24\u53f0\u8bbe\u5907\u5177\u6709\u72ec\u7acb\u7684\u63a7\u5236\u9762\u4e92\u4e3a\u5907\u4efd\u3002 \u9ad8 \u5426 \u4e2d\u7b49 \u591a\u6d3b\u7f51\u5173 \u4e24\u53f0\u8bbe\u5907\u5177\u6709\u72ec\u7acb\u7684\u63a7\u5236\u9762\u4e92\u4e3a\u5907\u4efd\u3002\u7f51\u5173\u6d41\u91cf\u80fd\u591f\u5728DFS\u7ec4\u6210\u5458\u8bbe\u5907\u4e0a\u8d1f\u8f7d\u5206\u62c5\u3002 \u9ad8 \u662f \u590d\u6742","tags":["\u5806\u53e0\u7f51\u5173","\u4e3b\u5907\u7f51\u5173","\u591a\u6d3b\u7f51\u5173"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E6%8E%A7%E5%88%B6%E3%80%81%E7%BD%91%E7%BB%9C%E3%80%81%E8%AE%A1%E7%AE%97%E3%80%81%E5%AD%98%E5%82%A8%E8%8A%82%E7%82%B9/","title":"\u63a7\u5236/\u7f51\u7edc/\u8ba1\u7b97/\u5b58\u50a8\u8282\u70b9","text":"<p>\u6574\u4e2aOpenStack\u7cfb\u7edf\u5177\u4f53\u662f\u7531\u63a7\u5236\u8282\u70b9\u3001\u8ba1\u7b97\u8282\u70b9\u3001\u7f51\u7edc\u8282\u70b9\u3001\u5b58\u50a8\u8282\u70b9\u56db\u5927\u90e8\u5206\u7ec4\u6210\u3002</p>","tags":["\u63a7\u5236\u8282\u70b9","\u7f51\u7edc\u8282\u70b9","\u8ba1\u7b97\u8282\u70b9","\u5b58\u50a8\u8282\u70b9"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E6%8E%A7%E5%88%B6%E3%80%81%E7%BD%91%E7%BB%9C%E3%80%81%E8%AE%A1%E7%AE%97%E3%80%81%E5%AD%98%E5%82%A8%E8%8A%82%E7%82%B9/#1","title":"1. \u63a7\u5236\u8282\u70b9","text":"<p>\u63a7\u5236\u8282\u70b9\u4e3b\u8981\u8d1f\u8d23\u5bf9\u5176\u4f59\u8282\u70b9\u7684\u63a7\u5236\uff0c\u5305\u542b\u865a\u62df\u673a\u5efa\u7acb\u3001\u8fc1\u79fb\u3001\u7f51\u7edc\u5206\u914d\u548c\u5b58\u50a8\u5206\u914d\u7b49\u3002\u63a7\u5236\u8282\u70b9\u4e3b\u8981\u529f\u80fd\u5206\u4e3a\u57fa\u7840\u7ba1\u7406\u670d\u52a1\u3001\u6269\u5c55\u7ba1\u7406\u670d\u52a1\u548c\u7ba1\u7406\u652f\u6301\u670d\u52a1\u4e09\u7c7b\u3002</p> <p>\u63a7\u5236\u8282\u70b9\u7684\u57fa\u7840\u7ba1\u7406\u670d\u52a1\u5305\u542bKeystone\u3001Glance\u3001Nova\u3001Neutron\u548cHorizon\u4e94\u4e2a\u670d\u52a1\uff1a</p> <ul> <li>Keystone\uff1a\u8ba4\u8bc1\u7ba1\u7406\u670d\u52a1\uff0c\u63d0\u4f9b\u4e86\u5176\u4f59\u6240\u6709\u7ec4\u4ef6\u7684\u8ba4\u8bc1\u4fe1\u606f/\u4ee4\u724c\u7684\u7ba1\u7406\uff0c\u521b\u5efa\uff0c\u4fee\u6539\u3002</li> <li>Glance\uff1a\u955c\u50cf\u7ba1\u7406\u670d\u52a1\uff0c\u7528\u4e8e\u7ba1\u7406\u865a\u62df\u673a\u521b\u5efa\u65f6\u7528\u5230\u7684\u955c\u50cf\uff0c\u5305\u62ec\u955c\u50cf\u7684\u5bfc\u5165\u4ee5\u53ca\u5236\u4f5c\u76f8\u5e94\u7684\u6a21\u677f\u3002</li> <li>Nova\uff1a\u8ba1\u7b97\u7ba1\u7406\u670d\u52a1\uff0c\u7528\u4e8e\u7ba1\u7406\u8ba1\u7b97\u8282\u70b9\u7684Nova\u3002</li> <li>Neutron\uff1a\u7f51\u7edc\u7ba1\u7406\u670d\u52a1\uff0c\u7528\u4e8e\u7ba1\u7406\u7f51\u7edc\u8282\u70b9\u7684\u7f51\u7edc\u62d3\u6251\uff0c\u5e76\u63d0\u4f9b\u7ba1\u7406\u9762\u677f\u3002</li> <li>Horizon\uff1a\u63a7\u5236\u53f0\u670d\u52a1\uff0c\u63d0\u4f9b\u4e86\u4ee5Web\u5f62\u5f0f\u7684\u7ba1\u7406\u9636\u6bb5\uff0c\u4e5f\u5e38\u79f0\u4e3aDashBoard\u3002</li> </ul> <p>\u6269\u5c55\u7ba1\u7406\u670d\u52a1\u5305\u542bCinder\u3001Swift\u3001Trove\u3001Heat\u548cCeilometer\u4e94\u4e2a\u670d\u52a1\uff1a</p> <ul> <li>Cinder\uff1a\u7528\u4e8e\u7ba1\u7406\u5b58\u50a8\u8282\u70b9\u7684Cinder\u5e76\u63d0\u4f9b\u7ba1\u7406\u9762\u677f</li> <li>Swift\uff1a\u7528\u4e8e\u7ba1\u7406\u5b58\u50a8\u8282\u70b9\u7684Swift\u5e76\u63d0\u4f9b\u7ba1\u7406\u9762\u677f</li> <li>Trove\uff1a\u7528\u4e8e\u7ba1\u7406\u6570\u636e\u5e93\u8282\u70b9\u7684Trove\u5e76\u63d0\u4f9b\u7ba1\u7406\u9762\u677f</li> <li>Heat\uff1a\u63d0\u4f9b\u4e86\u5728\u591a\u79cd\u670d\u52a1\u4e4b\u95f4\u534f\u4f5c\u7f16\u6392\u7684\u80fd\u529b\u3002</li> <li>Ceilometer\uff1a\u7528\u4e8e\u5bf9\u7269\u7406\u8d44\u6e90\u548c\u865a\u62df\u8d44\u6e90\u7684\u76d1\u63a7\u3001\u8bb0\u5f55\u548c\u6570\u636e\u5206\u6790\u3002</li> </ul> <p>\u7ba1\u7406\u652f\u6301\u670d\u52a1\u5305\u542bMySQL\u4e0eRabbit MQ\u4e24\u4e2a\u670d\u52a1\uff1a</p> <ul> <li>MySQL\uff1a\u6570\u636e\u5e93\uff0c\u5b58\u653e\u57fa\u7840/\u6269\u5c55\u670d\u52a1\u4ea7\u751f\u7684\u6570\u636e\u3002</li> <li>Rabbit MQ\uff1a\u6d88\u606f\u4ee3\u7406\uff08\u4e5f\u79f0\u4e3a\u6d88\u606f\u4e2d\u95f4\u4ef6\uff09\uff0c\u5b83\u4e3a\u5176\u4ed6\u5404\u79cd\u670d\u52a1\u95f4\u63d0\u4f9b\u7edf\u4e00\u7684\u6d88\u606f\u901a\u4fe1\u670d\u52a1\u3002</li> </ul> <p>\u63a7\u5236\u8282\u70b9\u5728\u90e8\u7f72\u65f6\u9700\u8981\u4e0e\u5176\u4ed6\u5404\u4e2a\u8282\u70b9\u8fdb\u884c\u901a\u4fe1\u3002</p>","tags":["\u63a7\u5236\u8282\u70b9","\u7f51\u7edc\u8282\u70b9","\u8ba1\u7b97\u8282\u70b9","\u5b58\u50a8\u8282\u70b9"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E6%8E%A7%E5%88%B6%E3%80%81%E7%BD%91%E7%BB%9C%E3%80%81%E8%AE%A1%E7%AE%97%E3%80%81%E5%AD%98%E5%82%A8%E8%8A%82%E7%82%B9/#2","title":"2. \u8ba1\u7b97\u8282\u70b9","text":"<p>\u8ba1\u7b97\u8282\u70b9\u5305\u542bNova\uff0cNeutron\uff0cTelemetry\u4e09\u4e2a\u670d\u52a1\uff1a</p> <ul> <li>Nova\uff1a\u63d0\u4f9b\u865a\u62df\u673a\u7684\u521b\u5efa\u3001\u8fd0\u884c\u3001\u8fc1\u79fb\u548c\u5feb\u7167\u7b49\u5404\u79cd\u56f4\u7ed5\u865a\u62df\u673a\u7684\u670d\u52a1\uff0c\u5e76\u63d0\u4f9bAPI\u4e0e\u63a7\u5236\u8282\u70b9\u5bf9\u63a5\uff0c\u7531\u63a7\u5236\u8282\u70b9\u4e0b\u53d1\u4efb\u52a1\u3002</li> <li>Neutron\uff1a\u63d0\u4f9b\u8ba1\u7b97\u8282\u70b9\u4e0e\u7f51\u7edc\u8282\u70b9\u4e4b\u95f4\u7684\u901a\u4fe1\u670d\u52a1\u3002</li> <li>Telemetry\uff1a\u63d0\u4f9b\u8ba1\u7b97\u8282\u70b9\u7684\u76d1\u63a7\u4ee3\u7406\uff0c\u5c06\u865a\u62df\u673a\u7684\u60c5\u51b5\u53cd\u9988\u7ed9\u63a7\u5236\u8282\u70b9\uff0c\u662fCentimeter\u7684\u4ee3\u7406\u670d\u52a1\u3002</li> </ul> <p>\u8ba1\u7b97\u8282\u70b9\u5305\u542b\u6700\u5c11\u4e24\u4e2a\u7f51\u7edc\u7aef\u53e3\uff1a</p> <ul> <li>eth0\uff1a\u4e0e\u63a7\u5236\u8282\u70b9\u8fdb\u884c\u901a\u4fe1\uff0c\u53d7\u63a7\u5236\u8282\u70b9\u7edf\u4e00\u8c03\u914d\u548c\u7ba1\u7406\u3002</li> <li>eth1\uff1a\u4e0e\u7f51\u7edc\u8282\u70b9\u4ee5\u53ca\u5b58\u50a8\u8282\u70b9\u8fdb\u884c\u901a\u4fe1\u3002</li> </ul>","tags":["\u63a7\u5236\u8282\u70b9","\u7f51\u7edc\u8282\u70b9","\u8ba1\u7b97\u8282\u70b9","\u5b58\u50a8\u8282\u70b9"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E6%8E%A7%E5%88%B6%E3%80%81%E7%BD%91%E7%BB%9C%E3%80%81%E8%AE%A1%E7%AE%97%E3%80%81%E5%AD%98%E5%82%A8%E8%8A%82%E7%82%B9/#3","title":"3. \u7f51\u7edc\u8282\u70b9","text":"<p>\u7f51\u7edc\u8282\u70b9\u4e3b\u8981\u63d0\u4f9bNeutron\u670d\u52a1\uff0cNeutron\u8d1f\u8d23\u7ba1\u7406\u79c1\u6709\u7f51\u6bb5\u4e0e\u516c\u6709\u7f51\u6bb5\u7684\u901a\u4fe1\u3001\u7ba1\u7406\u865a\u62df\u673a\u7f51\u7edc\u4e4b\u95f4\u7684\u901a\u4fe1\u3001\u7ba1\u7406\u9632\u706b\u5899\u7b49\u3002</p> <p>\u7f51\u7edc\u8282\u70b9\u5305\u542b\u4ee5\u4e0b\u4e09\u4e2a\u7f51\u7edc\u7aef\u53e3\uff1a</p> <ul> <li>eth0\uff1a\u7528\u4e8e\u4e0e\u63a7\u5236\u8282\u70b9\u8fdb\u884c\u901a\u4fe1\u3002</li> <li>eth1\uff1a\u7528\u4e8e\u4e0e\u9664\u4e86\u63a7\u5236\u8282\u70b9\u4e4b\u5916\u7684\u8ba1\u7b97/\u5b58\u50a8\u8282\u70b9\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</li> <li>eth2\uff1a\u7528\u4e8e\u5916\u90e8\u7684\u865a\u62df\u673a\u4e0e\u76f8\u5e94\u7f51\u7edc\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</li> </ul>","tags":["\u63a7\u5236\u8282\u70b9","\u7f51\u7edc\u8282\u70b9","\u8ba1\u7b97\u8282\u70b9","\u5b58\u50a8\u8282\u70b9"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E6%8E%A7%E5%88%B6%E3%80%81%E7%BD%91%E7%BB%9C%E3%80%81%E8%AE%A1%E7%AE%97%E3%80%81%E5%AD%98%E5%82%A8%E8%8A%82%E7%82%B9/#4","title":"4. \u5b58\u50a8\u8282\u70b9","text":"<p>\u5b58\u50a8\u8282\u70b9\u5305\u542bCinder\uff0cSwift\u7b49\u670d\u52a1\uff1a</p> <ul> <li>Cinder\uff1a\u5757\u5b58\u50a8\u670d\u52a1\uff0c\u63d0\u4f9b\u76f8\u5e94\u7684\u5757\u5b58\u50a8\uff0c\u5373\u865a\u62df\u51fa\u4e00\u5757\u78c1\u76d8\uff0c\u4f7f\u4e4b\u53ef\u4ee5\u6302\u8f7d\u5230\u76f8\u5e94\u7684\u865a\u62df\u673a\u4e4b\u4e0a\u3002\u5bf9\u865a\u62df\u673a\u6765\u8bf4\uff0c\u5c31\u50cf\u662f\u65b0\u52a0\u4e86\u4e00\u5757\u786c\u76d8\uff0c\u53ef\u4ee5\u5b8c\u6210\u5bf9\u78c1\u76d8\u7684\u6302\u8f7d\u3001\u5378\u8f7d\u3001\u683c\u5f0f\u5316\u3001\u8f6c\u6362\u6587\u4ef6\u7cfb\u7edf\u7b49\u64cd\u4f5c\uff0c\u5927\u591a\u5e94\u7528\u4e8e\u865a\u62df\u673a\u7a7a\u95f4\u4e0d\u8db3\u60c5\u51b5\u4e0b\u6269\u5bb9\u3002</li> <li>Swift\uff1a\u5bf9\u8c61\u5b58\u50a8\u670d\u52a1\uff0c\u63d0\u4f9b\u76f8\u5e94\u7684\u5bf9\u8c61\u5b58\u50a8\uff0c\u5373\u865a\u62df\u51fa\u4e00\u5757\u78c1\u76d8\u7a7a\u95f4\uff0c\u5728\u6b64\u7a7a\u95f4\u5f53\u4e2d\u5b58\u653e\u6587\u4ef6\uff0c\u4f46\u4e0d\u80fd\u683c\u5f0f\u5316\u3001\u8f6c\u6362\u6587\u4ef6\u7cfb\u7edf\u3002</li> </ul> <p>\u5b58\u50a8\u8282\u70b9\u5305\u542b\u6700\u5c11\u4e24\u4e2a\u7f51\u7edc\u63a5\u53e3\uff1a</p> <ul> <li>eth0\uff1a\u4e0e\u63a7\u5236\u8282\u70b9\u8fdb\u884c\u901a\u4fe1\uff0c\u63a5\u53d7\u63a7\u5236\u8282\u70b9\u4efb\u52a1\uff0c\u53d7\u63a7\u5236\u8282\u70b9\u7edf\u4e00\u8c03\u914d\u3002</li> <li>eth1\uff1a\u4e0e\u8ba1\u7b97/\u7f51\u7edc\u8282\u70b9\u8fdb\u884c\u901a\u4fe1\uff0c\u5b8c\u6210\u63a7\u5236\u8282\u70b9\u4e0b\u53d1\u7684\u5404\u7c7b\u4efb\u52a1\u3002</li> </ul>","tags":["\u63a7\u5236\u8282\u70b9","\u7f51\u7edc\u8282\u70b9","\u8ba1\u7b97\u8282\u70b9","\u5b58\u50a8\u8282\u70b9"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E7%A7%81%E6%9C%89%E4%BA%91%E3%80%81%E5%85%AC%E6%9C%89%E4%BA%91%E3%80%81%E6%B7%B7%E5%90%88%E4%BA%91/","title":"\u79c1\u6709\u4e91/\u516c\u6709\u4e91/\u6df7\u5408\u4e91","text":"<p>\u516c\u6709\u4e91\u901a\u5e38\u6307\u4f01\u4e1a\u901a\u8fc7\u81ea\u5df1\u7684\u57fa\u7840\u8bbe\u65bd\u76f4\u63a5\u5411\u5916\u90e8\u7528\u6237\u63d0\u4f9b\u4e91\u670d\u52a1\u3002\u5916\u90e8\u7528\u6237\u901a\u8fc7\u4e92\u8054\u7f51\u8bbf\u95ee\u4e91\u5e76\u4eab\u53d7\u5404\u7c7b\u670d\u52a1\uff0c\u5916\u90e8\u7528\u6237\u672c\u8eab\u5e76\u4e0d\u62e5\u6709\u8fd9\u4e9b\u4e91\u8ba1\u7b97\u8d44\u6e90\u3002</p> <p>\u79c1\u6709\u4e91\u662f\u4f01\u4e1a\u81ea\u5df1\u5efa\u8bbe\u7684\u4e3a\u4f01\u4e1a\u5185\u90e8\u63d0\u4f9b\u670d\u52a1\u7684\u4e00\u79cd\u4e91\u8ba1\u7b97\u4f7f\u7528\u65b9\u5f0f\u3002\u79c1\u6709\u4e91\u53ef\u7531\u4f01\u4e1a\u7684IT\u90e8\u95e8\u6216\u4e91\u5e73\u53f0\u4e1a\u52a1\u63d0\u4f9b\u5546\u642d\u5efa\u3002\u4f01\u4e1a\u53ef\u4ee5\u5728\u642d\u5efa\u7684\u4e91\u5e73\u53f0\u57fa\u7840\u4e0a\u90e8\u7f72\u81ea\u5df1\u7684\u7f51\u7edc\u6216\u5e94\u7528\u670d\u52a1\u3002</p> <p>\u79c1\u6709\u4e91\u4e3a\u4e00\u4e2a\u4f01\u4e1a\u5355\u72ec\u4f7f\u7528\u800c\u6784\u5efa\uff0c\u53ef\u90e8\u7f72\u5728\u4f01\u4e1a\u7684\u6570\u636e\u4e2d\u5fc3\u4e2d\uff0c\u4e5f\u53ef\u7edf\u4e00\u90e8\u7f72\u5728\u4e91\u5e73\u53f0\u4e1a\u52a1\u63d0\u4f9b\u5546\u7684\u673a\u623f\u3002</p> <p>\u6df7\u5408\u4e91\u662f\u516c\u6709\u4e91\u548c\u79c1\u6709\u4e91\u4e24\u79cd\u670d\u52a1\u65b9\u5f0f\u7684\u7ed3\u5408\u3002</p> <p>\u7531\u4e8e\u5b89\u5168\u548c\u63a7\u5236\u539f\u56e0\uff0c\u5e76\u975e\u6240\u6709\u7684\u4f01\u4e1a\u4fe1\u606f\u90fd\u80fd\u653e\u7f6e\u5728\u516c\u6709\u4e91\u4e0a\uff0c\u56e0\u6b64\u5927\u90e8\u5206\u5df2\u7ecf\u5e94\u7528\u4e91\u8ba1\u7b97\u7684\u4f01\u4e1a\u5c06\u4f1a\u4f7f\u7528\u6df7\u5408\u4e91\u6a21\u5f0f\u3002\u6df7\u5408\u4e91\u4e3a\u5176\u4ed6\u76ee\u7684\u7684\u5f39\u6027\u9700\u6c42\u63d0\u4f9b\u4e86\u5f88\u597d\u7684\u57fa\u7840\u3002\u6bd4\u5982\u79c1\u6709\u4e91\u53ef\u4ee5\u628a\u516c\u6709\u4e91\u4f5c\u4e3a\u707e\u96be\u8f6c\u79fb\u7684\u5e73\u53f0\uff0c\u5728\u9700\u8981\u7684\u65f6\u5019\u4f7f\u7528\u5b83\u3002\u4e91\u57fa\u7840\u8bbe\u65bd\u7531\u4e24\u4e2a\u6216\u591a\u4e2a\u4e91\uff08\u79c1\u6709\u4e91\u3001\u516c\u6709\u4e91\u7b49\uff09\u7ec4\u6210\uff0c\u72ec\u7acb\u5b58\u5728\uff0c\u4f46\u662f\u901a\u8fc7\u6807\u51c6\u7684\u6216\u79c1\u6709\u7684\u6280\u672f\u7ed1\u5b9a\u5728\u4e00\u8d77\u3002</p>","tags":["\u79c1\u6709\u4e91","\u516c\u6709\u4e91","\u6df7\u5408\u4e91"]},{"location":"02%20%E6%A6%82%E5%BF%B5%E7%99%BE%E7%A7%91/%E7%BA%BF%E9%80%9F%E8%BD%AC%E5%8F%91/","title":"\u7ebf\u901f\u8f6c\u53d1","text":"<p>\u7ebf\u901f\u8f6c\u53d1\u662f\u6307\u5728\u8fbe\u5230\u7aef\u53e3\u6700\u5927\u901f\u7387\u7684\u65f6\u5019\uff0c\u4ea4\u6362\u673a\u4f20\u8f93\u7684\u6570\u636e\u6ca1\u6709\u4e22\u5305\u3002 \u4ea4\u6362\u673a\u4e0a\u6240\u6709\u7aef\u53e3\u80fd\u63d0\u4f9b\u7684\u603b\u5e26\u5bbd\u4e3a\u7aef\u53e3\u6570*\u76f8\u5e94\u7aef\u53e3\u901f\u7387*2\uff08\u5168\u53cc\u5de5\u6a21\u5f0f\uff09\uff0c\u5982\u679c\u603b\u5e26\u5bbd\u2264\u6807\u79f0\u80cc\u677f\u5e26\u5bbd\uff0c\u90a3\u4e48\u5728\u80cc\u677f\u5e26\u5bbd\u4e0a\u662f\u7ebf\u901f\u8f6c\u53d1\u7684\u3002</p>","tags":["\u7ebf\u901f\u8f6c\u53d1"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/","title":"\u4ec0\u4e48\u662f Azure ExpressRoute","text":"<p>\u4f7f\u7528 ExpressRoute \u53ef\u901a\u8fc7\u8fde\u63a5\u670d\u52a1\u63d0\u4f9b\u5546\u6240\u63d0\u4f9b\u7684\u4e13\u7528\u8fde\u63a5\uff0c\u5c06\u672c\u5730\u7f51\u7edc\u6269\u5c55\u5230 Microsoft \u4e91\u3002 \u4f7f\u7528 ExpressRoute \u53ef\u4e0e Microsoft Azure \u548c Microsoft 365 \u7b49 Microsoft \u4e91\u670d\u52a1\u5efa\u7acb\u8fde\u63a5\u3002</p> <p>\u53ef\u4ee5\u4ece\u4efb\u610f\u4f4d\u7f6e\u4e4b\u95f4\u7684 (IP VPN) \u7f51\u7edc\u3001\u70b9\u5230\u70b9\u4ee5\u592a\u7f51\u6216\u5728\u573a\u5730\u79df\u7528\u8bbe\u65bd\u4e0a\u901a\u8fc7\u8fde\u63a5\u670d\u52a1\u63d0\u4f9b\u5546\u7684\u865a\u62df\u4ea4\u53c9\u8fde\u63a5\u6765\u5efa\u7acb\u8fd9\u79cd\u8fde\u63a5\u3002 ExpressRoute \u8fde\u63a5\u63d0\u4f9b\u6bd4\u901a\u8fc7 Internet \u7684\u5178\u578b\u8fde\u63a5\u66f4\u53ef\u9760\u3001\u66f4\u5feb\u901f\u3001\u5ef6\u8fdf\u66f4\u4e00\u81f4\u4e14\u66f4\u5b89\u5168\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u4f1a\u7ecf\u8fc7\u516c\u5171 Internet\u3002 \u8981\u4e86\u89e3\u5982\u4f55\u4f7f\u7528 ExpressRoute \u5c06\u7f51\u7edc\u8fde\u63a5\u5230 Microsoft\uff0c\u8bf7\u53c2\u9605\u00a0ExpressRoute \u8fde\u63a5\u6a21\u578b\u3002</p> <p></p> <p>\u5907\u6ce8</p> <p>\u5728 ExpressRoute \u7684\u80cc\u666f\u4e0b\uff0cMicrosoft Edge \u63cf\u8ff0\u4e86 ExpressRoute \u7ebf\u8def Microsoft \u7aef\u7684 Edge \u8def\u7531\u5668\u3002 \u8fd9\u662f ExpressRoute \u7ebf\u8def\u8fdb\u5165 Microsoft \u7f51\u7edc\u7684\u5165\u53e3\u70b9\u3002</p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#1","title":"1. \u4e3b\u8981\u4f18\u70b9","text":"<ul> <li>\u901a\u8fc7\u8fde\u63a5\u670d\u52a1\u63d0\u4f9b\u5546\u5728\u672c\u5730\u7f51\u7edc\u4e0e Microsoft \u4e91\u4e4b\u95f4\u5efa\u7acb\u7b2c 3 \u5c42\u8fde\u63a5\u3002 \u53ef\u4ee5\u4ece\u4efb\u610f\u4f4d\u7f6e\u4e4b\u95f4\u7684 (IPVPN) \u7f51\u7edc\u3001\u70b9\u5230\u70b9\u4ee5\u592a\u7f51\uff0c\u6216\u901a\u8fc7\u4ee5\u592a\u7f51\u4ea4\u6362\u7ecf\u7531\u865a\u62df\u4ea4\u53c9\u8fde\u63a5\u6765\u5efa\u7acb\u8fd9\u79cd\u8fde\u63a5\u3002</li> <li>\u8de8\u5730\u7f18\u653f\u6cbb\u533a\u57df\u4e2d\u7684\u6240\u6709\u533a\u57df\u8fde\u63a5\u5230 Microsoft \u4e91\u670d\u52a1\u3002</li> <li>\u901a\u8fc7 ExpressRoute \u9ad8\u7ea7\u7248\u9644\u52a0\u7ec4\u4ef6\u4ece\u5168\u7403\u8fde\u63a5\u5230\u6240\u6709\u533a\u57df\u7684 Microsoft \u670d\u52a1\u3002</li> <li>\u901a\u8fc7 BGP \u5728\u7f51\u7edc\u4e0e Microsoft \u4e4b\u95f4\u8fdb\u884c\u52a8\u6001\u8def\u7531\u3002</li> <li>\u5728\u6bcf\u4e2a\u5bf9\u7b49\u4f4d\u7f6e\u63d0\u4f9b\u5185\u7f6e\u5197\u4f59\u4ee5\u63d0\u9ad8\u53ef\u9760\u6027\u3002</li> <li>\u8fde\u63a5\u8fd0\u884c\u65f6\u95f4\u00a0SLA\u3002</li> <li>Skype for Business \u7684 QoS \u652f\u6301\u3002</li> </ul> <p>\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u00a0ExpressRoute \u5e38\u89c1\u95ee\u9898\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#2-expressroute","title":"2. ExpressRoute \u5907\u5fd8\u5355","text":"<p>\u4f7f\u7528\u6b64\u5907\u5fd8\u5355\u5feb\u901f\u8bbf\u95ee\u6700\u91cd\u8981\u7684 ExpressRoute \u8d44\u6e90\u548c\u4fe1\u606f\u3002</p> <p>[ \u7528\u4e8e\u5feb\u901f\u8bbf\u95ee\u4fe1\u606f\u7684 ExpressRoute \u5907\u5fd8\u5355\u7684\u5c4f\u5e55\u622a\u56fe\u3002](images/c5ecbc80ca7dbb1e89ae34efcb393369_MD5.png) <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#3","title":"3. \u529f\u80fd","text":"","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#31-3","title":"3.1. \u7b2c 3 \u5c42\u8fde\u63a5","text":"<p>Microsoft \u4f7f\u7528 BGP\uff08\u4e00\u79cd\u884c\u4e1a\u6807\u51c6\u52a8\u6001\u8def\u7531\u534f\u8bae\uff09\uff0c\u5728\u672c\u5730\u7f51\u7edc\u3001Azure \u4e2d\u7684\u5b9e\u4f8b\u548c Microsoft \u516c\u5171\u5730\u5740\u4e4b\u95f4\u4ea4\u6362\u8def\u7531\u3002 \u6211\u4eec\u6839\u636e\u4e0d\u540c\u7684\u6d41\u91cf\u914d\u7f6e\u6587\u4ef6\u6765\u4e0e\u7f51\u7edc\u5efa\u7acb\u591a\u4e2a BGP \u4f1a\u8bdd\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u00a0ExpressRoute \u7ebf\u8def\u548c\u8def\u7531\u57df\u00a0\u4e00\u6587\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#32","title":"3.2. \u5197\u4f59","text":"<p>\u6bcf\u4e2a ExpressRoute \u7ebf\u8def\u90fd\u6709\u4e24\u4e2a\u8fde\u63a5\uff0c\u7528\u4e8e\u4ece\u8fde\u63a5\u670d\u52a1\u63d0\u4f9b\u5546\u6216\u7f51\u7edc\u8fb9\u7f18\u7684\u00a0ExpressRoute \u4f4d\u7f6e\u8fde\u63a5\u5230\u4e24\u4e2a Microsoft \u4f01\u4e1a\u8fb9\u7f18\u8def\u7531\u5668 (MSEE)\u3002 Microsoft \u8981\u6c42\u901a\u8fc7\u8fde\u63a5\u670d\u52a1\u63d0\u4f9b\u5546\u6216\u7f51\u7edc\u8fb9\u7f18\u5efa\u7acb\u53cc\u91cd BGP \u8fde\u63a5 \u2013 \u5404\u81ea\u8fde\u63a5\u5230\u6bcf\u4e2a MSEE\u3002 \u53ef\u4ee5\u9009\u62e9\u4e0d\u8981\u5728\u4e00\u7aef\u90e8\u7f72\u5197\u4f59\u8bbe\u5907/\u4ee5\u592a\u7f51\u8def\u7ebf\u3002 \u4f46\u662f\uff0c\u8fde\u63a5\u670d\u52a1\u63d0\u4f9b\u5546\u4f1a\u4f7f\u7528\u5197\u4f59\u8bbe\u5907\uff0c\u786e\u4fdd\u4ee5\u5197\u4f59\u65b9\u5f0f\u5c06\u8fde\u63a5\u79fb\u4ea4\u7ed9 Microsoft\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#33","title":"3.3. \u590d\u539f","text":"<p>Microsoft \u5728\u8bb8\u591a\u5730\u7f18\u653f\u6cbb\u533a\u57df\u4e2d\u63d0\u4f9b\u4e86\u591a\u4e2a ExpressRoute \u5bf9\u7b49\u4e92\u8fde\u4f4d\u7f6e\u3002 \u4e3a\u786e\u4fdd\u6700\u5927\u590d\u539f\u80fd\u529b\uff0cMicrosoft \u5efa\u8bae\u5728\u4e24\u4e2a\u5bf9\u7b49\u4e92\u8fde\u4f4d\u7f6e\u5efa\u7acb\u5230\u4e24\u6761 ExpressRoute \u7ebf\u8def\u7684\u8fde\u63a5\u3002 \u5bf9\u4e8e\u975e\u751f\u4ea7\u548c\u975e\u5173\u952e\u5de5\u4f5c\u8d1f\u8f7d\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fde\u63a5\u5230\u5728\u5355\u4e2a\u5bf9\u7b49\u4e92\u8fde\u4f4d\u7f6e\u63d0\u4f9b\u5197\u4f59\u8fde\u63a5\u7684\u5355\u4e2a ExpressRoute \u7ebf\u8def\u6765\u5b9e\u73b0\u6807\u51c6\u590d\u539f\u80fd\u529b\u3002 Azure \u95e8\u6237\u63d0\u4f9b\u5f15\u5bfc\u5f0f\u4f53\u9a8c\uff0c\u4ee5\u5e2e\u52a9\u4f60\u521b\u5efa\u53ef\u590d\u539f\u7684 ExpressRoute \u914d\u7f6e\u3002 \u5bf9\u4e8e Azure PowerShell\u3001CLI\u3001ARM \u6a21\u677f\u3001Terraform \u548c Bicep\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728\u4e0d\u540c\u7684 ExpressRoute \u4f4d\u7f6e\u521b\u5efa\u7b2c\u4e8c\u6761 ExpressRoute \u7ebf\u8def\u5e76\u4e0e\u4e4b\u8fde\u63a5\u6765\u5b9e\u73b0\u6700\u5927\u590d\u539f\u80fd\u529b\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u4f7f\u7528 ExpressRoute \u5b9e\u73b0\u6700\u5927\u590d\u539f\u80fd\u529b\u3002</p> <p></p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#34-microsoft","title":"3.4. \u4e0e Microsoft \u4e91\u670d\u52a1\u5efa\u7acb\u8fde\u63a5","text":"<p>\u901a\u8fc7 ExpressRoute \u8fde\u63a5\u53ef\u8bbf\u95ee\u4ee5\u4e0b\u670d\u52a1\uff1a</p> <ul> <li>Microsoft Azure \u670d\u52a1</li> <li>Microsoft 365 \u670d\u52a1</li> </ul> <p>\u5907\u6ce8</p> <p>\u521b\u5efa Microsoft 365 \u662f\u4e3a\u4e86\u901a\u8fc7 Internet \u5b89\u5168\u53ef\u9760\u5730\u8bbf\u95ee\u3002 \u56e0\u6b64\uff0c\u6211\u4eec\u5efa\u8bae\u5c06 ExpressRoute \u7528\u4e8e\u7279\u5b9a\u65b9\u6848\u3002 \u6709\u5173\u4f7f\u7528 ExpressRoute \u8bbf\u95ee Microsoft 365 \u7684\u4fe1\u606f\uff0c\u8bf7\u8bbf\u95ee\u9002\u7528\u4e8e Microsoft 365 \u7684 Azure ExpressRoute\u3002</p> <p>\u6709\u5173\u901a\u8fc7 ExpressRoute \u652f\u6301\u7684\u670d\u52a1\u7684\u8be6\u7ec6\u5217\u8868\uff0c\u8bf7\u8bbf\u95ee\u00a0ExpressRoute \u5e38\u89c1\u95ee\u9898\u89e3\u7b54\u9875\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#35","title":"3.5. \u4e0e\u5730\u7f18\u653f\u6cbb\u533a\u57df\u4e2d\u7684\u6240\u6709\u533a\u57df\u5efa\u7acb\u8fde\u63a5","text":"<p>\u53ef\u4ee5\u4ece\u6211\u4eec\u7684\u67d0\u4e2a\u5bf9\u7b49\u4f4d\u7f6e\u8fde\u63a5\u5230 Microsoft\uff0c\u5e76\u8bbf\u95ee\u540c\u4e00\u5730\u7f18\u653f\u6cbb\u533a\u57df\u4e2d\u7684\u533a\u57df\u3002</p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u5728\u963f\u59c6\u65af\u7279\u4e39\u901a\u8fc7 ExpressRoute \u8fde\u63a5\u5230 Microsoft\uff0c \u4f60\u6709\u6743\u8bbf\u95ee\u5728\u5317\u6b27\u548c\u897f\u6b27\u6258\u7ba1\u7684\u6240\u6709 Microsoft \u4e91\u670d\u52a1\u3002 \u6709\u5173\u5730\u7f18\u653f\u6cbb\u533a\u57df\u3001\u5173\u8054\u7684 Microsoft \u4e91\u533a\u57df\u548c\u5bf9\u5e94\u7684 ExpressRoute \u5bf9\u7b49\u4f4d\u7f6e\u7684\u6982\u8ff0\uff0c\u8bf7\u53c2\u9605\u00a0ExpressRoute \u5408\u4f5c\u4f19\u4f34\u548c\u5bf9\u7b49\u4f4d\u7f6e\u4e00\u6587\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#36-expressroute","title":"3.6. \u4f7f\u7528 ExpressRoute \u9ad8\u7ea7\u7248\u5efa\u7acb\u5168\u7403\u8fde\u63a5","text":"<p>\u4f60\u53ef\u4ee5\u542f\u7528\u00a0ExpressRoute \u9ad8\u7ea7\u7248\uff0c\u5c06\u8fde\u63a5\u6269\u5c55\u4e3a\u8de8\u8d8a\u5730\u7f18\u653f\u6cbb\u8fb9\u754c\u3002 \u5982\u679c\u5728\u963f\u59c6\u65af\u7279\u4e39\u901a\u8fc7 ExpressRoute \u8fde\u63a5\u5230 Microsoft\uff0c\u5219\u4f60\u6709\u6743\u8bbf\u95ee\u5728\u5168\u7403\u6bcf\u4e2a\u533a\u57df\u6258\u7ba1\u7684\u6240\u6709 Microsoft \u4e91\u670d\u52a1\u3002 \u4f8b\u5982\uff0c\u4f60\u6709\u6743\u8bbf\u95ee\u90e8\u7f72\u5728\u7f8e\u56fd\u897f\u90e8\u6216\u6fb3\u5927\u5229\u4e9a\u4e1c\u90e8\u7684\u670d\u52a1\uff0c\u4e0e\u8bbf\u95ee\u5317\u6b27\u548c\u897f\u6b27\u533a\u57df\u7684\u65b9\u5f0f\u76f8\u540c\u3002 \u56fd\u5bb6\u4e91\u4e0d\u5305\u62ec\u5728\u5185\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#37-expressroute-local","title":"3.7. \u4f7f\u7528 ExpressRoute Local \u5efa\u7acb\u672c\u5730\u8fde\u63a5","text":"<p>\u901a\u8fc7\u542f\u7528\u672c\u5730 SKU\uff0c\u53ef\u4ee5\u7ecf\u6d4e\u9ad8\u6548\u5730\u4f20\u8f93\u6570\u636e\u3002 \u4f7f\u7528\u672c\u5730 SKU\uff0c\u53ef\u4ee5\u5c06\u6570\u636e\u4f20\u8f93\u5230\u6240\u9700 Azure \u533a\u57df\u9644\u8fd1\u7684 ExpressRoute \u4f4d\u7f6e\u3002 \u4f7f\u7528 ExpressRoute Local \u65f6\uff0cExpressRoute \u7aef\u53e3\u8d39\u7528\u4e2d\u5305\u62ec\u4e86\u6570\u636e\u4f20\u8f93\u3002</p> <p>\u6709\u5173\u5bf9\u7b49\u4e92\u8fde\u4f4d\u7f6e\u548c\u53d7\u652f\u6301\u7684 Azure \u672c\u5730\u533a\u57df\uff0c\u8bf7\u53c2\u9605\u63d0\u4f9b\u5546\uff08\u6309\u4f4d\u7f6e\uff09\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#38-expressroute-global-reach","title":"3.8. \u4f7f\u7528 ExpressRoute Global Reach \u8fdb\u884c\u672c\u5730\u8fde\u63a5","text":"<p>\u901a\u8fc7\u542f\u7528 ExpressRoute Global Reach\uff0c\u53ef\u4ee5\u901a\u8fc7 ExpressRoute \u7ebf\u8def\u8de8\u672c\u5730\u7ad9\u70b9\u4ea4\u6362\u6570\u636e\u3002 \u4f8b\u5982\uff0c\u5047\u8bbe\u4f60\u6709\u4e24\u4e2a\u4e13\u7528\u6570\u636e\u4e2d\u5fc3\uff0c\u4e00\u4e2a\u4f4d\u4e8e\u52a0\u5229\u798f\u5c3c\u4e9a\u5dde\uff0c\u4e00\u4e2a\u4f4d\u4e8e\u5fb7\u514b\u8428\u65af\u5dde\uff0c\u6bcf\u4e2a\u6570\u636e\u4e2d\u5fc3\u4f1a\u8fde\u63a5\u5230\u5404\u81ea\u533a\u57df\u4e2d\u7684 ExpressRoute \u7ebf\u8def\u3002 \u53ef\u4ee5\u4f7f\u7528 ExpressRoute Global Reach \u5c06\u6570\u636e\u4e2d\u5fc3\u4e0e\u8fd9\u4e9b\u7ebf\u8def\u94fe\u63a5\uff0c\u800c\u8de8\u6570\u636e\u4e2d\u5fc3\u6d41\u91cf\u4f1a\u4f7f\u7528 Microsoft \u7f51\u7edc\u3002</p> <p>\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u00a0ExpressRoute Global Reach\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#39","title":"3.9. \u4e30\u5bcc\u7684\u8fde\u63a5\u5408\u4f5c\u4f19\u4f34\u751f\u6001\u7cfb\u7edf","text":"<p>ExpressRoute \u7684\u8fde\u63a5\u670d\u52a1\u63d0\u4f9b\u5546\u548c\u7cfb\u7edf\u96c6\u6210\u5546\u5408\u4f5c\u4f19\u4f34\u751f\u6001\u7cfb\u7edf\u4e0d\u65ad\u53d1\u5c55\u3002 \u6709\u5173\u6700\u65b0\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u00a0ExpressRoute \u5408\u4f5c\u4f19\u4f34\u548c\u5bf9\u7b49\u4e92\u8fde\u4f4d\u7f6e\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#310","title":"3.10. \u4e0e\u56fd\u5bb6/\u5730\u533a\u4e91\u5efa\u7acb\u8fde\u63a5","text":"<p>Microsoft \u4e3a\u7279\u6b8a\u7684\u5730\u7f18\u653f\u6cbb\u5730\u533a\u548c\u5ba2\u6237\u7fa4\u63d0\u4f9b\u9694\u79bb\u7684\u4e91\u73af\u5883\u3002 \u6709\u5173\u56fd\u5bb6\u4e91\u548c\u63d0\u4f9b\u5546\u7684\u5217\u8868\uff0c\u8bf7\u53c2\u9605\u00a0ExpressRoute \u5408\u4f5c\u4f19\u4f34\u548c\u5bf9\u7b49\u4e92\u8fde\u4f4d\u7f6e\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#311-expressroute-direct","title":"3.11. ExpressRoute Direct","text":"<p>\u6709\u4e86 ExpressRoute Direct\uff0c\u5ba2\u6237\u5c31\u6709\u673a\u4f1a\u76f4\u63a5\u8fde\u63a5\u5230\u5de7\u5999\u5206\u5e03\u5728\u5168\u7403\u5bf9\u7b49\u4e92\u8fde\u4f4d\u7f6e\u7684 Microsoft \u7684\u5168\u7403\u7f51\u7edc\u3002 ExpressRoute Direct \u63d0\u4f9b\u53cc 100 Gbps \u8fde\u63a5\uff0c\u652f\u6301\u5927\u89c4\u6a21\u7684\u4e3b\u52a8/\u4e3b\u52a8\u8fde\u63a5\u3002</p> <p>ExpressRoute Direct \u63d0\u4f9b\u7684\u4e3b\u8981\u529f\u80fd\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a</p> <ul> <li>\u5c06\u5927\u91cf\u6570\u636e\u5f15\u5165\u5230 Azure \u5b58\u50a8\u548c Azure Cosmos DB \u7b49\u670d\u52a1\u3002</li> <li>\u9488\u5bf9\u53d7\u76d1\u7ba1\u548c\u9700\u8981\u4e13\u7528\u548c\u72ec\u7acb\u8fde\u63a5\u7684\u884c\u4e1a\u7684\u7269\u7406\u9694\u79bb\u3002 \u4f8b\u5982\uff1a\u94f6\u884c\u3001\u653f\u5e9c\u548c\u96f6\u552e\u4e1a\u3002</li> <li>\u6839\u636e\u4e1a\u52a1\u5355\u4f4d\u7cbe\u7ec6\u63a7\u5236\u7ebf\u8def\u5206\u5e03\u3002</li> </ul> <p>\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u5173\u4e8e ExpressRoute Direct\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#312","title":"3.12. \u5e26\u5bbd\u9009\u9879","text":"<p>\u53ef\u4ee5\u8d2d\u4e70\u5404\u79cd\u5e26\u5bbd\u7684 ExpressRoute \u7ebf\u8def\u3002 \u4e0b\u9762\u5217\u51fa\u4e86\u652f\u6301\u7684\u5e26\u5bbd\u3002 \u8bf7\u52a1\u5fc5\u54a8\u8be2\u8fde\u63a5\u670d\u52a1\u63d0\u4f9b\u5546\uff0c\u4ee5\u786e\u5b9a\u4ed6\u4eec\u652f\u6301\u7684\u5e26\u5bbd\u3002</p> <ul> <li>50 Mbps</li> <li>100 Mbps</li> <li>200 Mbps</li> <li>500 Mbps</li> <li>1 Gbps</li> <li>2 Gbps</li> <li>5 Gbps</li> <li>10 Gbps</li> </ul> <p>\u7ebf\u8def\u7684\u5185\u7f6e\u5197\u4f59\u662f\u4f7f\u7528\u5230\u4e24\u4e2aMicrosoft \u4f01\u4e1a\u8fb9\u7f18\u8def\u7531\u5668 (MSEE) \u7684\u4e3b\u8fde\u63a5\u548c\u8f85\u52a9\u8fde\u63a5\u914d\u7f6e\u7684\uff0c\u6bcf\u4e2a\u8fde\u63a5\u90fd\u4f7f\u7528\u6240\u8d2d\u4e70\u7684\u5e26\u5bbd\u3002 \u5982\u6709\u5fc5\u8981\uff0c\u53ef\u4f7f\u7528\u901a\u8fc7\u8f85\u52a9\u8fde\u63a5\u63d0\u4f9b\u7684\u5e26\u5bbd\u6765\u4f20\u8f93\u66f4\u591a\u6d41\u91cf\u3002 \u7531\u4e8e\u8f85\u52a9\u8fde\u63a5\u662f\u4e3a\u4e86\u5b9e\u73b0\u5197\u4f59\uff0c\u56e0\u6b64\u5b83\u5f97\u4e0d\u5230\u4fdd\u969c\uff0c\u4e0d\u5e94\u5728\u4e00\u6bb5\u6301\u7eed\u7684\u65f6\u95f4\u5185\u4f7f\u7528\u5b83\u6765\u4f20\u8f93\u989d\u5916\u7684\u6d41\u91cf\u3002 \u5982\u679c\u8ba1\u5212\u4ec5\u4f7f\u7528\u4e3b\u8fde\u63a5\u6765\u4f20\u8f93\u6d41\u91cf\uff0c\u5219\u8fde\u63a5\u7684\u5e26\u5bbd\u662f\u56fa\u5b9a\u7684\uff0c\u8bd5\u56fe\u8d85\u989d\u8ba2\u9605\u4f1a\u5bfc\u81f4\u4e22\u5305\u7387\u589e\u52a0\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#313","title":"3.13. \u52a8\u6001\u8c03\u6574\u5e26\u5bbd","text":"<p>\u7528\u6237\u53ef\u4ee5\u5728\u4e0d\u4e2d\u65ad\u8fde\u63a5\u7684\u60c5\u51b5\u4e0b\u589e\u5927 ExpressRoute \u7ebf\u8def\u5e26\u5bbd\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u4fee\u6539 ExpressRoute \u7ebf\u8def\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#314","title":"3.14. \u5f39\u6027\u8ba1\u8d39\u6a21\u5f0f","text":"<p>\u4f60\u53ef\u4ee5\u9009\u62e9\u6700\u9002\u5408\u81ea\u5df1\u7684\u8ba1\u8d39\u6a21\u5f0f\uff1a</p> <ul> <li>\u65e0\u9650\u5236\u6570\u636e\u3002 \u8ba1\u8d39\u6309\u6708\uff0c\u6240\u6709\u5165\u7ad9\u548c\u51fa\u7ad9\u6570\u636e\u4f20\u8f93\u4e0d\u6536\u53d6\u8d39\u7528\u3002</li> <li>\u8ba1\u91cf\u6570\u636e\u3002 \u8ba1\u8d39\u6309\u6708\uff0c\u6240\u6709\u5165\u7ad9\u6570\u636e\u4f20\u8f93\u4e0d\u6536\u53d6\u8d39\u7528\u3002 \u51fa\u7ad9\u6570\u636e\u4f20\u8f93\u6309\u6bcf GB \u6570\u636e\u4f20\u8f93\u8ba1\u8d39\u3002 \u6570\u636e\u4f20\u8f93\u8d39\u7387\u6839\u636e\u533a\u57df\u4e0d\u540c\u800c\u5f02\u3002</li> <li>ExpressRoute \u9ad8\u7ea7\u7248\u9644\u52a0\u7ec4\u4ef6\u3002 ExpressRoute \u9ad8\u7ea7\u7248\u662f ExpressRoute \u7ebf\u8def\u4e0a\u7684\u9644\u52a0\u7ec4\u4ef6\u3002 ExpressRoute \u9ad8\u7ea7\u7248\u9644\u52a0\u7ec4\u4ef6\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a<ul> <li>\u63d0\u9ad8 Azure \u516c\u5171\u548c Azure \u4e13\u7528\u5bf9\u7b49\u4e92\u8fde\u7684\u8def\u7531\u9650\u5236\uff0c\u4ece4,000 \u8def\u7531\u63d0\u5347\u81f3 10,000 \u8def\u7531\u3002</li> <li>\u670d\u52a1\u7684\u5168\u7403\u8fde\u63a5\u3002 \u5728\u4efb\u4f55\u533a\u57df\uff08\u56fd\u5bb6\u4e91\u9664\u5916\uff09\u521b\u5efa\u7684 ExpressRoute \u7ebf\u8def\u90fd\u80fd\u591f\u8bbf\u95ee\u4f4d\u4e8e\u5168\u7403\u5176\u4ed6\u533a\u57df\u7684\u8d44\u6e90\u3002 \u4f8b\u5982\uff0c\u521b\u5efa\u4e8e\u6b27\u6d32\u897f\u90e8\u7684\u865a\u62df\u7f51\u7edc\u53ef\u4ee5\u901a\u8fc7\u5728\u7845\u8c37\u8bbe\u7f6e\u7684 ExpressRoute \u7ebf\u8def\u8fdb\u884c\u8bbf\u95ee\u3002</li> <li>\u589e\u52a0\u4e86\u6bcf\u4e2a ExpressRoute \u7ebf\u8def\u7684\u865a\u62df\u7f51\u7edc\u94fe\u63a5\u6570\u91cf\uff0c\u4ece 10 \u589e\u52a0\u81f3\u66f4\u5927\u7684\u9650\u5236\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u7ebf\u8def\u7684\u5e26\u5bbd\u3002</li> </ul> </li> </ul> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#4","title":"4. \u5e38\u89c1\u95ee\u9898\u89e3\u7b54","text":"<p>\u6709\u5173 ExpressRoute \u7684\u5e38\u89c1\u95ee\u9898\uff0c\u8bf7\u53c2\u9605\u00a0ExpressRoute \u5e38\u89c1\u95ee\u9898\u89e3\u7b54\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#5","title":"5. \u65b0\u589e\u529f\u80fd","text":"<p>\u8ba2\u9605 RSS \u6e90\uff0c\u5e76\u5728\u00a0Azure \u66f4\u65b0\u9875\u9762\u4e0a\u67e5\u770b\u6700\u65b0\u7684 ExpressRoute \u529f\u80fd\u66f4\u65b0\u3002</p> <p></p>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20ExpressRoute/#6","title":"6. \u540e\u7eed\u6b65\u9aa4","text":"<ul> <li>Learn \u6a21\u5757\uff1aAzure ExpressRoute \u7b80\u4ecb\u3002</li> <li>\u67e5\u770b\u00a0ExpressRoute \u5148\u51b3\u6761\u4ef6\u3002</li> <li>\u4e86\u89e3\u00a0ExpressRoute \u8fde\u63a5\u6a21\u578b\u3002</li> <li>\u67e5\u627e\u670d\u52a1\u63d0\u4f9b\u5546\uff0c\u8bf7\u53c2\u9605\u00a0ExpressRoute \u5408\u4f5c\u4f19\u4f34\u548c\u5bf9\u7b49\u4e92\u8fde\u4f4d\u7f6e\u3002</li> </ul>","tags":["ExpressRoute"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/","title":"\u4ec0\u4e48\u662f Azure VPN \u7f51\u5173","text":"<p>Azure VPN \u7f51\u5173\u662f\u53ef\u7528\u4e8e\u901a\u8fc7\u516c\u5171 Internet \u5728 Azure \u865a\u62df\u7f51\u7edc\u548c\u672c\u5730\u4f4d\u7f6e\u4e4b\u95f4\u53d1\u9001\u52a0\u5bc6\u6d41\u91cf\u7684\u670d\u52a1\u3002 \u4e5f\u53ef\u4f7f\u7528 VPN \u7f51\u5173\u5728\u57fa\u4e8e Microsoft \u7f51\u7edc\u7684 Azure \u865a\u62df\u7f51\u7edc\u4e4b\u95f4\u53d1\u9001\u52a0\u5bc6\u6d41\u91cf\u3002 VPN \u7f51\u5173\u4f7f\u7528\u4e00\u79cd\u79f0\u4f5c\u201cVPN \u7f51\u5173\u201d\u7684\u7279\u5b9a\u7c7b\u578b\u7684 Azure \u865a\u62df\u7f51\u7edc\u7f51\u5173\u3002 \u53ef\u4ee5\u9488\u5bf9\u76f8\u540c\u7684 VPN \u7f51\u5173\u521b\u5efa\u591a\u4e2a\u8fde\u63a5\u3002 \u521b\u5efa\u591a\u4e2a\u8fde\u63a5\u65f6\uff0c\u6240\u6709 VPN \u96a7\u9053\u5171\u4eab\u53ef\u7528\u7684\u7f51\u5173\u5e26\u5bbd\u3002</p>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/#1-vpn","title":"1. \u4e3a\u4f55\u4f7f\u7528 VPN \u7f51\u5173\uff1f","text":"<p>\u4e0b\u9762\u662f VPN \u7f51\u5173\u7684\u4e00\u4e9b\u5173\u952e\u4f7f\u7528\u573a\u666f\uff1a</p> <ul> <li> <p>\u901a\u8fc7\u516c\u5171 Internet \u5728 Azure \u865a\u62df\u7f51\u7edc\u4e0e\u672c\u5730\u4f4d\u7f6e\u4e4b\u95f4\u53d1\u9001\u52a0\u5bc6\u6d41\u91cf\u3002 \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7c7b\u578b\u7684\u8fde\u63a5\u6765\u6267\u884c\u6b64\u64cd\u4f5c\uff1a</p> <ul> <li> <p>\u7ad9\u70b9\u5230\u7ad9\u70b9\u8fde\u63a5\uff1a VPN \u7f51\u5173\u4e0e\u672c\u5730 VPN \u8bbe\u5907\u4e4b\u95f4\u7684\u8de8\u754c IPsec/IKE VPN \u96a7\u9053\u8fde\u63a5\u3002</p> </li> <li> <p>\u70b9\u5230\u7ad9\u70b9\u8fde\u63a5\uff1a \u57fa\u4e8e OpenVPN\u3001IKEv2 \u6216 SSTP \u7684 VPN\u3002 \u4f7f\u7528\u8fd9\u79cd\u7c7b\u578b\u7684\u8fde\u63a5\uff0c\u53ef\u4ee5\u4ece\u8fdc\u7a0b\u4f4d\u7f6e\uff08\u4f8b\u5982\u4ece\u4f1a\u8bae\u5ba4\u6216\u5bb6\u4e2d\uff09\u8fde\u63a5\u5230\u865a\u62df\u7f51\u7edc\u3002</p> </li> </ul> </li> <li> <p>\u5728\u865a\u62df\u7f51\u7edc\u4e4b\u95f4\u53d1\u9001\u52a0\u5bc6\u6d41\u91cf\u3002 \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7c7b\u578b\u7684\u8fde\u63a5\u6765\u6267\u884c\u6b64\u64cd\u4f5c\uff1a</p> <ul> <li> <p>VNet \u5230 VNet\uff1a VPN \u7f51\u5173\u4e0e\u53e6\u4e00\u4e2a\u4f7f\u7528\u00a0VNet \u5230 VNet\u00a0\u8fde\u63a5\u7c7b\u578b\u7684 Azure VPN \u7f51\u5173\u4e4b\u95f4\u7684 IPsec/IKE VPN \u96a7\u9053\u8fde\u63a5\u3002 \u6b64\u8fde\u63a5\u7c7b\u578b\u4e13\u4e3a VNet \u5230 VNet \u8fde\u63a5\u800c\u8bbe\u8ba1\u3002</p> </li> <li> <p>\u7ad9\u70b9\u5230\u7ad9\u70b9\u8fde\u63a5\uff1a VPN \u7f51\u5173\u4e0e\u53e6\u4e00\u4e2a Azure VPN \u7f51\u5173\u4e4b\u95f4\u7684 IPsec/IKE VPN \u96a7\u9053\u8fde\u63a5\u3002 \u5728 VNet \u5230 VNet \u4f53\u7cfb\u7ed3\u6784\u4e2d\u4f7f\u7528\u8fd9\u79cd\u7c7b\u578b\u7684\u8fde\u63a5\u65f6\uff0c\u6b64\u8fde\u63a5\u5c06\u4f7f\u7528_\u7ad9\u70b9\u5230\u7ad9\u70b9 (IPsec)_\u00a0\u8fde\u63a5\u7c7b\u578b\uff0c\u9664\u4e86 VPN \u7f51\u5173\u4e4b\u95f4\u7684\u8fde\u63a5\u4e4b\u5916\uff0c\u8fd8\u5141\u8bb8\u4e0e\u7f51\u5173\u5efa\u7acb\u8de8\u754c\u8fde\u63a5\u3002</p> </li> </ul> </li> <li> <p>\u5c06\u7ad9\u70b9\u5230\u7ad9\u70b9 VPN \u914d\u7f6e\u4e3a\u00a0ExpressRoute\u00a0\u7684\u5b89\u5168\u6545\u969c\u8f6c\u79fb\u8def\u5f84\u3002 \u53ef\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5b9e\u73b0\u6b64\u76ee\u7684\uff1a</p> <ul> <li>ExpressRoute + VPN \u7f51\u5173\uff1a ExpressRoute + VPN \u7f51\u5173\u8fde\u63a5\u7684\u7ec4\u5408\uff08\u5171\u5b58\u8fde\u63a5\uff09\u3002</li> <li> <p>\u4f7f\u7528\u7ad9\u70b9\u5230\u7ad9\u70b9 VPN \u8fde\u63a5\u5230\u672a\u901a\u8fc7\u00a0ExpressRoute\u00a0\u8fde\u63a5\u7684\u7ad9\u70b9\u3002 \u53ef\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5b9e\u73b0\u6b64\u76ee\u7684\uff1a</p> </li> <li> <p>ExpressRoute + VPN \u7f51\u5173\uff1a ExpressRoute + VPN \u7f51\u5173\u8fde\u63a5\u7684\u7ec4\u5408\uff08\u5171\u5b58\u8fde\u63a5\uff09\u3002</p> </li> </ul> </li> </ul> <p></p>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/#2","title":"2. \u89c4\u5212\u548c\u8bbe\u8ba1","text":"<p>\u7531\u4e8e\u53ef\u4ee5\u4f7f\u7528 VPN \u7f51\u5173\u521b\u5efa\u591a\u4e2a\u8fde\u63a5\u914d\u7f6e\uff0c\u56e0\u6b64\u9700\u8981\u786e\u5b9a\u54ea\u79cd\u914d\u7f6e\u6700\u9002\u5408\u4f60\u7684\u9700\u6c42\u3002 \u70b9\u5230\u7ad9\u70b9\u3001\u7ad9\u70b9\u5230\u7ad9\u70b9\u4ee5\u53ca\u5171\u5b58\u7684 ExpressRoute/\u7ad9\u70b9\u5230\u7ad9\u70b9\u8fde\u63a5\u90fd\u6709\u4e0d\u540c\u7684\u8bf4\u660e\u548c\u8d44\u6e90\u914d\u7f6e\u8981\u6c42\u3002</p> <p>\u6709\u5173\u8bbe\u8ba1\u62d3\u6251\u548c\u914d\u7f6e\u8bf4\u660e\u7684\u94fe\u63a5\uff0c\u8bf7\u53c2\u9605\u00a0VPN \u7f51\u5173\u62d3\u6251\u548c\u8bbe\u8ba1\u4e00\u6587\u3002 \u672c\u6587\u7684\u4ee5\u4e0b\u90e8\u5206\u91cd\u70b9\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u6700\u5e38\u7528\u7684\u8bbe\u8ba1\u62d3\u6251\u3002</p> <ul> <li>\u7ad9\u70b9\u5230\u7ad9\u70b9 VPN \u8fde\u63a5</li> <li>\u70b9\u5230\u7ad9\u70b9 VPN \u8fde\u63a5</li> <li>VNet \u5230 VNet VPN \u8fde\u63a5</li> </ul> <p></p>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/#21","title":"2.1. \u89c4\u5212\u8868","text":"<p>\u4e0b\u8868\u53ef\u5e2e\u52a9\u9009\u62e9\u6700\u9002\u5408\u89e3\u51b3\u65b9\u6848\u7684\u8fde\u63a5\u9009\u9879\u3002</p> <p>\u5c55\u5f00\u8868</p> \u70b9\u5230\u7ad9\u70b9 \u7ad9\u70b9\u5230\u7ad9\u70b9 Azure \u652f\u6301\u7684\u670d\u52a1 \u4e91\u670d\u52a1\u548c\u865a\u62df\u673a \u4e91\u670d\u52a1\u548c\u865a\u62df\u673a \u5178\u578b\u5e26\u5bbd \u57fa\u4e8e\u7f51\u5173 SKU \u901a\u5e38 &lt; 10 Gbps\uff08\u603b\u8ba1\uff09 \u652f\u6301\u7684\u534f\u8bae \u5b89\u5168\u5957\u63a5\u5b57\u96a7\u9053\u534f\u8bae (SSTP)\u3001OpenVPN \u548c IPsec IPsec \u8def\u7531 \u57fa\u4e8e\u8def\u7531\uff08\u52a8\u6001\uff09 \u652f\u6301\u57fa\u4e8e\u7b56\u7565\uff08\u9759\u6001\u8def\u7531\uff09\u548c\u57fa\u4e8e\u8def\u7531\uff08\u52a8\u6001\u8def\u7531 VPN\uff09 \u8fde\u63a5\u590d\u539f\u80fd\u529b \u4e3b\u52a8-\u88ab\u52a8\u6216\u4e3b\u52a8-\u4e3b\u52a8 \u4e3b\u52a8-\u88ab\u52a8\u6216\u4e3b\u52a8-\u4e3b\u52a8 \u5178\u578b\u7528\u4f8b \u8fdc\u7a0b\u7528\u6237\u5bf9 Azure \u865a\u62df\u7f51\u7edc\u7684\u5b89\u5168\u8bbf\u95ee \u4e91\u670d\u52a1\u548c\u865a\u62df\u673a\u7684\u5f00\u53d1\u3001\u6d4b\u8bd5\u548c\u5b9e\u9a8c\u65b9\u6848\u548c\u4e2d\u5c0f\u89c4\u6a21\u751f\u4ea7\u5de5\u4f5c\u8d1f\u8f7d SLA SLA SLA \u5b9a\u4ef7 \u5b9a\u4ef7 \u5b9a\u4ef7 \u6280\u672f\u6587\u6863 VPN \u7f51\u5173 VPN \u7f51\u5173 \u5e38\u89c1\u95ee\u9898\u89e3\u7b54 VPN \u7f51\u5173\u5e38\u89c1\u95ee\u9898 VPN \u7f51\u5173\u5e38\u89c1\u95ee\u9898 <p></p>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/#22","title":"2.2. \u53ef\u7528\u6027\u533a\u57df","text":"<p>VPN \u7f51\u5173\u53ef\u4ee5\u90e8\u7f72\u5728 Azure \u53ef\u7528\u6027\u533a\u57df\u4e2d\u3002 \u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u865a\u62df\u7f51\u7edc\u7f51\u5173\u7684\u590d\u539f\u6027\u3001\u53ef\u4f38\u7f29\u6027\u548c\u53ef\u7528\u6027\u3002 \u53ef\u901a\u8fc7\u5728 Azure \u53ef\u7528\u6027\u533a\u57df\u4e2d\u90e8\u7f72\u7f51\u5173\uff0c\u5728\u5730\u7406\u4f4d\u7f6e\u548c\u903b\u8f91\u4e0a\u5c06\u533a\u57df\u5185\u7684\u7f51\u5173\u5206\u9694\u5f00\u6765\uff0c\u540c\u65f6\u8fd8\u80fd\u4fdd\u62a4\u672c\u5730\u7f51\u7edc\u4e0e Azure \u7684\u8fde\u63a5\u514d\u53d7\u533a\u57df\u7ea7\u6545\u969c\u7684\u5f71\u54cd\u3002 \u8bf7\u53c2\u9605\u5173\u4e8e Azure \u53ef\u7528\u6027\u533a\u57df\u4e2d\u7684\u533a\u57df\u5197\u4f59\u865a\u62df\u7f51\u7edc\u7f51\u5173\u3002</p> <p></p>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/#3-vpn","title":"3. \u914d\u7f6e VPN \u7f51\u5173","text":"<p>VPN \u7f51\u5173\u8fde\u63a5\u4f9d\u8d56\u4e8e\u4f7f\u7528\u7279\u5b9a\u8bbe\u7f6e\u914d\u7f6e\u7684\u591a\u4e2a\u8d44\u6e90\u3002 \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5fc5\u987b\u6309\u7279\u5b9a\u987a\u5e8f\u914d\u7f6e\u8d44\u6e90\u3002 \u4e3a\u6bcf\u4e2a\u8d44\u6e90\u9009\u62e9\u7684\u8bbe\u7f6e\u5bf9\u4e8e\u6210\u529f\u521b\u5efa\u8fde\u63a5\u81f3\u5173\u91cd\u8981\u3002</p> <p>\u6709\u5173 VPN \u7f51\u5173\u7684\u5404\u4e2a\u8d44\u6e90\u548c\u8bbe\u7f6e\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u5173\u4e8e VPN \u7f51\u5173\u8bbe\u7f6e\u548c\u5173\u4e8e\u7f51\u5173 SKU\u3002 \u8fd9\u4e9b\u6587\u7ae0\u5305\u542b\u7684\u4fe1\u606f\u6709\u52a9\u4e8e\u4e86\u89e3\u7f51\u5173\u7c7b\u578b\u3001\u7f51\u5173 SKU\u3001VPN \u7c7b\u578b\u3001\u8fde\u63a5\u7c7b\u578b\u3001\u7f51\u5173\u5b50\u7f51\u3001\u672c\u5730\u7f51\u5173\uff0c\u4ee5\u53ca\u53ef\u80fd\u9700\u8981\u8003\u8651\u7684\u5176\u4ed6\u5404\u9879\u8d44\u6e90\u8bbe\u7f6e\u3002</p> <p>\u6709\u5173\u8bbe\u8ba1\u793a\u610f\u56fe\u548c\u914d\u7f6e\u6587\u7ae0\u7684\u94fe\u63a5\uff0c\u8bf7\u53c2\u9605\u00a0VPN \u7f51\u5173\u62d3\u6251\u548c\u8bbe\u8ba1\u4e00\u6587\u3002</p> <p></p>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/#4-sku","title":"4. \u7f51\u5173 SKU","text":"<p>\u521b\u5efa\u865a\u62df\u7f51\u7edc\u7f51\u5173\u65f6\uff0c\u9700\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u7f51\u5173 SKU\u3002 \u8bf7\u6839\u636e\u5de5\u4f5c\u8d1f\u8377\u3001\u541e\u5410\u91cf\u3001\u529f\u80fd\u548c SLA \u7684\u7c7b\u578b\uff0c\u9009\u62e9\u6ee1\u8db3\u9700\u6c42\u7684 SKU\u3002 \u6709\u5173\u7f51\u5173 SKU \u7684\u8be6\u7ec6\u4fe1\u606f\uff08\u5305\u62ec\u652f\u6301\u7684\u529f\u80fd\u3001\u6027\u80fd\u8868\u3001\u914d\u7f6e\u6b65\u9aa4\u53ca\u751f\u4ea7\u548c\u5f00\u53d1\u6d4b\u8bd5\u5de5\u4f5c\u8d1f\u8f7d\uff09\uff0c\u8bf7\u53c2\u9605\u5173\u4e8e\u7f51\u5173 SKU\u3002</p> <p>\u5c55\u5f00\u8868</p> VPN  \u7f51\u5173  \u4ee3\u7cfb SKU S2S/VNet \u5230 VNet  \u96a7\u9053 P2S  SSTP \u8fde\u63a5 P2S  IKEv2/OpenVPN \u8fde\u63a5 \u805a\u5408  \u541e\u5410\u91cf\u57fa\u51c6 BGP \u533a\u57df\u5197\u4f59 \u865a\u62df\u7f51\u7edc\u4e2d\u652f\u6301\u7684 VM \u6570 \u7b2c 1 \u4ee3 \u57fa\u672c \u6700\u5927 10 \u6700\u5927 128 \u4e0d\u652f\u6301 100 Mbps \u4e0d\u652f\u6301 \u5426 200 \u7b2c 1 \u4ee3 VpnGw1 \u6700\u5927 30 \u6700\u5927 128 \u6700\u5927 250 650 Mbps \u652f\u6301 \u5426 450 \u7b2c 1 \u4ee3 VpnGw2 \u6700\u5927 30 \u6700\u5927 128 \u6700\u5927 500 1 Gbps \u652f\u6301 \u5426 1300 \u7b2c 1 \u4ee3 VpnGw3 \u6700\u5927 30 \u6700\u5927 128 \u6700\u5927 1000 1.25 Gbps \u652f\u6301 \u5426 4000 \u7b2c 1 \u4ee3 VpnGw1AZ \u6700\u5927 30 \u6700\u5927 128 \u6700\u5927 250 650 Mbps \u652f\u6301 \u662f 1000 \u7b2c 1 \u4ee3 VpnGw2AZ \u6700\u5927 30 \u6700\u5927 128 \u6700\u5927 500 1 Gbps \u652f\u6301 \u662f 2000 \u7b2c 1 \u4ee3 VpnGw3AZ \u6700\u5927 30 \u6700\u5927 128 \u6700\u5927 1000 1.25 Gbps \u652f\u6301 \u662f 5000 \u7b2c 2 \u4ee3 VpnGw2 \u6700\u5927 30 \u6700\u5927 128 \u6700\u5927 500 1.25 Gbps \u652f\u6301 \u5426 685 \u7b2c 2 \u4ee3 VpnGw3 \u6700\u5927 30 \u6700\u5927 128 \u6700\u5927 1000 2.5 Gbps \u652f\u6301 \u5426 2240 \u7b2c 2 \u4ee3 VpnGw4 \u6700\u5927 100* \u6700\u5927 128 \u6700\u5927 5000 5 Gbps \u652f\u6301 \u5426 5300 \u7b2c 2 \u4ee3 VpnGw5 \u6700\u5927 100* \u6700\u5927 128 \u6700\u5927 10000 10 Gbps \u652f\u6301 \u5426 6700 \u7b2c 2 \u4ee3 VpnGw2AZ \u6700\u5927 30 \u6700\u5927 128 \u6700\u5927 500 1.25 Gbps \u652f\u6301 \u662f 2000 \u7b2c 2 \u4ee3 VpnGw3AZ \u6700\u5927 30 \u6700\u5927 128 \u6700\u5927 1000 2.5 Gbps \u652f\u6301 \u662f 3300 \u7b2c 2 \u4ee3 VpnGw4AZ \u6700\u5927 100* \u6700\u5927 128 \u6700\u5927 5000 5 Gbps \u652f\u6301 \u662f 4400 \u7b2c 2 \u4ee3 VpnGw5AZ \u6700\u5927 100* \u6700\u5927 128 \u6700\u5927 10000 10 Gbps \u652f\u6301 \u662f 9000 <p>(*) \u5982\u679c\u9700\u8981 100 \u591a\u4e2a S2S VPN \u96a7\u9053\uff0c\u8bf7\u4f7f\u7528\u865a\u62df WAN\u00a0\u800c\u4e0d\u662f VPN \u7f51\u5173\u3002</p>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/#5","title":"5. \u5b9a\u4ef7","text":"<p>\u652f\u4ed8\u4e24\u9879\u5185\u5bb9\uff1a\u865a\u62df\u7f51\u7edc\u7f51\u5173\u7684\u6bcf\u5c0f\u65f6\u8ba1\u7b97\u6210\u672c\u548c\u865a\u62df\u7f51\u7edc\u7f51\u5173\u7684\u51fa\u53e3\u6570\u636e\u4f20\u8f93\u3002 \u53ef\u5728\u00a0\u5b9a\u4ef7\u00a0\u9875\u4e0a\u627e\u5230\u5b9a\u4ef7\u4fe1\u606f\u3002 \u6709\u5173\u65e7\u7248\u7f51\u5173 SKU \u5b9a\u4ef7\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u00a0ExpressRoute \u5b9a\u4ef7\u9875\u5e76\u6eda\u52a8\u81f3\u201c\u865a\u62df\u7f51\u7edc\u7f51\u5173\u201d\u90e8\u5206\u3002</p> <p>\u865a\u62df\u7f51\u7edc\u7f51\u5173\u8ba1\u7b97\u6210\u672c \u6bcf\u4e2a\u865a\u62df\u7f51\u7edc\u7f51\u5173\u90fd\u6709\u6bcf\u5c0f\u65f6\u8ba1\u7b97\u6210\u672c\u3002 \u4ef7\u683c\u57fa\u4e8e\u521b\u5efa\u865a\u62df\u7f51\u7edc\u7f51\u5173\u65f6\u6307\u5b9a\u7684\u7f51\u5173 SKU\u3002 \u6210\u672c\u4e0e\u7f51\u5173\u672c\u8eab\u4ee5\u53ca\u6d41\u7ecf\u7f51\u5173\u7684\u6570\u636e\u4f20\u8f93\u76f8\u5173\u3002 \u4e3b\u52a8-\u4e3b\u52a8\u8bbe\u7f6e\u7684\u6210\u672c\u4e0e\u4e3b\u52a8-\u88ab\u52a8\u8bbe\u7f6e\u7684\u6210\u672c\u76f8\u540c\u3002 \u6709\u5173\u7528\u4e8e VPN \u7f51\u5173\u7684\u7f51\u5173 SKU \u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u7f51\u5173 SKU\u3002</p> <p>\u6570\u636e\u4f20\u8f93\u6210\u672c \u6570\u636e\u4f20\u8f93\u6210\u672c\u6839\u636e\u6e90\u865a\u62df\u7f51\u7edc\u7f51\u5173\u7684\u51fa\u53e3\u6d41\u91cf\u8ba1\u7b97\u3002</p> <ul> <li>\u5982\u679c\u8981\u5c06\u6d41\u91cf\u53d1\u9001\u5230\u672c\u5730 VPN \u8bbe\u5907\uff0c\u4ee5 Internet \u51fa\u53e3\u6570\u636e\u4f20\u8f93\u7387\u6536\u53d6\u8d39\u7528\u3002</li> <li>\u5982\u679c\u8981\u5728\u4e0d\u540c\u533a\u57df\u7684\u865a\u62df\u7f51\u7edc\u4e4b\u95f4\u53d1\u9001\u6d41\u91cf\uff0c\u5b9a\u4ef7\u56e0\u533a\u57df\u800c\u5f02\u3002</li> <li>\u5982\u679c\u4ec5\u5728\u540c\u4e00\u533a\u57df\u7684\u865a\u62df\u7f51\u7edc\u4e4b\u95f4\u53d1\u9001\u6d41\u91cf\uff0c\u4e0d\u4f1a\u6709\u6570\u636e\u6210\u672c\u3002 \u540c\u4e00\u533a\u57df\u7684 VNet \u4e4b\u95f4\u7684\u6d41\u91cf\u514d\u8d39\u3002</li> </ul> <p></p>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/#6","title":"6. \u65b0\u589e\u529f\u80fd","text":"<p>Azure VPN \u7f51\u5173\u4f1a\u5b9a\u671f\u66f4\u65b0\u3002 \u82e5\u8981\u968f\u65f6\u4e86\u89e3\u6700\u65b0\u516c\u544a\uff0c\u8bf7\u53c2\u9605\u65b0\u589e\u529f\u80fd\u4e00\u6587\u3002 \u672c\u6587\u91cd\u70b9\u4ecb\u7ecd\u4e86\u4ee5\u4e0b\u5174\u8da3\u70b9\uff1a</p> <ul> <li>\u6700\u65b0\u7248\u672c</li> <li>\u6b63\u5728\u5b9e\u884c\u7684\u9884\u89c8\u548c\u5df2\u77e5\u9650\u5236\uff08\u5982\u679c\u9002\u7528\uff09</li> <li>\u5df2\u77e5\u95ee\u9898</li> <li>\u5df2\u5f03\u7528\u7684\u529f\u80fd\uff08\u5982\u679c\u9002\u7528\uff09</li> </ul> <p>\u4f60\u8fd8\u53ef\u4ee5\u8ba2\u9605 RSS \u6e90\uff0c\u5e76\u5728\u00a0Azure \u66f4\u65b0\u9875\u9762\u4e0a\u67e5\u770b\u6700\u65b0\u7684 VPN \u7f51\u5173\u529f\u80fd\u66f4\u65b0\u3002</p>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/#7","title":"7. \u5e38\u89c1\u95ee\u9898\u89e3\u7b54","text":"<p>\u6709\u5173 VPN \u7f51\u5173\u7684\u5e38\u89c1\u95ee\u9898\uff0c\u8bf7\u53c2\u9605\u00a0VPN \u7f51\u5173\u5e38\u89c1\u95ee\u9898\u3002</p>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/Azure/%E4%BB%80%E4%B9%88%E6%98%AF%20Azure%20VPN%20%E7%BD%91%E5%85%B3/#8","title":"8. \u540e\u7eed\u6b65\u9aa4","text":"<ul> <li>\u6559\u7a0b\uff1a\u521b\u5efa\u548c\u7ba1\u7406 VPN \u7f51\u5173\u3002</li> <li>Learn \u6a21\u5757\uff1aAzure VPN \u7f51\u5173\u7b80\u4ecb\u3002</li> <li>Learn \u6a21\u5757\uff1a\u4f7f\u7528 VPN \u7f51\u5173\u5c06\u672c\u5730\u7f51\u7edc\u8fde\u63a5\u5230 Azure\u3002</li> <li>\u8ba2\u9605\u548c\u670d\u52a1\u9650\u5236\u3002</li> </ul>","tags":["\u5fae\u8f6f\u4e91","VPN\u7f51\u5173"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/NAT%E7%BD%91%E5%85%B3%20NAT/01%20%E5%9B%BE%E8%A7%A3NAT%E7%BD%91%E5%85%B3/","title":"\u56fe\u89e3NAT\u7f51\u5173","text":""},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/NAT%E7%BD%91%E5%85%B3%20NAT/02%20%E4%BB%80%E4%B9%88%E6%98%AFNAT%E7%BD%91%E5%85%B3/","title":"\u4ec0\u4e48\u662fNAT\u7f51\u5173","text":""},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/NAT%E7%BD%91%E5%85%B3%20NAT/02%20%E4%BB%80%E4%B9%88%E6%98%AFNAT%E7%BD%91%E5%85%B3/#1-nat","title":"1. \u4ec0\u4e48\u662fNAT\u7f51\u5173","text":"<p>NAT\u7f51\u5173\u53ef\u4e3a\u60a8\u63d0\u4f9b\u7f51\u7edc\u5730\u5740\u8f6c\u6362\u670d\u52a1\uff0c\u5206\u4e3a\u516c\u7f51NAT\u7f51\u5173\u548c\u79c1\u7f51NAT\u7f51\u5173\u3002</p>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/NAT%E7%BD%91%E5%85%B3%20NAT/02%20%E4%BB%80%E4%B9%88%E6%98%AFNAT%E7%BD%91%E5%85%B3/#101-nat","title":"1.0.1. \u516c\u7f51NAT\u7f51\u5173","text":"<p>\u516c\u7f51NAT\u7f51\u5173\uff08Public NAT Gateway\uff09\u80fd\u591f\u4e3a\u865a\u62df\u79c1\u6709\u4e91\u5185\u7684\u4e91\u4e3b\u673a\uff08\u5f39\u6027\u4e91\u670d\u52a1\u5668\u3001\u88f8\u91d1\u5c5e\u670d\u52a1\u5668\uff09\u6216\u8005\u901a\u8fc7\u4e91\u4e13\u7ebf/VPN\u63a5\u5165\u865a\u62df\u79c1\u6709\u4e91\u7684\u672c\u5730\u6570\u636e\u4e2d\u5fc3\u7684\u670d\u52a1\u5668\uff0c\u63d0\u4f9b\u6700\u9ad820Gbit/s\u80fd\u529b\u7684\u7f51\u7edc\u5730\u5740\u8f6c\u6362\u670d\u52a1\uff0c\u4f7f\u591a\u4e2a\u4e91\u4e3b\u673a\u53ef\u4ee5\u5171\u4eab\u5f39\u6027\u516c\u7f51IP\u8bbf\u95eeInternet\u6216\u4f7f\u4e91\u4e3b\u673a\u63d0\u4f9b\u4e92\u8054\u7f51\u670d\u52a1\u3002</p> <p>\u516c\u7f51NAT\u7f51\u5173\u5206\u4e3aSNAT\u548cDNAT\u4e24\u4e2a\u529f\u80fd\u3002</p> <ul> <li> <p>SNAT\u529f\u80fd\u901a\u8fc7\u7ed1\u5b9a\u5f39\u6027\u516c\u7f51IP\uff0c\u5b9e\u73b0\u79c1\u6709IP\u5411\u516c\u6709IP\u7684\u8f6c\u6362\uff0c\u53ef\u5b9e\u73b0VPC\u5185\u8de8\u53ef\u7528\u533a\u7684\u591a\u4e2a\u4e91\u4e3b\u673a\u5171\u4eab\u5f39\u6027\u516c\u7f51IP\uff0c\u5b89\u5168\uff0c\u9ad8\u6548\u7684\u8bbf\u95ee\u4e92\u8054\u7f51\u3002</p> <p>SNAT\u67b6\u6784\u5982\u56fe1\u6240\u793a\u3002</p> <p>\u56fe1\u00a0SNAT\u67b6\u6784\u56fe </p> </li> <li> <p>DNAT\u529f\u80fd\u7ed1\u5b9a\u5f39\u6027\u516c\u7f51IP\uff0c\u53ef\u901a\u8fc7IP\u6620\u5c04\u6216\u7aef\u53e3\u6620\u5c04\u4e24\u79cd\u65b9\u5f0f\uff0c\u5b9e\u73b0VPC\u5185\u8de8\u53ef\u7528\u533a\u7684\u591a\u4e2a\u4e91\u4e3b\u673a\u5171\u4eab\u5f39\u6027\u516c\u7f51IP\uff0c\u4e3a\u4e92\u8054\u7f51\u63d0\u4f9b\u670d\u52a1\u3002</p> <p>DNAT\u67b6\u6784\u5982\u56fe2\u6240\u793a\u3002</p> <p>\u56fe2\u00a0DNAT\u67b6\u6784\u56fe </p> </li> </ul>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/NAT%E7%BD%91%E5%85%B3%20NAT/02%20%E4%BB%80%E4%B9%88%E6%98%AFNAT%E7%BD%91%E5%85%B3/#102-nat","title":"1.0.2. \u79c1\u7f51NAT\u7f51\u5173","text":"<p>\u79c1\u7f51NAT\u7f51\u5173\uff08Private NAT Gateway\uff09\uff0c\u80fd\u591f\u4e3a\u865a\u62df\u79c1\u6709\u4e91\u5185\u7684\u4e91\u4e3b\u673a\uff08\u5f39\u6027\u4e91\u670d\u52a1\u5668\u3001\u88f8\u91d1\u5c5e\u670d\u52a1\u5668\uff09\u63d0\u4f9b\u79c1\u7f51\u5730\u5740\u8f6c\u6362\u670d\u52a1\u3002\u60a8\u53ef\u4ee5\u5728\u79c1\u7f51NAT\u7f51\u5173\u4e0a\u914d\u7f6eSNAT\u3001DNAT\u89c4\u5219\uff0c\u53ef\u5c06\u6e90\u3001\u76ee\u7684\u7f51\u6bb5\u5730\u5740\u8f6c\u6362\u4e3a\u4e2d\u8f6cIP\uff0c\u901a\u8fc7\u4f7f\u7528\u4e2d\u8f6cIP\u5b9e\u73b0VPC\u5185\u7684\u4e91\u4e3b\u673a\u4e0e\u5176\u4ed6VPC\u3001\u4e91\u4e0bIDC\u4e92\u8bbf\u3002</p> <p>\u79c1\u7f51NAT\u7f51\u5173\u5206\u4e3aSNAT\u548cDNAT\u4e24\u4e2a\u529f\u80fd\uff1a</p> <ul> <li>SNAT\u529f\u80fd\u901a\u8fc7\u7ed1\u5b9a\u4e2d\u8f6cIP\uff0c\u53ef\u5b9e\u73b0VPC\u5185\u8de8\u53ef\u7528\u533a\u7684\u591a\u4e2a\u4e91\u4e3b\u673a\u5171\u4eab\u4e2d\u8f6cIP\uff0c\u8bbf\u95ee\u5916\u90e8\u6570\u636e\u4e2d\u5fc3\u6216\u5176\u4ed6VPC\u3002</li> <li>DNAT\u529f\u80fd\u901a\u8fc7\u7ed1\u5b9a\u4e2d\u8f6cIP\uff0c\u53ef\u5b9e\u73b0IP\u6620\u5c04\u6216\u7aef\u53e3\u6620\u5c04\uff0c\u4f7fVPC\u5185\u8de8\u53ef\u7528\u533a\u7684\u591a\u4e2a\u4e91\u4e3b\u673a\u5171\u4eab\u4e2d\u8f6cIP\uff0c\u4e3a\u5916\u90e8\u79c1\u7f51\u63d0\u4f9b\u670d\u52a1\u3002</li> </ul> <p>\u4e2d\u8f6c\u5b50\u7f51</p> <p>\u4e2d\u8f6c\u5b50\u7f51\u76f8\u5f53\u4e8e\u4e00\u4e2a\u4e2d\u8f6c\u7f51\u7edc\uff0c\u662f\u4e2d\u8f6cIP\u6240\u5c5e\u7684\u5b50\u7f51\u3002</p> <p>\u4e2d\u8f6cIP</p> <p>\u60a8\u53ef\u4ee5\u5728\u4e2d\u8f6c\u5b50\u7f51\u4e2d\u521b\u5efa\u79c1\u7f51IP\uff0c\u5373\u4e2d\u8f6cIP\uff0c\u4f7f\u672c\u7aefVPC\u4e2d\u7684\u4e91\u4e3b\u673a\u53ef\u4ee5\u5171\u4eab\u8be5\u79c1\u7f51IP\uff08\u4e2d\u8f6cIP\uff09\u8bbf\u95ee\u7528\u6237IDC\u6216\u5176\u4ed6\u8fdc\u7aefVPC\u3002</p> <p>\u4e2d\u8f6cVPC</p> <p>\u4e2d\u8f6c\u5b50\u7f51\u6240\u5728VPC\u3002</p> <p>\u56fe3\u00a0\u79c1\u7f51NAT\u7f51\u5173 </p>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/NAT%E7%BD%91%E5%85%B3%20NAT/02%20%E4%BB%80%E4%B9%88%E6%98%AFNAT%E7%BD%91%E5%85%B3/#103-nat","title":"1.0.3. \u5982\u4f55\u8bbf\u95eeNAT\u7f51\u5173","text":"<p>\u901a\u8fc7\u7ba1\u7406\u63a7\u5236\u53f0\u3001\u57fa\u4e8eHTTPS\u8bf7\u6c42\u7684API\uff08Application Programming Interface\uff09\u4e24\u79cd\u65b9\u5f0f\u8bbf\u95eeNAT\u7f51\u5173\u3002</p> <ul> <li> <p>\u7ba1\u7406\u63a7\u5236\u53f0\u65b9\u5f0f</p> <p>\u7ba1\u7406\u63a7\u5236\u53f0\u662f\u7f51\u9875\u5f62\u5f0f\u7684\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u76f4\u89c2\u7684\u754c\u9762\u8fdb\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\u3002\u767b\u5f55\u7ba1\u7406\u63a7\u5236\u53f0\uff0c\u4ece\u4e3b\u9875\u9009\u62e9\u201cNAT\u7f51\u5173\u201d\u3002</p> </li> <li> <p>API\u65b9\u5f0f</p> <p>\u5982\u679c\u60a8\u9700\u8981\u5c06\u4e91\u5e73\u53f0\u4e0a\u7684NAT\u7f51\u5173\u96c6\u6210\u5230\u60a8\u81ea\u5df1\u7684\u7cfb\u7edf\uff0c\u8bf7\u4f7f\u7528API\u65b9\u5f0f\u8bbf\u95eeNAT\u7f51\u5173\u3002\u5177\u4f53\u64cd\u4f5c\u8bf7\u53c2\u89c1\u300aNAT\u7f51\u5173API\u53c2\u8003\u300b\u3002</p> </li> </ul>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/NAT%E7%BD%91%E5%85%B3%20NAT/03%20%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/","title":"\u5e94\u7528\u573a\u666f","text":""},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/NAT%E7%BD%91%E5%85%B3%20NAT/03%20%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/#1-nat","title":"1. \u516c\u7f51NAT\u7f51\u5173","text":"<ul> <li> <p>\u4f7f\u7528SNAT\u8bbf\u95ee\u516c\u7f51</p> <p>\u5f53VPC\u5185\u7684\u4e91\u4e3b\u673a\u9700\u8981\u8bbf\u95ee\u516c\u7f51\uff0c\u8bf7\u6c42\u91cf\u5927\u65f6\uff0c\u4e3a\u4e86\u8282\u7701\u5f39\u6027\u516c\u7f51IP\u8d44\u6e90\u5e76\u4e14\u907f\u514d\u4e91\u4e3b\u673aIP\u76f4\u63a5\u66b4\u9732\u5728\u516c\u7f51\u4e0a\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u516c\u7f51NAT\u7f51\u5173\u7684SNAT\u529f\u80fd\u3002VPC\u4e2d\u4e00\u4e2a\u5b50\u7f51\u5bf9\u5e94\u4e00\u6761SNAT\u89c4\u5219\uff0c\u4e00\u6761SNAT\u89c4\u5219\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5f39\u6027\u516c\u7f51IP\u3002\u516c\u7f51NAT\u7f51\u5173\u4e3a\u60a8\u63d0\u4f9b\u4e0d\u540c\u89c4\u683c\u7684\u8fde\u63a5\u6570\uff0c\u6839\u636e\u4e1a\u52a1\u89c4\u5212\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u591a\u6761SNAT\u89c4\u5219\uff0c\u6765\u5b9e\u73b0\u5171\u4eab\u5f39\u6027\u516c\u7f51IP\u8d44\u6e90\u3002</p> <p>\u4f7f\u7528SNAT\u8bbf\u95ee\u516c\u7f51\u573a\u666f\u7ec4\u7f51\u56fe\u5982\u56fe1\u6240\u793a\u3002</p> <p>\u56fe1\u00a0\u4f7f\u7528SNAT\u8bbf\u95ee\u516c\u7f51 </p> </li> <li> <p>\u4f7f\u7528DNAT\u4e3a\u4e91\u4e3b\u673a\u9762\u5411\u516c\u7f51\u63d0\u4f9b\u670d\u52a1</p> <p>\u5f53VPC\u5185\u7684\u4e91\u4e3b\u673a\u9700\u8981\u9762\u5411\u516c\u7f51\u63d0\u4f9b\u670d\u52a1\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u516c\u7f51NAT\u7f51\u5173\u7684DNAT\u529f\u80fd\u3002</p> <p>DNAT\u529f\u80fd\u7ed1\u5b9a\u5f39\u6027\u516c\u7f51IP\uff0c\u6709\u4e24\u79cd\u6620\u5c04\u65b9\u5f0f\uff08IP\u6620\u5c04\u3001\u7aef\u53e3\u6620\u5c04\uff09\u3002\u53ef\u901a\u8fc7\u7aef\u53e3\u6620\u5c04\u65b9\u5f0f\uff0c\u5f53\u7528\u6237\u4ee5\u6307\u5b9a\u7684\u534f\u8bae\u548c\u7aef\u53e3\u8bbf\u95ee\u8be5\u5f39\u6027\u516c\u7f51IP\u65f6\uff0c\u516c\u7f51NAT\u7f51\u5173\u4f1a\u5c06\u8be5\u8bf7\u6c42\u8f6c\u53d1\u5230\u76ee\u6807\u4e91\u4e3b\u673a\u5b9e\u4f8b\u7684\u6307\u5b9a\u7aef\u53e3\u4e0a\u3002\u4e5f\u53ef\u901a\u8fc7IP\u6620\u5c04\u65b9\u5f0f\uff0c\u4e3a\u4e91\u4e3b\u673a\u914d\u7f6e\u4e86\u4e00\u4e2a\u5f39\u6027\u516c\u7f51IP\uff0c\u4efb\u4f55\u8bbf\u95ee\u8be5\u5f39\u6027\u516c\u7f51IP\u7684\u8bf7\u6c42\u90fd\u5c06\u8f6c\u53d1\u5230\u76ee\u6807\u4e91\u4e3b\u673a\u5b9e\u4f8b\u4e0a\u3002\u4f7f\u591a\u4e2a\u4e91\u4e3b\u673a\u5171\u4eab\u5f39\u6027\u516c\u7f51IP\u548c\u5e26\u5bbd\uff0c\u7cbe\u786e\u7684\u63a7\u5236\u5e26\u5bbd\u8d44\u6e90\u3002</p> <p>\u4e00\u4e2a\u4e91\u4e3b\u673a\u914d\u7f6e\u4e00\u6761DNAT\u89c4\u5219\uff0c\u5982\u679c\u6709\u591a\u4e2a\u4e91\u4e3b\u673a\u9700\u8981\u4e3a\u516c\u7f51\u63d0\u4f9b\u670d\u52a1\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u591a\u6761DNAT\u89c4\u5219\u6765\u5171\u4eab\u4e00\u4e2a\u6216\u591a\u4e2a\u5f39\u6027\u516c\u7f51IP\u8d44\u6e90\u3002</p> <p>\u4f7f\u7528DNAT\u4e3a\u516c\u7f51\u63d0\u4f9b\u670d\u52a1\u573a\u666f\u7ec4\u7f51\u56fe\u5982\u56fe2\u6240\u793a\u3002\u56fe\u4e2d\u793a\u4f8b\u7684\u4e91\u4e3b\u673a\u7c7b\u578b\u5747\u53ef\u4ee5\u66ff\u6362\u4e3a\u5f39\u6027\u4e91\u670d\u52a1\u5668\uff0c\u88f8\u91d1\u5c5e\u670d\u52a1\u5668\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u3002</p> <p>\u56fe2\u00a0\u4f7f\u7528DNAT\u4e3a\u4e91\u4e3b\u673a\u9762\u5411\u516c\u7f51\u63d0\u4f9b\u670d\u52a1 </p> </li> <li> <p>\u4f7f\u7528SNAT\u6216DNAT\u9ad8\u901f\u8bbf\u95ee\u4e92\u8054\u7f51</p> <p>\u7528\u6237\u4e91\u4e0b\u6570\u636e\u4e2d\u5fc3\u4f7f\u7528\u4e91\u4e13\u7ebf/VPN\u63a5\u5165\u865a\u62df\u79c1\u6709\u4e91\u7684\u7528\u6237\uff0c\u82e5\u6709\u5927\u91cf\u7684\u670d\u52a1\u5668\u9700\u8981\u5b9e\u73b0\u5b89\u5168\uff0c\u53ef\u9760\uff0c\u9ad8\u901f\u7684\u8bbf\u95ee\u4e92\u8054\u7f51\uff0c\u6216\u8005\u4e3a\u4e92\u8054\u7f51\u63d0\u4f9b\u670d\u52a1\uff0c\u53ef\u901a\u8fc7\u516c\u7f51NAT\u7f51\u5173\u7684SNAT\u529f\u80fd\u6216DNAT\u529f\u80fd\u6765\u5b9e\u73b0\u3002</p> <p>\u4f7f\u7528SNAT\u6216DNAT\u9ad8\u901f\u8bbf\u95ee\u4e92\u8054\u7f51\u573a\u666f\u56fe\u5982\u56fe3\u6240\u793a\u3002</p> <p>\u56fe3\u00a0\u4f7f\u7528SNAT\u6216DNAT\u9ad8\u901f\u8bbf\u95ee\u4e92\u8054\u7f51 </p> </li> <li> <p>\u642d\u5efa\u9ad8\u53ef\u7528\u7684SNAT</p> <p>\u5728IT\u7cfb\u7edf\u4e2d\uff0c\u5f80\u5f80\u5b58\u5728\u7ed1\u5b9a\u7684\u5f39\u6027\u516c\u7f51IP\u88ab\u653b\u51fb\u5c01\u5835\u7684\u53ef\u80fd\u6027\u3002\u5982\u679c\u60a8\u60f3\u63d0\u9ad8\u7cfb\u7edf\u7684\u9ad8\u53ef\u9760\u6027\uff0c\u53ef\u4ee5\u5728\u914d\u7f6eSNAT\u89c4\u5219\u65f6\uff0c\u6dfb\u52a0\u591a\u4e2a\u5f39\u6027\u516c\u7f51IP\uff0c\u5f53\u5176\u4e2d\u4e00\u4e2a\u5f39\u6027\u516c\u7f51IP\u88ab\u653b\u51fb\u5c01\u5835\u65f6\uff0c\u53ef\u4ee5\u6700\u5927\u7a0b\u5ea6\u4fdd\u969c\u4f7f\u7528\u5176\u4ed6\u5f39\u6027\u516c\u7f51IP\u7684\u4e1a\u52a1\u6b63\u5e38\u8fd0\u884c\u3002</p> <p>\u5f53SNAT\u89c4\u5219\u4e0a\u7ed1\u5b9a\u4e86\u591a\u4e2aEIP\u65f6\uff0c\u7cfb\u7edf\u4f1a\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u5f39\u6027\u516c\u7f51IP\u8bbf\u95ee\u516c\u7f51\u3002</p> <p>\u6bcf\u6761SNAT\u89c4\u5219\u652f\u6301\u6dfb\u52a020\u4e2a\u5f39\u6027\u516c\u7f51IP\uff0c\u5f53SNAT\u89c4\u5219\u4e2d\u6dfb\u52a0\u7684\u5f39\u6027\u516c\u7f51IP\u88ab\u653b\u51fb\u5c01\u5835\u6216\u4e0d\u53ef\u7528\u65f6\uff0c\u9700\u8981\u624b\u52a8\u4eceEIP\u6c60\u4e2d\u5220\u9664\u3002</p> <p>\u4f7f\u7528\u516c\u7f51NAT\u7f51\u5173\u7684SNAT\u89c4\u5219\u642d\u5efa\u9ad8\u53ef\u7528\u573a\u666f\u7ec4\u7f51\u56fe\u5982\u56fe4\u6240\u793a\u3002</p> <p>\u56fe4\u00a0\u4f7f\u7528\u516c\u7f51NAT\u7f51\u5173\u7684SNAT\u89c4\u5219\u642d\u5efa\u9ad8\u53ef\u7528\u573a\u666f </p> </li> <li> <p>NAT\u7f51\u5173\u591a\u5b9e\u4f8b</p> <p>\u5f53\u5355\u7f51\u5173\u6027\u80fd\u8fbe\u5230\u74f6\u9888\uff0c\u5982SNAT\u652f\u6301\u6700\u5927100\u4e07\u8fde\u63a5\u4e0d\u591f\u4f7f\u7528\u6216\u6700\u9ad820Gbit/s\u5e26\u5bbd\u8f6c\u6362\u80fd\u529b\u65e0\u6cd5\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\u65f6\uff0c\u63a8\u8350\u4f7f\u7528\u591a\u7f51\u5173\u6765\u6a2a\u5411\u6269\u5c55\u5bb9\u91cf\u3002</p> <p>\u5982\u679c\u60a8\u60f3\u5b9e\u73b0\u591a\u7f51\u5173\u6269\u5bb9\uff0c\u53ea\u9700\u5c06\u5173\u8054\u4e86VPC\u5b50\u7f51\u7684\u8def\u7531\u8868\u4e0e\u516c\u7f51NAT\u7f51\u5173\u5b9e\u4f8b\u8fdb\u884c\u5173\u8054\u3002</p> <p>\u516c\u7f51NAT\u7f51\u5173\u591a\u5b9e\u4f8b\u573a\u666f\u56fe\u5982\u56fe5\u6240\u793a\u3002</p> <p>\u56fe5\u00a0\u516c\u7f51NAT\u7f51\u5173\u591a\u5b9e\u4f8b </p> <p>\u8bf4\u660e\uff1a</p> <ul> <li>\u5bf9\u4e8e\u65b0\u5efa\u516c\u7f51NAT\u7f51\u5173\u5b9e\u4f8b\uff0c\u7cfb\u7edf\u4e0d\u4f1a\u5728\u540e\u53f0\u4e0b\u53d1\u9ed8\u8ba4\u8def\u7531\uff0c\u9700\u8981\u60a8\u5728\u5bf9\u5e94\u8def\u7531\u8868\u4e2d\u6dfb\u52a0\u516c\u7f51NAT\u7f51\u5173\u7684\u8def\u7531\u3002</li> <li>\u6bcf\u4e2a\u516c\u7f51NAT\u7f51\u5173\u5bf9\u5e94\u4e00\u5f20\u8def\u7531\u8868\uff0c\u516c\u7f51NAT\u7f51\u5173\u6570\u91cf\u53d6\u51b3\u4e8eVPC\u4e0b\u8def\u7531\u8868\u7684\u6570\u91cf\u9650\u5236\u3002</li> </ul> </li> </ul>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/NAT%E7%BD%91%E5%85%B3%20NAT/03%20%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/#2-nat","title":"2. \u79c1\u7f51NAT\u7f51\u5173","text":"<ul> <li> <p>\u91cd\u53e0\u7f51\u6bb5VPC\u95f4\u4e92\u901a</p> <p>\u79c1\u7f51NAT\u7f51\u5173\u63d0\u4f9b\u79c1\u7f51\u5730\u5740\u8f6c\u6362\u670d\u52a1\uff0c\u5229\u7528\u4e24\u4e2a\u79c1\u7f51NAT\u7f51\u5173\uff0c\u914d\u7f6eSNAT\u3001DNAT\u89c4\u5219\uff0c\u53ef\u540c\u65f6\u5c06\u6e90\u3001\u76ee\u7684\u7f51\u6bb5\u5730\u5740\u8f6c\u6362\u4e3a\u4e2d\u8f6cIP\uff0c\u901a\u8fc7\u4f7f\u7528\u4e2d\u8f6cIP\u5b9e\u73b0\u4e24VPC\u95f4\u4e92\u901a\u3002\u79c1\u7f51NAT\u7f51\u5173\u89e3\u51b3\u4e86\u4e24\u4e2a\u91cd\u53e0\u7f51\u6bb5\u865a\u62df\u79c1\u6709\u4e91\u4e2d\u7684\u4e91\u4e3b\u673a\u4e92\u76f8\u8bbf\u95ee\u7684\u95ee\u9898\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u521b\u5efa\u4e00\u4e2a\u4e2d\u8f6cVPC\uff0c\u7136\u540e\u4f7f\u7528\u4e24\u4e2a\u79c1\u7f51NAT\u7f51\u5173\u5c06VPC A\u4e2dIP\u5730\u5740\u4e3a192.168.0.1\u7684\u5f39\u6027\u4e91\u670d\u52a1\u5668\u5730\u5740\u8f6c\u5316\u4e3a10.0.0.11\u3001\u5c06VPC B\u4e2dIP\u5730\u5740\u4e3a192.168.0.1\u7684\u5f39\u6027\u4e91\u670d\u52a1\u5668\u5730\u5740\u8f6c\u5316\u4e3a10.0.0.22\uff0c\u901a\u8fc7\u8f6c\u5316\u540e\u7684IP\u5730\u5740\u76f8\u4e92\u8bbf\u95ee\u3002</p> <p>\u56fe6\u00a0\u91cd\u53e0\u7f51\u6bb5VPC\u95f4\u4e92\u901a </p> </li> <li> <p>\u4f01\u4e1a\u7f51\u7edc\u4e0a\u4e91\u53ca\u6307\u5b9aIP\u63a5\u5165</p> <p>\u5927\u4f01\u4e1a\u7b49\u673a\u6784\u4e0a\u4e91\uff0c\u5e0c\u671b\u8fc1\u79fb\u4e0a\u4e91\u4fdd\u6301\u7ec4\u7f51\u4e0d\u53d8\uff0c\u4f7f\u7528\u79c1\u7f51NAT\u7f51\u5173\u65e0\u9700\u5bf9\u7f51\u7edc\u505a\u4efb\u4f55\u66f4\u6539\u5373\u53ef\u4fdd\u6301\u539f\u6709\u65b9\u5f0f\u4e92\u901a\u3002\u540c\u65f6\uff0c\u884c\u4e1a\u76d1\u7ba1\u90e8\u95e8\u8981\u6c42\u6307\u5b9a\u5730\u5740\u63a5\u5165\uff0c\u4f7f\u7528\u79c1\u7f51NAT\u7f51\u5173\u5c06\u5404\u90e8\u95e8\u7684IP\u5730\u5740\u6620\u5c04\u4e3a\u6307\u5b9a\u5730\u5740\u63a5\u5165\u884c\u4e1a\u76d1\u7ba1\u90e8\u95e8\uff0c\u6ee1\u8db3\u4f01\u4e1a\u5b89\u5168\u89c4\u8303\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u4f01\u4e1a\u90e8\u95e8\u95f4\u5b58\u5728\u7f51\u6bb5\u91cd\u53e0\uff0c\u4f7f\u7528\u79c1\u7f51NAT\u7f51\u5173\uff0c\u5b9e\u73b0\u4f01\u4e1a\u5404\u90e8\u95e8\u8fc1\u79fb\u4e0a\u4e91\u540e\u7ec4\u7f51\u4e0d\u53d8\uff0c\u90e8\u95e8\u95f4\u4fdd\u6301\u539f\u6709\u65b9\u5f0f\u4e92\u901a\uff0c\u7b80\u5316\u4e86IDC\u4e0a\u4e91\u7684\u7f51\u7edc\u89c4\u5212\uff1b\u4f7f\u7528\u79c1\u7f51NAT\u7f51\u5173\uff0c\u914d\u7f6eSNAT\u89c4\u5219\uff0c\u5c06\u5404\u90e8\u95e8\u7684IP\u5730\u5740\u6620\u5c04\u4e3a\u7b26\u5408\u8981\u6c42\u768410.0.0.33\u5730\u5740\u63a5\u5165\u884c\u4e1a\u76d1\u7ba1\u90e8\u95e8\uff0c\u63d0\u5347\u4f01\u4e1a\u7684\u5b89\u5168\u6027\u3002</p> </li> </ul>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E5%BC%B9%E6%80%A7%E5%85%AC%E7%BD%91IP%20EIP/00%20%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/","title":"00 \u76f8\u5173\u6982\u5ff5","text":""},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E5%BC%B9%E6%80%A7%E5%85%AC%E7%BD%91IP%20EIP/00%20%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/#1-ip","title":"1. \u865a\u62dfIP","text":"<p>\u865a\u62dfIP\u5730\u5740\uff08Virtual IP address\uff0cVIP\uff09\u662f\u79c1\u6709IP\u5730\u5740\u7684\u4e00\u79cd\uff0c\u62e5\u6709\u79c1\u6709IP\u5730\u5740\u540c\u6837\u7684\u7f51\u7edc\u63a5\u5165\u80fd\u529b\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5176\u4e2d\u4efb\u610f\u4e00\u4e2aIP\uff08\u79c1\u6709IP/\u865a\u62dfIP\uff09\u8bbf\u95ee\u4e91\u670d\u52a1\u5668\u3002</p> <p>\u865a\u62dfIP\u4e3b\u8981\u7528\u5728\u4e91\u670d\u52a1\u5668\u7684\u4e3b\u5907\u5207\u6362\uff0c\u8fbe\u5230\u9ad8\u53ef\u7528\u6027HA\uff08High Availability\uff09\u7684\u76ee\u7684\u3002\u591a\u4e2a\u4e3b\u5907\u90e8\u7f72\u7684\u4e91\u670d\u52a1\u5668\u53ef\u4ee5\u5728\u7ed1\u5b9a\u865a\u62dfIP\u5730\u5740\u65f6\u9009\u62e9\u540c\u4e00\u4e2a\u865a\u62dfIP\u5730\u5740\u3002\u7528\u6237\u53ef\u4ee5\u4e3a\u8be5\u865a\u62dfIP\u5730\u5740\u7ed1\u5b9a\u4e00\u4e2a\u5f39\u6027IP\u5730\u5740\uff0c\u4ece\u5916\u7f51\u53ef\u4ee5\u8bbf\u95ee\u540e\u7aef\u7ed1\u5b9a\u4e86\u540c\u4e00\u4e2a\u865a\u62dfIP\u5730\u5740\u7684\u591a\u4e2a\u4e3b\u5907\u90e8\u7f72\u7684\u4e91\u670d\u52a1\u5668\uff0c\u589e\u5f3a\u5bb9\u707e\u6027\u80fd\u3002</p>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E5%BC%B9%E6%80%A7%E5%85%AC%E7%BD%91IP%20EIP/00%20%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/#2-eip","title":"2. EIP\u6d41\u91cf\u76d1\u63a7","text":"<p>EIP\u6d41\u91cf\u76d1\u63a7\uff08EIP-Metering\uff09\u662f\u4e00\u4e2a\u72ec\u7acb\u90e8\u7f72\u5728\u865a\u62df\u673a\u7684\u53ef\u9009\u4e91\u670d\u52a1\uff0c\u63d0\u4f9b\u5bf9\u79df\u6237EIP\u7684\u6d41\u91cf\u548c\u5e26\u5bbd\u7684\u5b9e\u65f6\u76d1\u63a7\u80fd\u529b\uff0c\u5728\u79df\u6237VPC\u548cManage One\u8fd0\u7ef4\u754c\u9762\u5c55\u793a\u5355\u4e2a\u79df\u6237EIP\u7684\u51fa\u5165\u6d41\u91cf\u3001\u51fa\u5165\u5e26\u5bbd\u548c\u51fa\u7f51\u4f7f\u7528\u7387\u7684\u8fd0\u7ef4\u76d1\u63a7\u6307\u6807\u3002\u7cfb\u7edf\u5df2\u4e3a\u7528\u6237\u9884\u914d\u7f6e\u4e86\u51fa\u7f51\u5e26\u5bbd\u4f7f\u7528\u7387\u7684\u9608\u503c\u544a\u8b66\uff0c\u540c\u65f6\u652f\u6301\u7528\u6237\u6839\u636e\u5b9e\u9645\u573a\u666f\u81ea\u5b9a\u4e49\u9608\u503c\u3002</p>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E5%BC%B9%E6%80%A7%E5%85%AC%E7%BD%91IP%20EIP/00%20%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/#3","title":"3. \u5171\u4eab\u5e26\u5bbd","text":"<p>\u76ee\u524d\u5f39\u6027IP\u7684\u5e26\u5bbd\u652f\u6301\u72ec\u4eab\u5e26\u5bbd\u548c\u5171\u4eab\u5e26\u5bbd\u4e24\u79cd\u65b9\u5f0f\u3002\u5171\u4eab\u5e26\u5bbd\u662f\u6307\u53ef\u4f9b\u591a\u4e2a\u5f39\u6027IP\u5171\u4eab\u7684\u5e26\u5bbd\uff0c\u5373\u591a\u4e2a\u5f39\u6027IP\u5171\u540c\u4f7f\u7528\u7684\u4e00\u6761\u5e26\u5bbd\u3002</p> <p>\u5171\u4eab\u5e26\u5bbd\u53ef\u63d0\u4f9b\u533a\u57df\u7ea7\u522b\u7684\u5e26\u5bbd\u5171\u4eab\u53ca\u590d\u7528\u80fd\u529b\uff0c\u540c\u4e00\u8d44\u6e90\u7a7a\u95f4\u4e0b\u540c\u4e00\u79df\u6237\u6240\u6709\u5df2\u7ed1\u5b9a\u5f39\u6027IP\u7684\u5f39\u6027\u4e91\u670d\u52a1\u5668\u3001\u88f8\u91d1\u5c5e\u670d\u52a1\u5668\u3001\u5f39\u6027\u8d1f\u8f7d\u5747\u8861\u7b49\u5b9e\u4f8b\u53ef\u5171\u7528\u4e00\u6761\u5e26\u5bbd\u8d44\u6e90\u3002</p>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E5%BC%B9%E6%80%A7%E5%85%AC%E7%BD%91IP%20EIP/00%20%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/#nat","title":"NAT\u7f51\u5173","text":"<p>NAT\u7f51\u5173\uff08NAT Gateway\uff09\u63d0\u4f9b\u516c\u7f51NAT\u7f51\u5173\u548c\u79c1\u7f51NAT\u7f51\u5173\u3002\u516c\u7f51NAT\u7f51\u5173\u4e3aVPC\u5185\u7684\u4e91\u4e3b\u673a\u63d0\u4f9bSNAT\u548cDNAT\u529f\u80fd\uff0c\u53ef\u8f7b\u677e\u6784\u5efaVPC\u7684\u516c\u7f51\u51fa\u5165\u53e3\u3002\u79c1\u7f51NAT\u7f51\u5173\u4e3aVPC\u5185\u7684\u4e91\u4e3b\u673a\u63d0\u4f9b\u7f51\u7edc\u5730\u5740\u8f6c\u6362\u670d\u52a1\uff0c\u4f7f\u591a\u4e2a\u4e91\u4e3b\u673a\u53ef\u4ee5\u5171\u4eab\u79c1\u7f51IP\u8bbf\u95ee\u7528\u6237\u672c\u5730\u6570\u636e\u4e2d\u5fc3\u6216\u5176\u4ed6VPC\uff0c\u5e76\u652f\u6301\u4e91\u4e3b\u673a\u9762\u5411\u79c1\u7f51\u63d0\u4f9b\u670d\u52a1\u3002</p>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E5%BC%B9%E6%80%A7%E5%85%AC%E7%BD%91IP%20EIP/01%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%BC%B9%E6%80%A7%E5%85%AC%E7%BD%91IP/","title":"\u5f39\u6027\u516c\u7f51IP","text":"<p>\u5f39\u6027\u516c\u7f51IP\uff08Elastic IP\uff0c\u7b80\u79f0EIP\uff09\u63d0\u4f9b\u72ec\u7acb\u7684\u516c\u7f51IP\u8d44\u6e90\uff0c\u5305\u62ec\u516c\u7f51IP\u5730\u5740\u4e0e\u516c\u7f51\u51fa\u53e3\u5e26\u5bbd\u670d\u52a1\u3002\u4e3a\u8d44\u6e90\u914d\u7f6e\u5f39\u6027\u516c\u7f51IP\u540e\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95eeInternet\uff0c\u5982\u679c\u8d44\u6e90\u53ea\u914d\u7f6e\u4e86\u79c1\u7f51IP\uff0c\u5c31\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95eeInternet\u3002\u5f39\u6027\u516c\u7f51IP\u53ef\u4ee5\u4e0e\u5f39\u6027\u4e91\u670d\u52a1\u5668\u3001\u88f8\u91d1\u5c5e\u670d\u52a1\u5668\u3001\u865a\u62dfIP\u3001\u5f39\u6027\u8d1f\u8f7d\u5747\u8861\u3001NAT\u7f51\u5173\u7b49\u8d44\u6e90\u7075\u6d3b\u5730\u7ed1\u5b9a\u53ca\u89e3\u7ed1\u3002</p> <p>\u4e00\u4e2a\u5f39\u6027\u516c\u7f51IP\u53ea\u80fd\u7ed1\u5b9a\u4e00\u4e2a\u4e91\u8d44\u6e90\u4f7f\u7528\uff0c\u5f39\u6027\u516c\u7f51IP\u548c\u4e0e\u5b83\u8981\u7ed1\u5b9a\u7684\u4e91\u8d44\u6e90\u5fc5\u987b\u5728\u540c\u4e00\u4e2a\u533a\u57df\uff0c\u4e0d\u652f\u6301\u8de8\u533a\u57df\u4f7f\u7528\u5f39\u6027\u516c\u7f51IP\u3002</p> <p>\u4ee5\u7ed1\u5b9aECS\u5b9e\u4f8b\u4e3a\u4f8b\uff1a</p> <ul> <li>\u4e00\u4e2a\u5f39\u6027\u516c\u7f51IP\u53ea\u80fd\u7ed1\u5b9a\u4e00\u4e2aECS\u5b9e\u4f8b\uff0c\u5982\u679c\u8fd9\u4e2a\u5f39\u6027\u516c\u7f51IP\u5df2\u7ed1\u5b9a\u4e86ECS\u5b9e\u4f8b\uff0c\u4e0d\u652f\u6301\u518d\u76f4\u63a5\u7ed1\u5b9a\u5176\u4ed6\u4e91\u8d44\u6e90\u3002\u60a8\u53ef\u4ee5\u5148\u89e3\u7ed1\u5f39\u6027\u516c\u7f51IP\uff0c\u4f7f\u5f39\u6027\u516c\u7f51IP\u5904\u4e8e\u201c\u672a\u7ed1\u5b9a\u5b9e\u4f8b\u201d\u72b6\u6001\uff0c\u518d\u7ed1\u5b9a\u540c\u533a\u57df\u7684\u5176\u4ed6\u4e91\u8d44\u6e90\u3002</li> <li>\u5f39\u6027\u516c\u7f51IP\u7684\u533a\u57df\u5fc5\u987b\u548c\u8981\u7ed1\u5b9a\u7684ECS\u5b9e\u4f8b\u7684\u533a\u57df\u76f8\u540c\u3002\u6bd4\u5982\u534e\u5317-\u5317\u4eac\u56db\u7684\u5f39\u6027\u516c\u7f51IP\uff0c\u53ea\u80fd\u7ed1\u5b9a\u534e\u5317-\u5317\u4eac\u56db\u7684ECS\u3002</li> </ul> <p>\u56fe1 \u901a\u8fc7EIP\u8bbf\u95ee\u516c\u7f51</p> <p></p>","tags":["\u5f39\u6027\u516c\u7f51IP"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E5%BC%B9%E6%80%A7%E5%85%AC%E7%BD%91IP%20EIP/01%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%BC%B9%E6%80%A7%E5%85%AC%E7%BD%91IP/#_1","title":"\u7ebf\u8def\u7c7b\u578b","text":"<p>\u5f39\u6027\u516c\u7f51IP\u5e26\u5bbd\u7684\u7ebf\u8def\u7c7b\u578b\u6709\uff1a\u5168\u52a8\u6001BGP\u7ebf\u8def\u3001\u4f18\u9009BGP\u7ebf\u8def\u3001\u9759\u6001BGP\u7ebf\u8def\uff0c\u5bf9\u6bd4\u5982\u4e0b\u6240\u793a\u3002</p> \u5bf9\u6bd4\u7ef4\u5ea6 \u9759\u6001BGP \u5168\u52a8\u6001BGP \u4f18\u9009BGP \u5b9a\u4e49 \u7531\u7f51\u7edc\u8fd0\u8425\u5546\u624b\u52a8\u914d\u7f6e\u7684\u8def\u7531\u4fe1\u606f\u3002\u5f53\u7f51\u7edc\u7684\u62d3\u6251\u7ed3\u6784\u6216\u94fe\u8def\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u8fd0\u8425\u5546\u9700\u8981\u624b\u52a8\u53bb\u4fee\u6539\u8def\u7531\u8868\u4e2d\u76f8\u5173\u7684\u9759\u6001\u8def\u7531\u4fe1\u606f\u3002 \u4f7f\u7528BGP\u534f\u8bae\u540c\u65f6\u63a5\u5165\u591a\u4e2a\u8fd0\u8425\u5546\uff0c\u53ef\u4ee5\u6839\u636e\u8bbe\u5b9a\u7684\u5bfb\u8def\u534f\u8bae\u5b9e\u65f6\u81ea\u52a8\u4f18\u5316\u7f51\u7edc\u7ed3\u6784\uff0c\u4fdd\u6301\u5ba2\u6237\u4f7f\u7528\u7684\u7f51\u7edc\u6301\u7eed\u7a33\u5b9a\uff0c\u9ad8\u6548\u3002 \u4f18\u9009BGP\u662f\u7279\u5b9a\u65b9\u5411\u7684\u4f18\u8d28\u7ebf\u8def\u3002\u4f7f\u7528BGP\u534f\u8bae\u4e0e\u591a\u5bb6\u4e3b\u6d41\u8fd0\u8425\u5546\u7ebf\u8def\u4e92\u8054\u5bf9\u63a5\uff0c\u5efa\u7acb\u76f4\u8fde\u4e2d\u56fd\u5185\u5730\u7684\u516c\u7f51\u4e92\u8054\u8def\u5f84\uff0c\u63d0\u4f9b\u4e2d\u56fd-\u9999\u6e2f\u533a\u57df\u4e0e\u4e2d\u56fd\u5185\u5730\u95f4\u7684\u4f4e\u65f6\u5ef6\u3001\u9ad8\u8d28\u91cf\u7684\u7f51\u7edc\u4e92\u901a\u3002 \u4fdd\u969c\u6027 \u5f53\u9759\u6001BGP\u4e2d\u7f51\u7edc\u7ed3\u6784\u53d1\u751f\u53d8\u5316\uff0c\u8fd0\u8425\u5546\u662f\u65e0\u6cd5\u5728\u7b2c\u4e00\u65f6\u95f4\u81ea\u52a8\u8c03\u6574\u7f51\u7edc\u8bbe\u7f6e\uff0c\u800c\u662f\u901a\u8fc7\u5176\u4ed6\u6280\u672f\u8fdb\u884c\u5207\u6362\uff0c\u6240\u4ee5\u9759\u6001BGP\u65f6\u5ef6\u4e00\u822c\u7565\u5927\u3002\u5982\u7528\u6237\u9009\u62e9\u9759\u6001BGP\uff0c\u9700\u8981\u81ea\u8eab\u5e94\u7528\u7cfb\u7edf\u5177\u5907\u5bb9\u707e\u529f\u80fd\u3002 \u591a\u7ebf\u63a5\u5165\u7684BGP\uff0c\u80fd\u591f\u611f\u77e5\u63a5\u5165\u7ebf\u8def\u53ca\u8fd0\u8425\u5546\u5185\u90e8\u7f51\u7edc\u72b6\u51b5\uff0c\u8fd0\u8425\u5546\u5185\u90e8\u6545\u969c\u65f6\uff0c\u80fd\u591f\u5feb\u901f\u5207\u6362\u5230\u5176\u4ed6\u8fd0\u8425\u5546\u63a5\u5165\u94fe\u8def\uff0c\u4fdd\u8bc1\u7528\u6237\u80fd\u591f\u6b63\u5e38\u8bbf\u95ee\uff0c\u800c\u4e0d\u662f\u8bbf\u95ee\u4e2d\u65ad\u3002\u76ee\u524d\u652f\u6301\u7684\u8fd0\u8425\u5546\u7ebf\u8def\u5305\u62ec\uff1a\u7535\u4fe1\u3001\u79fb\u52a8\u3001\u8054\u901a\u3001\u6559\u80b2\u7f51\u3001\u5e7f\u7535\u3001\u9e4f\u535a\u58eb\u7b49 \u3002 \u7ebf\u8def\u4fdd\u969c\u80fd\u529b\u4e0e\u5168\u52a8\u6001BGP\u4e00\u81f4\uff0c\u591a\u7ebf\u63a5\u5165\u7684BGP\uff0c\u5728\u9047\u5230\u8fd0\u8425\u5546\u5185\u90e8\u6545\u969c\u65f6\uff0c\u80fd\u591f\u5feb\u901f\u5207\u6362\u5230\u5176\u4ed6\u8fd0\u8425\u5546\u63a5\u5165\u94fe\u8def\uff0c\u4fdd\u8bc1\u7528\u6237\u80fd\u591f\u6b63\u5e38\u8bbf\u95ee\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8d28\u91cf\u66f4\u9ad8\uff0c\u65f6\u5ef6\u66f4\u4f4e\u3002\u76ee\u524d\u652f\u6301\u4e2d\u56fd-\u9999\u6e2f\u5f53\u5730\u4e3b\u6d41\u8fd0\u8425\u5546\u7ebf\u8def\u3002 \u4f18\u52bf \u901a\u8fc7\u5355\u4e2a\u7f51\u7edc\u8fd0\u8425\u5546\u8bbf\u95ee\u516c\u7f51\uff0c\u6210\u672c\u4f4e\u4e14\u4fbf\u4e8e\u81ea\u4e3b\u8c03\u5ea6\u3002 BGP\u516c\u7f51\u51fa\u53e3\u652f\u6301\u79d2\u7ea7\u8de8\u57df\u5207\u6362\uff0c\u4fdd\u8bc1\u60a8\u7684\u7528\u6237\u65e0\u8bba\u4f7f\u7528\u54ea\u79cd\u7f51\u7edc\uff0c\u5747\u80fd\u4eab\u53d7\u9ad8\u901f\u3001\u5b89\u5168\u7684\u7f51\u7edc\u8d28\u91cf\u3002 \u907f\u514d\u7ed5\u884c\u56fd\u9645\u8fd0\u8425\u5546\u51fa\u53e3\u7f51\u7edc\u3002\u5ef6\u65f6\u66f4\u4f4e\uff0c\u53ef\u6709\u6548\u63d0\u5347\u5883\u5916\u4e1a\u52a1\u5bf9\u4e2d\u56fd\u5927\u9646\u7528\u6237\u8986\u76d6\u8d28\u91cf\u3002 \u670d\u52a1\u53ef\u7528\u6027 99% 99.95% 99.95% \u8ba1\u8d39 \u4f18\u9009BGP &gt; \u5168\u52a8\u6001BGP &gt; \u9759\u6001BGP\u3002\u66f4\u591a\u8ba1\u8d39\u8be6\u60c5\u8bf7\u53c2\u89c1\u4ea7\u54c1\u4ef7\u683c\u8be6\u60c5\u4e2d\u201c\u5f39\u6027\u516c\u7f51IP\u201d\u7684\u5185\u5bb9\u3002","tags":["\u5f39\u6027\u516c\u7f51IP"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/00%20%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/","title":"\u76f8\u5173\u6982\u5ff5","text":""},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/00%20%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/#1","title":"1. \u5b89\u5168\u7ec4","text":"<ul> <li>\u5b89\u5168\u7ec4 \u662f\u4e00\u4e2a\u903b\u8f91\u4e0a\u7684\u5206\u7ec4\uff0c\u4e3a\u540c\u4e00\u4e2a\u8d44\u6e90\u7a7a\u95f4\u5185\u5177\u6709\u76f8\u540c\u5b89\u5168\u4fdd\u62a4\u9700\u6c42\u5e76\u76f8\u4e92\u4fe1\u4efb\u7684\u4e91\u670d\u52a1\u5668\u63d0\u4f9b\u8bbf\u95ee\u7b56\u7565\u3002\u5b89\u5168\u7ec4\u521b\u5efa\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u5b89\u5168\u7ec4\u4e2d\u5b9a\u4e49\u5404\u79cd\u8bbf\u95ee\u89c4\u5219\uff0c\u5f53\u4e91\u670d\u52a1\u5668\u52a0\u5165\u8be5\u5b89\u5168\u7ec4\u540e\uff0c\u5373\u53d7\u5230\u8fd9\u4e9b\u8bbf\u95ee\u89c4\u5219\u7684\u4fdd\u62a4\u3002</li> <li>\u9ed8\u8ba4\u5b89\u5168\u7ec4 \u4e2d\u7684\u9ed8\u8ba4\u89c4\u5219\u662f\u5728\u51fa\u65b9\u5411\u4e0a\u7684\u6570\u636e\u62a5\u6587\u5168\u90e8\u653e\u884c\uff0c\u5b89\u5168\u7ec4\u5185\u7684\u4e91\u670d\u52a1\u5668\u65e0\u9700\u6dfb\u52a0\u89c4\u5219\u5373\u53ef\u4e92\u76f8\u8bbf\u95ee\u3002\u4e00\u4e2a\u4e91\u670d\u52a1\u5668\u53ef\u4ee5\u52a0\u5165\u591a\u4e2a\u5b89\u5168\u7ec4\uff0c\u4e14\u4e0e\u6bcf\u4e2a\u5b89\u5168\u7ec4\u5185\u7684\u4e91\u670d\u52a1\u5668\u90fd\u53ef\u4ee5\u4e92\u76f8\u8bbf\u95ee\u3002</li> </ul>"},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/01%20%E4%BB%80%E4%B9%88%E6%98%AFVPC/","title":"\u4ec0\u4e48\u662fVPC","text":"<p>\u865a\u62df\u79c1\u6709\u4e91VPC\uff08Virtual Private Cloud\uff09\u662f\u4e00\u5957\u4e3a\u4e91\u670d\u52a1\u5668\u3001\u4e91\u5bb9\u5668\u3001\u4e91\u6570\u636e\u5e93\u7b49\u4e91\u4e0a\u8d44\u6e90\u6784\u5efa\u7684\u903b\u8f91\u9694\u79bb\u7684\u3001\u7531\u7528\u6237\u81ea\u4e3b\u914d\u7f6e\u548c\u7ba1\u7406\u7684\u865a\u62df\u7f51\u7edc\u73af\u5883\uff0c\u65e8\u5728\u63d0\u5347\u7528\u6237\u8d44\u6e90\u7684\u5b89\u5168\u6027\uff0c\u7b80\u5316\u7528\u6237\u7684\u7f51\u7edc\u90e8\u7f72\u3002</p>","tags":["VPC"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/01%20%E4%BB%80%E4%B9%88%E6%98%AFVPC/#1-vpc","title":"1. \u4e3a\u4ec0\u4e48\u9700\u8981VPC","text":"<p>\u968f\u7740\u4e91\u8ba1\u7b97\u7684\u4e0d\u65ad\u53d1\u5c55\uff0c\u5bf9\u865a\u62df\u5316\u7f51\u7edc\u7684\u8981\u6c42\u8d8a\u6765\u8d8a\u9ad8\uff0c\u8981\u6c42\u7f51\u7edc\u5177\u6709\u5f39\u6027\uff08scalability\uff09\u3001\u5b89\u5168\u6027\uff08security\uff09\u3001\u53ef\u9760\u6027\uff08reliability\uff09\u548c\u79c1\u5bc6\u6027\uff08privacy\uff09\u3002\u4f20\u7edf\u7684\u4e8c\u5c42\u7f51\u7edc\u6a21\u578b\u5b58\u5728\u5f88\u591a\u95ee\u9898\uff0c\u5176\u4e2d\u6700\u5927\u7684\u95ee\u9898\u5c31\u662f\u5b89\u5168\u95ee\u9898\u3002\u4e8c\u5c42\u7f51\u7edc\u5185\u7684\u6240\u6709\u8bbe\u5907\u9ed8\u8ba4\u662f\u53ef\u4ee5\u4e92\u901a\u7684\uff0c\u8fd9\u5c31\u5bfc\u81f4\u4e91\u4e3b\u673a\u5f88\u5bb9\u6613\u88ab\u540c\u7f51\u7edc\u7684\u5176\u4ed6\u7528\u6237\u6076\u610f\u653b\u51fb\u3002\u800cVPC\u80fd\u591f\u5728\u516c\u5171\u7684\u7f51\u7edc\u8d44\u6e90\u4e0a\u4e3a\u6bcf\u4e2a\u7528\u6237\u9694\u79bb\u51fa\u4e00\u4e2a\u4e13\u5c5e\u7684\u72ec\u7acb\u7f51\u7edc\uff0c\u7528\u6237\u7684\u5b89\u5168\u3001\u9690\u79c1\u66f4\u5bb9\u6613\u5f97\u5230\u4fdd\u969c\uff0c\u4e14\u7528\u6237\u53ef\u4ee5\u7075\u6d3b\u5b9a\u4e49VPC\u5185\u4e3b\u673a\u7684IP\u5730\u5740\u3001\u8def\u7531\u7b56\u7565\u7b49\u3002</p> <p> VPC\u7f51\u7edc\u6a21\u578b</p>","tags":["VPC"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/01%20%E4%BB%80%E4%B9%88%E6%98%AFVPC/#2-vpc","title":"2. VPC\u7684\u4e3b\u8981\u7ec4\u6210\u90e8\u5206","text":"<p>\u6bcf\u4e2aVPC\u4e3a\u4e00\u4e2a\u865a\u62df\u7684\u7f51\u7edc\u73af\u5883\uff0c\u901a\u8fc7\u521b\u5efaVPC\u5c06\u7269\u7406\u7f51\u7edc\u5212\u5206\u4e3a\u903b\u8f91\u7f51\u7edc\uff0c\u5305\u542bSubnet\u3001vRouter\u3001vFW\u7b49\u903b\u8f91\u5355\u5143\u3002</p> <p> VPC\u7ec4\u6210\u793a\u610f\u56fe</p> <p>Subnet\uff1a\u5b50\u7f51\uff0c\u662fVPC\u4e2d\u7684\u4e00\u4e2a\u7f51\u6bb5\uff0c\u5c5e\u4e8e\u4e8c\u5c42\u7f51\u7edc\uff0c\u4e00\u4e2aVPC\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5185\u90e8\u5b50\u7f51\uff0c\u7528\u6765\u5206\u7c7b\u7ba1\u7406\u6709\u4e0d\u540c\u4e1a\u52a1\u9700\u6c42\u7684\u4e91\u4e3b\u673a\u3002VPC\u5185\u90e8\u5b50\u7f51\u7684\u4e91\u4e3b\u673a\u53ef\u4ee5\u4e92\u901a\u3002</p> <p>vRouter\uff1a\u865a\u62df\u8def\u7531\u5668\uff0c\u662fVPC\u7684\u7f51\u7edc\u67a2\u7ebd\uff0c\u8fde\u63a5\u5404\u4e2a\u5b50\u7f51\uff0c\u540c\u65f6\u4e5f\u662f\u5404\u4e2a\u5b50\u7f51\u7684\u7f51\u5173\uff0c\u5b9e\u73b0\u5b50\u7f51\u4e4b\u95f4\u7684\u4e92\u901a\u3002</p> <p>vFW\uff1a\u865a\u62df\u9632\u706b\u5899\uff0c\u7528\u4e8e\u4fdd\u969cVPC\u7684\u7f51\u7edc\u5b89\u5168\uff0c\u4e3b\u8981\u662f\u63a7\u5236\u8fdb\u51fa\u5b50\u7f51\u6216VPC\u7684\u6d41\u91cf\u3002</p> <p>\u5b89\u5168\u7ec4\uff1a\u5b89\u5168\u7ec4\u529f\u80fd\u7c7b\u4f3c\u4e8e\u865a\u62df\u9632\u706b\u5899\uff0c\u90fd\u662f\u7528\u4e8e\u4fdd\u969cVPC\u7684\u7f51\u7edc\u5b89\u5168\uff0c\u533a\u522b\u5728\u4e8e\u865a\u62df\u9632\u706b\u5899\u662f\u57fa\u4e8e\u5b50\u7f51\u6216VPC\u7ea7\u522b\u7684\u8bbf\u95ee\u63a7\u5236\uff0c\u800c\u5b89\u5168\u7ec4\u662f\u57fa\u4e8e\u4e3b\u673a\u7ea7\u522b\u7684\u8bbf\u95ee\u63a7\u5236\u3002\u5b89\u5168\u7ec4\u662f\u4e00\u4e2a\u903b\u8f91\u4e0a\u7684\u5206\u7ec4\uff0c\u4e3a\u5177\u6709\u76f8\u540c\u5b89\u5168\u4fdd\u62a4\u9700\u6c42\u5e76\u76f8\u4e92\u4fe1\u4efb\u7684\u4e91\u4e3b\u673a\u63d0\u4f9b\u8bbf\u95ee\u7b56\u7565\u3002</p>","tags":["VPC"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/01%20%E4%BB%80%E4%B9%88%E6%98%AFVPC/#3-vpc","title":"3. VPC\u7684\u5b9e\u73b0\u539f\u7406","text":"<p>VPC\u662f\u57fa\u4e8e\u7f51\u7edcOverlay\u6280\u672f\uff0c\u5728\u4e09\u5c42\u7f51\u7edc\u4e4b\u4e0a\u6784\u5efa\u5927\u4e8c\u5c42\u7f51\u7edc\u6765\u5b9e\u73b0\u7684\u3002Overlay\u672c\u610f\u4e3a\u53e0\u52a0\uff0c\u5373\u5728\u539f\u6709\u7269\u7406\u7f51\u7edc\uff08Underlay\uff09\u57fa\u7840\u4e0a\u6784\u5efa\u4e00\u4e2a\u8f6f\u4ef6\u5b9a\u4e49\u7684\u865a\u62df\u7684\u903b\u8f91\u7f51\u7edc\u3002Overlay\u672c\u8d28\u4e0a\u662f\u4e00\u79cdL2 over IP\u7684\u96a7\u9053\u5c01\u88c5\u6280\u672f\uff0c\u4e3b\u8981\u6709VXLAN\u3001NVGRE\u7b49\uff0c\u57fa\u672c\u539f\u7406\u662f\u5c06\u4e3b\u673a\u53d1\u51fa\u7684\u539f\u59cb\u4e8c\u5c42\u62a5\u6587\u8fdb\u884c\u518d\u6b21\u5c01\u88c5\uff0c\u7136\u540e\u5728\u73b0\u6709\u7f51\u7edc\u4e2d\u8fdb\u884c\u900f\u660e\u4f20\u8f93\uff0c\u5230\u8fbe\u76ee\u7684\u5730\u540e\u518d\u89e3\u5c01\u88c5\u5f97\u5230\u539f\u59cb\u62a5\u6587\uff0c\u8f6c\u53d1\u7ed9\u76ee\u6807\u4e3b\u673a\uff0c\u4ece\u800c\u5b9e\u73b0\u4e3b\u673a\u95f4\u7684\u4e8c\u5c42\u901a\u4fe1\u3002\u8fd9\u5c31\u76f8\u5f53\u4e8e\u4e00\u4e2a\u5927\u4e8c\u5c42\u7f51\u7edc\uff08Overlay\uff09\u53e0\u52a0\u5728\u73b0\u6709\u57fa\u7840\u7f51\u7edc\uff08Underlay\uff09\u4e4b\u4e0a\u3002</p> <p> Overlay\u7f51\u7edc\u6982\u5ff5\u793a\u610f\u56fe</p>","tags":["VPC"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/01%20%E4%BB%80%E4%B9%88%E6%98%AFVPC/#4","title":"4. \u53c2\u8003\u8d44\u6e90","text":"<p>1CloudFabric\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u89e3\u51b3\u65b9\u6848 \u4ea7\u54c1\u6587\u6863</p>","tags":["VPC"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/10%20VPC%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%A6%82%E8%BF%B0/","title":"VPC\u8bbf\u95ee\u63a7\u5236\u6982\u8ff0","text":"<p>VPC\u662f\u60a8\u5728\u4e91\u4e0a\u7684\u79c1\u6709\u7f51\u7edc\uff0c\u901a\u8fc7\u914d\u7f6e\u5b89\u5168\u7ec4\u548c\u7f51\u7edcACL\u7b56\u7565\uff0c\u53ef\u4ee5\u4fdd\u969cVPC\u5185\u90e8\u7f72\u7684\u5b9e\u4f8b\u5b89\u5168\u8fd0\u884c\uff0c\u6bd4\u5982\u5f39\u6027\u4e91\u670d\u52a1\u5668\u3001\u6570\u636e\u5e93\u3001\u4e91\u5bb9\u5668\u7b49\u3002</p> <ul> <li>\u5b89\u5168\u7ec4\u5bf9\u5b9e\u4f8b\u8fdb\u884c\u9632\u62a4\uff0c\u5c06\u5b9e\u4f8b\u52a0\u5165\u5b89\u5168\u7ec4\u5185\u540e\uff0c\u8be5\u5b9e\u4f8b\u5c06\u4f1a\u53d7\u5230\u5b89\u5168\u7ec4\u7684\u4fdd\u62a4\u3002</li> <li>\u7f51\u7edcACL\u5bf9\u6574\u4e2a\u5b50\u7f51\u8fdb\u884c\u9632\u62a4\uff0c\u5c06\u5b50\u7f51\u5173\u8054\u81f3\u7f51\u7edcACL\uff0c\u5219\u5b50\u7f51\u5185\u7684\u6240\u6709\u5b9e\u4f8b\u90fd\u4f1a\u53d7\u5230\u7f51\u7edcACL\u4fdd\u62a4\u3002\u76f8\u6bd4\u5b89\u5168\u7ec4\uff0c\u7f51\u7edcACL\u7684\u9632\u62a4\u8303\u56f4\u66f4\u5927\u3002</li> </ul> <p>\u5b89\u5168\u7ec4\u548c\u7f51\u7edcACL\u7684\u5e94\u7528\u793a\u4f8b\u5982 \u56fe1 \u6240\u793a\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u5b89\u5168\u7ec4A\u548c\u5b89\u5168\u7ec4B\u53ef\u4ee5\u4fdd\u62a4\u5176\u4e2dECS\u7684\u7f51\u7edc\u5b89\u5168\uff0c\u901a\u8fc7\u7f51\u7edcACL A\u548c\u7f51\u7edcACL B\uff0c\u53ef\u4ee5\u5206\u522b\u4fdd\u62a4\u6574\u4e2a\u5b50\u7f511\u548c\u5b50\u7f512\u7684\u5b89\u5168\uff0c\u53cc\u5c42\u9632\u62a4\u63d0\u5347\u5b89\u5168\u4fdd\u969c\u3002</p> <p>\u56fe1\u00a0\u5b89\u5168\u7ec4\u4e0e\u7f51\u7edcACL </p>","tags":["\u5b89\u5168\u7ec4","\u7f51\u7edcACL","\u5b89\u5168\u7ec4\u4e0e\u7f51\u7edcACL\u7684\u533a\u522b"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/10%20VPC%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%A6%82%E8%BF%B0/#1-acl","title":"1. \u5b89\u5168\u7ec4\u4e0e\u7f51\u7edcACL\u7684\u533a\u522b\u8bf4\u660e","text":"<p>\u88681\u4e3a\u60a8\u63d0\u4f9b\u4e86\u5b89\u5168\u7ec4\u548c\u7f51\u7edcACL\u7684\u8be6\u7ec6\u533a\u522b\u3002</p> <p>\u88681\u00a0\u5b89\u5168\u7ec4\u548c\u7f51\u7edcACL\u533a\u522b</p> \u5bf9\u6bd4\u9879 \u5b89\u5168\u7ec4 \u7f51\u7edcACL \u9632\u62a4\u8303\u56f4 \u5b9e\u4f8b\u7ea7\u522b\uff1a\u9632\u62a4\u5b89\u5168\u7ec4\u5185\u7684\u5b9e\u4f8b\uff0c\u6bd4\u5982\u5f39\u6027\u4e91\u670d\u52a1\u5668\u3001\u6570\u636e\u5e93\u3001\u4e91\u5bb9\u5668\u5b9e\u4f8b\u7b49\u3002 \u5b50\u7f51\u7ea7\u522b\uff1a\u9632\u62a4\u6574\u4e2a\u5b50\u7f51\uff0c\u5b50\u7f51\u5185\u7684\u6240\u6709\u5b9e\u4f8b\u90fd\u4f1a\u53d7\u5230\u7f51\u7edcACL\u7684\u4fdd\u62a4\u3002 \u662f\u5426\u5fc5\u9009 \u5fc5\u9009\uff0c\u5b9e\u4f8b\u5fc5\u987b\u81f3\u5c11\u52a0\u5165\u5230\u4e00\u4e2a\u5b89\u5168\u7ec4\u5185\u3002 \u975e\u5fc5\u9009\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u9009\u62e9\u662f\u5426\u4e3a\u5b50\u7f51\u5173\u8054\u7f51\u7edcACL\u3002 \u6709\u65e0\u72b6\u6001 \u6709\u72b6\u6001\uff0c\u5141\u8bb8\u5165\u7ad9\u8bf7\u6c42/\u51fa\u7ad9\u8bf7\u6c42\u7684\u54cd\u5e94\u6d41\u91cf\u51fa\u5165\u5b9e\u4f8b\uff0c\u4e0d\u53d7\u89c4\u5219\u9650\u5236\u3002 \u6709\u72b6\u6001\uff0c\u5141\u8bb8\u5165\u7ad9\u8bf7\u6c42/\u51fa\u7ad9\u8bf7\u6c42\u7684\u54cd\u5e94\u6d41\u91cf\u51fa\u5165\u5b50\u7f51\uff0c\u4e0d\u53d7\u89c4\u5219\u9650\u5236\u3002 \u89c4\u5219\u7b56\u7565 \u5b89\u5168\u7ec4\u652f\u6301\u8bbe\u7f6e\u5141\u8bb8\u548c\u62d2\u7edd\u7b56\u7565\u3002- \u5141\u8bb8\u7b56\u7565\uff1a\u5bf9\u4e8e\u5339\u914d\u6210\u529f\u7684\u6d41\u91cf\uff0c\u5141\u8bb8\u6d41\u5165/\u6d41\u51fa\u5b9e\u4f8b\u3002- \u62d2\u7edd\u7b56\u7565\uff1a\u5bf9\u4e8e\u5339\u914d\u6210\u529f\u7684\u6d41\u91cf\uff0c\u62d2\u7edd\u6d41\u5165/\u6d41\u51fa\u5b9e\u4f8b\u3002 \u7f51\u7edcACL\u652f\u6301\u8bbe\u7f6e\u5141\u8bb8\u548c\u62d2\u7edd\u7b56\u7565\u3002- \u5141\u8bb8\u7b56\u7565\uff1a\u5bf9\u4e8e\u5339\u914d\u6210\u529f\u7684\u6d41\u91cf\uff0c\u5141\u8bb8\u6d41\u5165/\u6d41\u51fa\u5b50\u7f51\u3002- \u62d2\u7edd\u7b56\u7565\uff1a\u5bf9\u4e8e\u5339\u914d\u6210\u529f\u7684\u6d41\u91cf\uff0c\u62d2\u7edd\u6d41\u5165/\u6d41\u51fa\u5b50\u7f51\u3002 \u89c4\u5219\u62a5\u6587\u7ec4 \u652f\u6301\u62a5\u6587\u4e09\u5143\u7ec4\uff08\u5373\u534f\u8bae\u3001\u7aef\u53e3\u548c\u6e90/\u76ee\u7684\u5730\u5740\uff09\u8fc7\u6ee4\u3002 \u652f\u6301\u62a5\u6587\u4e94\u5143\u7ec4\uff08\u5373\u534f\u8bae\u3001\u6e90\u7aef\u53e3\u3001\u76ee\u7684\u7aef\u53e3\u3001\u6e90\u5730\u5740\u548c\u76ee\u7684\u5730\u5740\uff09\u8fc7\u6ee4\u3002 \u89c4\u5219\u751f\u6548\u987a\u5e8f \u5f53\u5b9e\u4f8b\u4e0a\u7ed1\u5b9a\u591a\u4e2a\u5b89\u5168\u7ec4\uff0c\u5e76\u4e14\u5b89\u5168\u7ec4\u4e2d\u5b58\u5728\u591a\u6761\u89c4\u5219\u65f6\uff0c\u751f\u6548\u987a\u5e8f\u5982\u4e0b\uff1a1. \u9996\u5148\u6839\u636e\u5b9e\u4f8b\u7ed1\u5b9a\u5b89\u5168\u7ec4\u7684\u987a\u5e8f\u751f\u6548\uff0c\u6392\u5728\u524d\u9762\u7684\u5b89\u5168\u7ec4\u4f18\u5148\u7ea7\u9ad8\u30022. \u7136\u540e\u6839\u636e\u5b89\u5168\u7ec4\u5185\u89c4\u5219\u7684\u4f18\u5148\u7ea7\u751f\u6548\uff0c\u4f18\u5148\u7ea7\u7684\u6570\u5b57\u8d8a\u5c0f\uff0c\u4f18\u5148\u7ea7\u8d8a\u9ad8\u30023. \u5f53\u4f18\u5148\u7ea7\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0c\u518d\u6309\u7167\u7b56\u7565\u5339\u914d\uff0c\u62d2\u7edd\u7b56\u7565\u9ad8\u4e8e\u5141\u8bb8\u7b56\u7565\u3002 \u4e00\u4e2a\u5b50\u7f51\u53ea\u80fd\u7ed1\u5b9a\u4e00\u4e2a\u7f51\u7edcACL\uff0c\u5f53\u7f51\u7edcACL\u5b58\u5728\u591a\u6761\u89c4\u5219\u65f6\uff0c\u6839\u636e\u89c4\u5219\u7684\u4f18\u5148\u7ea7\u8fdb\u884c\u751f\u6548\u3002\u4f18\u5148\u7ea7\u6570\u5b57\u8d8a\u5c0f\uff0c\u7f51\u7edcACL\u89c4\u5219\u6392\u5e8f\u8d8a\u9760\u524d\uff0c\u8d8a\u5148\u751f\u6548\u3002 \u5e94\u7528\u64cd\u4f5c \u521b\u5efa\u5b9e\u4f8b\uff08\u6bd4\u5982\u5f39\u6027\u4e91\u670d\u52a1\u5668\uff09\u65f6\uff0c\u5fc5\u987b\u9009\u62e9\u4e00\u4e2a\u5b89\u5168\u7ec4\uff0c\u5982\u679c\u5f53\u524d\u7528\u6237\u540d\u4e0b\u6ca1\u6709\u5b89\u5168\u7ec4\uff0c\u5219\u7cfb\u7edf\u4f1a\u81ea\u52a8\u521b\u5efa\u9ed8\u8ba4\u5b89\u5168\u7ec4\u3002 \u521b\u5efa\u5b50\u7f51\u6ca1\u6709\u7f51\u7edcACL\u9009\u9879\uff0c\u9700\u8981\u5148\u521b\u5efa\u7f51\u7edcACL\uff0c\u6dfb\u52a0\u51fa\u5165\u89c4\u5219\uff0c\u5e76\u5728\u7f51\u7edcACL\u5185\u5173\u8054\u5b50\u7f51\u3002\u5f53\u7f51\u7edcACL\u72b6\u6001\u4e3a\u5df2\u5f00\u542f\uff0c\u5c06\u4f1a\u5bf9\u5b50\u7f51\u751f\u6548\u3002","tags":["\u5b89\u5168\u7ec4","\u7f51\u7edcACL","\u5b89\u5168\u7ec4\u4e0e\u7f51\u7edcACL\u7684\u533a\u522b"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/10%20VPC%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%A6%82%E8%BF%B0/#2-acl","title":"2. \u6d41\u91cf\u5339\u914d\u5b89\u5168\u7ec4\u548c\u7f51\u7edcACL\u00a0\u89c4\u5219\u7684\u987a\u5e8f","text":"<p>\u5f53\u5b89\u5168\u7ec4\u548c\u7f51\u7edcACL\u540c\u65f6\u5b58\u5728\u65f6\uff0c\u6d41\u91cf\u4f18\u5148\u5339\u914d\u7f51\u7edcACL\u7684\u89c4\u5219\uff0c\u7136\u540e\u5339\u914d\u5b89\u5168\u7ec4\u89c4\u5219\u3002\u5982\u56fe2\u6240\u793a\uff0c\u4ee5\u5165\u65b9\u5411\u6d41\u91cf\u4e3a\u4f8b\uff0c\u4e3a\u60a8\u8be6\u7ec6\u4ecb\u7ecd\u5b89\u5168\u7ec4\u548c\u7f51\u7edcACL\u89c4\u5219\u7684\u5339\u914d\u987a\u5e8f\u3002</p> <ol> <li>\u6d41\u91cf\u4f18\u5148\u5339\u914d\u7f51\u7edcACL\u89c4\u5219\uff1a<ul> <li>\u5f53\u6d41\u91cf\u672a\u5339\u914d\u4e0a\u4efb\u4f55\u81ea\u5b9a\u4e49\u7f51\u7edcACL\u89c4\u5219\uff0c\u5219\u6d41\u91cf\u6267\u884c\u9ed8\u8ba4\u7f51\u7edcACL\u89c4\u5219\uff0c\u62d2\u7edd\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u3002</li> <li>\u5f53\u6d41\u91cf\u5339\u914d\u4e0a\u81ea\u5b9a\u4e49\u7f51\u7edcACL\u89c4\u5219\uff0c\u5219\u6839\u636e\u7f51\u7edcACL\u89c4\u5219\u7b56\u7565\u51b3\u5b9a\u6d41\u91cf\u8d70\u5411\u3002<ul> <li>\u5f53\u7b56\u7565\u4e3a\u62d2\u7edd\u65f6\uff0c\u5219\u62d2\u7edd\u8be5\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u3002</li> <li>\u5f53\u7b56\u7565\u4e3a\u5141\u8bb8\u65f6\uff0c\u5219\u5141\u8bb8\u8be5\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u3002</li> </ul> </li> </ul> </li> <li>\u5f53\u6d41\u91cf\u901a\u8fc7\u7f51\u7edcACL\u8fdb\u5165\u5b50\u7f51\u65f6\uff0c\u6d41\u91cf\u8fdb\u4e00\u6b65\u5339\u914d\u5b89\u5168\u7ec4\u89c4\u5219\uff1a<ol> <li>\u5f53\u5b9e\u4f8b\u5173\u8054\u591a\u4e2a\u5b89\u5168\u7ec4\u65f6\uff0c\u6d41\u91cf\u6309\u7167\u5b89\u5168\u7ec4\u7684\u987a\u5e8f\u8fdb\u884c\u5339\u914d\u3002\u9996\u5148\u5339\u914d\u7b2c\u4e00\u4e2a\u5b89\u5168\u7ec4\u5185\u7684\u89c4\u5219\u3002<ol> <li>\u5f53\u6d41\u91cf\u672a\u5339\u914d\u4e0a\u4efb\u4f55\u5b89\u5168\u7ec4\u89c4\u5219\u65f6\uff0c\u5219\u62d2\u7edd\u8be5\u6d41\u91cf\u8fdb\u5165\u5b9e\u4f8b\u3002</li> <li>\u5f53\u6d41\u91cf\u5339\u914d\u4e0a\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u5219\u6839\u636e\u5b89\u5168\u7ec4\u89c4\u5219\u7b56\u7565\u51b3\u5b9a\u6d41\u91cf\u8d70\u5411\u3002<ul> <li>\u5f53\u7b56\u7565\u4e3a\u62d2\u7edd\u65f6\uff0c\u5219\u62d2\u7edd\u8be5\u6d41\u91cf\u6d41\u5165\u5b9e\u4f8b\u3002</li> <li>\u5f53\u7b56\u7565\u4e3a\u5141\u8bb8\u65f6\uff0c\u5219\u5141\u8bb8\u8be5\u6d41\u91cf\u6d41\u5165\u5b9e\u4f8b\u3002</li> </ul> </li> </ol> </li> <li>\u5bf9\u4e8e\u672a\u6210\u529f\u5339\u914d\u7b2c\u4e00\u4e2a\u5b89\u5168\u7ec4\u5185\u89c4\u5219\u7684\u6d41\u91cf\uff0c\u7ee7\u7eed\u5339\u914d\u7b2c\u4e8c\u4e2a\u5b89\u5168\u7ec4\u5185\u7684\u89c4\u5219\u3002</li> <li>\u5f53\u904d\u5386\u4e86\u6240\u6709\u5b89\u5168\u7ec4\u7684\u5165\u65b9\u5411\u89c4\u5219\uff0c\u6d41\u91cf\u5747\u6ca1\u6709\u5339\u914d\u4e0a\u65f6\uff0c\u5219\u62d2\u7edd\u8be5\u6d41\u91cf\u6d41\u5165\u5b9e\u4f8b\u3002</li> </ol> </li> </ol> <p>\u56fe2\u00a0\u7f51\u7edcACL\u548c\u5b89\u5168\u7ec4\u7684\u5339\u914d\u987a\u5e8f </p> <p>\u5982\u56fe3\u6240\u793a\uff0c\u4ee5\u4e0b\u4e3a\u60a8\u63d0\u4f9b\u5177\u4f53\u7684\u6d41\u91cf\u5339\u914d\u793a\u4f8b\u3002VPC-A\u5185\u6709\u5b50\u7f51Subnet-A\uff0cSubnet-A\u5185\u6709\u4e24\u53f0\u5f39\u6027\u4e91\u670d\u52a1\u5668ECS-A\u548cECS-B\u3002\u5b89\u5168\u9632\u62a4\u7b56\u7565\u5982\u4e0b\uff1a</p> <ul> <li>\u5b50\u7f51Subnet-A\u4e0a\u5173\u8054\u4e86\u7f51\u7edcACL\u00a0Fw-A\u3002Fw-A\u4e2d\u7684\u9ed8\u8ba4\u89c4\u5219\u4e0d\u80fd\u5220\u9664\uff0c\u6d41\u91cf\u4f18\u5148\u5339\u914d\u5df2\u6dfb\u52a0\u7684\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u7f51\u7edcACL\u89c4\u5219\u793a\u4f8b\u8bf7\u53c2\u89c1 \u88682\u3002</li> <li>\u5f39\u6027\u4e91\u670d\u52a1\u5668ECS-A\u548cECS-B\u7531\u5b89\u5168\u7ec4Sg-A\u6765\u9632\u62a4\u3002\u521b\u5efa\u5b89\u5168\u7ec4Sg-A\u65f6\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u5df2\u6709\u6a21\u677f\uff0c\u6a21\u677f\u4e2d\u4f1a\u81ea\u5e26\u90e8\u5206\u5b89\u5168\u7ec4\u89c4\u5219\u3002\u60a8\u53ef\u4ee5\u5bf9\u7cfb\u7edf\u81ea\u5e26\u7684\u89c4\u5219\u8fdb\u884c\u4fee\u6539\u6216\u8005\u5220\u9664\uff0c\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u5b89\u5168\u7ec4\u89c4\u5219\u793a\u4f8b\u8bf7\u53c2\u89c1 \u88683 \u3002</li> </ul> <p>\u56fe3\u00a0\u7f51\u7edcACL\u548c\u5b89\u5168\u7ec4\u7684\u5339\u914d\u987a\u5e8f\u793a\u4f8b </p> <p>\u88682\u00a0\u7f51\u7edcACL\u00a0Fw-A\u89c4\u5219\u8bf4\u660e</p> \u65b9\u5411 \u4f18\u5148\u7ea7 \u7c7b\u578b \u7b56\u7565 \u534f\u8bae \u6e90\u5730\u5740 \u6e90\u7aef\u53e3\u8303\u56f4 \u76ee\u7684\u5730\u5740 \u76ee\u7684\u7aef\u53e3\u8303\u56f4 \u8bf4\u660e \u5165\u65b9\u5411 1 IPv4 \u62d2\u7edd \u5168\u90e8 10.0.1.0/24 \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 \u81ea\u5b9a\u4e49\u7f51\u7edcACL\u89c4\u5219A01\uff1a\u62d2\u7edd\u6765\u81ea\u7279\u5b9aIP\u5730\u574010.0.1.0/24\u7f51\u6bb5\u7684\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u5185 \u5165\u65b9\u5411 2 IPv4 \u5141\u8bb8 TCP 0.0.0.0/0 \u5168\u90e8 0.0.0.0/0 80-85 \u81ea\u5b9a\u4e49\u7f51\u7edcACL\u89c4\u5219A02\uff1a\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u8bbf\u95ee\u5b50\u7f51\u5185\u5b9e\u4f8b\u768480-85\u7aef\u53e3 \u5165\u65b9\u5411 * -- \u62d2\u7edd \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 \u9ed8\u8ba4\u7f51\u7edcACL\u89c4\u5219\uff1a\u62d2\u7edd\u6240\u6709\u6d41\u91cf\u6d41\u5165\u5b50\u7f51 \u51fa\u65b9\u5411 1 IPv4 \u5141\u8bb8 \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 \u81ea\u5b9a\u4e49\u7f51\u7edcACL\u89c4\u5219A03\uff1a\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u4ece\u5b50\u7f51\u6d41\u51fa \u51fa\u65b9\u5411 * -- \u62d2\u7edd \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 \u9ed8\u8ba4\u7f51\u7edcACL\u89c4\u5219\uff1a\u62d2\u7edd\u6240\u6709\u6d41\u91cf\u4ece\u5b50\u7f51\u6d41\u51fa <p>\u88683\u00a0\u5b89\u5168\u7ec4Sg-A\u89c4\u5219\u8bf4\u660e</p> \u65b9\u5411 \u4f18\u5148\u7ea7 \u7b56\u7565 \u7c7b\u578b \u534f\u8bae\u7aef\u53e3 \u6e90\u5730\u5740/\u76ee\u7684\u5730\u5740 \u63cf\u8ff0 \u5165\u65b9\u5411 1 \u5141\u8bb8 IPv4 \u81ea\u5b9a\u4e49TCP\uff1a80 \u6e90\u5730\u5740\uff1a0.0.0.0/0 \u5b89\u5168\u7ec4\u89c4\u5219A01\uff1a\u9488\u5bf9\u5168\u90e8IPv4\u534f\u8bae\uff0c\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u8bbf\u95ee\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u768480\u7aef\u53e3 \u5165\u65b9\u5411 1 \u62d2\u7edd IPv4 \u81ea\u5b9a\u4e49TCP\uff1a82-83 \u6e90\u5730\u5740\uff1a0.0.0.0/0 \u5b89\u5168\u7ec4\u89c4\u5219A02\uff1a\u9488\u5bf9\u5168\u90e8IPv4\u534f\u8bae\uff0c\u62d2\u7edd\u6240\u6709\u6d41\u91cf\u8bbf\u95ee\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u768482\u548c83\u7aef\u53e3 \u5165\u65b9\u5411 1 \u5141\u8bb8 IPv4 \u5168\u90e8 \u6e90\u5730\u5740\uff1a\u5f53\u524d\u5b89\u5168\u7ec4\uff08Sg-A\uff09 \u5b89\u5168\u7ec4\u89c4\u5219A03\uff1a\u9488\u5bf9\u5168\u90e8IPv4\u534f\u8bae\uff0c\u786e\u4fdd\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u7f51\u7edc\u4e92\u901a \u5165\u65b9\u5411 1 \u5141\u8bb8 IPv6 \u5168\u90e8 \u6e90\u5730\u5740\uff1a\u5f53\u524d\u5b89\u5168\u7ec4\uff08Sg-A\uff09 \u5b89\u5168\u7ec4\u89c4\u5219A04\uff1a\u9488\u5bf9\u5168\u90e8IPv6\u534f\u8bae\uff0c\u786e\u4fdd\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u7f51\u7edc\u4e92\u901a \u51fa\u65b9\u5411 1 \u5141\u8bb8 IPv4 \u5168\u90e8 \u76ee\u7684\u5730\u5740\uff1a0.0.0.0/0 \u5b89\u5168\u7ec4\u89c4\u5219A05\uff1a\u9488\u5bf9\u5168\u90e8IPv4\u534f\u8bae\uff0c\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u4ece\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u6d41\u51fa \u51fa\u65b9\u5411 1 \u5141\u8bb8 IPv6 \u5168\u90e8 \u76ee\u7684\u5730\u5740\uff1a::/0 \u5b89\u5168\u7ec4\u89c4\u5219A06\uff1a\u9488\u5bf9\u5168\u90e8IPv6\u534f\u8bae\uff0c\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u4ece\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u6d41\u51fa <p>\u57fa\u4e8e\u4ee5\u4e0a\u573a\u666f\uff0c\u4e0d\u540c\u5165\u65b9\u5411\u62a5\u6587\u5bf9\u89c4\u5219\u7684\u5339\u914d\u60c5\u51b5\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u62a5\u658701\uff1a \u62a5\u658701\u65e0\u6cd5\u5339\u914d\u4e0aFw-A\u4e2d\u7684\u81ea\u5b9a\u4e49\u7f51\u7edcACL\u89c4\u5219\uff0c\u5219\u5339\u914d\u9ed8\u8ba4\u89c4\u5219\uff0c\u62d2\u7edd\u8be5\u62a5\u6587\u6d41\u5165\u5b50\u7f51\u3002</p> </li> <li> <p>\u62a5\u658702\uff1a \u62a5\u658702\u53ef\u5339\u914d\u4e0aFw-A\u4e2d\u7684\u81ea\u5b9a\u4e49\u7f51\u7edcACL\u89c4\u5219A01\uff0c\u6839\u636e\u89c4\u5219\u7b56\u7565\uff0c\u62d2\u7edd\u8be5\u62a5\u6587\u6d41\u5165\u5b50\u7f51\u3002</p> </li> <li> <p>\u62a5\u658703\uff1a \u62a5\u658703\u53ef\u5339\u914d\u4e0aFw-A\u4e2d\u7684\u81ea\u5b9a\u4e49\u7f51\u7edcACL\u89c4\u5219A02\uff0c\u6839\u636e\u89c4\u5219\u7b56\u7565\uff0c\u5141\u8bb8\u8be5\u62a5\u6587\u6d41\u5165\u5b50\u7f51\u3002\u8be5\u62a5\u6587\u7ee7\u7eed\u5339\u914d\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u65e0\u6cd5\u5339\u914d\u4e0aSg-A\u7684\u4efb\u4f55\u5165\u65b9\u5411\u89c4\u5219\uff0c\u62d2\u7edd\u8be5\u62a5\u6587\u6d41\u5165\u5b9e\u4f8b\u3002</p> </li> <li> <p>\u62a5\u658704\uff1a \u62a5\u658704\u53ef\u5339\u914d\u4e0aFw-A\u4e2d\u7684\u81ea\u5b9a\u4e49\u7f51\u7edcACL\u89c4\u521902\uff0c\u6839\u636e\u89c4\u5219\u7b56\u7565\uff0c\u5141\u8bb8\u8be5\u62a5\u6587\u6d41\u5165\u5b50\u7f51\u3002\u8be5\u62a5\u6587\u7ee7\u7eed\u5339\u914d\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u53ef\u5339\u914d\u4e0aSg-A\u7684\u5b89\u5168\u7ec4\u89c4\u5219A02\uff0c\u6839\u636e\u89c4\u5219\u7b56\u7565\uff0c\u62d2\u7edd\u8be5\u62a5\u6587\u6d41\u5165\u5b9e\u4f8b\u3002</p> </li> <li> <p>\u62a5\u658705\uff1a \u62a5\u658705\u53ef\u5339\u914d\u4e0aFw-A\u4e2d\u7684\u81ea\u5b9a\u4e49\u7f51\u7edcACL\u89c4\u521902\uff0c\u6839\u636e\u89c4\u5219\u7b56\u7565\uff0c\u5141\u8bb8\u8be5\u62a5\u6587\u6d41\u5165\u5b50\u7f51\u3002\u8be5\u62a5\u6587\u7ee7\u7eed\u5339\u914d\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u53ef\u5339\u914d\u4e0aSg-A\u7684\u5b89\u5168\u7ec4\u89c4\u5219A01\uff0c\u6839\u636e\u89c4\u5219\u7b56\u7565\uff0c\u5141\u8bb8\u8be5\u62a5\u6587\u6d41\u5165\u5b9e\u4f8b\u3002</p> </li> </ul>","tags":["\u5b89\u5168\u7ec4","\u7f51\u7edcACL","\u5b89\u5168\u7ec4\u4e0e\u7f51\u7edcACL\u7684\u533a\u522b"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/","title":"\u5b89\u5168\u7ec4\u548c\u5b89\u5168\u7ec4\u89c4\u5219\u6982\u8ff0","text":"","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#1","title":"1. \u5b89\u5168\u7ec4\u548c\u5b89\u5168\u7ec4\u89c4\u5219\u6982\u8ff0","text":"","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#11","title":"1.1. \u5b89\u5168\u7ec4","text":"<p>\u5b89\u5168\u7ec4\u662f\u4e00\u4e2a\u903b\u8f91\u4e0a\u7684\u5206\u7ec4\uff0c\u4e3a\u5177\u6709\u76f8\u540c\u5b89\u5168\u4fdd\u62a4\u9700\u6c42\u5e76\u76f8\u4e92\u4fe1\u4efb\u7684\u4e91\u670d\u52a1\u5668\u3001\u4e91\u5bb9\u5668\u3001\u4e91\u6570\u636e\u5e93\u7b49\u5b9e\u4f8b\u63d0\u4f9b\u8bbf\u95ee\u7b56\u7565\u3002\u5b89\u5168\u7ec4\u521b\u5efa\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u5b89\u5168\u7ec4\u4e2d\u5b9a\u4e49\u5404\u79cd\u8bbf\u95ee\u89c4\u5219\uff0c\u5f53\u5b9e\u4f8b\u52a0\u5165\u8be5\u5b89\u5168\u7ec4\u540e\uff0c\u5373\u53d7\u5230\u8fd9\u4e9b\u8bbf\u95ee\u89c4\u5219\u7684\u4fdd\u62a4\u3002</p> <p>\u60a8\u5728\u521b\u5efa\u5b9e\u4f8b\u65f6\uff08\u6bd4\u5982\u4e91\u670d\u52a1\u5668\uff09\uff0c\u5fc5\u987b\u5c06\u5b9e\u4f8b\u52a0\u5165\u4e00\u4e2a\u5b89\u5168\u7ec4\uff0c\u5982\u679c\u6b64\u524d\u60a8\u8fd8\u672a\u521b\u5efa\u4efb\u4f55\u5b89\u5168\u7ec4\uff0c\u90a3\u4e48\u7cfb\u7edf\u4f1a\u81ea\u52a8\u4e3a\u60a8\u521b\u5efa\u9ed8\u8ba4\u5b89\u5168\u7ec4\u5e76\u5173\u8054\u81f3\u8be5\u5b9e\u4f8b\u3002\u9664\u4e86\u9ed8\u8ba4\u5b89\u5168\u7ec4\uff0c\u60a8\u8fd8\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u521b\u5efa\u81ea\u5b9a\u4e49\u5b89\u5168\u7ec4\u5e76\u5173\u8054\u81f3\u5b9e\u4f8b\u3002\u4e00\u4e2a\u5b9e\u4f8b\u53ef\u4ee5\u5173\u8054\u591a\u4e2a\u5b89\u5168\u7ec4\uff0c\u591a\u4e2a\u5b89\u5168\u7ec4\u6309\u7167\u4f18\u5148\u7ea7\u987a\u5e8f\u4f9d\u6b21\u5339\u914d\u6d41\u91cf\u3002</p> <p>\u5b89\u5168\u7ec4\u4e2d\u5305\u62ec\u5165\u65b9\u5411\u89c4\u5219\u548c\u51fa\u65b9\u5411\u89c4\u5219\uff0c\u60a8\u53ef\u4ee5\u9488\u5bf9\u6bcf\u6761\u5165\u65b9\u5411\u89c4\u5219\u6307\u5b9a\u6765\u6e90\u3001\u7aef\u53e3\u548c\u534f\u8bae\uff0c\u9488\u5bf9\u51fa\u65b9\u5411\u89c4\u5219\u6307\u5b9a\u76ee\u7684\u5730\u3001\u7aef\u53e3\u548c\u534f\u8bae\uff0c\u7528\u6765\u63a7\u5236\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u5165\u65b9\u5411\u548c\u51fa\u65b9\u5411\u7684\u7f51\u7edc\u6d41\u91cf\u3002\u4ee5\u56fe1\u4e3a\u4f8b\uff0c\u5728\u533a\u57dfA\u5185\uff0c\u67d0\u5ba2\u6237\u6709\u4e00\u4e2a\u865a\u62df\u79c1\u6709\u4e91VPC-A\u548c\u5b50\u7f51Subnet-A\uff0c\u5728\u5b50\u7f51Subnet-A\u4e2d\u521b\u5efa\u4e00\u4e2a\u4e91\u670d\u52a1\u5668ECS-A\uff0c\u5e76\u4e3aECS-A\u5173\u8054\u4e00\u4e2a\u5b89\u5168\u7ec4Sg-A\u6765\u4fdd\u62a4ECS-A\u7684\u7f51\u7edc\u5b89\u5168\u3002</p> <ul> <li>\u5b89\u5168\u7ec4Sg-A\u7684\u5165\u65b9\u5411\u5b58\u5728\u4e00\u6761\u653e\u901aICMP\u7aef\u53e3\u7684\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7\u4e2a\u4ebaPC (\u8ba1\u7b97\u673a)**ping**\u901aECS-A\u3002\u4f46\u662f\u5b89\u5168\u7ec4\u5185\u672a\u5305\u542b\u5141\u8bb8SSH\u6d41\u91cf\u8fdb\u5165\u5b9e\u4f8b\u7684\u89c4\u5219\uff0c\u56e0\u6b64\u60a8\u65e0\u6cd5\u901a\u8fc7\u4e2a\u4ebaPC\u8fdc\u7a0b\u767b\u5f55ECS-A\u3002</li> <li>\u5f53ECS-A\u9700\u8981\u901a\u8fc7EIP\u8bbf\u95ee\u516c\u7f51\u65f6\uff0c\u7531\u4e8e\u5b89\u5168\u7ec4Sg-A\u7684\u51fa\u65b9\u5411\u89c4\u5219\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u4ece\u5b9e\u4f8b\u6d41\u51fa\uff0c\u56e0\u6b64ECS-A\u53ef\u4ee5\u8bbf\u95ee\u516c\u7f51\u3002</li> </ul> <p>\u56fe1\u00a0\u5b89\u5168\u7ec4\u67b6\u6784\u56fe </p> <p>\u8bf4\u660e</p> <p>\u60a8\u53ef\u4ee5\u514d\u8d39\u4f7f\u7528\u5b89\u5168\u7ec4\u8d44\u6e90\uff0c\u5f53\u524d\u4e0d\u6536\u53d6\u4efb\u4f55\u8d39\u7528\u3002</p>","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#12","title":"1.2. \u5b89\u5168\u7ec4\u89c4\u5219","text":"<ul> <li>\u5b89\u5168\u7ec4\u4e2d\u5305\u62ec\u5165\u65b9\u5411\u89c4\u5219\u548c\u51fa\u65b9\u5411\u89c4\u5219\uff0c\u7528\u6765\u63a7\u5236\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u7684\u5165\u65b9\u5411\u548c\u51fa\u65b9\u5411\u7684\u7f51\u7edc\u6d41\u91cf\u3002<ul> <li>\u5165\u65b9\u5411\u89c4\u5219\uff1a\u63a7\u5236\u5916\u90e8\u8bf7\u6c42\u8bbf\u95ee\u5b89\u5168\u7ec4\u5185\u7684\u5b9e\u4f8b\uff0c\u5373\u6d41\u91cf\u6d41\u5165\u5b9e\u4f8b\u3002</li> <li>\u51fa\u65b9\u5411\u89c4\u5219\uff1a\u63a7\u5236\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u8bbf\u95ee\u5916\u90e8\u7684\u8bf7\u6c42\uff0c\u5373\u6d41\u91cf\u4ece\u5b9e\u4f8b\u6d41\u51fa\u3002</li> </ul> </li> <li>\u5b89\u5168\u7ec4\u89c4\u5219\u7531\u534f\u8bae\u7aef\u53e3\u3001\u6e90\u5730\u5740/\u76ee\u7684\u5730\u5740\u7b49\u7ec4\u6210\uff0c\u5173\u952e\u4fe1\u606f\u8bf4\u660e\u5982\u4e0b\uff1a<ul> <li>\u7b56\u7565\uff1a\u652f\u6301\u5141\u8bb8\u6216\u62d2\u7edd\u3002\u5f53\u6d41\u91cf\u7684\u534f\u8bae\u3001\u7aef\u53e3\u3001\u6e90\u5730\u5740/\u76ee\u7684\u5730\u5740\u6210\u529f\u5339\u914d\u67d0\u4e2a\u5b89\u5168\u7ec4\u89c4\u5219\u540e\uff0c\u4f1a\u5bf9\u6d41\u91cf\u6267\u884c\u89c4\u5219\u5bf9\u5e94\u7684\u7b56\u7565\uff0c\u5141\u8bb8\u6216\u62d2\u7edd\u6d41\u91cf\u3002</li> <li>\u4f18\u5148\u7ea7\uff1a\u4f18\u5148\u7ea7\u53ef\u9009\u8303\u56f4\u4e3a1-100\uff0c\u6570\u5b57\u8d8a\u5c0f\uff0c\u89c4\u5219\u4f18\u5148\u7ea7\u7ea7\u522b\u8d8a\u9ad8\u3002\u5b89\u5168\u7ec4\u89c4\u5219\u5339\u914d\u6d41\u91cf\u65f6\uff0c\u9996\u5148\u6309\u7167\u4f18\u5148\u7ea7\u8fdb\u884c\u6392\u5e8f\uff0c\u5176\u6b21\u6309\u7167\u7b56\u7565\u6392\u5e8f\uff0c\u62d2\u7edd\u7b56\u7565\u9ad8\u4e8e\u5141\u8bb8\u7b56\u7565\uff0c\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1\u6d41\u91cf\u5339\u914d\u5b89\u5168\u7ec4\u89c4\u5219\u7684\u987a\u5e8f\u3002</li> <li>\u7c7b\u578b\uff1a\u652f\u6301\u8bbe\u7f6eIPv4\u548cIPv6\u534f\u8bae\u7684\u89c4\u5219\u3002</li> <li>\u534f\u8bae\u7aef\u53e3\uff1a\u5305\u62ec\u7f51\u7edc\u534f\u8bae\u7c7b\u578b\u548c\u7aef\u53e3\u8303\u56f4\u3002<ul> <li>\u7f51\u7edc\u534f\u8bae\uff1a\u5339\u914d\u6d41\u91cf\u7684\u534f\u8bae\u7c7b\u578b\uff0c\u652f\u6301TCP\u3001UDP\u3001ICMP\u548cGRE\u534f\u8bae\u3002</li> <li>\u7aef\u53e3\u8303\u56f4\uff1a\u5339\u914d\u6d41\u91cf\u7684\u76ee\u7684\u7aef\u53e3\uff0c\u53d6\u503c\u8303\u56f4\u4e3a\uff1a1\uff5e65535\u3002</li> </ul> </li> <li> <p>\u6e90\u5730\u5740\u6216\u76ee\u7684\u5730\u5740\uff1a\u5728\u5165\u65b9\u5411\u4e2d\uff0c\u5339\u914d\u6d41\u91cf\u7684\u6e90\u5730\u5740\u3002\u5728\u51fa\u65b9\u5411\u4e2d\uff0c\u5339\u914d\u6d41\u91cf\u7684\u76ee\u7684\u5730\u5740\u3002</p> <p>\u60a8\u53ef\u4ee5\u4f7f\u7528IP\u5730\u5740\u3001\u5b89\u5168\u7ec4\u3001IP\u5730\u5740\u7ec4\u4f5c\u4e3a\u6e90\u5730\u5740\u6216\u8005\u76ee\u7684\u5730\u5740\u3002</p> <ul> <li>IP\u5730\u5740\uff1a\u67d0\u4e2a\u56fa\u5b9a\u7684IP\u5730\u5740\u6216\u8005\u7f51\u6bb5\uff0c\u652f\u6301IPv4\u548cIPv6\u5730\u5740\u3002\u6bd4\u5982\uff1a192.168.10.10/32\uff08IPv4\u5730\u5740\uff09\u3001192.168.1.0/24\uff08IPv4\u7f51\u6bb5\uff09\u30012407:c080:802:469::/64\uff08IPv6\u7f51\u6bb5\uff09</li> <li>\u5b89\u5168\u7ec4\uff1a\u76ee\u6807\u5b89\u5168\u7ec4\u548c\u5f53\u524d\u5b89\u5168\u7ec4\u4f4d\u4e8e\u540c\u4e00\u533a\u57df\uff0c\u8868\u793a\u6d41\u91cf\u5339\u914d\u76ee\u6807\u5b89\u5168\u7ec4\u5185\u6240\u6709\u5b9e\u4f8b\u7684\u79c1\u6709IP\u5730\u5740\u3002\u6bd4\u5982\uff1a\u5f53\u5b89\u5168\u7ec4A\u5185\u6709\u5b9e\u4f8ba\uff0c\u5b89\u5168\u7ec4B\u5185\u6709\u5b9e\u4f8bb\uff0c\u5728\u5b89\u5168\u7ec4A\u7684\u5165\u65b9\u5411\u89c4\u5219\u4e2d\uff0c\u653e\u901a\u6e90\u5730\u5740\u4e3a\u5b89\u5168\u7ec4B\u7684\u6d41\u91cf\uff0c\u5219\u6765\u81ea\u5b9e\u4f8bb\u7684\u5185\u7f51\u8bbf\u95ee\u8bf7\u6c42\u88ab\u5141\u8bb8\u8fdb\u5165\u5b9e\u4f8ba\u3002</li> <li>IP\u5730\u5740\u7ec4\uff1aIP\u5730\u5740\u7ec4\u662f\u4e00\u4e2a\u6216\u8005\u591a\u4e2aIP\u5730\u5740\u7684\u96c6\u5408\uff0c\u5bf9\u4e8e\u5b89\u5168\u7b56\u7565\u76f8\u540c\u7684IP\u7f51\u6bb5\u548cIP\u5730\u5740\uff0c\u6b64\u5904\u5efa\u8bae\u60a8\u4f7f\u7528IP\u5730\u5740\u7ec4\u7b80\u5316\u7ba1\u7406\u3002</li> </ul> </li> </ul> </li> </ul>","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#13","title":"1.3. \u5b89\u5168\u7ec4\u53ca\u89c4\u5219\u7684\u5de5\u4f5c\u539f\u7406","text":"<ul> <li>\u5b89\u5168\u7ec4\u662f\u6709\u72b6\u6001\u7684\u3002\u5982\u679c\u60a8\u4ece\u5b9e\u4f8b\u53d1\u9001\u4e00\u4e2a\u51fa\u7ad9\u8bf7\u6c42\uff0c\u4e14\u8be5\u5b89\u5168\u7ec4\u7684\u51fa\u65b9\u5411\u89c4\u5219\u662f\u653e\u901a\u7684\u8bdd\uff0c\u90a3\u4e48\u65e0\u8bba\u5176\u5165\u65b9\u5411\u89c4\u5219\u5982\u4f55\uff0c\u90fd\u5c06\u5141\u8bb8\u8be5\u51fa\u7ad9\u8bf7\u6c42\u7684\u54cd\u5e94\u6d41\u91cf\u6d41\u5165\u3002\u540c\u7406\uff0c\u5982\u679c\u8be5\u5b89\u5168\u7ec4\u7684\u5165\u65b9\u5411\u89c4\u5219\u662f\u653e\u901a\u7684\uff0c\u90a3\u65e0\u8bba\u51fa\u65b9\u5411\u89c4\u5219\u5982\u4f55\uff0c\u90fd\u5c06\u5141\u8bb8\u5165\u7ad9\u8bf7\u6c42\u7684\u54cd\u5e94\u6d41\u91cf\u53ef\u4ee5\u6d41\u51fa\u3002</li> <li> <p>\u5b89\u5168\u7ec4\u4f7f\u7528\u8fde\u63a5\u8ddf\u8e2a\u6765\u6807\u8bc6\u8fdb\u51fa\u5b9e\u4f8b\u7684\u6d41\u91cf\u4fe1\u606f\uff0c\u5165\u65b9\u5411\u5b89\u5168\u7ec4\u7684\u89c4\u5219\u53d8\u66f4\uff0c\u5bf9\u539f\u6709\u6d41\u91cf\u7acb\u5373\u751f\u6548\u3002\u51fa\u65b9\u5411\u5b89\u5168\u7ec4\u89c4\u5219\u7684\u53d8\u66f4\uff0c\u4e0d\u5f71\u54cd\u5df2\u5efa\u7acb\u7684\u957f\u8fde\u63a5\uff0c\u53ea\u5bf9\u65b0\u5efa\u7acb\u7684\u8fde\u63a5\u751f\u6548\u3002</p> <p>\u5f53\u60a8\u5728\u5b89\u5168\u7ec4\u5185\u589e\u52a0\u3001\u5220\u9664\u3001\u66f4\u65b0\u89c4\u5219\uff0c\u6216\u8005\u5728\u5b89\u5168\u7ec4\u5185\u6dfb\u52a0\u3001\u79fb\u51fa\u5b9e\u4f8b\u65f6\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u6e05\u9664\u8be5\u5b89\u5168\u7ec4\u5185\u6240\u6709\u5b9e\u4f8b\u5165\u65b9\u5411\u7684\u8fde\u63a5\uff0c\u8be6\u7ec6\u8bf4\u660e\u5982\u4e0b\uff1a</p> <ul> <li>\u7531\u5165\u65b9\u5411\u6d41\u91cf\u5efa\u7acb\u7684\u8fde\u63a5\uff0c\u5df2\u5efa\u7acb\u7684\u957f\u8fde\u63a5\u5c06\u4f1a\u65ad\u5f00\u3002\u6240\u6709\u5165\u65b9\u5411\u6d41\u91cf\u7acb\u5373\u91cd\u65b0\u5efa\u7acb\u8fde\u63a5\uff0c\u5e76\u5339\u914d\u65b0\u7684\u5b89\u5168\u7ec4\u5165\u65b9\u5411\u89c4\u5219\u3002</li> <li>\u7531\u51fa\u65b9\u5411\u6d41\u91cf\u5efa\u7acb\u7684\u8fde\u63a5\uff0c\u5df2\u5efa\u7acb\u7684\u957f\u8fde\u63a5\u4e0d\u4f1a\u65ad\u5f00\uff0c\u4f9d\u65e7\u9075\u5faa\u539f\u6709\u5b89\u5168\u7ec4\u89c4\u5219\u3002\u51fa\u65b9\u5411\u6d41\u91cf\u65b0\u5efa\u7acb\u7684\u8fde\u63a5\uff0c\u5c06\u4f1a\u5339\u914d\u65b0\u7684\u5b89\u5168\u7ec4\u51fa\u65b9\u5411\u89c4\u5219\u3002</li> </ul> </li> </ul> <p>\u987b\u77e5</p> <p>\u5bf9\u4e8e\u5df2\u5efa\u7acb\u7684\u957f\u8fde\u63a5\uff0c\u6d41\u91cf\u65ad\u5f00\u540e\uff0c\u4e0d\u4f1a\u7acb\u5373\u5efa\u7acb\u65b0\u7684\u8fde\u63a5\uff0c\u9700\u8981\u8d85\u8fc7\u8fde\u63a5\u8ddf\u8e2a\u7684\u8001\u5316\u65f6\u95f4\u540e\uff0c\u624d\u4f1a\u65b0\u5efa\u7acb\u8fde\u63a5\u5e76\u5339\u914d\u65b0\u7684\u89c4\u5219\u3002\u6bd4\u5982\uff0c\u5bf9\u4e8e\u5df2\u5efa\u7acb\u7684ICMP\u534f\u8bae\u957f\u8fde\u63a5\uff0c\u5f53\u6d41\u91cf\u4e2d\u65ad\u540e\uff0c\u9700\u8981\u8d85\u8fc7\u8001\u5316\u65f6\u95f430s\u540e\uff0c\u5c06\u4f1a\u65b0\u5efa\u7acb\u8fde\u63a5\u5e76\u5339\u914d\u65b0\u7684\u89c4\u5219\uff0c\u8be6\u7ec6\u8bf4\u660e\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u4e0d\u540c\u534f\u8bae\u7684\u8fde\u63a5\u8ddf\u8e2a\u8001\u5316\u65f6\u95f4\u4e0d\u540c\uff0c\u6bd4\u5982\u5df2\u5efa\u7acb\u8fde\u63a5\u72b6\u6001\u7684TCP\u534f\u8bae\u8fde\u63a5\u8001\u5316\u65f6\u95f4\u662f600s\uff0cICMP\u534f\u8bae\u8001\u5316\u65f6\u95f4\u662f30s\u3002\u5bf9\u4e8e\u9664TCP\u548cICMP\u7684\u5176\u4ed6\u534f\u8bae\uff0c\u5982\u679c\u4e24\u4e2a\u65b9\u5411\u90fd\u6536\u5230\u4e86\u62a5\u6587\uff0c\u8fde\u63a5\u8001\u5316\u65f6\u95f4\u662f180s\uff0c\u5982\u679c\u53ea\u662f\u5355\u65b9\u5411\u6536\u5230\u4e86\u62a5\u6587\uff0c\u53e6\u4e00\u4e2a\u65b9\u5411\u6ca1\u6709\u6536\u5230\u62a5\u6587\uff0c\u5219\u8fde\u63a5\u8001\u5316\u65f6\u95f4\u662f30s\u3002</p> </li> <li> <p>TCP\u534f\u8bae\u5904\u4e8e\u4e0d\u540c\u72b6\u6001\u4e0b\u7684\u8fde\u63a5\u8001\u5316\u65f6\u95f4\u4e5f\u4e0d\u76f8\u540c\uff0c\u6bd4\u5982TCP\u8fde\u63a5\u5904\u4e8eESTABLISHED\uff08\u8fde\u63a5\u5df2\u5efa\u7acb\uff09\u72b6\u6001\u65f6\uff0c\u8001\u5316\u65f6\u95f4\u662f600s\uff0c\u5904\u4e8eFIN-WAIT\uff08\u8fde\u63a5\u5373\u5c06\u5173\u95ed\uff09\u72b6\u6001\u65f6\uff0c\u8001\u5316\u65f6\u95f4\u662f30s\u3002</p> </li> </ul> <ul> <li> <p>\u5b89\u5168\u7ec4\u89c4\u5219\u9075\u5faa\u767d\u540d\u5355\u539f\u7406\uff0c\u5f53\u5728\u89c4\u5219\u4e2d\u6ca1\u6709\u660e\u786e\u5b9a\u4e49\u5141\u8bb8\u6216\u62d2\u7edd\u67d0\u6761\u6d41\u91cf\u65f6\uff0c\u5b89\u5168\u7ec4\u4e00\u5f8b\u62d2\u7edd\u8be5\u6d41\u91cf\u6d41\u5165\u6216\u8005\u6d41\u51fa\u5b9e\u4f8b\u3002</p> <ul> <li> <p>\u5728\u5165\u65b9\u5411\u4e2d\uff0c\u5f53\u8bf7\u6c42\u5339\u914d\u4e0a\u5b89\u5168\u7ec4\u4e2d\u5165\u65b9\u5411\u89c4\u5219\u7684\u6e90\u5730\u5740\uff0c\u5e76\u4e14\u7b56\u7565\u4e3a\u201c\u5141\u8bb8\u201d\u65f6\uff0c\u5141\u8bb8\u8be5\u8bf7\u6c42\u8fdb\u5165\uff0c\u5176\u4ed6\u8bf7\u6c42\u4e00\u5f8b\u62e6\u622a\u3002\u56e0\u6b64\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u60a8\u4e00\u822c\u4e0d\u7528\u5728\u5165\u65b9\u5411\u914d\u7f6e\u7b56\u7565\u4e3a\u201c\u62d2\u7edd\u201d\u7684\u89c4\u5219\u3002</p> <p>\u88681\u4e2d\u7684\u5165\u65b9\u5411\u89c4\u5219\uff0c\u786e\u4fdd\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u5185\u7f51\u7f51\u7edc\u4e92\u901a\uff0c\u4e0d\u5efa\u8bae\u60a8\u5220\u9664\u6216\u8005\u4fee\u6539\u8be5\u5b89\u5168\u7ec4\u89c4\u5219\u3002</p> </li> <li> <p>\u5728\u51fa\u65b9\u5411\u4e2d\uff0c\u88681\u4e2d\u7684\u51fa\u65b9\u5411\u89c4\u5219\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u4ece\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u6d41\u51fa\uff0c\u5373\u5b9e\u4f8b\u53ef\u8bbf\u95ee\u5916\u90e8\u4efb\u610fIP\u548c\u7aef\u53e3\u3002\u5982\u679c\u60a8\u5220\u9664\u4e86\u8be5\u89c4\u5219\uff0c\u5219\u5b89\u5168\u7ec4\u5185\u7684\u5b9e\u4f8b\u65e0\u6cd5\u8bbf\u95ee\u5916\u90e8\uff0c\u8bf7\u60a8\u8c28\u614e\u64cd\u4f5c\u3002</p> </li> </ul> </li> </ul> <p>\u88681\u00a0\u5b89\u5168\u7ec4\u89c4\u5219\u8bf4\u660e</p> \u65b9\u5411 \u7b56\u7565 \u7c7b\u578b \u534f\u8bae\u7aef\u53e3 \u6e90\u5730\u5740/\u76ee\u7684\u5730\u5740 \u5165\u65b9\u5411 \u5141\u8bb8 IPv4 \u5168\u90e8 \u6e90\u5730\u5740\uff1a\u5f53\u524d\u5b89\u5168\u7ec4 \u5165\u65b9\u5411 \u5141\u8bb8 IPv6 \u5168\u90e8 \u6e90\u5730\u5740\uff1a\u5f53\u524d\u5b89\u5168\u7ec4 \u51fa\u65b9\u5411 \u5141\u8bb8 IPv4 \u5168\u90e8 \u76ee\u7684\u5730\u5740\uff1a0.0.0.0/0 \u51fa\u65b9\u5411 \u5141\u8bb8 IPv6 \u5168\u90e8 \u76ee\u7684\u5730\u5740\uff1a::/0","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#14","title":"1.4. \u6d41\u91cf\u5339\u914d\u5b89\u5168\u7ec4\u89c4\u5219\u7684\u987a\u5e8f","text":"<p>\u4e00\u4e2a\u5b9e\u4f8b\u53ef\u4ee5\u5173\u8054\u591a\u4e2a\u5b89\u5168\u7ec4\uff0c\u5e76\u4e14\u4e00\u4e2a\u5b89\u5168\u7ec4\u5185\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u5b89\u5168\u7ec4\u89c4\u5219\u3002\u5b89\u5168\u7ec4\u89c4\u5219\u5339\u914d\u6d41\u91cf\u65f6\uff0c\u9996\u5148\u6309\u7167\u4f18\u5148\u7ea7\u8fdb\u884c\u6392\u5e8f\uff0c\u5176\u6b21\u6309\u7167\u7b56\u7565\u5339\u914d\uff0c\u62d2\u7edd\u7b56\u7565\u9ad8\u4e8e\u5141\u8bb8\u7b56\u7565\u3002\u5982[[|\u56fe2]]\u6240\u793a\uff0c\u4ee5\u5165\u65b9\u5411\u7684\u6d41\u91cf\u4e3a\u4f8b\uff0c\u5b9e\u4f8b\u7684\u7f51\u7edc\u6d41\u91cf\u5c06\u6309\u7167\u4ee5\u4e0b\u539f\u5219\u5339\u914d\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u5165\u65b9\u5411\u548c\u51fa\u65b9\u5411\u7684\u6d41\u91cf\u5339\u914d\u987a\u5e8f\u76f8\u540c\u3002</p> <ol> <li> <p>\u9996\u5148\uff0c\u6d41\u91cf\u6309\u7167\u5b89\u5168\u7ec4\u7684\u987a\u5e8f\u8fdb\u884c\u5339\u914d\u3002\u60a8\u53ef\u4ee5\u81ea\u884c\u8c03\u6574\u5b89\u5168\u7ec4\u987a\u5e8f\uff0c\u5b89\u5168\u7ec4\u5e8f\u53f7\u8d8a\u5c0f\uff0c\u8868\u793a\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002</p> <p>\u6bd4\u5982\uff0c\u5b89\u5168\u7ec4A\u7684\u5e8f\u53f7\u4e3a1\uff0c\u5b89\u5168\u7ec4B\u7684\u5e8f\u53f7\u4e3a2\uff0c\u5b89\u5168\u7ec4A\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u5b89\u5168\u7ec4B\uff0c\u6d41\u91cf\u4f18\u5148\u5339\u914d\u5b89\u5168\u7ec4A\u5185\u7684\u5165\u65b9\u5411\u89c4\u5219\u3002</p> </li> <li> <p>\u5176\u6b21\uff0c\u6d41\u91cf\u6309\u7167\u5b89\u5168\u7ec4\u89c4\u5219\u7684\u4f18\u5148\u7ea7\u548c\u7b56\u7565\u8fdb\u884c\u5339\u914d\u3002</p> <ol> <li> <p>\u5148\u6309\u7167\u5b89\u5168\u7ec4\u89c4\u5219\u4f18\u5148\u7ea7\u5339\u914d\uff0c\u4f18\u5148\u7ea7\u7684\u6570\u5b57\u8d8a\u5c0f\uff0c\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002</p> <p>\u6bd4\u5982\u5b89\u5168\u7ec4\u89c4\u5219A\u7684\u4f18\u5148\u7ea7\u4e3a1\uff0c\u5b89\u5168\u7ec4\u89c4\u5219B\u7684\u4f18\u5148\u7ea7\u4e3a2\uff0c\u5b89\u5168\u7ec4\u89c4\u5219A\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u5b89\u5168\u7ec4\u89c4\u5219B\uff0c\u6d41\u91cf\u4f18\u5148\u5339\u914d\u5b89\u5168\u7ec4\u89c4\u5219A\u3002</p> </li> <li> <p>\u5b89\u5168\u7ec4\u89c4\u5219\u4f18\u5148\u7ea7\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0c\u518d\u6309\u7167\u7b56\u7565\u5339\u914d\uff0c\u62d2\u7edd\u7b56\u7565\u9ad8\u4e8e\u5141\u8bb8\u7b56\u7565\u3002</p> </li> </ol> </li> <li> <p>\u6d41\u91cf\u6309\u7167\u534f\u8bae\u7aef\u53e3\u548c\u6e90\u5730\u5740\uff0c\u904d\u5386\u4e86\u6240\u6709\u5b89\u5168\u7ec4\u5185\u7684\u5165\u65b9\u5411\u89c4\u5219\u3002</p> <ul> <li>\u5982\u679c\u6210\u529f\u5339\u914d\u67d0\u4e2a\u89c4\u5219\uff0c\u5219\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a<ul> <li>\u5982\u679c\u89c4\u5219\u7684\u7b56\u7565\u662f\u5141\u8bb8\uff0c\u5219\u5141\u8bb8\u8be5\u6d41\u91cf\u8bbf\u95ee\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u3002</li> <li>\u5982\u679c\u89c4\u5219\u7684\u7b56\u7565\u662f\u62d2\u7edd\uff0c\u5219\u62d2\u7edd\u8be5\u6d41\u91cf\u8bbf\u95ee\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u3002</li> </ul> </li> <li>\u5982\u679c\u672a\u5339\u914d\u4e0a\u4efb\u4f55\u89c4\u5219\uff0c\u5219\u62d2\u7edd\u8be5\u6d41\u91cf\u8bbf\u95ee\u5b89\u5168\u7ec4\u5185\u7684\u5b9e\u4f8b\u3002</li> </ul> </li> </ol> <p>\u56fe2\u00a0\u5b89\u5168\u7ec4\u5339\u914d\u987a\u5e8f </p>","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#15","title":"1.5. \u5b89\u5168\u7ec4\u914d\u7f6e\u793a\u4f8b","text":"<p>\u60a8\u53ef\u4ee5\u5728\u5b89\u5168\u7ec4\u5185\u653e\u901a\u6307\u5b9aIP\u5730\u5740\uff0c\u5141\u8bb8\u6307\u5b9aIP\u5730\u5740\u8bbf\u95ee\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\uff0c\u6216\u8005\u5728\u67d0\u4e2a\u5b89\u5168\u7ec4\u5185\u653e\u901a\u53e6\u5916\u4e00\u4e2a\u5b89\u5168\u7ec4\uff0c\u5b9e\u73b0\u4e0d\u540c\u5b89\u5168\u7ec4\u5185\u7684\u5b9e\u4f8b\u5185\u7f51\u4e92\u901a\u3002\u901a\u8fc7\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u60a8\u53ef\u4ee5\u7075\u6d3b\u63a7\u5236\u7ec4\u7f51\u5185\u6d41\u91cf\u7684\u8d70\u5411\uff0c\u4ee5\u786e\u4fdd\u60a8\u7684\u7f51\u7edc\u5b89\u5168\uff0c\u4ee5\u4e0b\u4e3a\u60a8\u63d0\u4f9b\u4e86\u5178\u578b\u7684\u5b89\u5168\u7ec4\u5e94\u7528\u793a\u4f8b\u3002</p> \u63a7\u5236\u5916\u90e8\u6307\u5b9aIP\u5730\u5740\u6216\u5b89\u5168\u7ec4\u5bf9\u5b9e\u4f8b\u7684\u8bbf\u95ee\u63a7\u5236\u865a\u62dfIP\u8bbf\u95ee\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u63a7\u5236\u5bf9\u7b49\u8fde\u63a5\u4e24\u7aefVPC\u5185\u7684\u5b9e\u4f8b\u4e92\u8bbf <p>\u5982\u56fe3\u6240\u793a\uff0c\u5728VPC-X\u4e2d\u6709\u4e24\u4e2a\u5b50\u7f51Subnet-A\u548cSubnet-B\uff0cSubnet-A\u4e2d\u7684ECS\u627f\u8f7d\u540c\u4e00\u7c7b\u4e1a\u52a1\uff0c\u9700\u8981\u76f8\u540c\u7684\u7f51\u7edc\u8fde\u63a5\u8bf7\u6c42\uff0c\u56e0\u6b64\u5747\u5173\u8054\u81f3\u5b89\u5168\u7ec4Sg-A\u3002\u540c\u7406\uff0cSubnet-B\u4e2d\u7684ECS\u5747\u5173\u8054\u81f3\u53e6\u5916\u4e00\u4e2a\u5b89\u5168\u7ec4Sg-B\u3002</p> <ul> <li>\u5b89\u5168\u7ec4Sg-A\u5165\u65b9\u5411\u89c4\u5219A01\u5141\u8bb8\u4ece\u6307\u5b9aIP\u5730\u5740 (172.16.0.0/24)\u8bbf\u95ee\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u7684SSH(22)\u7aef\u53e3\uff0c\u7528\u4e8e\u8fdc\u7a0b\u767b\u5f55\u5b89\u5168\u7ec4\u5185\u7684Linux\u4e91\u670d\u52a1\u5668\u3002</li> <li>\u5b89\u5168\u7ec4Sg-A\u5165\u65b9\u5411\u89c4\u5219A02\u5141\u8bb8\u5b89\u5168\u7ec4\u5185\u7684\u5b9e\u4f8b\u53ef\u4f7f\u7528\u4efb\u4f55\u534f\u8bae\u548c\u7aef\u53e3\u4e92\u76f8\u901a\u4fe1\uff0c\u5373\u5b50\u7f51Subnet-A\u5185\u7684ECS\u7f51\u7edc\u4e92\u901a\u3002</li> <li>\u5b89\u5168\u7ec4Sg-B\u5165\u65b9\u5411\u89c4\u5219B01\u5141\u8bb8Sg-A\u5185\u7684\u5b9e\u4f8b\u8bbf\u95eeSg-B\u5185\u5b9e\u4f8b\u7684SSH(22)\u7aef\u53e3\uff0c\u5373\u901a\u8fc7\u5b50\u7f51Subnet-A\u7684ECS\u53ef\u8fdc\u7a0b\u767b\u5f55Subnet-B\u5185\u7684ECS\u3002</li> <li>\u5b89\u5168\u7ec4Sg-B\u5165\u65b9\u5411\u89c4\u5219B02\u5141\u8bb8\u5b89\u5168\u7ec4\u5185\u7684\u5b9e\u4f8b\u53ef\u4f7f\u7528\u4efb\u4f55\u534f\u8bae\u548c\u7aef\u53e3\u4e92\u76f8\u901a\u4fe1\uff0c\u5373\u5b50\u7f51Subnet-B\u5185\u7684ECS\u7f51\u7edc\u4e92\u901a\u3002</li> <li>\u4e24\u4e2a\u5b89\u5168\u7ec4\u7684\u51fa\u65b9\u5411\u89c4\u5219\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u4ece\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u6d41\u51fa\u3002</li> </ul> <p>\u56fe3\u00a0\u63a7\u5236\u5916\u90e8\u6307\u5b9aIP\u5730\u5740\u6216\u5b89\u5168\u7ec4\u5bf9\u5b9e\u4f8b\u7684\u8bbf\u95ee </p> <p>\u5982\u679c\u60a8\u901a\u8fc7\u4e2d\u95f4\u7f51\u7edc\u5b9e\u4f8b\u5728\u4e0d\u540c\u5b50\u7f51\u7684\u5b9e\u4f8b\u4e4b\u95f4\u8f6c\u53d1\u6d41\u91cf\uff0c\u6bd4\u5982\u56fe4\u4e2d\uff0c\u5b50\u7f51Subnet-A\u7684ECS\u901a\u8fc7\u865a\u62dfIP\u548c\u5b50\u7f51Subnet-B\u7684ECS\u4e92\u76f8\u901a\u4fe1\u3002\u7531\u4e8e\u5b58\u5728\u4e2d\u95f4\u7f51\u7edc\u5b9e\u4f8b\uff0c\u6b64\u65f6\u5b89\u5168\u7ec4\u89c4\u5219\u7684\u6e90\u5730\u5740\u9009\u62e9\u5b9e\u4f8b\u6240\u5728\u7684\u5b89\u5168\u7ec4\u65f6\uff0c\u65e0\u6cd5\u653e\u901a\u4e2d\u95f4\u7f51\u7edc\u5b9e\u4f8b\u8f6c\u53d1\u7684\u6d41\u91cf\uff0c\u6e90\u5730\u5740\u5fc5\u987b\u8bbe\u7f6e\u6210\u4e2d\u95f4\u7f51\u7edc\u5b9e\u4f8b\u7684\u79c1\u6709IP\u5730\u5740\u6216\u8005\u5b50\u7f51\u7f51\u6bb5\u3002</p> <p>\u5728VPC-X\u4e2d\u6709\u4e24\u4e2a\u5b50\u7f51Subnet-A\u548cSubnet-B\uff0cSubnet-A\u4e2d\u7684ECS\u5173\u8054\u81f3\u5b89\u5168\u7ec4Sg-A\uff0cSubnet-B\u4e2d\u7684ECS\u5173\u8054\u81f3\u5b89\u5168\u7ec4Sg-B\u3002\u901a\u8fc7\u865a\u62dfIP\u5c06Subnet-A\u4e2d\u7684ECS\u642d\u5efa\u6210Keepalived\u9ad8\u53ef\u7528\u96c6\u7fa4\uff0c\u540e\u7aef\u670d\u52a1\u5668ECS-A01\u548cECS-A02\u5f62\u6210\u4e3b\u5907\u6a21\u5f0f\uff0c\u5bf9\u5916\u4f7f\u7528\u865a\u62dfIP\u8fdb\u884c\u901a\u4fe1\u3002</p> <ul> <li>\u5b89\u5168\u7ec4Sg-A\u5165\u65b9\u5411\u89c4\u5219A01\u5141\u8bb8Sg-B\u5185\u7684\u5b9e\u4f8b\u4f7f\u7528\u4efb\u4f55\u534f\u8bae\u548c\u7aef\u53e3\u8bbf\u95eeSg-A\u5185\u7684\u5b9e\u4f8b\u3002</li> <li>\u5b89\u5168\u7ec4Sg-B\u5165\u65b9\u5411\u89c4\u5219\u8bf4\u660e\u5982\u4e0b\uff1a<ul> <li>\u89c4\u5219B02\uff1a\u5141\u8bb8Sg-A\u5185\u7684\u5b9e\u4f8b\u4f7f\u7528\u79c1\u6709IP\u5730\u5740\u8bbf\u95eeSg-B\u5185\u5b9e\u4f8b\uff0c\u4f46\u662f\u5f53\u524d\u7ec4\u7f51\u4e0b\uff0cSg-A\u5185\u7684\u5b9e\u4f8b\u548cSg-B\u5185\u7684\u5b9e\u4f8b\u901a\u4fe1\u9700\u8981\u7ecf\u8fc7\u865a\u62dfIP\uff0c\u6b64\u65f6\u865a\u62dfIP\u7684\u6d41\u91cf\u65e0\u6cd5\u6d41\u5165Sg-B\u5185\u7684\u5b9e\u4f8b\uff0c\u8be5\u89c4\u5219\u4e0d\u9002\u7528\u4e8e\u5f53\u524d\u7ec4\u7f51\u3002</li> <li>\u89c4\u5219B01\uff1a\u5141\u8bb8\u865a\u62dfIP(192.168.0.21)\u4f7f\u7528\u4efb\u4f55\u534f\u8bae\u548c\u7aef\u53e3\u8bbf\u95eeSg-B\u5185\u7684\u5b9e\u4f8b\u3002\u5f53\u524d\u7ec4\u7f51\u4e2d\uff0c\u60a8\u8fd8\u53ef\u4ee5\u5c06\u6e90\u5730\u5740\u8bbe\u7f6e\u6210\u5b50\u7f51Subnet-A\u7684\u7f51\u6bb5192.168.0.0/24\u3002</li> </ul> </li> </ul> <p>\u56fe4\u00a0\u63a7\u5236\u865a\u62dfIP\u8bbf\u95ee\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b </p> <p>\u5982\u56fe5\u6240\u793a\uff0c\u5728\u533a\u57dfA\u5185\uff0c\u901a\u8fc7VPC\u5bf9\u7b49\u8fde\u63a5\u8fde\u901aVPC-A\u548cVPC-B\u4e4b\u95f4\u7684\u7f51\u7edc\u3002\u5bf9\u7b49\u8fde\u63a5\u8def\u7531\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u5b50\u7f51Subnet-A01\u548c\u5b50\u7f51Subnet-B01\u4e4b\u95f4\u7f51\u7edc\u5df2\u8fde\u901a\u3002\u4f46\u662f\u7531\u4e8e\u4e24\u4e2a\u5b50\u7f51\u5185\u7684ECS\u5206\u522b\u5173\u8054\u4e86\u4e0d\u540c\u7684\u5b89\u5168\u7ec4\uff0c\u6b64\u65f6ECS\u4e4b\u95f4\u4ecd\u7136\u7f51\u7edc\u4e0d\u901a\uff0c\u60a8\u8fd8\u9700\u8981\u653e\u901a\u5b89\u5168\u7ec4Sg-A\u548cSg-B\u7684\u7f51\u7edc\uff0c\u624d\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u7b49\u8fde\u63a5\u4e24\u7aef\u7684ECS\u7f51\u7edc\u4e92\u901a\u3002</p> <ul> <li>\u5728\u5b89\u5168\u7ec4Sg-A\u4e2d\uff0c\u89c4\u5219A01\u5141\u8bb8\u6765\u81eaSg-B\u5185\u5b9e\u4f8b\u7684\u6d41\u91cf\u8bbf\u95eeSg-A\u5185\u7684\u5b9e\u4f8b\uff0c\u6e90\u5730\u5740\u4e3a\u5b89\u5168\u7ec4Sg-B\u3002</li> <li>\u5728\u5b89\u5168\u7ec4Sg-B\u4e2d\uff0c\u89c4\u5219B01\u5141\u8bb8\u6765\u81eaSg-A\u5185\u5b9e\u4f8b\u7684\u6d41\u91cf\u8bbf\u95eeSg-B\u5185\u7684\u5b9e\u4f8b\uff0c\u6e90\u5730\u5740\u4e3a\u5b89\u5168\u7ec4Sg-A\u3002</li> </ul> <p>\u56fe5\u00a0\u63a7\u5236\u5bf9\u7b49\u8fde\u63a5\u4e24\u7aefVPC\u5185\u7684\u5b9e\u4f8b\u4e92\u8bbf </p> <p>\u8bf4\u660e\uff1a</p> <p>\u66f4\u591a\u5b89\u5168\u7ec4\u89c4\u5219\u914d\u7f6e\u793a\u4f8b\uff0c\u8bf7\u53c2\u89c1\u5b89\u5168\u7ec4\u914d\u7f6e\u793a\u4f8b\u3002</p>","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#16","title":"1.6. \u5b89\u5168\u7ec4\u914d\u7f6e\u6d41\u7a0b","text":"<p>\u56fe6\u00a0\u5b89\u5168\u7ec4\u914d\u7f6e\u6d41\u7a0b </p> <p>\u88682\u00a0\u5b89\u5168\u7ec4\u914d\u7f6e\u6d41\u7a0b\u8bf4\u660e</p> \u5e8f\u53f7 \u6b65\u9aa4 \u8bf4\u660e \u64cd\u4f5c\u6307\u5bfc 1 \u521b\u5efa\u5b89\u5168\u7ec4 \u521b\u5efa\u5b89\u5168\u7ec4\u65f6\u5019\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u7cfb\u7edf\u63d0\u4f9b\u7684\u89c4\u5219\u3002\u9884\u7f6e\u7684\u90e8\u5206\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u89c1\u5b89\u5168\u7ec4\u6a21\u677f\u8bf4\u660e\u3002 \u521b\u5efa\u5b89\u5168\u7ec4 2 \u914d\u7f6e\u5b89\u5168\u7ec4\u89c4\u5219 \u5b89\u5168\u7ec4\u521b\u5efa\u5b8c\u6210\u540e\uff0c\u5982\u679c\u6a21\u677f\u91cc\u9762\u7684\u89c4\u5219\u4e0d\u80fd\u6ee1\u8db3\u4e1a\u52a1\u8981\u6c42\uff0c\u60a8\u8fd8\u53ef\u4ee5\u5728\u5b89\u5168\u7ec4\u4e2d\u6dfb\u52a0\u65b0\u7684\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u6216\u8005\u4fee\u6539\u5df2\u6709\u7684\u5b89\u5168\u7ec4\u89c4\u5219\u3002 \u6dfb\u52a0\u5b89\u5168\u7ec4\u89c4\u5219\u5feb\u901f\u6dfb\u52a0\u591a\u6761\u5b89\u5168\u7ec4\u89c4\u5219 3 \u5728\u5b89\u5168\u7ec4\u4e2d\u6dfb\u52a0\u5b9e\u4f8b \u521b\u5efa\u5b9e\u4f8b\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u5c06\u5b9e\u4f8b\u52a0\u5165\u4e00\u4e2a\u5b89\u5168\u7ec4\u5185\uff0c\u5b9e\u4f8b\u5c06\u4f1a\u53d7\u5230\u5b89\u5168\u7ec4\u7684\u4fdd\u62a4\u3002\u5982\u679c\u4e00\u4e2a\u5b89\u5168\u7ec4\u65e0\u6cd5\u6ee1\u8db3\u60a8\u7684\u8981\u6c42\uff0c\u60a8\u53ef\u4ee5\u5c06\u5b9e\u4f8b\u52a0\u5165\u591a\u4e2a\u5b89\u5168\u7ec4\u3002 \u5728\u5b89\u5168\u7ec4\u4e2d\u6dfb\u52a0\u6216\u79fb\u51fa\u5b9e\u4f8b","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#17","title":"1.7. \u5b89\u5168\u7ec4\u7684\u4f7f\u7528\u9650\u5236","text":"<ul> <li> <p>\u4e3a\u4e86\u786e\u4fdd\u826f\u597d\u7684\u7f51\u7edc\u6027\u80fd\u4f53\u9a8c\uff0c\u5efa\u8bae\u4e00\u4e2a\u5b9e\u4f8b\u6700\u591a\u5173\u80545\u4e2a\u5b89\u5168\u7ec4\u3002</p> </li> <li> <p>\u5efa\u8bae\u4e00\u4e2a\u5b89\u5168\u7ec4\u5173\u8054\u7684\u5b9e\u4f8b\u6570\u91cf\u4e0d\u5e94\u8d85\u8fc76000\u4e2a\uff0c\u5426\u5219\u4f1a\u5f15\u8d77\u5b89\u5168\u7ec4\u6027\u80fd\u4e0b\u964d\u3002</p> </li> <li> <p>\u5728\u4e00\u4e2a\u5b89\u5168\u7ec4\u4e2d\uff0c\u5bf9\u4e8e\u5165\u65b9\u5411\u89c4\u5219\u6765\u8bf4\uff0c\u6e90\u5730\u5740\u662f\u5b89\u5168\u7ec4\u7684\u89c4\u5219\u6570\u91cf+\u6e90\u5730\u5740\u662fIP\u5730\u5740\u7ec4\u7684\u89c4\u5219\u6570\u91cf+\u7aef\u53e3\u662f\u4e0d\u8fde\u7eed\u7aef\u53e3\u53f7\u7684\u89c4\u5219\u6570\u91cf \u2264 128\u6761\uff0c\u5426\u5219\u8d85\u8fc7\u6570\u91cf\u7684\u5b89\u5168\u7ec4\u89c4\u5219\u5c06\u4e0d\u751f\u6548\u3002\u51fa\u65b9\u5411\u7684\u9650\u5236\u548c\u5165\u65b9\u5411\u4e00\u81f4\u3002</p> <ul> <li>\u6e90\u5730\u5740\u662f\u5b89\u5168\u7ec4\u65f6\uff0c\u5305\u62ec\u672c\u5b89\u5168\u7ec4\u548c\u5176\u4ed6\u5b89\u5168\u7ec4\u3002</li> <li>\u4e0d\u8fde\u7eed\u7aef\u53e3\u53f7\u53d6\u503c\u793a\u4f8b\u4e3a22,25,27\u3002</li> </ul> </li> <li> <p>\u5982\u679c\u60a8\u6dfb\u52a0\u5b89\u5168\u7ec4\u89c4\u5219\u65f6\uff0c\u4f7f\u7528IP\u5730\u5740\u7ec4\u6216\u8005\u4e0d\u8fde\u7eed\u7aef\u53e3\uff0c\u90a3\u4e48\u8be5\u5b89\u5168\u7ec4\u89c4\u5219\u5bf9\u4e0d\u540c\u89c4\u683c\u4e91\u670d\u52a1\u5668\u7684\u751f\u6548\u60c5\u51b5\u5b58\u5728\u5dee\u5f02\uff0c\u4e3a\u4e86\u907f\u514d\u60a8\u7684\u5b89\u5168\u7ec4\u89c4\u5219\u4e0d\u751f\u6548\uff0c\u8bf7\u60a8\u67e5\u770b\u88683\u4e86\u89e3\u8be6\u60c5\u3002</p> <p>\u88683\u00a0\u5b89\u5168\u7ec4\u89c4\u5219\u9650\u5236</p> \u5b89\u5168\u7ec4\u89c4\u5219 \u4e91\u670d\u52a1\u5668\u7c7b\u578b \u6dfb\u52a0\u5b89\u5168\u7ec4\u89c4\u5219\u65f6\uff0c\u201c\u6e90\u5730\u5740\u201d\u548c\u201c\u76ee\u7684\u5730\u5740\u201d\u53ef\u9009\u62e9\u201cIP\u5730\u5740\u7ec4\u201d \u4e0d\u652f\u6301\u7684X86\u4e91\u670d\u52a1\u5668\u89c4\u683c\u5982\u4e0b\uff1a\u901a\u7528\u8ba1\u7b97\u578b\uff08S1\u578b\u3001C1\u578b\u3001C2\u578b \uff09\u5185\u5b58\u4f18\u5316\u578b\uff08M1\u578b\uff09\u9ad8\u6027\u80fd\u8ba1\u7b97\u578b\uff08H1\u578b\uff09\u78c1\u76d8\u589e\u5f3a\u578b\uff08 D1\u578b\uff09GPU\u52a0\u901f\u578b\uff08G1\u578b\u3001G2\u578b\uff09\u8d85\u5927\u5185\u5b58\u578b\uff08E1\u578b\u3001E2\u578b\u3001ET2\u578b\uff09 \u6dfb\u52a0\u5b89\u5168\u7ec4\u89c4\u5219\u65f6\uff0c\u201c\u534f\u8bae\u7aef\u53e3\u201d\u53ef\u914d\u7f6e\u4e3a\u4e0d\u8fde\u7eed\u7aef\u53e3\u53f7 \u4e0d\u652f\u6301\u7684X86\u4e91\u670d\u52a1\u5668\u89c4\u683c\u5982\u4e0b\uff1a\u901a\u7528\u8ba1\u7b97\u578b\uff08S1\u578b\u3001C1\u578b\u3001C2\u578b \uff09\u5185\u5b58\u4f18\u5316\u578b\uff08M1\u578b\uff09\u9ad8\u6027\u80fd\u8ba1\u7b97\u578b\uff08H1\u578b\uff09\u78c1\u76d8\u589e\u5f3a\u578b\uff08 D1\u578b\uff09GPU\u52a0\u901f\u578b\uff08G1\u578b\u3001G2\u578b\uff09\u8d85\u5927\u5185\u5b58\u578b\uff08E1\u578b\u3001E2\u578b\u3001ET2\u578b\uff09\u6240\u6709\u9cb2\u9e4f\u4e91\u670d\u52a1\u5668\u89c4\u683c\u4e0d\u652f\u6301\u914d\u7f6e\u4e0d\u8fde\u7eed\u7aef\u53e3\u3002\u5982\u679c\u60a8\u5728\u9cb2\u9e4f\u4e91\u670d\u52a1\u5668\u4e2d\u6dfb\u52a0\u5b89\u5168\u7ec4\u89c4\u5219\u65f6\uff0c\u4f7f\u7528\u4e86\u4e0d\u8fde\u7eed\u7aef\u53e3\u53f7\uff0c\u90a3\u4e48\u9664\u4e86\u8be5\u6761\u89c4\u5219\u4e0d\u4f1a\u751f\u6548\uff0c\u8be5\u89c4\u5219\u540e\u7684\u5176\u4ed6\u89c4\u5219\u4e5f\u4e0d\u4f1a\u751f\u6548\u3002\u6bd4\u5982\uff1a\u60a8\u5148\u914d\u7f6e\u4e86\u5b89\u5168\u7ec4\u89c4\u5219A\uff08\u4e0d\u8fde\u7eed\u7aef\u53e3\u53f722,24\uff09\uff0c\u518d\u914d\u7f6e\u4e86\u4e0b\u4e00\u6761\u5b89\u5168\u7ec4\u89c4\u5219B\uff08\u72ec\u7acb\u7aef\u53e3\u53f79096\uff09\uff0c\u5219\u5b89\u5168\u7ec4\u89c4\u5219A\u548cB\u5747\u4e0d\u4f1a\u751f\u6548\u3002 </li> <li> <p>\u5f53\u60a8\u7684\u7ec4\u7f51\u4e2d\u5b58\u5728\u4ee5\u4e0b\u60c5\u51b5\u65f6\uff0c\u6765\u81eaELB\u548cVPCEP\u7684\u6d41\u91cf\u4e0d\u53d7\u7f51\u7edcACL\u548c\u5b89\u5168\u7ec4\u89c4\u5219\u7684\u9650\u5236\u3002</p> <ul> <li> <p>ELB\u5b9e\u4f8b\u7684\u76d1\u542c\u5668\u5f00\u542f\u201c\u83b7\u53d6\u5ba2\u6237\u7aefIP\u201d\u529f\u80fd\u65f6\uff0c\u4e0d\u53d7\u9650\u5236\u3002</p> <p>\u6bd4\u5982\u89c4\u5219\u5df2\u660e\u786e\u62d2\u7edd\u6765\u81eaELB\u5b9e\u4f8b\u7684\u6d41\u91cf\u8fdb\u5165\u540e\u7aef\u4e91\u670d\u52a1\u5668\uff0c\u6b64\u65f6\u8be5\u89c4\u5219\u65e0\u6cd5\u62e6\u622a\u6765\u81eaELB\u7684\u6d41\u91cf\uff0c\u6d41\u91cf\u4f9d\u7136\u4f1a\u62b5\u8fbe\u540e\u7aef\u4e91\u670d\u52a1\u5668\u3002</p> </li> <li> <p>VPCEP\u5b9e\u4f8b\u7c7b\u578b\u4e3a\u201c\u4e13\u4e1a\u578b\u201d\u65f6\uff0c\u4e0d\u53d7\u9650\u5236\u3002</p> </li> </ul> </li> </ul>","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#18","title":"1.8. \u5b9e\u8df5\u5efa\u8bae","text":"<ul> <li>\u8bf7\u60a8\u9075\u5faa\u767d\u540d\u5355\u539f\u5219\u914d\u7f6e\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u5373\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u9ed8\u8ba4\u62d2\u7edd\u6240\u6709\u5916\u90e8\u7684\u8bbf\u95ee\u8bf7\u6c42\uff0c\u901a\u8fc7\u6dfb\u52a0\u5141\u8bb8\u89c4\u5219\u653e\u901a\u6307\u5b9a\u7684\u7f51\u7edc\u6d41\u91cf\u3002</li> <li>\u6dfb\u52a0\u5b89\u5168\u7ec4\u89c4\u5219\u65f6\uff0c\u8bf7\u9075\u5faa\u6700\u5c0f\u6388\u6743\u539f\u5219\u3002\u4f8b\u5982\uff0c\u653e\u901a22\u7aef\u53e3\u7528\u4e8e\u8fdc\u7a0b\u767b\u5f55\u4e91\u670d\u52a1\u5668\u65f6\uff0c\u5efa\u8bae\u4ec5\u5141\u8bb8\u6307\u5b9a\u7684IP\u5730\u5740\u767b\u5f55\uff0c\u8c28\u614e\u4f7f\u75280.0.0.0/0\uff08\u6240\u6709IP\u5730\u5740\uff09\u3002</li> <li>\u8bf7\u60a8\u5c3d\u91cf\u4fdd\u6301\u5355\u4e2a\u5b89\u5168\u7ec4\u5185\u89c4\u5219\u7684\u7b80\u6d01\uff0c\u901a\u8fc7\u4e0d\u540c\u7684\u5b89\u5168\u7ec4\u6765\u7ba1\u7406\u4e0d\u540c\u7528\u9014\u7684\u5b9e\u4f8b\u3002\u5982\u679c\u60a8\u4f7f\u7528\u4e00\u4e2a\u5b89\u5168\u7ec4\u7ba1\u7406\u60a8\u7684\u6240\u6709\u4e1a\u52a1\u5b9e\u4f8b\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5355\u4e2a\u5b89\u5168\u7ec4\u5185\u7684\u89c4\u5219\u8fc7\u4e8e\u5197\u4f59\u590d\u6742\uff0c\u589e\u52a0\u7ef4\u62a4\u7ba1\u7406\u6210\u672c\u3002</li> <li>\u60a8\u53ef\u4ee5\u5c06\u5b9e\u4f8b\u6309\u7167\u7528\u9014\u52a0\u5165\u5230\u4e0d\u540c\u7684\u5b89\u5168\u7ec4\u5185\u3002\u4f8b\u5982\uff0c\u5f53\u60a8\u5177\u6709\u9762\u5411\u516c\u7f51\u63d0\u4f9b\u7f51\u7ad9\u8bbf\u95ee\u7684\u4e1a\u52a1\u65f6\uff0c\u5efa\u8bae\u60a8\u5c06\u8fd0\u884c\u516c\u7f51\u4e1a\u52a1\u7684Web\u670d\u52a1\u5668\u52a0\u5165\u5230\u540c\u4e00\u4e2a\u5b89\u5168\u7ec4\uff0c\u6b64\u65f6\u4ec5\u9700\u8981\u653e\u901a\u5bf9\u5916\u90e8\u63d0\u4f9b\u670d\u52a1\u7684\u7279\u5b9a\u7aef\u53e3\uff0c\u4f8b\u598280\u3001443\u7b49\uff0c\u9ed8\u8ba4\u62d2\u7edd\u5916\u90e8\u5176\u4ed6\u7684\u8bbf\u95ee\u8bf7\u6c42\u3002\u540c\u65f6\uff0c\u8bf7\u907f\u514d\u5728\u8fd0\u884c\u516c\u7f51\u4e1a\u52a1\u7684Web\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u5185\u90e8\u4e1a\u52a1\uff0c\u4f8b\u5982MySQL\u3001Redis\u7b49\uff0c\u5efa\u8bae\u60a8\u5c06\u5185\u90e8\u4e1a\u52a1\u90e8\u7f72\u5728\u4e0d\u9700\u8981\u8fde\u901a\u516c\u7f51\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u5e76\u5c06\u8fd9\u4e9b\u670d\u52a1\u5668\u5173\u8054\u81f3\u5176\u4ed6\u5b89\u5168\u7ec4\u5185\u3002</li> <li>\u5bf9\u4e8e\u5b89\u5168\u7b56\u7565\u76f8\u540c\u7684\u591a\u4e2aIP\u5730\u5740\uff0c\u60a8\u53ef\u4ee5\u5c06\u5176\u6dfb\u52a0\u5230\u4e00\u4e2aIP\u5730\u5740\u7ec4\u5185\u7edf\u4e00\u7ba1\u7406\uff0c\u5e76\u5728\u5b89\u5168\u7ec4\u5185\u6dfb\u52a0\u9488\u5bf9\u8be5IP\u5730\u5740\u7ec4\u7684\u6388\u6743\u89c4\u5219\u3002\u5f53IP\u5730\u5740\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u60a8\u53ea\u9700\u8981\u5728IP\u5730\u5740\u7ec4\u5185\u4fee\u6539IP\u5730\u5740\uff0c\u90a3\u4e48IP\u5730\u5740\u7ec4\u5bf9\u5e94\u7684\u5b89\u5168\u7ec4\u89c4\u5219\u5c06\u4f1a\u968f\u4e4b\u53d8\u66f4\uff0c\u65e0\u9700\u9010\u6b21\u4fee\u6539\u5b89\u5168\u7ec4\u5185\u7684\u89c4\u5219\uff0c\u964d\u4f4e\u4e86\u5b89\u5168\u7ec4\u7ba1\u7406\u7684\u96be\u5ea6\uff0c\u63d0\u5347\u6548\u7387\u3002\u5177\u4f53\u65b9\u6cd5\uff0c\u8bf7\u53c2\u89c1\u4f7f\u7528IP\u5730\u5740\u7ec4\u63d0\u5347\u5b89\u5168\u7ec4\u89c4\u5219\u7ba1\u7406\u6548\u7387\u3002</li> <li>\u8bf7\u60a8\u5c3d\u91cf\u907f\u514d\u76f4\u63a5\u4fee\u6539\u5df2\u8fd0\u884c\u4e1a\u52a1\u7684\u5b89\u5168\u7ec4\u89c4\u5219\u3002\u5982\u679c\u60a8\u9700\u8981\u4fee\u6539\u4f7f\u7528\u4e2d\u7684\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u5efa\u8bae\u60a8\u5148\u514b\u9686\u4e00\u4e2a\u6d4b\u8bd5\u5b89\u5168\u7ec4\uff0c\u7136\u540e\u5728\u6d4b\u8bd5\u5b89\u5168\u7ec4\u4e0a\u8fdb\u884c\u8c03\u8bd5\uff0c\u786e\u4fdd\u6d4b\u8bd5\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u7f51\u7edc\u6b63\u5e38\u540e\uff0c\u518d\u4fee\u6539\u4f7f\u7528\u4e2d\u7684\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u51cf\u5c11\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002\u5177\u4f53\u65b9\u6cd5\uff0c\u8bf7\u53c2\u89c1\u514b\u9686\u5b89\u5168\u7ec4\u3002</li> <li> <p>\u60a8\u5728\u5b89\u5168\u7ec4\u5185\u65b0\u6dfb\u52a0\u5b9e\u4f8b\uff0c\u6216\u8005\u4fee\u6539\u5b89\u5168\u7ec4\u7684\u89c4\u5219\u540e\uff0c\u6b64\u65f6\u4e0d\u9700\u8981\u91cd\u542f\u5b9e\u4f8b\uff0c\u5b89\u5168\u7ec4\u89c4\u5219\u4f1a\u81ea\u52a8\u751f\u6548\u3002</p> <p>\u5982\u679c\u60a8\u7684\u5b89\u5168\u7ec4\u89c4\u5219\u914d\u7f6e\u5b8c\u672a\u751f\u6548\uff0c\u8bf7\u53c2\u8003\u4e3a\u4ec0\u4e48\u914d\u7f6e\u7684\u5b89\u5168\u7ec4\u89c4\u5219\u4e0d\u751f\u6548\uff1f\u3002</p> </li> </ul> <p>\u7236\u4e3b\u9898\uff1a\u00a0\u5b89\u5168\u7ec4</p>","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#2","title":"2. \u9ed8\u8ba4\u5b89\u5168\u7ec4\u6982\u8ff0","text":"<p>\u5982\u679c\u60a8\u672a\u521b\u5efa\u4efb\u4f55\u5b89\u5168\u7ec4\uff0c\u90a3\u4e48\u60a8\u5728\u9996\u6b21\u4f7f\u7528\u5b89\u5168\u7ec4\u65f6\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u4e3a\u60a8\u521b\u5efa\u4e00\u4e2a\u9ed8\u8ba4\u5b89\u5168\u7ec4\u3002</p> <ul> <li>\u9ed8\u8ba4\u5b89\u5168\u7ec4\u540d\u79f0\u4e3adefault\uff0c\u4e3a\u4e86\u533a\u5206\u9ed8\u8ba4\u5b89\u5168\u7ec4\u548c\u60a8\u81ea\u5df1\u521b\u5efa\u7684\u5b89\u5168\u7ec4\uff0c\u4e0d\u652f\u6301\u4fee\u6539\u9ed8\u8ba4\u5b89\u5168\u7ec4\u540d\u79f0\u3002</li> <li>\u60a8\u65e0\u6cd5\u5220\u9664\u9ed8\u8ba4\u5b89\u5168\u7ec4\uff0c\u53ef\u4ee5\u5728\u9ed8\u8ba4\u5b89\u5168\u7ec4\u5185\u4fee\u6539\u5df2\u6709\u89c4\u5219\u6216\u8005\u6dfb\u52a0\u65b0\u7684\u89c4\u5219\u3002</li> <li>\u9ed8\u8ba4\u5b89\u5168\u7ec4\u4ec5\u786e\u4fdd\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u4e92\u901a\uff0c\u9ed8\u8ba4\u62d2\u7edd\u6240\u6709\u5916\u90e8\u8bf7\u6c42\u8fdb\u5165\u5b9e\u4f8b\uff0c\u5982\u679c\u60a8\u9700\u8981\u767b\u5f55\u9ed8\u8ba4\u5b89\u5168\u7ec4\u5173\u8054\u7684\u5b9e\u4f8b\uff0c\u8bf7\u53c2\u89c1\u901a\u8fc7\u672c\u5730\u670d\u52a1\u5668\u8fdc\u7a0b\u767b\u5f55\u4e91\u670d\u52a1\u5668\u6dfb\u52a0\u5b89\u5168\u7ec4\u89c4\u5219\u653e\u901a\u6307\u5b9a\u7aef\u53e3\u3002</li> <li>\u5982\u679c\u5b9e\u9645\u4e1a\u52a1\u5bf9\u4e0d\u540c\u7528\u9014\u5b9e\u4f8b\u7684\u5b89\u5168\u8981\u6c42\u5b58\u5728\u5dee\u5f02\uff0c\u90a3\u4e48\u5efa\u8bae\u60a8\u521b\u5efa\u81ea\u5b9a\u4e49\u5b89\u5168\u7ec4\uff0c\u5e76\u5c06\u5b9e\u4f8b\u6309\u7167\u7528\u9014\u52a0\u5165\u5230\u4e0d\u540c\u7684\u5b89\u5168\u7ec4\u5185\u3002</li> </ul> <p>\u8bf4\u660e\uff1a</p> <p>\u60a8\u53ef\u4ee5\u514d\u8d39\u4f7f\u7528\u5b89\u5168\u7ec4\u8d44\u6e90\uff0c\u5f53\u524d\u4e0d\u6536\u53d6\u4efb\u4f55\u8d39\u7528\u3002</p> <p>\u200b    </p>","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#21","title":"2.1. \u9ed8\u8ba4\u5b89\u5168\u7ec4\u89c4\u5219\u8bf4\u660e","text":"<p>\u9ed8\u8ba4\u5b89\u5168\u7ec4\u89c4\u5219\u8bf4\u660e\u5982\u4e0b\uff1a</p> <ul> <li>\u5165\u65b9\u5411\u89c4\u5219\uff1a\u5165\u65b9\u5411\u6d41\u91cf\u53d7\u9650\uff0c\u53ea\u5141\u8bb8\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u4e92\u901a\uff0c\u62d2\u7edd\u6765\u81ea\u5b89\u5168\u7ec4\u5916\u90e8\u7684\u6240\u6709\u8bf7\u6c42\u8fdb\u5165\u5b9e\u4f8b\u3002</li> <li>\u51fa\u65b9\u5411\u89c4\u5219\uff1a\u51fa\u65b9\u5411\u6d41\u91cf\u653e\u884c\uff0c\u5141\u8bb8\u6240\u6709\u8bf7\u6c42\u4ece\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u6d41\u51fa\u3002</li> </ul> <p>\u56fe1\u00a0\u9ed8\u8ba4\u5b89\u5168\u7ec4 </p> <p>\u9ed8\u8ba4\u5b89\u5168\u7ec4\u89c4\u5219\u7684\u8be6\u7ec6\u8bf4\u660e\u5982\u88681\u6240\u793a\u3002</p> <p>\u88681\u00a0\u9ed8\u8ba4\u5b89\u5168\u7ec4\u89c4\u5219</p> \u65b9\u5411 \u7b56\u7565 \u7c7b\u578b \u534f\u8bae\u7aef\u53e3 \u6e90\u5730\u5740/\u76ee\u7684\u5730\u5740 \u63cf\u8ff0 \u5165\u65b9\u5411 \u5141\u8bb8 IPv4 \u5168\u90e8 \u6e90\u5730\u5740\uff1a\u9ed8\u8ba4\u5b89\u5168\u7ec4\uff08default\uff09 \u9488\u5bf9\u5168\u90e8IPv4\u534f\u8bae\uff0c\u5141\u8bb8\u5b89\u5168\u7ec4\u5185\u7684\u5b9e\u4f8b\u53ef\u4f7f\u7528\u4efb\u4f55\u534f\u8bae\u548c\u7aef\u53e3\u4e92\u76f8\u901a\u4fe1\uff0c\u786e\u4fdd\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u7f51\u7edc\u4e92\u901a\u3002 \u5165\u65b9\u5411 \u5141\u8bb8 IPv6 \u5168\u90e8 \u6e90\u5730\u5740\uff1a\u9ed8\u8ba4\u5b89\u5168\u7ec4\uff08default\uff09 \u9488\u5bf9\u5168\u90e8IPv6\u534f\u8bae\uff0c\u5141\u8bb8\u5b89\u5168\u7ec4\u5185\u7684\u5b9e\u4f8b\u53ef\u4f7f\u7528\u4efb\u4f55\u534f\u8bae\u548c\u7aef\u53e3\u4e92\u76f8\u901a\u4fe1\uff0c\u786e\u4fdd\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u7f51\u7edc\u4e92\u901a\u3002 \u51fa\u65b9\u5411 \u5141\u8bb8 IPv4 \u5168\u90e8 \u76ee\u7684\u5730\u5740\uff1a0.0.0.0/0 \u9488\u5bf9\u5168\u90e8IPv4\u534f\u8bae\uff0c\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u4ece\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u6d41\u51fa\uff0c\u5373\u5b9e\u4f8b\u53ef\u8bbf\u95ee\u5916\u90e8\u4efb\u610fIP\u548c\u7aef\u53e3\u3002 \u51fa\u65b9\u5411 \u5141\u8bb8 IPv6 \u5168\u90e8 \u76ee\u7684\u5730\u5740\uff1a::/0 \u9488\u5bf9\u5168\u90e8IPv6\u534f\u8bae\uff0c\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u4ece\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u6d41\u51fa\uff0c\u5373\u5b9e\u4f8b\u53ef\u8bbf\u95ee\u5916\u90e8\u4efb\u610fIP\u548c\u7aef\u53e3\u3002","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/20%20%E5%AE%89%E5%85%A8%E7%BB%84/#22","title":"2.2. \u9ed8\u8ba4\u5b89\u5168\u7ec4\u5e94\u7528\u793a\u4f8b","text":"<p>\u5982\u56fe2\u6240\u793a\uff0cVPC-X\u5185\u6709\u4e09\u4e2a\u5b50\u7f51\uff0c\u5176\u4e2d\u5b50\u7f51Subnet-A\u548cSubnet-B\u4e2d\u7684ECS\u5747\u5173\u8054\u9ed8\u8ba4\u5b89\u5168\u7ec4\uff0c\u9ed8\u8ba4\u5b89\u5168\u7ec4\u4ec5\u786e\u4fdd\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u4e92\u901a\uff0c\u9ed8\u8ba4\u62d2\u7edd\u6240\u6709\u5916\u90e8\u8bf7\u6c42\u8fdb\u5165\u5b9e\u4f8b\u3002ECS-A01\u3001ECS-A02\u3001ECS-B01\u548cECS-B02\u4e4b\u95f4\u5185\u7f51\u7f51\u7edc\u4e92\u901a\uff0c\u4f46\u662f\u65e0\u6cd5\u63a5\u53d7\u6765\u81eaNAT\u7f51\u5173\u7684\u6d41\u91cf\u3002</p> <p>\u5982\u679c\u60a8\u9700\u8981\u653e\u901aNAT\u7f51\u5173\u7684\u6d41\u91cf\uff0c\u60a8\u53ef\u4ee5\u5728\u9ed8\u8ba4\u5b89\u5168\u7ec4\u4e2d\u6dfb\u52a0\u5bf9\u5e94\u7684\u89c4\u5219\uff0c\u6216\u8005\u521b\u5efa\u65b0\u7684\u5b89\u5168\u7ec4\uff0c\u5e76\u5173\u8054\u7ed9\u5b9e\u4f8b\u4f7f\u7528\u3002</p> <p>\u56fe2\u00a0\u9ed8\u8ba4\u5b89\u5168\u7ec4\u5e94\u7528\u793a\u4f8b </p>","tags":["\u5b89\u5168\u7ec4","\u9ed8\u8ba4\u5b89\u5168\u7ec4"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/30%20%E7%BD%91%E7%BB%9CACL/","title":"\u7f51\u7edcACL","text":"","tags":["\u7f51\u7edcACL"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/30%20%E7%BD%91%E7%BB%9CACL/#1-acl","title":"1. \u7f51\u7edcACL\u6982\u8ff0","text":"","tags":["\u7f51\u7edcACL"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/30%20%E7%BD%91%E7%BB%9CACL/#11-acl","title":"1.1. \u7f51\u7edcACL","text":"<p>\u7f51\u7edcACL\u662f\u4e00\u4e2a\u5b50\u7f51\u7ea7\u522b\u7684\u53ef\u9009\u5b89\u5168\u9632\u62a4\u5c42\uff0c\u60a8\u53ef\u4ee5\u5728\u7f51\u7edcACL\u4e2d\u8bbe\u7f6e\u5165\u65b9\u5411\u548c\u51fa\u65b9\u5411\u89c4\u5219\uff0c\u5e76\u5c06\u7f51\u7edcACL\u7ed1\u5b9a\u81f3\u5b50\u7f51\uff0c\u53ef\u4ee5\u7cbe\u51c6\u63a7\u5236\u51fa\u5165\u5b50\u7f51\u7684\u6d41\u91cf\u3002</p> <p>\u7f51\u7edcACL\u4e0e\u5b89\u5168\u7ec4\u7684\u9632\u62a4\u8303\u56f4\u4e0d\u540c\uff0c\u5b89\u5168\u7ec4\u5bf9\u4e91\u670d\u52a1\u5668\u3001\u4e91\u5bb9\u5668\u3001\u4e91\u6570\u636e\u5e93\u7b49\u5b9e\u4f8b\u8fdb\u884c\u9632\u62a4\uff0c\u7f51\u7edcACL\u5bf9\u6574\u4e2a\u5b50\u7f51\u8fdb\u884c\u9632\u62a4\u3002\u5b89\u5168\u7ec4\u662f\u5fc5\u9009\u7684\u5b89\u5168\u9632\u62a4\u5c42\uff0c\u5f53\u60a8\u8fd8\u60f3\u589e\u52a0\u989d\u5916\u7684\u5b89\u5168\u9632\u62a4\u5c42\u65f6\uff0c\u5c31\u53ef\u4ee5\u542f\u7528\u7f51\u7edcACL\u3002\u4e24\u8005\u7ed3\u5408\u8d77\u6765\uff0c\u53ef\u4ee5\u5b9e\u73b0\u66f4\u7cbe\u7ec6\u3001\u66f4\u590d\u6742\u7684\u5b89\u5168\u8bbf\u95ee\u63a7\u5236\u3002</p> <p>\u7f51\u7edcACL\u4e2d\u5305\u62ec\u5165\u65b9\u5411\u89c4\u5219\u548c\u51fa\u65b9\u5411\u89c4\u5219\uff0c\u60a8\u53ef\u4ee5\u9488\u5bf9\u6bcf\u6761\u89c4\u5219\u6307\u5b9a\u534f\u8bae\u3001\u6765\u6e90\u7aef\u53e3\u548c\u5730\u5740\u3001\u76ee\u7684\u7aef\u53e3\u548c\u5730\u5740\u3002\u4ee5\u56fe1\u4e3a\u4f8b\uff0c\u5728\u533a\u57dfA\u5185\uff0c\u67d0\u5ba2\u6237\u7684\u865a\u62df\u79c1\u6709\u4e91VPC-X\u6709\u4e24\u4e2a\u5b50\u7f51\uff0c\u5b50\u7f51Subnet-X01\u5173\u8054\u7f51\u7edcACL\u00a0Fw-A\uff0cSubnet-X01\u5185\u90e8\u7f72\u7684\u5b9e\u4f8b\u9762\u5411\u4e92\u8054\u7f51\u63d0\u4f9bWeb\u670d\u52a1\u3002\u5b50\u7f51Subnet-X02\u5173\u8054\u7f51\u7edcACL\u00a0Fw-B\uff0c\u57fa\u4e8e\u5bf9\u7b49\u8fde\u63a5\u8fde\u901aSubnet-X02\u548cSubnet-Y01\u7684\u7f51\u7edc\uff0c\u901a\u8fc7Subnet-Y01\u5185\u7684\u5b9e\u4f8b\u8fdc\u7a0b\u767b\u5f55Subnet-X02\u5185\u7684\u5b9e\u4f8b\u3002</p> <ul> <li> <p>Fw-A\u7684\u89c4\u5219\u8bf4\u660e\uff1a</p> <p>\u5165\u65b9\u5411\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u5141\u8bb8\u5916\u90e8\u4efb\u610fIP\u5730\u5740\uff0c\u901a\u8fc7TCP (HTTP)\u534f\u8bae\u8bbf\u95eeSubnet-X01\u5185\u5b9e\u4f8b\u768480\u7aef\u53e3\u3002\u5982\u679c\u6d41\u91cf\u672a\u5339\u914d\u4e0a\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u5219\u5339\u914d\u9ed8\u8ba4\u89c4\u5219\uff0c\u65e0\u6cd5\u6d41\u5165\u5b50\u7f51\u3002</p> <p>\u7f51\u7edcACL\u662f\u6709\u72b6\u6001\u7684\uff0c\u5141\u8bb8\u5165\u7ad9\u8bf7\u6c42\u7684\u54cd\u5e94\u6d41\u91cf\u51fa\u7ad9\uff0c\u4e0d\u53d7\u89c4\u5219\u9650\u5236\uff0c\u56e0\u6b64Subnet-X01\u5185\u5b9e\u4f8b\u7684\u54cd\u5e94\u6d41\u91cf\u53ef\u6d41\u51fa\u5b50\u7f51\u3002\u975e\u54cd\u5e94\u6d41\u91cf\u7684\u5176\u4ed6\u6d41\u91cf\u5219\u5339\u914d\u9ed8\u8ba4\u89c4\u5219\uff0c\u65e0\u6cd5\u6d41\u51fa\u5b50\u7f51\u3002</p> </li> <li> <p>Fw-B\u7684\u89c4\u5219\u8bf4\u660e\uff1a</p> <p>\u5165\u65b9\u5411\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u5141\u8bb8\u6765\u81eaSubnet-Y01\u7684\u6d41\u91cf\uff0c\u901a\u8fc7TCP (SSH)\u534f\u8bae\u8bbf\u95ee\u5b50\u7f51Subnet-X02\u5185\u5b9e\u4f8b\u768422\u7aef\u53e3\u3002</p> <p>\u51fa\u65b9\u5411\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u653e\u901aICMP\u534f\u8bae\u5168\u90e8\u7aef\u53e3\uff0c\u5f53\u5728Subnet-X02\u5185\u5b9e\u4f8b**ping**\u6d4b\u8bd5\u7f51\u7edc\u8fde\u901a\u6027\u65f6\uff0c\u5141\u8bb8\u53bb\u5f80Subnet-Y01\u7684\u6d41\u91cf\u6d41\u51fa\u5b50\u7f51\u3002</p> </li> </ul> <p>\u56fe1\u00a0\u7f51\u7edcACL\u67b6\u6784\u56fe </p> <p>\u8bf4\u660e\uff1a</p> <p>\u56fe1\u4e2d\u63d0\u4f9b\u7684\u793a\u4f8b\u4ec5\u4e3a\u60a8\u5c55\u793a\u4e86\u7f51\u7edcACL\u5bf9\u51fa\u5165\u5b50\u7f51\u7684\u6d41\u91cf\u63a7\u5236\u3002\u5728\u5b9e\u9645\u4e1a\u52a1\u4e2d\uff0c\u9664\u4e86\u7f51\u7edcACL\uff0c\u5b9e\u4f8b\u4e0a\u7ed1\u5b9a\u7684\u5b89\u5168\u7ec4\u4e5f\u4f1a\u5f71\u54cd\u51fa\u5165\u5b9e\u4f8b\u7684\u6d41\u91cf\u3002\u8fdb\u4e00\u6b65\u4e86\u89e3\u7f51\u7edcACL\u4e0e\u5b89\u5168\u7ec4\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1VPC\u8bbf\u95ee\u63a7\u5236\u6982\u8ff0\u3002</p>","tags":["\u7f51\u7edcACL"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/30%20%E7%BD%91%E7%BB%9CACL/#12-acl","title":"1.2. \u7f51\u7edcACL\u89c4\u5219","text":"<ul> <li>\u7f51\u7edcACL\u4e2d\u5305\u62ec\u5165\u65b9\u5411\u89c4\u5219\u548c\u51fa\u65b9\u5411\u89c4\u5219\uff0c\u7528\u6765\u63a7\u5236VPC\u5b50\u7f51\u5165\u65b9\u5411\u548c\u51fa\u65b9\u5411\u7684\u7f51\u7edc\u6d41\u91cf\u3002<ul> <li>\u5165\u65b9\u5411\u89c4\u5219\uff1a\u63a7\u5236\u5916\u90e8\u8bf7\u6c42\u8bbf\u95ee\u5b50\u7f51\u5185\u7684\u5b9e\u4f8b\uff0c\u5373\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u3002</li> <li>\u51fa\u65b9\u5411\u89c4\u5219\uff1a\u63a7\u5236\u5b50\u7f51\u5185\u5b9e\u4f8b\u8bbf\u95ee\u5916\u90e8\u7684\u8bf7\u6c42\uff0c\u5373\u6d41\u91cf\u6d41\u51fa\u5b50\u7f51\u3002</li> </ul> </li> <li> <p>\u7f51\u7edcACL\u89c4\u5219\u7531\u534f\u8bae\u3001\u6e90\u7aef\u53e3/\u76ee\u7684\u7aef\u53e3\u3001\u6e90\u5730\u5740/\u76ee\u7684\u5730\u5740\u7b49\u7ec4\u6210\uff0c\u5173\u952e\u4fe1\u606f\u8bf4\u660e\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u4f18\u5148\u7ea7\uff1a\u5373\u7f51\u7edcACL\u89c4\u5219\u7684\u5e8f\u53f7\uff0c\u7f51\u7edcACL\u89c4\u5219\u6309\u7167\u8be5\u5e8f\u53f7\u4f9d\u6b21\u6392\u5217\uff0c\u6d41\u91cf\u5219\u6309\u7167\u89c4\u5219\u5e8f\u53f7\u8fdb\u884c\u5339\u914d\u3002\u4f18\u5148\u7ea7\u6570\u5b57\u8d8a\u5c0f\uff0c\u8868\u793a\u89c4\u5219\u6392\u5e8f\u8d8a\u9760\u524d\uff0c\u6d41\u91cf\u8d8a\u5148\u5339\u914d\u8be5\u89c4\u5219\u3002</p> <p>\u9ed8\u8ba4\u7f51\u7edcACL\u89c4\u5219\u4f18\u5148\u7ea7\u7684\u503c\u4e3a\u201c*\u201d\uff0c\u6392\u5728\u672b\u5c3e\uff0c\u4f18\u5148\u7ea7\u6700\u4f4e\u3002</p> </li> <li> <p>\u72b6\u6001\uff1a\u7f51\u7edcACL\u89c4\u5219\u6709\u201c\u542f\u7528\u201d\u548c\u201c\u505c\u7528\u201d\u72b6\u6001\u3002\u542f\u7528\u65f6\uff0c\u7f51\u7edcACL\u89c4\u5219\u751f\u6548\uff0c\u505c\u7528\u65f6\uff0c\u7f51\u7edcACL\u89c4\u5219\u4e0d\u751f\u6548\u3002</p> </li> <li>\u7c7b\u578b\uff1a\u652f\u6301\u8bbe\u7f6eIPv4\u548cIPv6\u534f\u8bae\u7684\u89c4\u5219\u3002</li> <li>\u7b56\u7565\uff1a\u652f\u6301\u5141\u8bb8\u6216\u62d2\u7edd\u3002\u5f53\u6d41\u91cf\u7684\u534f\u8bae\u3001\u6e90\u7aef\u53e3/\u76ee\u7684\u7aef\u53e3\u3001\u76ee\u6e90\u5730\u5740/\u76ee\u7684\u5730\u5740\u6210\u529f\u5339\u914d\u67d0\u4e2a\u7f51\u7edcACL\u89c4\u5219\u540e\uff0c\u4f1a\u5bf9\u6d41\u91cf\u6267\u884c\u89c4\u5219\u5bf9\u5e94\u7684\u7b56\u7565\uff0c\u5141\u8bb8\u6216\u62d2\u7edd\u6d41\u91cf\u3002</li> <li>\u534f\u8bae\uff1a\u5339\u914d\u6d41\u91cf\u7684\u7f51\u7edc\u534f\u8bae\u7c7b\u578b\uff0c\u652f\u6301TCP\u3001UDP\u3001ICMP\u534f\u8bae\u3002</li> <li> <p>\u6e90\u5730\u5740/\u76ee\u7684\u5730\u5740\uff1a\u5339\u914d\u6d41\u91cf\u7684\u6e90\u5730\u5740\u6216\u8005\u76ee\u7684\u5730\u5740\u3002</p> <p>\u60a8\u53ef\u4ee5\u4f7f\u7528IP\u5730\u5740\u548cIP\u5730\u5740\u7ec4\u4f5c\u4e3a\u6e90\u5730\u5740\u6216\u8005\u76ee\u7684\u5730\u5740\u3002</p> <ul> <li>IP\u5730\u5740\uff1a\u67d0\u4e2a\u56fa\u5b9a\u7684IP\u5730\u5740\u6216\u8005\u7f51\u6bb5\uff0c\u652f\u6301IPv4\u548cIPv6\u5730\u5740\u3002\u6bd4\u5982\uff1a192.168.10.10/32\uff08IPv4\u5730\u5740\uff09\u3001192.168.1.0/24\uff08IPv4\u7f51\u6bb5\uff09\u30012407:c080:802:469::/64\uff08IPv6\u7f51\u6bb5\uff09</li> <li>IP\u5730\u5740\u7ec4\uff1aIP\u5730\u5740\u7ec4\u662f\u4e00\u4e2a\u6216\u8005\u591a\u4e2aIP\u5730\u5740\u7684\u96c6\u5408\uff0c\u5bf9\u4e8e\u5b89\u5168\u7b56\u7565\u76f8\u540c\u7684IP\u7f51\u6bb5\u548cIP\u5730\u5740\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528IP\u5730\u5740\u7ec4\u7b80\u5316\u7ba1\u7406\u3002</li> </ul> </li> <li> <p>\u6e90\u7aef\u53e3\u8303\u56f4/\u76ee\u7684\u7aef\u53e3\u8303\u56f4\uff1a\u5339\u914d\u6d41\u91cf\u7684\u6e90\u7aef\u53e3\u6216\u8005\u76ee\u7684\u7aef\u53e3\uff0c\u53d6\u503c\u8303\u56f4\u4e3a1\uff5e65535\u3002</p> </li> </ul> </li> </ul>","tags":["\u7f51\u7edcACL"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/30%20%E7%BD%91%E7%BB%9CACL/#13-acl","title":"1.3. \u7f51\u7edcACL\u53ca\u89c4\u5219\u7684\u5de5\u4f5c\u539f\u7406","text":"<ul> <li>\u7f51\u7edcACL\u521b\u5efa\u5b8c\u6210\u540e\uff0c\u9700\u8981\u5c06\u7f51\u7edcACL\u5173\u8054\u81f3\u76ee\u6807\u5b50\u7f51\uff0c\u7f51\u7edcACL\u89c4\u5219\u624d\u80fd\u63a7\u5236\u51fa\u5165\u8be5\u5b50\u7f51\u7684\u6d41\u91cf\u3002\u7f51\u7edcACL\u53ef\u4ee5\u540c\u65f6\u5173\u8054\u591a\u4e2a\u5b50\u7f51\uff0c\u4f46\u4e00\u4e2a\u5b50\u7f51\u53ea\u80fd\u5173\u8054\u4e00\u4e2a\u7f51\u7edcACL\u3002</li> <li>\u7f51\u7edcACL\u662f\u6709\u72b6\u6001\u7684\u3002\u5982\u679c\u60a8\u4ece\u5b9e\u4f8b\u53d1\u9001\u4e00\u4e2a\u51fa\u7ad9\u8bf7\u6c42\uff0c\u4e14\u8be5\u7f51\u7edcACL\u7684\u51fa\u65b9\u5411\u89c4\u5219\u662f\u653e\u901a\u7684\u8bdd\uff0c\u90a3\u4e48\u65e0\u8bba\u5176\u5165\u65b9\u5411\u89c4\u5219\u5982\u4f55\uff0c\u90fd\u5c06\u5141\u8bb8\u8be5\u51fa\u7ad9\u8bf7\u6c42\u7684\u54cd\u5e94\u6d41\u91cf\u6d41\u5165\u3002\u540c\u7406\uff0c\u5982\u679c\u8be5\u7f51\u7edcACL\u7684\u5165\u65b9\u5411\u89c4\u5219\u662f\u653e\u901a\u7684\uff0c\u90a3\u65e0\u8bba\u51fa\u65b9\u5411\u89c4\u5219\u5982\u4f55\uff0c\u90fd\u5c06\u5141\u8bb8\u8be5\u5165\u7ad9\u8bf7\u6c42\u7684\u54cd\u5e94\u6d41\u91cf\u53ef\u4ee5\u6d41\u51fa\u3002</li> <li> <p>\u7f51\u7edcACL\u4f7f\u7528\u8fde\u63a5\u8ddf\u8e2a\u6765\u6807\u8bc6\u8fdb\u51fa\u5b9e\u4f8b\u7684\u6d41\u91cf\u4fe1\u606f\uff0c\u5165\u65b9\u5411\u548c\u51fa\u65b9\u5411\u7f51\u7edcACL\u89c4\u5219\u914d\u7f6e\u53d8\u66f4\uff0c\u5bf9\u539f\u6709\u6d41\u91cf\u4e0d\u4f1a\u7acb\u5373\u751f\u6548\u3002</p> <p>\u5f53\u60a8\u5728\u7f51\u7edcACL\u5185\u589e\u52a0\u3001\u5220\u9664\u3001\u66f4\u65b0\u89c4\u5219\uff0c\u6216\u8005\u5728\u7f51\u7edcACL\u5185\u6dfb\u52a0\u3001\u79fb\u51fa\u5b50\u7f51\u65f6\uff0c\u7531\u5165\u65b9\u5411/\u51fa\u65b9\u5411\u6d41\u91cf\u5efa\u7acb\u7684\u8fde\u63a5\uff0c\u5df2\u5efa\u7acb\u7684\u957f\u8fde\u63a5\u4e0d\u4f1a\u65ad\u5f00\uff0c\u4f9d\u65e7\u9075\u5faa\u539f\u6709\u7f51\u7edcACL\u89c4\u5219\u3002\u5165\u65b9\u5411/\u51fa\u65b9\u5411\u6d41\u91cf\u65b0\u5efa\u7acb\u7684\u8fde\u63a5\uff0c\u5c06\u4f1a\u5339\u914d\u65b0\u7684\u7f51\u7edcACL\u51fa\u65b9\u5411\u89c4\u5219\u3002</p> </li> </ul> <p>\u987b\u77e5\uff1a</p> <p>\u5bf9\u4e8e\u5df2\u5efa\u7acb\u7684\u957f\u8fde\u63a5\uff0c\u6d41\u91cf\u65ad\u5f00\u540e\uff0c\u4e0d\u4f1a\u7acb\u5373\u5efa\u7acb\u65b0\u7684\u8fde\u63a5\uff0c\u9700\u8981\u8d85\u8fc7\u8fde\u63a5\u8ddf\u8e2a\u7684\u8001\u5316\u65f6\u95f4\u540e\uff0c\u624d\u4f1a\u65b0\u5efa\u7acb\u8fde\u63a5\u5e76\u5339\u914d\u65b0\u7684\u89c4\u5219\u3002\u6bd4\u5982\uff0c\u5bf9\u4e8e\u5df2\u5efa\u7acb\u7684ICMP\u534f\u8bae\u957f\u8fde\u63a5\uff0c\u5f53\u6d41\u91cf\u4e2d\u65ad\u540e\uff0c\u9700\u8981\u8d85\u8fc7\u8001\u5316\u65f6\u95f430s\u540e\uff0c\u5c06\u4f1a\u65b0\u5efa\u7acb\u8fde\u63a5\u5e76\u5339\u914d\u65b0\u7684\u89c4\u5219\uff0c\u8be6\u7ec6\u8bf4\u660e\u5982\u4e0b\uff1a - \u4e0d\u540c\u534f\u8bae\u7684\u8fde\u63a5\u8ddf\u8e2a\u8001\u5316\u65f6\u95f4\u4e0d\u540c\uff0c\u6bd4\u5982\u5df2\u5efa\u7acb\u8fde\u63a5\u72b6\u6001\u7684TCP\u534f\u8bae\u8fde\u63a5\u8001\u5316\u65f6\u95f4\u662f600s\uff0cICMP\u534f\u8bae\u8001\u5316\u65f6\u95f4\u662f30s\u3002\u5bf9\u4e8e\u9664TCP\u548cICMP\u7684\u5176\u4ed6\u534f\u8bae\uff0c\u5982\u679c\u4e24\u4e2a\u65b9\u5411\u90fd\u6536\u5230\u4e86\u62a5\u6587\uff0c\u8fde\u63a5\u8001\u5316\u65f6\u95f4\u662f180s\uff0c\u5982\u679c\u53ea\u662f\u5355\u65b9\u5411\u6536\u5230\u4e86\u62a5\u6587\uff0c\u53e6\u4e00\u4e2a\u65b9\u5411\u6ca1\u6709\u6536\u5230\u62a5\u6587\uff0c\u5219\u8fde\u63a5\u8001\u5316\u65f6\u95f4\u662f30s\u3002 - TCP\u534f\u8bae\u5904\u4e8e\u4e0d\u540c\u72b6\u6001\u4e0b\u7684\u8fde\u63a5\u8001\u5316\u65f6\u95f4\u4e5f\u4e0d\u76f8\u540c\uff0c\u6bd4\u5982TCP\u8fde\u63a5\u5904\u4e8eESTABLISHED\uff08\u8fde\u63a5\u5df2\u5efa\u7acb\uff09\u72b6\u6001\u65f6\uff0c\u8001\u5316\u65f6\u95f4\u662f600s\uff0c\u5904\u4e8eFIN-WAIT\uff08\u8fde\u63a5\u5373\u5c06\u5173\u95ed\uff09\u72b6\u6001\u65f6\uff0c\u8001\u5316\u65f6\u95f4\u662f30s\u3002</p> <ul> <li>\u5728\u7f51\u7edcACL\u4e2d\uff0c\u5b58\u5728\u5982\u88681\u6240\u793a\u7684\u9ed8\u8ba4\u89c4\u5219\u3002\u5f53\u7f51\u7edcACL\u4e2d\u6ca1\u6709\u5176\u4ed6\u5141\u8bb8\u6d41\u91cf\u51fa\u5165\u7684\u81ea\u5b9a\u4e49\u89c4\u5219\u65f6\uff0c\u5219\u5339\u914d\u9ed8\u8ba4\u89c4\u5219\uff0c\u62d2\u7edd\u4efb\u4f55\u6d41\u91cf\u6d41\u5165\u6216\u6d41\u51fa\u5b50\u7f51\u3002\u5728\u60a8\u5c06\u7f51\u7edcACL\u5173\u8054\u81f3\u76ee\u6807\u5b50\u7f51\u65f6\uff0c\u8bf7\u786e\u4fdd\u5df2\u6dfb\u52a0\u81ea\u5b9a\u4e49\u89c4\u5219\u653e\u901a\u4e1a\u52a1\u6d41\u91cf\uff0c\u6216\u8005\u5b50\u7f51\u5185\u65e0\u5b9e\u9645\u4e1a\u52a1\uff0c\u907f\u514d\u9ed8\u8ba4\u89c4\u5219\u9020\u6210\u4e1a\u52a1\u6d41\u91cf\u4e2d\u65ad\u3002</li> </ul> <p>\u88681\u00a0\u7f51\u7edcACL\u9ed8\u8ba4\u89c4\u5219\u8bf4\u660e</p> \u65b9\u5411 \u4f18\u5148\u7ea7 \u7b56\u7565 \u534f\u8bae \u6e90\u5730\u5740 \u6e90\u7aef\u53e3\u8303\u56f4 \u76ee\u7684\u5730\u5740 \u76ee\u7684\u7aef\u53e3\u8303\u56f4 \u5165\u65b9\u5411 * \u62d2\u7edd \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 \u51fa\u65b9\u5411 * \u62d2\u7edd \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 0.0.0.0/0 \u5168\u90e8 <ul> <li>\u7f51\u7edcACL\u89c4\u5219\u4e0d\u4f1a\u5339\u914d\u7b5b\u9009\u88682\u4e2d\u7684\u6d41\u91cf\uff0c\u5373\u5bf9\u5e94\u7684\u6d41\u91cf\u88ab\u5141\u8bb8\u6d41\u5165\u6216\u8005\u6d41\u51fa\u5b50\u7f51\uff0c\u4e0d\u53d7\u7f51\u7edcACL\u9ed8\u8ba4\u89c4\u5219\u4ee5\u53ca\u81ea\u5b9a\u4e49\u89c4\u5219\u9650\u5236\u3002</li> </ul> <p>\u88682\u00a0\u4e0d\u53d7\u7f51\u7edcACL\u89c4\u5219\u9650\u5236\u7684\u6d41\u91cf</p> \u89c4\u5219\u8bf4\u660e \u5165\u65b9\u5411 \u653e\u901a\u5f53\u524d\u5b50\u7f51\u5185\u7684\u6d41\u91cf\uff0c\u5373\u5141\u8bb8\u540c\u4e00\u4e2a\u5b50\u7f51\u5185\u5b9e\u4f8b\u4e92\u901a\u3002\u653e\u901a\u76ee\u7684\u5730\u5740\u4e3a255.255.255.255/32\u7684\u5e7f\u64ad\u6d41\u91cf\u3002\u653e\u901a\u76ee\u7684\u5730\u5740\u4e3a224.0.0.0/24\u7684\u7ec4\u64ad\u6d41\u91cf\u3002 \u51fa\u65b9\u5411 \u653e\u901a\u5f53\u524d\u5b50\u7f51\u5185\u7684\u6d41\u91cf\uff0c\u5373\u5141\u8bb8\u540c\u4e00\u4e2a\u5b50\u7f51\u5185\u5b9e\u4f8b\u4e92\u901a\u3002\u653e\u901a\u76ee\u7684\u5730\u5740\u4e3a255.255.255.255/32\u7684\u5e7f\u64ad\u6d41\u91cf\u3002\u653e\u901a\u76ee\u7684\u5730\u5740\u4e3a224.0.0.0/24\u7684\u7ec4\u64ad\u6d41\u91cf\u3002\u653e\u901a\u57fa\u4e8eTCP\u534f\u8bae\uff0c\u76ee\u7684\u5730\u5740\u4e3a169.254.169.254/32 \uff0c\u76ee\u7684\u7aef\u53e3\u4e3a80\u7684\u4e91\u670d\u5668\u5143\u6570\u636e(metadata)\u6d41\u91cf\u3002\u653e\u901a\u76ee\u7684\u5730\u5740\u4e3a100.125.0.0/16\u7684\u6d41\u91cf\uff0c\u8be5\u7f51\u6bb5\u662f\u4e91\u4e0a\u516c\u5171\u670d\u52a1\u9884\u7559\u5730\u5740\uff0c\u6bd4\u5982DNS\u670d\u52a1\u5668\u5730\u5740\u3001NTP\u670d\u52a1\u5668\u5730\u5740\u7b49\u3002","tags":["\u7f51\u7edcACL"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/30%20%E7%BD%91%E7%BB%9CACL/#14-acl","title":"1.4. \u6d41\u91cf\u5339\u914d\u7f51\u7edcACL\u89c4\u5219\u7684\u987a\u5e8f","text":"<p>\u4e00\u4e2a\u5b50\u7f51\u53ea\u80fd\u7ed1\u5b9a\u4e00\u4e2a\u7f51\u7edcACL\uff0c\u5f53\u7f51\u7edcACL\u5b58\u5728\u591a\u6761\u89c4\u5219\u65f6\uff0c\u6d41\u91cf\u6309\u7167\u89c4\u5219\u7684\u4f18\u5148\u7ea7\u8fdb\u884c\u5339\u914d\u3002\u4f18\u5148\u7ea7\u7684\u6570\u5b57\u8d8a\u5c0f\uff0c\u4f18\u5148\u7ea7\u8d8a\u9ad8\uff0c\u8d8a\u5148\u6267\u884c\u8be5\u89c4\u5219\u3002\u9ed8\u8ba4\u89c4\u5219\u4f18\u5148\u7ea7\u7684\u503c\u4e3a\u201c*\u201d\uff0c\u4f18\u5148\u7ea7\u6700\u4f4e\u3002</p> <p>\u4ee5\u5165\u65b9\u5411\u7684\u6d41\u91cf\u4e3a\u4f8b\uff0c\u5b50\u7f51\u7684\u7f51\u7edc\u6d41\u91cf\u5c06\u6309\u7167\u4ee5\u4e0b\u539f\u5219\u5339\u914d\u7f51\u7edcACL\u89c4\u5219\uff0c\u5165\u65b9\u5411\u548c\u51fa\u65b9\u5411\u7684\u6d41\u91cf\u5339\u914d\u987a\u5e8f\u76f8\u540c\u3002</p> <ul> <li>\u5f53\u6d41\u91cf\u5339\u914d\u4e0a\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u5219\u6839\u636e\u89c4\u5219\u7b56\u7565\u51b3\u5b9a\u6d41\u91cf\u8d70\u5411\u3002<ul> <li>\u5f53\u7b56\u7565\u4e3a\u62d2\u7edd\u65f6\uff0c\u5219\u62d2\u7edd\u8be5\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u3002</li> <li>\u5f53\u7b56\u7565\u4e3a\u5141\u8bb8\u65f6\uff0c\u5219\u5141\u8bb8\u8be5\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u3002</li> </ul> </li> <li>\u5f53\u6d41\u91cf\u672a\u5339\u914d\u4e0a\u4efb\u4f55\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u5219\u6267\u884c\u9ed8\u8ba4\u89c4\u5219\uff0c\u62d2\u7edd\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u3002</li> </ul> <p>\u56fe2\u00a0\u7f51\u7edcACL\u5339\u914d\u987a\u5e8f </p>","tags":["\u7f51\u7edcACL"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/30%20%E7%BD%91%E7%BB%9CACL/#15-acl","title":"1.5. \u7f51\u7edcACL\u914d\u7f6e\u793a\u4f8b","text":"<p>\u7f51\u7edcACL\u53ef\u4ee5\u63a7\u5236\u6d41\u5165/\u6d41\u51fa\u5b50\u7f51\u7684\u6d41\u91cf\uff0c\u5f53\u7f51\u7edcACL\u548c\u5b89\u5168\u7ec4\u540c\u65f6\u5b58\u5728\u65f6\uff0c\u6d41\u91cf\u5148\u5339\u914d\u7f51\u7edcACL\u89c4\u5219\uff0c\u7136\u540e\u5339\u914d\u5b89\u5168\u7ec4\u89c4\u5219\u3002\u60a8\u53ef\u4ee5\u7075\u6d3b\u8c03\u6574\u5b89\u5168\u7ec4\u7684\u89c4\u5219\uff0c\u5e76\u4f7f\u7528\u7f51\u7edcACL\u4f5c\u4e3a\u5b50\u7f51\u7684\u989d\u5916\u9632\u62a4\u3002\u4ee5\u4e0b\u4e3a\u60a8\u63d0\u4f9b\u4e86\u5178\u578b\u7684\u7f51\u7edcACL\u5e94\u7528\u793a\u4f8b\u3002</p> \u63a7\u5236\u5916\u90e8\u5bf9\u5b50\u7f51\u5185\u5b9e\u4f8b\u7684\u8bbf\u95ee\u63a7\u5236\u4e0d\u540c\u5b50\u7f51\u5185\u5b9e\u4f8b\u7684\u4e92\u901a\u548c\u9694\u79bb <p>\u672c\u793a\u4f8b\u5982\u56fe3\u6240\u793a\uff0c\u5b50\u7f51Subnet-A\u5185\u7684\u4e24\u4e2a\u4e1a\u52a1\u5b9e\u4f8bECS-A01\u548cECS-A02\u7f51\u7edc\u4e92\u901a\uff0c\u5e76\u5141\u8bb8\u767d\u540d\u5355\u5b9e\u4f8b\u8fdc\u7a0b\u767b\u5f55\u4e1a\u52a1\u5b9e\u4f8b\uff0c\u767d\u540d\u5355\u5b9e\u4f8b\u7684IP\u5730\u5740\u4e3a10.1.0.5/32\u3002\u767d\u540d\u5355\u5b9e\u4f8b\u53ef\u80fd\u662fVPC-A\u7684\u5176\u4ed6\u5b50\u7f51\u6216\u8005\u5176\u4ed6VPC\u5185\u7684\u5b9e\u4f8b\uff0c\u4e5f\u53ef\u4ee5\u662f\u672c\u5730\u8ba1\u7b97\u673a\uff0c\u53ef\u8fdc\u7a0b\u8fde\u63a5\u4e1a\u52a1\u5b9e\u4f8b\u6267\u884c\u8fd0\u7ef4\u64cd\u4f5c\u3002\u56e0\u6b64\uff0c\u7f51\u7edcACL\u548c\u5b89\u5168\u7ec4\u89c4\u5219\u9700\u8981\u653e\u901a\u767d\u540d\u5355\u5b9e\u4f8b\u7684\u6d41\u91cf\uff0c\u62e6\u622a\u6765\u81ea\u5176\u4ed6\u7f51\u7edc\u7684\u6d41\u91cf\uff0c\u89c4\u5219\u914d\u7f6e\u5982\u4e0b\uff1a</p> <ul> <li>\u7f51\u7edcACL\u89c4\u5219\uff1a<ul> <li>\u5165\u65b9\u5411\uff1a\u81ea\u5b9a\u4e49\u89c4\u5219A01\u5141\u8bb8\u767d\u540d\u5355\u5b9e\u4f8b\uff0c\u901a\u8fc7SSH\u8fdc\u7a0b\u767b\u5f55\u5b50\u7f51Subnet-A\u5185\u7684\u5b9e\u4f8b\u3002\u9ed8\u8ba4\u89c4\u5219\u62d2\u7edd\u5176\u4ed6\u7f51\u7edc\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u3002</li> <li>\u51fa\u65b9\u5411\uff1a\u7f51\u7edcACL\u662f\u6709\u72b6\u6001\u7684\uff0c\u5141\u8bb8\u5165\u7ad9\u8bf7\u6c42\u7684\u54cd\u5e94\u6d41\u91cf\u6d41\u51fa\uff0c\u56e0\u6b64\u4e0d\u7528\u989d\u5916\u6dfb\u52a0\u89c4\u5219\u653e\u901a\u767d\u540d\u5355\u5b9e\u4f8b\u7684\u54cd\u5e94\u6d41\u91cf\u3002\u9ed8\u8ba4\u89c4\u5219\u62d2\u7edd\u5176\u4ed6\u7f51\u7edc\u6d41\u91cf\u6d41\u51fa\u5b50\u7f51\u3002</li> </ul> </li> <li>\u5b89\u5168\u7ec4\u89c4\u5219\uff1a<ul> <li>\u5165\u65b9\u5411\uff1a\u89c4\u5219A01\u5141\u8bb8\u767d\u540d\u5355\u5b9e\u4f8b\uff0c\u901a\u8fc7SSH\u8fdc\u7a0b\u767b\u5f55\u5b50\u7f51Subnet-A\u5185\u7684\u5b9e\u4f8b\u3002\u89c4\u5219A02\u5141\u8bb8\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u4e92\u901a\u3002\u5176\u4ed6\u6d41\u91cf\u65e0\u6cd5\u6d41\u5165\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u3002</li> <li>\u51fa\u65b9\u5411\uff1a\u89c4\u5219A03\u5141\u8bb8\u6240\u6709\u6d41\u91cf\u4ece\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u6d41\u51fa\u3002</li> </ul> </li> </ul> <p>\u56fe3\u00a0\u63a7\u5236\u5916\u90e8\u5bf9\u5b50\u7f51\u5185\u5b9e\u4f8b\u7684\u8bbf\u95ee </p> <p>\u5982\u679c\u60a8\u8bbe\u7f6e\u4e86\u8fc7\u4e8e\u5bbd\u677e\u7684\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u6b64\u65f6\u7f51\u7edcACL\u89c4\u5219\u4f1a\u4f5c\u4e3a\u989d\u5916\u9632\u62a4\u3002\u5982\u88683\u6240\u793a\uff0c\u5b89\u5168\u7ec4\u89c4\u5219\u5141\u8bb8\u4efb\u610fIP\u5730\u5740\u8fdc\u7a0b\u767b\u5f55\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u3002\u6b64\u65f6\u5b50\u7f51Subnet-A\u5173\u8054\u7684\u7f51\u7edcACL\u00a0Fw-A\uff0c\u5176\u5165\u65b9\u5411\u89c4\u5219\u4ec5\u5141\u8bb8\u6307\u5b9aIP\u5730\u5740(10.1.0.5/32)\u8bbf\u95eeSubnet-A\u5185\u7684\u5b9e\u4f8b\uff0c\u9ed8\u8ba4\u89c4\u5219\u4f1a\u62d2\u7edd\u5176\u4ed6\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\uff0c\u6d88\u9664\u53ef\u80fd\u5b58\u5728\u7684\u5b89\u5168\u98ce\u9669\u3002</p> <p>\u88683\u00a0\u5b89\u5168\u7ec4\u89c4\u5219</p> \u65b9\u5411 \u4f18\u5148\u7ea7 \u7b56\u7565 \u7c7b\u578b \u534f\u8bae\u7aef\u53e3 \u6e90\u5730\u5740 \u89c4\u5219\u4f5c\u7528 \u5165\u65b9\u5411 1 \u5141\u8bb8 IPv4 \u81ea\u5b9a\u4e49TCP: 22 IP\u5730\u5740\uff1a0.0.0.0/0 \u5141\u8bb8\u4efb\u610fIP\u5730\u5740\u901a\u8fc7SSH\u8fdc\u7a0b\u767b\u5f55\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b <p>\u672c\u793a\u4f8b\u5982\u56fe4\u6240\u793a\uff0cVPC-X\u5185\u6709\u4e24\u4e2a\u5b50\u7f51Subnet-X01\u548cSubnet-X02\uff0cECS-01\u548cECS-02\u5c5e\u4e8eSubnet-X01\uff0cECS-03\u5c5e\u4e8eSubnet-X02\u3002\u4e09\u53f0ECS\u7684\u7f51\u7edc\u901a\u4fe1\u9700\u6c42\u5982\u4e0b\uff1a</p> <ul> <li>ECS-02\u548cECS-03\u7f51\u7edc\u4e92\u901a</li> <li>ECS-01\u548cECS-03\u7f51\u7edc\u9694\u79bb</li> </ul> <p>\u4e3a\u4e86\u5b9e\u73b0\u4ee5\u4e0a\u7f51\u7edc\u901a\u4fe1\u9700\u6c42\uff0c\u672c\u793a\u4f8b\u7684\u5b89\u5168\u7ec4\u548c\u7f51\u7edcACL\u914d\u7f6e\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u4e09\u53f0ECS\u5c5e\u4e8e\u540c\u4e00\u4e2a\u5b89\u5168\u7ec4Sg-A\uff0c\u5728Sg-A\u4e2d\u6dfb\u52a0\u5165\u65b9\u5411\u548c\u51fa\u65b9\u5411\u89c4\u5219\uff0c\u786e\u4fdd\u5b89\u5168\u7ec4\u5185\u5b9e\u4f8b\u7f51\u7edc\u4e92\u901a\u3002</p> <p>\u6b64\u65f6\u5b50\u7f51\u8fd8\u672a\u5173\u8054\u7f51\u7edcACL\uff0c\u5b89\u5168\u7ec4\u89c4\u5219\u914d\u7f6e\u5b8c\u6210\u540e\uff0cECS-01\u3001ECS-02\u5747\u53ef\u4ee5\u548cECS-03\u8fdb\u884c\u901a\u4fe1\u3002</p> </li> <li> <p>\u5c06\u4e24\u4e2a\u5b50\u7f51\u5747\u5173\u8054\u81f3\u7f51\u7edcACL\u00a0Fw-A\u3002</p> <p>\u5f53Fw-A\u4e2d\u53ea\u6709\u9ed8\u8ba4\u89c4\u5219\u65f6\uff0c\u540c\u4e00\u4e2a\u5b50\u7f51\u5185\u5b9e\u4f8b\u7f51\u7edc\u4e92\u901a\uff0c\u4e0d\u540c\u5b50\u7f51\u5185\u5b9e\u4f8b\u7f51\u7edc\u9694\u79bb\u3002\u6b64\u65f6ECS-01\u548cECS-02\u7f51\u7edc\u4e92\u901a\uff0cECS-01\u548cECS-03\u7f51\u7edc\u9694\u79bb\u3001ECS-02\u548cECS-03\u7f51\u7edc\u9694\u79bb\u3002</p> </li> <li> <p>\u5728\u7f51\u7edcACL\u00a0Fw-A\u4e2d\u6dfb\u52a0\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u653e\u901aECS-02\u548cECS-03\u4e4b\u95f4\u7684\u7f51\u7edc\u3002</p> <ul> <li>\u81ea\u5b9a\u4e49\u89c4\u5219A01\uff1a\u5141\u8bb8\u6765\u81eaECS-03\u7684\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u3002</li> <li>\u81ea\u5b9a\u4e49\u89c4\u5219A02\uff1a\u5141\u8bb8\u6765\u81eaECS-02\u7684\u6d41\u91cf\u6d41\u5165\u5b50\u7f51\u3002</li> <li>\u81ea\u5b9a\u4e49\u89c4\u5219A03\uff1a\u5141\u8bb8\u8bbf\u95eeECS-03\u7684\u6d41\u91cf\u6d41\u51fa\u5b50\u7f51\u3002</li> <li>\u81ea\u5b9a\u4e49\u89c4\u5219A04\uff1a\u5141\u8bb8\u8bbf\u95eeECS-02\u7684\u6d41\u91cf\u6d41\u51fa\u5b50\u7f51\u3002</li> </ul> </li> </ol> <p>\u56fe4\u00a0\u63a7\u5236\u4e0d\u540c\u5b50\u7f51\u5185\u5b9e\u4f8b\u7684\u4e92\u901a\u548c\u9694\u79bb </p> <p>\u8bf4\u660e\uff1a</p> <p>\u66f4\u591a\u7f51\u7edcACL\u89c4\u5219\u914d\u7f6e\u793a\u4f8b\uff0c\u8bf7\u53c2\u89c1\u7f51\u7edcACL\u914d\u7f6e\u793a\u4f8b\u3002</p>","tags":["\u7f51\u7edcACL"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/30%20%E7%BD%91%E7%BB%9CACL/#16-acl","title":"1.6. \u7f51\u7edcACL\u914d\u7f6e\u6d41\u7a0b","text":"<p>\u56fe5\u00a0\u7f51\u7edcACL\u914d\u7f6e\u6d41\u7a0b </p> <p>\u88684\u00a0\u7f51\u7edcACL\u914d\u7f6e\u6d41\u7a0b\u8bf4\u660e</p> \u5e8f\u53f7 \u6b65\u9aa4 \u8bf4\u660e \u64cd\u4f5c\u6307\u5bfc 1 \u521b\u5efa\u7f51\u7edcACL \u7f51\u7edcACL\u521b\u5efa\u5b8c\u6210\u540e\uff0c\u81ea\u5e26\u5165\u65b9\u5411\u548c\u51fa\u65b9\u5411\u9ed8\u8ba4\u89c4\u5219\uff0c\u62d2\u7edd\u51fa\u5165\u5b50\u7f51\u7684\u6d41\u91cf\u3002 \u521b\u5efa\u7f51\u7edcACL 2 \u914d\u7f6e\u7f51\u7edcACL\u89c4\u5219 \u7f51\u7edcACL\u9ed8\u8ba4\u89c4\u5219\u4e0d\u652f\u6301\u5220\u9664\u548c\u4fee\u6539\uff0c\u60a8\u9700\u8981\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u6dfb\u52a0\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u7528\u4e8e\u63a7\u5236\u6d41\u5165\u6216\u6d41\u51fa\u5b50\u7f51\u7684\u6d41\u91cf\uff0c\u6d41\u91cf\u5c06\u4f1a\u4f18\u5148\u5339\u914d\u81ea\u5b9a\u4e49\u89c4\u5219\u3002 \u6dfb\u52a0\u7f51\u7edcACL\u89c4\u5219\uff08\u9ed8\u8ba4\u751f\u6548\u987a\u5e8f\uff09\u6dfb\u52a0\u7f51\u7edcACL\u89c4\u5219\uff08\u81ea\u5b9a\u4e49\u751f\u6548\u987a\u5e8f\uff09 3 \u5c06\u5b50\u7f51\u5173\u8054\u81f3\u7f51\u7edcACL \u60a8\u9700\u8981\u5c06\u5b50\u7f51\u5173\u8054\u81f3\u7f51\u7edcACL\uff0c\u5e76\u4e14\u5f53\u7f51\u7edcACL\u72b6\u6001\u4e3a\u201c\u5df2\u5f00\u542f\u201d\u65f6\uff0c\u7f51\u7edcACL\u89c4\u5219\u4f1a\u5bf9\u51fa\u5165\u5b50\u7f51\u7684\u6d41\u91cf\u751f\u6548\u3002\u4e00\u4e2a\u5b50\u7f51\u53ea\u80fd\u5173\u8054\u4e00\u4e2a\u7f51\u7edcACL\u3002 \u5c06\u5b50\u7f51\u5173\u8054\u81f3\u7f51\u7edcACL","tags":["\u7f51\u7edcACL"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/30%20%E7%BD%91%E7%BB%9CACL/#17-acl","title":"1.7. \u7f51\u7edcACL\u7684\u4f7f\u7528\u9650\u5236","text":"<ul> <li>\u5728\u4e00\u4e2a\u533a\u57df\u5185\uff0c\u5355\u4e2a\u7528\u6237\u9ed8\u8ba4\u6700\u591a\u53ef\u4ee5\u521b\u5efa200\u4e2a\u7f51\u7edcACL\u3002</li> <li>\u5efa\u8bae\u4e00\u4e2a\u7f51\u7edcACL\u5355\u65b9\u5411\u62e5\u6709\u7684\u89c4\u5219\u6570\u91cf\u4e0d\u8981\u8d85\u8fc7100\u6761\uff0c\u5426\u5219\u4f1a\u5f15\u8d77\u7f51\u7edcACL\u6027\u80fd\u4e0b\u964d\u3002</li> <li>\u5728\u4e00\u4e2a\u7f51\u7edcACL\u7684\u5165\u65b9\u5411\u4e2d\uff0c\u6700\u591a\u53ef\u4ee5\u6709124\u6761\u89c4\u5219\u5173\u8054IP\u5730\u5740\u7ec4\uff0c\u51fa\u65b9\u5411\u540c\u7406\u3002</li> <li> <p>\u5f53\u60a8\u7684\u7ec4\u7f51\u4e2d\u5b58\u5728\u4ee5\u4e0b\u60c5\u51b5\u65f6\uff0c\u6765\u81eaELB\u548cVPCEP\u7684\u6d41\u91cf\u4e0d\u53d7\u7f51\u7edcACL\u548c\u5b89\u5168\u7ec4\u89c4\u5219\u7684\u9650\u5236\u3002</p> <ul> <li> <p>ELB\u5b9e\u4f8b\u7684\u76d1\u542c\u5668\u5f00\u542f\u201c\u83b7\u53d6\u5ba2\u6237\u7aefIP\u201d\u529f\u80fd\u65f6\uff0c\u4e0d\u53d7\u9650\u5236\u3002</p> <p>\u6bd4\u5982\u89c4\u5219\u5df2\u660e\u786e\u62d2\u7edd\u6765\u81eaELB\u5b9e\u4f8b\u7684\u6d41\u91cf\u8fdb\u5165\u540e\u7aef\u4e91\u670d\u52a1\u5668\uff0c\u6b64\u65f6\u8be5\u89c4\u5219\u65e0\u6cd5\u62e6\u622a\u6765\u81eaELB\u7684\u6d41\u91cf\uff0c\u6d41\u91cf\u4f9d\u7136\u4f1a\u62b5\u8fbe\u540e\u7aef\u4e91\u670d\u52a1\u5668\u3002</p> </li> <li> <p>VPCEP\u5b9e\u4f8b\u7c7b\u578b\u4e3a\u201c\u4e13\u4e1a\u578b\u201d\u65f6\uff0c\u4e0d\u53d7\u9650\u5236\u3002</p> </li> </ul> </li> </ul>","tags":["\u7f51\u7edcACL"]},{"location":"03%20%E4%BA%91%E4%B8%8A%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/%E8%99%9A%E6%8B%9F%E7%A7%81%E6%9C%89%E4%BA%91%20VPC/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/30%20%E7%BD%91%E7%BB%9CACL/#18","title":"1.8. \u53c2\u8003\u8d44\u6e90","text":"<ol> <li>https://support.huaweicloud.com/usermanual-vpc/acl_0001.html</li> </ol>","tags":["\u7f51\u7edcACL"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E6%9C%89%E4%BA%91/","title":"\u516c\u6709\u4e91","text":"<p>\u516c\u6709\u4e91\u662f\u6307\u7b2c\u4e09\u65b9\u63d0\u4f9b\u5546\u901a\u8fc7\u516c\u5171Internet\u4e3a\u7528\u6237\u63d0\u4f9b\u7684\u4e91\u670d\u52a1\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7Internet\u8bbf\u95ee\u4e91\u5e76\u4eab\u53d7\u5404\u7c7b\u670d\u52a1\uff0c\u5305\u62ec\u5e76\u4e0d\u9650\u4e8e\u8ba1\u7b97\u3001\u5b58\u50a8\u3001\u7f51\u7edc\u7b49\u3002\u516c\u6709\u4e91\u670d\u52a1\u7684\u6a21\u5f0f\u53ef\u4ee5\u662f\u514d\u8d39\u6216\u6309\u91cf\u4ed8\u8d39\u3002</p>","tags":["\u516c\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E6%9C%89%E4%BA%91/#1","title":"1. \u516c\u6709\u4e91\u7684\u7279\u70b9\u548c\u4ef7\u503c","text":"<p>\u516c\u6709\u4e91\u7684\u6838\u5fc3\u5c5e\u6027\u662f\u5171\u4eab\u8d44\u6e90\u670d\u52a1\u3002\u7b2c\u4e09\u65b9\u63d0\u4f9b\u5546\u5c06\u5171\u4eab\u7684\u8ba1\u7b97\u3001\u5b58\u50a8\u3001\u7f51\u7edc\u7b49\u8d44\u6e90\u6309\u9700\u63d0\u4f9b\u7ed9\u7528\u6237\u3002\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\uff0c\u7531\u4e8e\u4e0d\u9700\u8981\u8fdb\u884c\u521d\u59cbIT\u57fa\u7840\u8bbe\u65bd\u6295\u8d44\u5c31\u53ef\u4ee5\u901a\u8fc7\u6309\u9700\u4ed8\u8d39\u7684\u65b9\u5f0f\u4eab\u53d7IT\u670d\u52a1\uff0c\u6570\u5b57\u5316\u95e8\u69db\u548cIT\u6210\u672c\u90fd\u5927\u5e45\u964d\u4f4e\u3002</p> <p>\u5bf9\u4e8e\u591a\u6570\u4e2d\u5c0f\u578b\u4f01\u4e1a\u6216\u521d\u521b\u578b\u4f01\u4e1a\u800c\u8a00\uff0c\u4e0a\u516c\u6709\u4e91\u662f\u6700\u4f73\u9009\u62e9\uff1a</p> <ul> <li>\u4ece\u8fd0\u8425\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u516c\u6709\u4e91\u80fd\u591f\u6309\u9700\u63d0\u4f9b\u7528\u6237\u6240\u9700\u8d44\u6e90\uff0c\u8ba1\u91cf\u6536\u8d39\uff0c\u964d\u4f4eTCO\uff0c\u8fbe\u5230\u8282\u7701\u6210\u672c\u7684\u76ee\u7684\u3002\u5c24\u5176\u5bf9\u4e8e\u4e2d\u5c0f\u578b\u4f01\u4e1a\u6765\u8bf4\uff0c\u6ca1\u6709\u5145\u8db3\u7684\u9884\u7b97\u8d2d\u4e70\u8bbe\u5907\u3001\u77ed\u65f6\u95f4\u4f7f\u7528\u5e76\u91ca\u653e\uff08\u6d4b\u8bd5\u3001\u9a8c\u8bc1\u7b49\uff09\u3001\u9700\u8981\u8d85\u5927\u89c4\u6a21\u8ba1\u7b97\u80fd\u529b\u7b49\u90fd\u53ef\u4ee5\u901a\u8fc7\u516c\u6709\u4e91\u6ee1\u8db3\u3002</li> <li>\u4ece\u8fd0\u7ef4\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u4f20\u7edf\u7684\u4f01\u4e1a\u901a\u8fc7\u81ea\u5efa\u6570\u636e\u4e2d\u5fc3\u6765\u652f\u6491\u81ea\u8eab\u4e1a\u52a1\uff0c\u800c\u81ea\u5efa\u5e26\u6765\u7684\u5de5\u4f5c\u91cf\u5c31\u8981\u5305\u62ec\u57fa\u7840\u8bbe\u65bd\uff08\u5305\u62ec\u98ce\u706b\u6c34\u7535\u3001\u670d\u52a1\u5668\u3001\u5b58\u50a8\u3001\u4ea4\u6362\u673a\u3001\u9632\u706b\u5899\u7b49\u7b49\uff09\u3001\u7cfb\u7edf\u3001\u4e2d\u95f4\u4ef6\u670d\u52a1\u7b49\u7b49\u3002\u7ef4\u62a4\u590d\u6742\u4e14\u652f\u51fa\u5e9e\u5927\u3002\u800c\u901a\u8fc7\u4f7f\u7528\u516c\u6709\u4e91\uff0c\u7528\u6237\u5c06\u4e0d\u9700\u8981\u5173\u6ce8\u4e0a\u8ff0\u95ee\u9898\uff0c\u53ea\u9700\u8981\u5173\u6ce8\u81ea\u8eab\u4e1a\u52a1\u5373\u53ef\uff0c\u5927\u5927\u51cf\u8f7b\u4e86\u7ef4\u62a4\u7684\u590d\u6742\u5ea6\u53ca\u7ef4\u62a4\u5f00\u652f\uff0c\u8f6c\u800c\u805a\u7126\u4e1a\u52a1\u6301\u7eed\u521b\u65b0\u3002</li> <li>\u4ece\u670d\u52a1\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u516c\u6709\u4e91\u63d0\u4f9b\u79cd\u7c7b\u7e41\u591a\u7684\u670d\u52a1\uff0c\u4f7f\u7528\u6237\u53ef\u4ee5\u5c3d\u60c5\u4eab\u7528\u4e91\u5e26\u6765\u7684\u4fbf\u5229\u3002</li> <li>\u4ece\u5b89\u5168\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u5f53\u524d\u4e3b\u6d41\u7684\u516c\u6709\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u7684\u5b89\u5168\u7b49\u7ea7\u5f80\u5f80\u662f\u5927\u90e8\u5206\u4f01\u4e1a\u65e0\u6cd5\u8fbe\u5230\u7684\u3002\u4e3b\u6d41\u7684\u516c\u6709\u4e91\u63d0\u4f9b\u5546\u63d0\u4f9b\u670d\u52a1\u901a\u8fc7\u4e86\u5927\u90e8\u5206\u5b89\u5168\u53ca\u9690\u79c1\u7b49\u7ea7\u8ba4\u8bc1\uff0c\u80fd\u591f\u9ad8\u6548\u4fdd\u969c\u7528\u6237\u7684\u6570\u636e\u53ca\u9690\u79c1\u5b89\u5168\u3002</li> </ul>","tags":["\u516c\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E6%9C%89%E4%BA%91/#2","title":"2. \u516c\u6709\u4e91\u7684\u67b6\u6784","text":"<p>\u516c\u6709\u4e91\u5e38\u89c1\u7684\u67b6\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5305\u542b\u5305\u542bIaaS\uff08Infrastructure as a Service\uff0c\u57fa\u7840\u8bbe\u65bd\u5373\u670d\u52a1\uff09\u3001PaaS\uff08Platform as a Service\uff0c\u5e73\u53f0\u5373\u670d\u52a1\uff09\u3001SaaS\uff08Software as a Service\uff0c\u8f6f\u4ef6\u5373\u670d\u52a1\uff09\u3001\u8fd0\u7ef4\u3001\u8fd0\u8425\u3001\u5b89\u5168\u516d\u5927\u90e8\u5206\u3002</p> <ul> <li>IaaS\u5c42\u4e3b\u8981\u662f\u5c06\u8ba1\u7b97\u3001\u5b58\u50a8\u3001\u7f51\u7edc\u8d44\u6e90\u7684\u62bd\u8c61\u5316\u540e\u5c06\u8d44\u6e90\u63d0\u4f9b\u7ed9\u7528\u6237\u4f7f\u7528\uff0c\u5e76\u6839\u636e\u5b9e\u9645\u8fd0\u7528\u9700\u6c42\uff0c\u63d0\u4f9b\u5bf9\u5e94\u670d\u52a1\u3002</li> <li>PaaS\u5c42\u57fa\u4e8eIaaS\u5c42\u4e3a\u7528\u6237\u63d0\u4f9b\u5bb9\u5668\u670d\u52a1\u3001\u5fae\u670d\u52a1\u5f00\u53d1\u7b49\u670d\u52a1\uff0c\u5373\u5c06\u4e00\u4e2a\u5f00\u653e\u5e73\u53f0\u4f5c\u4e3a\u670d\u52a1\u63d0\u4f9b\u7ed9\u7528\u6237\u3002</li> <li>SaaS\u5c42\u4e3b\u8981\u63d0\u4f9b\u573a\u666f\u5316\u7684\u5e94\u7528\uff0c\u5373\u5c06\u5e94\u7528\u4f5c\u4e3a\u670d\u52a1\u63d0\u4f9b\u7ed9\u7528\u6237\u3002</li> <li>\u5728\u8fd0\u7ef4\u5c42\u9762\uff0c\u516c\u6709\u4e91\u63d0\u4f9b\u9762\u5411\u7528\u6237\u4fa7\u548c\u9762\u5411\u5e73\u53f0\u4fa7\u7684\u8fd0\u7ef4\u80fd\u529b\u3002\u516c\u6709\u4e91\u4e3a\u4f7f\u7528\u4e91\u670d\u52a1\u7684\u7528\u6237\u63d0\u4f9b\u7528\u6237\u8fd0\u7ef4\u80fd\u529b\uff0c\u4f8b\u5982\u6743\u9650\u63a7\u5236\u3001\u6027\u80fd\u76d1\u63a7\uff0c\u72b6\u6001\u76d1\u63a7\uff0c\u6545\u969c\u544a\u8b66\u7b49\u3002\u800c\u5728\u5e73\u53f0\u4fa7\uff0c\u662f\u7531\u516c\u6709\u4e91\u4fdd\u969c\u56e2\u961f\u8fdb\u884c\u8fd0\u7ef4\uff0c\u4fdd\u969c\u5e73\u53f0\u7684\u9ad8\u53ef\u9760\u6027\u3001\u9ad8\u53ef\u7528\u6027\u53ca\u5b89\u5168\u6027\u7b49\u3002</li> <li>\u5728\u8fd0\u8425\u5c42\u9762\uff0c\u516c\u6709\u4e91\u63d0\u4f9b\u9762\u5411\u7528\u6237\u4fa7\u548c\u9762\u5411\u5e73\u53f0\u4fa7\u7684\u8fd0\u8425\u80fd\u529b\u3002\u7528\u6237\u62e5\u6709\u63d0\u4ea4\u5de5\u5355\u3001\u8ba2\u5355\u3001\u8ba1\u8d39\u7b49\u8fd0\u8425\u80fd\u529b\uff0c\u4ee5\u534f\u52a9\u7528\u6237\u4e86\u89e3\u8fd0\u8425\u6210\u672c\u3001\u5206\u6790\u4e1a\u52a1\u8d8b\u52bf\u3002\u516c\u6709\u4e91\u8fd0\u8425\u56e2\u961f\u5bf9\u7528\u6237\u7684\u5de5\u5355\u3001\u6295\u8d44\u8fdb\u884c\u5904\u7406\u4e0e\u7ba1\u63a7\uff0c\u540c\u65f6\u5bf9\u4e8e\u516c\u6709\u4e91\u7684\u6574\u4f53\u6536\u5165\u8fdb\u884c\u53ef\u89c6\u5316\u7ba1\u7406\u3002</li> <li>\u5728\u5b89\u5168\u5c42\u9762\uff0c\u516c\u6709\u4e91\u9700\u8981\u63d0\u4f9b\u7cfb\u7edf\u5b89\u5168\u3001\u5e73\u53f0\u5b89\u5168\u3001\u8fd0\u7ef4\u5b89\u5168\u53ca\u7f51\u7edc\u5b89\u5168\u7b49\u65b9\u9762\u9700\u6c42\uff0c\u4ee5\u4fdd\u969c\u7528\u6237\u53ca\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u7684\u6570\u636e\u8d22\u4ea7\u5b89\u5168\u3002</li> </ul> <p> \u516c\u6709\u4e91\u5e38\u89c1\u67b6\u6784</p>","tags":["\u516c\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E6%9C%89%E4%BA%91/#3","title":"3. \u516c\u6709\u4e91\u4e0e\u79c1\u6709\u4e91\u7684\u6bd4\u8f83","text":"<p>\u4f01\u4e1a\u90e8\u7f72\u4e91\u8ba1\u7b97\u670d\u52a1\u7684\u6a21\u5f0f\u6709\u4e09\u5927\u7c7b\uff1a\u516c\u6709\u4e91\u3001\u79c1\u6709\u4e91\u3001\u6df7\u5408\u4e91\u3002\u5176\u4e2d\uff0c\u79c1\u6709\u4e91\u662f\u4f01\u4e1a\u81ea\u5df1\u5efa\u8bbe\u7684\u4e3a\u4f01\u4e1a\u5185\u90e8\u63d0\u4f9b\u670d\u52a1\u7684\u4e00\u79cd\u4e91\u8ba1\u7b97\u4f7f\u7528\u65b9\u5f0f\u3002\u79c1\u6709\u4e91\u4e3a\u4e00\u4e2a\u4f01\u4e1a\u5355\u72ec\u4f7f\u7528\u800c\u6784\u5efa\uff0c\u53ef\u90e8\u7f72\u5728\u4f01\u4e1a\u7684\u6570\u636e\u4e2d\u5fc3\u4e2d\uff0c\u4e5f\u53ef\u7edf\u4e00\u90e8\u7f72\u5728\u4e91\u5e73\u53f0\u4e1a\u52a1\u63d0\u4f9b\u5546\u7684\u673a\u623f\u3002</p>","tags":["\u516c\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E6%9C%89%E4%BA%91/#31","title":"3.1. \u603b\u4f53\u5bf9\u6bd4","text":"<p>\u4e0e\u79c1\u6709\u4e91\u76f8\u6bd4\uff0c\u516c\u6709\u4e91\u5177\u5907\u4ee5\u4e0b\u4f18\u70b9\uff1a</p> <ul> <li>\u66f4\u9ad8\u7684\u5f39\u6027\u548c\u53ef\u6269\u5c55\u6027\uff1a\u4f7f\u7528\u516c\u5171\u4e91\uff0c\u5ba2\u6237\u53ef\u4ee5\u5feb\u901f\u8ba2\u8d2d\u8ba1\u7b97\u3001\u5b58\u50a8\u548c\u7f51\u7edc\u8d44\u6e90\u6765\u5e94\u5bf9\u6fc0\u589e\u7684\u4e1a\u52a1\u9700\u6c42\uff0c\u800c\u65e0\u9700\u8d2d\u4e70\u548c\u90e8\u7f72\u65b0\u7684\u786c\u4ef6\u3002</li> <li>\u66f4\u4f4e\u7684\u8fdb\u5165\u6210\u672c\uff1a\u5927\u591a\u6570\u5ba2\u6237\u53ef\u4ee5\u65e0\u9700\u6dfb\u52a0\u81ea\u5df1\u7684\u7269\u7406\u57fa\u7840\u8bbe\u65bd\u5c31\u53ef\u4ee5\u4f7f\u7528\u516c\u5171\u4e91\u670d\u52a1\u3002</li> <li>\u66f4\u5feb\u5730\u83b7\u53d6\u6700\u65b0\u6280\u672f\uff1a\u5728\u8bb8\u591a\u60c5\u51b5\u4e0b\uff0c\u4e0e\u5ba2\u6237\u81ea\u5df1\u8d2d\u4e70\u548c\u5b89\u88c5\u786c\u4ef6\u548c\u8f6f\u4ef6\u76f8\u6bd4\uff0c\u516c\u6709\u4e91\u63d0\u4f9b\u5546\u80fd\u591f\u66f4\u5feb\u5730\u63d0\u4f9b\u6700\u65b0\u7684\u786c\u4ef6\u548c\u8f6f\u4ef6\uff0c\u53ca\u5176\u5bf9\u5e94\u7684\u5347\u7ea7\u66f4\u65b0\u3002</li> </ul> <p>\u4e0e\u516c\u6709\u4e91\u76f8\u6bd4\uff0c\u79c1\u6709\u4e91\u7684\u5b89\u5168\u6027\u66f4\u597d\uff0c\u4f46\u6210\u672c\u4e5f\u66f4\u9ad8\uff0c\u4e14\u79c1\u6709\u4e91\u6574\u4e2a\u57fa\u7840\u8bbe\u65bd\u7684\u5e73\u5747\u5229\u7528\u7387\u8981\u4f4e\u4e8e\u516c\u6709\u4e91\u3002</p>","tags":["\u516c\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E6%9C%89%E4%BA%91/#32","title":"3.2. \u5efa\u8bbe\u4e0e\u8fd0\u884c\u6a21\u5f0f\u5bf9\u6bd4","text":"<ul> <li>\u516c\u6709\u4e91\u662f\u4e00\u79cd\u65b0\u7684IT\u80fd\u529b\u6d88\u8d39\u6a21\u5f0f\uff0c\u516c\u6709\u4e91\u7684\u7528\u6237\u53ea\u9700\u5173\u6ce8\u4e91\u670d\u52a1\u6240\u63d0\u4f9b\u7684\u80fd\u529b\u548cSLA\uff0c\u5e76\u4e0d\u5173\u6ce8\u80cc\u540e\u7684\u8d44\u6e90\u6240\u5728\u5730\uff0c\u4ee5\u53ca\u5efa\u8bbe\u3001\u4ea4\u4ed8\u3001\u8fd0\u7ef4\u7b49\u95ee\u9898\u3002\u516c\u6709\u4e91\u7528\u6237\u53ef\u4ee5\u5feb\u901f\u79df\u7528\u8d44\u6e90\uff0c\u90e8\u7f72\u81ea\u5df1\u7684\u4e1a\u52a1\uff0c\u524d\u671f\u6295\u5165\u4f4e\uff0c\u4e1a\u52a1\u4e0a\u7ebf\u5468\u671f\u77ed\u3002\u5728\u8fd0\u7ef4\u5c42\u9762\uff0c\u516c\u6709\u4e91\u63d0\u4f9b\u5546\u63d0\u4f9b\u5927\u90e8\u5206\u8fd0\u7ef4\u670d\u52a1\uff0c\u516c\u6709\u4e91\u7528\u6237\u53ea\u9700\u8981\u5173\u6ce8\u81ea\u8eab\u7684\u5e94\u7528\u3002</li> <li>\u79c1\u6709\u4e91\u7684\u8d44\u4ea7\u5f52\u5c5e\u8be5\u7ec4\u7ec7\u62e5\u6709\uff0c\u7531\u8be5\u7ec4\u7ec7\u4e3b\u5bfc\u4e91\u7684\u5efa\u8bbe\u3001\u7ba1\u7406\u548c\u7ef4\u62a4\uff0c\u90e8\u7f72\u5728\u8be5\u7ec4\u7ec7\u5185\u90e8\u7684\u6570\u636e\u4e2d\u5fc3\u3002\u79c1\u6709\u4e91\u524d\u671f\u5efa\u8bbe\u6295\u5165\u6210\u672c\u8f83\u591a\uff0c\u5efa\u8bbe\u548c\u8c03\u8bd5\u5468\u671f\u8f83\u957f\u3002\u79c1\u6709\u4e91\u7684\u8fd0\u7ef4\u4e00\u822c\u9700\u8981\u8be5\u7ec4\u7ec7\u81ea\u8eab\u5b8c\u6210\u3002</li> </ul>","tags":["\u516c\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E6%9C%89%E4%BA%91/#33","title":"3.3. \u67b6\u6784\u5bf9\u6bd4","text":"<p>\u4ece\u67b6\u6784\u4e0a\u770b\uff0c\u4e00\u822c\u8ba4\u4e3a\u79c1\u6709\u4e91\u7684IaaS\u3001PaaS\u80fd\u529b\u662f\u516c\u6709\u4e91IaaS\u5c42\u3001PaaS\u5c42\u80fd\u529b\u7684\u5b50\u96c6\u3002\u7531\u4e8e\u79c1\u6709\u4e91\u662f\u6ee1\u8db3\u67d0\u7ec4\u7ec7\u7684\u5177\u4f53\u4e1a\u52a1\u9700\u6c42\u6784\u5efa\u7684\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u5c06IaaS\u3001PaaS\u7684\u80fd\u529b\u5168\u90e8\u90fd\u7eb3\u5165\u79c1\u6709\u4e91\uff0c\u8be5\u7ec4\u7ec7\u4e0d\u4f7f\u7528\u7684\u80fd\u529b\uff0c\u53ef\u4ee5\u4e0d\u90e8\u7f72\u3002\u4f8b\u5982\u8be5\u7ec4\u7ec7\u53ea\u4f7f\u7528\u865a\u62df\u673a\u670d\u52a1\uff0c\u4e0d\u4f7f\u7528\u88f8\u91d1\u5c5e\u670d\u52a1\uff0c\u5219\u8be5\u79c1\u6709\u4e91\u4e2d\u53ef\u4ee5\u4e0d\u90e8\u7f72\u88f8\u91d1\u5c5e\u670d\u52a1\u3002</p> <p>\u516c\u6709\u4e91\u67b6\u6784\u4e2d\u9664\u4e86IaaS\u3001PaaS\u4ee5\u5916\uff0c\u8fd8\u6709SaaS\u3001\u8fd0\u8425\u7b49\u4e3b\u8981\u80fd\u529b\u3002</p> <ul> <li>\u516c\u6709\u4e91\u4e00\u822c\u5747\u63d0\u4f9bSaaS\u80fd\u529b\uff0c\u4f46\u662f\u5728\u79c1\u6709\u4e91\u4e2d\uff0c\u5374\u4e0d\u4e00\u5b9a\u4f1a\u90e8\u7f72SaaS\u8f6f\u4ef6\u3002\u5f53SaaS\u8f6f\u4ef6\u79c1\u6709\u5316\u90e8\u7f72\u540e\uff0c\u79c1\u6709\u4e91\u62e5\u6709\u8005\u9700\u8981\u6295\u5165\u5927\u91cf\u7684\u8d44\u6e90\u53bb\u7ef4\u62a4SaaS\u8f6f\u4ef6\uff0c\u5728\u6210\u672c\u4e0a\u6bd4\u4f7f\u7528\u516c\u6709\u4e91\u7248\u672c\u7684\u7eafSaaS\u670d\u52a1\u8981\u9ad8\u5f97\u591a\u3002\u5728\u5b9e\u9645\u90e8\u7f72\u4e2d\uff0c\u4e0d\u8bba\u662f\u516c\u6709\u4e91\u3001\u79c1\u6709\u4e91\u3001\u6df7\u5408\u4e91\uff0c\u5176\u90e8\u7f72\u90fd\u662f\u57fa\u4e8e\u4e0d\u540c\u5ba2\u6237\u7684\u9700\u6c42\u5236\u5b9a\u7684SaaS\u5b9e\u65bd\u65b9\u6848\uff0c\u4e3b\u8981\u53d6\u51b3\u4e8e\u5ba2\u6237\u5bf9\u4e8e\u5b89\u5168\u3001\u6210\u672c\u3001\u7ef4\u62a4\u7b49\u5404\u4e2a\u56e0\u7d20\u7684\u7efc\u5408\u8003\u8651\u3002</li> <li>\u7531\u4e8e\u79c1\u6709\u4e91\u7684\u79c1\u6709\u5c5e\u6027\uff0c\u5728\u79c1\u6709\u4e91\u7684\u7ec4\u7ec7\u5185\u90e8\u4e00\u822c\u4e0d\u6d89\u53ca\u8d39\u7528\u8ba1\u7b97\u95ee\u9898\uff0c\u6b64\u65f6\u4e0d\u6d89\u53ca\u8fd0\u8425\u3002\u800c\u516c\u6709\u4e91\u9700\u901a\u8fc7\u5404\u79cd\u6a21\u5f0f\u5411\u5176\u7528\u6237\u6536\u8d39\uff0c\u56e0\u6b64\u5176\u8fd0\u8425\u80fd\u529b\u662f\u5fc5\u9009\u9879\u3002</li> </ul>","tags":["\u516c\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E6%9C%89%E4%BA%91/#34","title":"3.4. \u4e1a\u52a1\u7c7b\u578b\u5bf9\u6bd4","text":"<ul> <li>\u516c\u6709\u4e91\u4e2d\u4e00\u822c\u90e8\u7f72\u975e\u6838\u5fc3\u4e1a\u52a1\u3001\u9700\u8981\u5feb\u901f\u8fed\u4ee3\u7684\u4e1a\u52a1\u3001\u5bf9\u5916\u90e8\u63d0\u4f9b\u670d\u52a1\u7684\u4e1a\u52a1\u3002</li> <li>\u79c1\u6709\u4e91\u4e2d\u4e00\u822c\u90e8\u7f72\u8be5\u7ec4\u7ec7\u7684\u6838\u5fc3\u4e1a\u52a1\u3001\u8bbe\u6d89\u53ca\u5230\u4fe1\u606f\u5b89\u5168\u7b49\u7ea7\u9ad8\u7684\u4e1a\u52a1\u3002</li> </ul> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u516c\u6709\u4e91\u4e0e\u79c1\u6709\u4e91\u7684\u4e3b\u8981\u5bf9\u6bd4\u5982\u4e0b\u8868\u6240\u793a\u3002</p> \u5bf9\u6bd4\u9879 \u516c\u6709\u4e91 \u79c1\u6709\u4e91 \u7528\u6237\u7c7b\u578b \u521b\u4e1a\u516c\u53f8\u3001\u5c0f\u578b\u516c\u53f8\u3001\u4e2a\u4eba \u653f\u5e9c\u3001\u5927\u4f01\u4e1a \u4e1a\u52a1\u7c7b\u578b \u5bf9\u5916\u63d0\u4f9b\u4ea4\u4e92\u7684\u4e1a\u52a1 \u7ec4\u7ec7\u5185\u90e8\u4e1a\u52a1 \u5b89\u5168 \u4e3b\u673a\u5c42\u9762\u5b9e\u73b0\u5b89\u5168\u9694\u79bb \u7f51\u7edc\u5c42\u9762\u5b9e\u73b0\u5b89\u5168\u9694\u79bb \u6210\u672c \u521d\u671f\u6210\u672c\u4f4e\uff0c\u540e\u671f\u5f53\u4e1a\u52a1\u91cf\u5927\u65f6\uff0c\u6210\u672c\u8f83\u9ad8 \u521d\u671f\u6210\u672c\u9ad8\uff0c\u968f\u7740\u4e1a\u52a1\u91cf\u589e\u52a0\uff0c\u540e\u671f\u5e73\u5747\u6210\u672c\u4f4e \u5b9a\u5236 \u5f88\u5c11\u5b9a\u5236 \u7075\u6d3b\u5b9a\u5236\uff0c\u53ef\u4e0e\u73b0\u6709\u7cfb\u7edf\u8fdb\u884c\u96c6\u6210 \u6280\u672f\u67b6\u6784 \u81ea\u7814\u67b6\u6784\u3001\u4e3b\u8981\u5173\u6ce8\u5206\u5e03\u5f0f\u3001\u5927\u96c6\u7fa4 \u5f00\u6e90\u67b6\u6784\uff0c\u4e3b\u8981\u5173\u6ce8\u9ad8\u53ef\u7528\uff0c\u7075\u6d3b\u6027 \u517c\u5bb9\u6027 \u6839\u636e\u516c\u6709\u4e91\u7684\u8981\u6c42\u6765\u4fee\u6539\u81ea\u8eab\u4e1a\u52a1 \u4e3b\u52a8\u517c\u5bb9\u548c\u9002\u914d\u81ea\u8eab\u4e1a\u52a1 \u8fd0\u7ef4 \u7528\u6237\u65e0\u6cd5\u81ea\u4e3b\u8fd0\u7ef4\uff0c\u516c\u6709\u4e91\u670d\u52a1\u5546\u7edf\u4e00\u8fd0\u7ef4 \u81ea\u4e3b\u8fd0\u7ef4\uff0c\u4e5f\u53ef\u6258\u7ba1\u7ed9\u7b2c\u4e09\u65b9\u8fd0\u7ef4 <p>\u53c2\u8003\u8d44\u6e90</p> <p>1\u534e\u4e3a\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u89e3\u51b3\u65b9\u6848</p>","tags":["\u516c\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B7%E5%90%88%E4%BA%91/","title":"\u6df7\u5408\u4e91","text":"<p>\u6df7\u5408\u4e91\uff08Hybrid Cloud\uff09\u4f5c\u4e3a\u4e91\u8ba1\u7b97\u7684\u4e00\u79cd\u5f62\u6001\uff0c\u5b83\u5c06\u79c1\u6709\u4e91\u548c\u662f\u516c\u6709\u4e91\u534f\u540c\u5de5\u4f5c\uff0c\u4ece\u800c\u63d0\u9ad8\u7528\u6237\u8de8\u4e91\u7684\u8d44\u6e90\u5229\u7528\u7387\u3002\u6df7\u5408\u4e91\u5e2e\u52a9\u7528\u6237\u7ba1\u7406\u8de8\u4e91\u3001\u8de8\u5730\u57df\u7684IT\u57fa\u7840\u8bbe\u65bd\uff0c\u662f\u5305\u542b\u4e86\u516c\u6709\u4e91\u548c\u79c1\u6709\u4e91\u4e2d\u5404\u7c7b\u8d44\u6e90\u548c\u4ea7\u54c1\u7684\u4e00\u4e2a\u6709\u673a\u6574\u4f53\u7cfb\u7edf\u3002</p>","tags":["\u6df7\u5408\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B7%E5%90%88%E4%BA%91/#1","title":"1. \u6df7\u5408\u4e91\u4ea7\u751f\u7684\u80cc\u666f","text":"<p>\u73b0\u9636\u6bb5\uff0c\u4f01\u4e1aIT\u67b6\u6784\u5df2\u7ecf\u4ece\u8fc7\u53bb\u7684\u96c6\u4e2d\u5f0f\u5927\u578b\u673a\u8fc1\u79fb\u5230\u5f53\u524d\u7684\u5206\u5e03\u5f0f\u865a\u62df\u5316\u67b6\u6784\uff0c\u5e76\u6b63\u5728\u5411\u591a\u5730\u591a\u4e91\u7684\u67b6\u6784\u6f14\u8fdb\u3002\u6839\u636e\u4e1a\u52a1\u81ea\u8eab\u7279\u70b9\u7684\u4e0d\u540c\uff0c\u603b\u4f53\u4e0a\u53ef\u4ee5\u5206\u4e3a\u7a33\u6001\u4e1a\u52a1\u548c\u654f\u6001\u4e1a\u52a1\u4e24\u7c7b\uff0c\u4e0d\u540c\u7684\u4e1a\u52a1\u9002\u5408\u5206\u522b\u90e8\u7f72\u5728\u79c1\u6709\u4e91\u3001\u516c\u6709\u4e91\u4e2d\u3002</p> <ul> <li>\u7a33\u6001\u4e1a\u52a1\uff0c\u5e38\u5e38\u901a\u8fc7\u7269\u7406\u673a\u627f\u8f7d\uff0c\u8981\u6c42\u9ad8\u53ef\u9760\u3001\u4f4e\u65f6\u5ef6\u7b49\uff0c\u901a\u5e38\u90e8\u7f72\u5728\u4f20\u7edf\u7f51\u7edc\u6216\u79c1\u6709\u4e91\u4e2d\uff0c\u6ee1\u8db3\u88f8\u673a\u3001\u6570\u636e\u5e93\u3001\u6838\u5fc3\u4e1a\u52a1\u7b49\u4e1a\u52a1\u8bc9\u6c42\uff0c\u4ee5\u53ca\u5404\u79cd\u4e0d\u5165\u4e91\u670d\u52a1\u5668\u7684\u63a5\u5165\u9700\u6c42\u3002</li> <li>\u654f\u6001\u4e1a\u52a1\uff0c\u5e38\u5e38\u7531\u865a\u62df\u673a\u627f\u8f7d\uff0c\u901a\u8fc7DevOPS\u6a21\u5f0f\u6765\u8fed\u4ee3\u5e94\u7528\u7a0b\u5e8f\uff0c\u901a\u5e38\u90e8\u7f72\u5728\u516c\u6709\u4e91\u4e2d\uff0c\u6ee1\u8db3\u5bf9\u8d44\u6e90\u7684\u654f\u6377\u3001\u5f39\u6027\u8bc9\u6c42\u3002</li> </ul> <p>\u7528\u6237\u53ef\u4ee5\u7075\u6d3b\u6839\u636e\u4e1a\u52a1\u7279\u70b9\u9009\u62e9\u4e91\u8ba1\u7b97\u6a21\u5f0f\u3002\u4f8b\u5982\uff0c\u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u7528\u6237\u53ef\u4ee5\u5c06\u79c1\u5bc6\u6570\u636e\u5b58\u653e\u5728\u81ea\u5df1\u7684\u79c1\u6709\u4e91\u4e2d\u3002\u540c\u65f6\uff0c\u5c06\u90a3\u4e9b\u6d4b\u8bd5\u7c7b\u4e1a\u52a1\uff08\u7ecf\u5e38\u53d8\u66f4\u4e0e\u5347\u7ea7\uff09\u3001\u5916\u90e8\u7528\u6237\u7ecf\u5e38\u8bbf\u95ee\u7684\u4e1a\u52a1\u90e8\u7f72\u5728\u516c\u6709\u4e91\u4e0a\uff0c\u5145\u5206\u5229\u7528\u516c\u6709\u4e91\u53ef\u9760\u6027\u3001\u4e13\u4e1a\u8fd0\u7ef4\u3001\u5feb\u901f\u8d44\u6e90\u6269\u5bb9\u7b49\u4f18\u70b9\u3002</p> <p>\u6df7\u5408\u4e91\u662f\u8fd1\u5e74\u6765\u4e91\u8ba1\u7b97\u7684\u4e3b\u8981\u6a21\u5f0f\u548c\u53d1\u5c55\u65b9\u5411\uff0c\u88ab\u5217\u4e3aGartner 2020\u5e74\u7684\u5341\u5927\u6218\u7565\u6280\u672f\u8d8b\u52bf\u4e4b\u4e00\u3002</p>","tags":["\u6df7\u5408\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B7%E5%90%88%E4%BA%91/#2","title":"2. \u6df7\u5408\u4e91\u7684\u7279\u70b9\u548c\u4ef7\u503c","text":"<p>\u4f01\u4e1a\u90e8\u7f72\u4e91\u8ba1\u7b97\u670d\u52a1\u7684\u6a21\u5f0f\u6709\u4e09\u5927\u7c7b\uff1a\u516c\u6709\u4e91\uff08Public Cloud\uff09\u3001\u79c1\u6709\u4e91\uff08Private Cloud\uff09\u3001\u6df7\u5408\u4e91\uff08Hybird Cloud\uff09\u3002\u5176\u4e2d\uff0c\u6df7\u5408\u4e91\u5e2e\u52a9\u7528\u6237\u7ba1\u7406\u8de8\u4e91\u3001\u8de8\u5730\u57df\u7684IT\u57fa\u7840\u8bbe\u65bd\uff0c\u662f\u5305\u542b\u4e86\u516c\u6709\u4e91\u548c\u79c1\u6709\u4e91\u4e2d\u5404\u7c7b\u8d44\u6e90\u548c\u4ea7\u54c1\u7684\u4e00\u4e2a\u6709\u673a\u6574\u4f53\u7cfb\u7edf\u3002</p> <p>\u6df7\u5408\u4e91\u4e0d\u662f\u7b80\u5355\u7684\u79c1\u6709\u4e91\u548c\u516c\u6709\u4e91\u7684\u53e0\u52a0\uff0c\u6df7\u5408\u4e91\u9700\u8981\u63d0\u4f9b\u4ee5\u4e0b\u80fd\u529b\uff1a</p> <ul> <li> <p>\u6253\u901a\u7528\u6237\u79c1\u6709\u4e91\u4e0e\u8fdc\u7aef\u516c\u6709\u4e91\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u4fdd\u8bc1\u7b26\u5408\u8981\u6c42\u7684\u6570\u636e\u53ef\u4ee5\u5728\u7528\u6237\u79c1\u6709\u4e91\u548c\u516c\u6709\u4e91\u4e4b\u95f4\u4e92\u901a\uff0c\u8fdb\u800c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e1a\u52a1\u5c42\u9762\u66f4\u7075\u6d3b\u7684\u90e8\u7f72\u65b9\u5f0f\u3002\u79c1\u6709\u4e91\u4e0e\u516c\u6709\u4e91\u4e4b\u95f4\u7684\u8fde\u63a5\u65b9\u5f0f\u5e38\u89c1\u7684\u6709\u4e13\u7ebf\u8fde\u63a5\u3001VPN\u8fde\u63a5\u7b49\u3002</p> <p> \u6df7\u5408\u4e91</p> </li> <li> <p>\u5728\u516c\u6709\u4e91\u548c\u79c1\u6709\u4e91\u4e4b\u95f4\u63d0\u4f9b\u7edf\u4e00\u7684\u670d\u52a1\u4f53\u9a8c\uff0c\u4f8b\u5982\u670d\u52a1\u95e8\u6237\u7edf\u4e00\u3001\u8d44\u6e90\u76d1\u63a7\u754c\u9762\u7edf\u4e00\u3001\u8d26\u6237\u6743\u9650\u7edf\u4e00\u7b49\u3002</p> <p> \u6df7\u5408\u4e91\u9700\u63d0\u4f9b\u7edf\u4e00\u7684\u670d\u52a1\u4f53\u9a8c</p> </li> <li> <p>\u5b9e\u73b0\u79c1\u6709\u4e91\u4e0e\u516c\u6709\u4e91\u4e0a\u7684VPC\uff08Virtual Private Cloud\uff0c\u865a\u62df\u79c1\u6709\u4e91\uff09\u4e92\u901a\uff0c\u4e3a\u7528\u6237\u6784\u5efa\u8de8\u591a\u4e91\u7684\u865a\u62df\u79c1\u6709\u6df7\u5408\u4e91\u3002</p> <p>  \u79c1\u6709\u4e91\u4e0e\u516c\u6709\u4e91VPC\u4e92\u901a</p> </li> </ul> <p>\u6df7\u5408\u4e91\u5177\u6709\u4ee5\u4e0b\u4ef7\u503c\uff1a</p> <ul> <li>\u589e\u52a0\u4e1a\u52a1\u7075\u6d3b\u6027\uff1a\u7528\u6237\u6309\u9700\u9009\u62e9\u4e1a\u52a1\u7684\u90e8\u7f72\u65b9\u5f0f\uff0c\u5c06\u4f01\u4e1a\u6838\u5fc3\u6570\u636e\u90e8\u7f72\u5728\u79c1\u6709\u4e91\u4e0a\uff0c\u4f01\u4e1a\u5b8c\u5168\u62e5\u6709\u7edd\u5bf9\u63a7\u5236\u6743\uff1b\u5728\u516c\u6709\u4e91\u4e0a\u90e8\u7f72\u65b0\u5e94\u7528\uff0c\u7528\u4e8e\u8fed\u4ee3\u5f00\u53d1\u548c\u6d4b\u8bd5\uff0c\u540c\u65f6\u83b7\u5f97\u516c\u6709\u4e91\u7075\u6d3b\u5feb\u6377\u548c\u79c1\u6709\u4e91\u5b89\u5168\u7a33\u5b9a\u7684\u597d\u5904\u3002</li> <li>\u964d\u4f4e\u6210\u672c\uff1a\u4e91\u5b58\u50a8\u7684\u6210\u672c\u6bd4\u7b49\u91cf\u672c\u5730\u5b58\u50a8\u6210\u672c\u8981\u4f4e\uff0c\u53ef\u4ee5\u7528\u6765\u5907\u4efd\u6570\u636e\u3002\u6b64\u5916\uff0c\u5f53\u4e1a\u52a1\u6269\u5bb9\u65f6\uff0c\u5c24\u5176\u662f\u4e34\u65f6\u4e1a\u52a1\u91cf\u6fc0\u589e\u65f6\uff0c\u53ef\u4ee5\u5148\u901a\u8fc7\u201c\u5373\u4e70\u5373\u7528\u201d\u7684\u516c\u6709\u4e91\u5feb\u901f\u6269\u5bb9\u4e1a\u52a1\uff0c\u800c\u65e0\u9700\u8d2d\u7f6e\u3001\u90e8\u7f72\u672c\u5730ICT\u8bbe\u65bd\uff1b\u5f53\u4e1a\u52a1\u91cf\u6062\u590d\u540e\uff0c\u53ef\u91ca\u653e\u516c\u6709\u4e91\u8d44\u6e90\uff0c\u964d\u4f4e\u6210\u672c\u3002</li> <li>\u63d0\u9ad8\u53ef\u7528\u6027\u548c\u8bbf\u95ee\u80fd\u529b\uff1a\u516c\u6709\u4e91\u901a\u5e38\u90e8\u7f72\u5728\u5168\u56fd\u751a\u81f3\u5168\u7403\u591a\u4e2a\u6570\u636e\u4e2d\u5fc3\u91cc\uff0c\u63d0\u4f9b\u4e86\u51e0\u4e4e\u65e0\u5904\u4e0d\u5728\u7684\u8fde\u63a5\uff0c\u7528\u6237\u53ef\u4ece\u51e0\u4e4e\u4efb\u4f55\u4f4d\u7f6e\u8bbf\u95ee\u4e91\u670d\u52a1\u3002\u76f8\u6bd4\u7eaf\u79c1\u6709\u4e91\u670d\u52a1\u65b9\u5f0f\uff0c\u6df7\u5408\u4e91\u63d0\u9ad8\u4e86\u4e1a\u52a1\u7684\u53ef\u7528\u6027\u548c\u8bbf\u95ee\u80fd\u529b\u3002</li> <li>\u4e1a\u52a1\u8fc1\u79fb\u4fbf\u6377\uff1a\u516c\u6709\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u4e00\u822c\u4f1a\u63d0\u4f9b\u4e13\u7528\u5de5\u5177\uff0c\u65b9\u4fbf\u7528\u6237\u5c06\u4e1a\u52a1\u5728\u79c1\u6709\u4e91\u3001\u516c\u6709\u4e91\u4e4b\u95f4\u65b9\u4fbf\u5730\u8fc1\u79fb\u548c\u6d4b\u8bd5\u3002</li> <li>\u4fc3\u8fdb\u4e1a\u52a1\u521b\u65b0\uff1a\u7528\u6237\u53ef\u4ee5\u5148\u4f7f\u7528\u516c\u6709\u4e91\u5b8c\u6210\u65b0\u4e1a\u52a1\u7684\u5f00\u53d1\u3001\u6d4b\u8bd5\uff0c\u964d\u4f4e\u5931\u8d25\u7684\u6210\u672c\uff0c\u4f7f\u7528\u6237\u53ef\u4ee5\u66f4\u4e13\u6ce8\u4e8e\u4e1a\u52a1\u672c\u8eab\uff0c\u800c\u4e0d\u5fc5\u8fc7\u5206\u62c5\u5fc3\u8d85\u8d8aICT\u8d44\u6e90\u7684\u4f7f\u7528\u6781\u9650\u3002\u540c\u65f6\uff0c\u7528\u6237\u53ef\u4ee5\u65b9\u4fbf\u5730\u83b7\u53d6\u3001\u8bd5\u7528\u516c\u6709\u4e91\u4e0a\u7684\u4e00\u7cfb\u5217\u65b0\u670d\u52a1\u3001\u65b0\u5de5\u5177\u6765\u4e3a\u81ea\u5df1\u4f7f\u7528\uff0c\u800c\u4e0d\u5fc5\u5148\u5728\u672c\u5730\u90e8\u7f72\u540c\u6837\u7684\u5de5\u5177\u548c\u670d\u52a1\uff0c\u8fd9\u6837\u6709\u5229\u4e8e\u7528\u6237\u81ea\u8eab\u4e1a\u52a1\u7684\u521b\u65b0\u3002</li> </ul>","tags":["\u6df7\u5408\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B7%E5%90%88%E4%BA%91/#3","title":"3. \u6df7\u5408\u4e91\u7684\u4f7f\u7528\u573a\u666f","text":"<ol> <li> <p>\u4e1a\u52a1\u7a81\u53d1\uff0c\u5e94\u7528\u8d1f\u8f7d\u6269\u5145</p> <p>\u4f01\u4e1a\u5c06\u5e94\u7528\u90e8\u7f72\u4e8e\u79c1\u6709\u4e91\u5185\u65f6\uff0c\u4e3a\u5e94\u5bf9\u5b63\u8282\u6027\u6216\u7a81\u53d1\u4e8b\u4ef6\u5f15\u8d77\u7684\u4e1a\u52a1\u9ad8\u5cf0\u9700\u6c42\uff0c\u53ef\u4e34\u65f6\u79df\u7528\u516c\u6709\u4e91\u7684\u8d44\u6e90\uff0c\u5feb\u901f\u63d0\u5347\u4e1a\u52a1\u54cd\u5e94\u80fd\u529b\u3002</p> </li> <li> <p>\u707e\u96be\u6062\u590d</p> <p>\u6df7\u5408\u4e91\u7684\u707e\u96be\u6062\u590d\u4e00\u822c\u91c7\u7528\u4e3b\u4ece\u67b6\u6784\u3002\u5728\u8fd9\u79cd\u67b6\u6784\u4e0b\uff0c\u7528\u6237\u53ef\u4ee5\u628a\u5907\u7528\u7684\u4e1a\u52a1\u6570\u636e\u653e\u5728\u516c\u6709\u4e91\u4e0a\uff0c\u501f\u52a9\u516c\u6709\u4e91\u63d0\u4f9b\u5546\u7684\u6280\u672f\u4f18\u52bf\u3001\u707e\u5907\u7ecf\u9a8c\u3001\u8fd0\u7ef4\u7ba1\u7406\u7b49\u8d44\u6e90\uff0c\u5feb\u901f\u5b9e\u73b0\u6570\u636e\u707e\u96be\u6062\u590d\uff0c\u4fdd\u969c\u670d\u52a1\u7684\u8fde\u7eed\u6027\u3002\u540c\u65f6\uff0c\u4e0e\u5168\u90e8\u4f7f\u7528\u79c1\u6709\u4e91\u76f8\u6bd4\uff0c\u6df7\u5408\u4e91\u7684\u707e\u96be\u6062\u590d\u8fd8\u53ef\u4ee5\u964d\u4f4e\u8fd0\u7ef4\u5de5\u4f5c\u91cf\uff0c\u8282\u7701\u707e\u5907\u7cfb\u7edf\u6210\u672c\u3002\u5728\u79c1\u6709\u4e91\u6570\u636e\u4e2d\u5fc3\u53d1\u751f\u91cd\u5927\u707e\u96be\u65f6\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u516c\u6709\u4e91\u7aef\u5229\u7528\u4e91\u4e3b\u673a\u5feb\u901f\u5207\u6362\uff0c\u5c06\u5907\u4efd\u6570\u636e\u62c9\u8d77\uff0c\u5927\u5e45\u964d\u4f4eRTO\uff08Recovery Time Objective\uff0c\u6062\u590d\u65f6\u95f4\u76ee\u6807\uff09\uff0c\u5b9e\u73b0\u4e1a\u52a1\u9ad8\u53ef\u7528\u3002</p> </li> <li> <p>\u6570\u636e\u5907\u4efd</p> <p>\u6570\u636e\u5907\u4efd\u7684\u76ee\u7684\u662f\u628a\u67d0\u4e00\u65f6\u95f4\u7684\u6570\u636e\u6216\u5e94\u7528\u4fdd\u5b58\u5728\u4e00\u4e2a\u5b89\u5168\u53ef\u9760\u7684\u5730\u65b9\u3002\u901a\u5e38\u7684\u573a\u666f\u662f\u5e94\u7528\u8d1f\u8f7d\u8fd0\u884c\u5728\u516c\u6709\u4e91\u6216\u79c1\u6709\u4e91\u4e0a\uff0c\u800c\u6570\u636e\u5907\u4efd\u653e\u5728\u79c1\u6709\u4e91\u6216\u516c\u6709\u4e91\u91cc\uff0c\u4ee5\u8fbe\u5230\u6570\u636e\u5b89\u5168\u7684\u76ee\u7684\u3002</p> </li> <li> <p>\u524d\u7aef\u670d\u52a1\u9760\u8fd1\u7528\uff0c\u540e\u7aef\u96c6\u4e2d\u5904\u7406</p> <p>\u5bf9\u4e8e\u62e5\u6709\u591a\u4e2a\u5206\u652f\u7684\u4f01\u4e1a\uff0c\u5c24\u5176\u662f\u8de8\u56fd\u4f01\u4e1a\u6765\u8bf4\uff0c\u5982\u679c\u4e1a\u52a1\u90fd\u7531\u603b\u90e8\u6570\u636e\u4e2d\u5fc3\u6765\u96c6\u4e2d\u5904\u7406\uff0c\u968f\u7740\u4e1a\u52a1\u91cf\u7684\u589e\u52a0\uff0c\u603b\u90e8\u7684\u5904\u7406\u80fd\u529b\u548c\u63a5\u5165\u5e26\u5bbd\u5c06\u660e\u663e\u6210\u4e3a\u74f6\u9888\u3002\u901a\u8fc7\u6df7\u5408\u4e91\u65b9\u6848\uff0c\u5c06\u524d\u7aef\u670d\u52a1\u90e8\u7f72\u5728\u516c\u6709\u4e91\u4e0a\uff0c\u5229\u7528\u516c\u6709\u4e91\u591aRegion\u548cCDN\u7684\u4f18\u52bf\u4f7f\u670d\u52a1\u5c3d\u91cf\u9760\u8fd1\u6700\u7ec8\u7528\u6237\uff0c\u540e\u7aef\u4ecd\u90e8\u7f72\u5728\u603b\u90e8\u79c1\u6709\u4e91\u4e2d\u3002\u524d\u7aef\u5904\u7406\u5b8c\u6210\u540e\uff0c\u53ea\u9700\u8981\u5c11\u91cf\u7684\u524d\u540e\u7aef\u4ea4\u4e92\u8bbf\u95ee\u5373\u53ef\u5b8c\u6210\u6574\u4e2a\u4e1a\u52a1\u5904\u7406\u3002</p> </li> <li> <p>\u5f00\u53d1\u6d4b\u8bd5\u751f\u4ea7\u90e8\u7f72</p> <p>\u5bf9\u4e00\u4e2a\u5e94\u7528\u800c\u8a00\uff0c\u5176\u5f00\u53d1\u6d4b\u8bd5\u8fc7\u7a0b\u4e00\u822c\u9700\u8981\u7075\u6d3b\u5feb\u6377\u7684\u73af\u5883\u642d\u5efa\uff0c\u800c\u4e14\u671f\u95f4\u7ecf\u5e38\u91cd\u6784\uff0c\u8fd9\u65f6\u516c\u6709\u4e91\u662f\u4e2a\u4e0d\u9519\u9009\u62e9\u3002\u4e00\u65e6\u6b63\u5f0f\u4e0a\u7ebf\uff0c\u5219\u5e0c\u671b\u8fd0\u884c\u5728\u5b89\u5168\u7a33\u5b9a\u7684\u73af\u5883\u4e2d\uff0c\u90a3\u65f6\u5c31\u4f1a\u8003\u8651\u79c1\u6709\u4e91\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u540c\u4e00\u5e94\u7528\u4e0d\u540c\u9636\u6bb5\u76f8\u4e92\u4e4b\u95f4\u72ec\u7acb\uff0c\u6ca1\u6709\u76f4\u63a5\u8054\u7cfb\u3002\u901a\u8fc7\u6784\u5efa\u6df7\u5408\u4e91\uff0c\u5229\u7528DevOps\u6d41\u7a0b\u4e0e\u5de5\u5177\uff0c\u5c31\u53ef\u540c\u65f6\u83b7\u5f97\u516c\u6709\u4e91\u7075\u6d3b\u5feb\u6377\u548c\u79c1\u6709\u4e91\u5b89\u5168\u7a33\u5b9a\u7684\u597d\u5904\u3002</p> </li> <li> <p>\u79c1\u6709\u4e91\u5e94\u7528\u8bbf\u95ee\u516c\u6709\u4e91\u670d\u52a1</p> <p>\u79c1\u6709\u4e91\u5185\u90e8\u7f72\u7684\u5e94\u7528\uff0c\u53ef\u4f7f\u7528\u79c1\u7f51IP\u901a\u8fc7VPN\u6216\u4e13\u7ebf\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u516c\u6709\u4e91\u63d0\u4f9b\u7684\u670d\u52a1\uff0c\u7b80\u5316\u672c\u5730\u5e94\u7528\u7cfb\u7edf\u7684\u5f00\u53d1\u4e0e\u90e8\u7f72\u3002</p> </li> </ol>","tags":["\u6df7\u5408\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B7%E5%90%88%E4%BA%91/#4","title":"4. \u6df7\u5408\u4e91\u670d\u52a1\u63d0\u4f9b\u5546","text":"<p>\u5728\u6df7\u5408\u4e91\u5e02\u573a\uff0c\u539f\u5148\u7684\u516c\u6709\u4e91\u548c\u79c1\u6709\u4e91\u63d0\u4f9b\u5546\uff0c\u76ee\u524d\u4e5f\u90fd\u9646\u7eed\u63a8\u51fa\u4e86\u81ea\u5df1\u7684\u6df7\u5408\u4e91\u4ea7\u54c1\uff0c\u4ee5\u6ee1\u8db3\u7528\u6237\u5bf9\u6df7\u5408\u4e91\u65fa\u76db\u7684\u9700\u6c42\u3002</p> <p>\u5e38\u89c1\u7684\u6df7\u5408\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u6709\uff1a\u534e\u4e3a\u4e91\u3001\u963f\u91cc\u4e91\u3001\u4e9a\u9a6c\u900aAWS\u3001\u5fae\u8f6fAzure\u3001\u8c37\u6b4c\u4e91\u8ba1\u7b97\u3001VMware\u3001Redhat\u7b49\u3002</p>","tags":["\u6df7\u5408\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B7%E5%90%88%E4%BA%91/#_1","title":"\u53c2\u8003\u8d44\u6e90","text":"","tags":["\u6df7\u5408\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/","title":"\u79c1\u6709\u4e91","text":"<p>\u79c1\u6709\u4e91\uff08Private Cloud\uff09\u662f\u4e3a\u4e00\u4e2a\u7ec4\u7ec7\u5355\u72ec\u4f7f\u7528\u800c\u6784\u5efa\u7684\u4e00\u79cd\u4e91\u8ba1\u7b97\u670d\u52a1\u5f62\u5f0f\u3002\u79c1\u6709\u4e91\u53ef\u63d0\u4f9b\u5bf9\u6570\u636e\u3001\u5b89\u5168\u6027\u548c\u670d\u52a1\u8d28\u91cf\u7684\u6709\u6548\u63a7\u5236\u3002\u8be5\u7ec4\u7ec7\u62e5\u6709\u57fa\u7840\u8bbe\u65bd\uff0c\u5e76\u53ef\u4ee5\u63a7\u5236\u5728\u6b64\u57fa\u7840\u8bbe\u65bd\u4e0a\u90e8\u7f72\u81ea\u5df1\u7684\u7f51\u7edc\u548c\u5e94\u7528\u670d\u52a1\u3002\u79c1\u6709\u4e91\u53ef\u7531\u8be5\u7ec4\u7ec7\u81ea\u5df1\u7684ICT\u90e8\u95e8\u6784\u5efa\uff0c\u4e5f\u53ef\u7531\u4e13\u95e8\u7684\u79c1\u6709\u4e91\u63d0\u4f9b\u5546\u6784\u5efa\u3002\u79c1\u6709\u4e91\u7684\u6240\u6709\u8005\u4e0d\u4e0e\u5176\u4ed6\u4f01\u4e1a\u6216\u7ec4\u7ec7\u5171\u4eab\u8d44\u6e90\uff0c\u79c1\u6709\u4e91\u7684\u6838\u5fc3\u5c5e\u6027\u662f\u8d44\u6e90\u4e13\u6709\u3002</p>","tags":["\u79c1\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/#1","title":"1. \u79c1\u6709\u4e91\u7684\u7279\u70b9\u548c\u4ef7\u503c","text":"<p>\u4f01\u4e1a\u90e8\u7f72\u4e91\u8ba1\u7b97\u670d\u52a1\u7684\u6a21\u5f0f\u6709\u4e09\u5927\u7c7b\uff1a\u516c\u6709\u4e91\uff08Public Cloud\uff09\u3001\u79c1\u6709\u4e91\uff08Private Cloud\uff09\u3001\u6df7\u5408\u4e91\uff08Hybird Cloud\uff09\u3002\u5176\u4e2d\uff0c\u79c1\u6709\u4e91\u5219\u662f\u7ec4\u7ec7\u5728\u5176\u5185\u90e8\u5efa\u8bbe\u7684\u4e13\u6709\u4e91\u8ba1\u7b97\u7cfb\u7edf\u3002\u79c1\u6709\u4e91\u7cfb\u7edf\u5b58\u5728\u4e8e\u8be5\u7ec4\u7ec7\u6570\u636e\u4e2d\u5fc3\u7684\u9632\u706b\u5899\u4e4b\u5185\uff0c\u6216\u8005\u90e8\u7f72\u5728\u4e00\u4e2a\u5b89\u5168\u7684\u4e3b\u673a\u6258\u7ba1\u573a\u6240\uff0c\u53ea\u4e3a\u8be5\u7ec4\u7ec7\u63d0\u4f9b\u670d\u52a1\u3002</p> <p>\u79c1\u6709\u4e91\u7684\u7279\u70b9\u548c\u4ef7\u503c\u6709\uff1a</p> <ul> <li>\u5b89\u5168\uff1a\u79c1\u6709\u4e91\u4ec5\u9762\u5411\u7279\u5b9a\u7528\u6237\uff0c\u800c\u975e\u9762\u5411\u4e00\u822c\u516c\u4f17\uff0c\u4e14\u79c1\u6709\u4e91\u90e8\u7f72\u5728\u8be5\u7ec4\u7ec7\u81ea\u5df1\u7684\u9632\u706b\u5899\u540e\u9762\uff0c\u56e0\u6b64\u53ef\u63d0\u4f9b\u66f4\u9ad8\u7684\u5b89\u5168\u53ca\u9690\u79c1\u7ea7\u522b\uff0c\u53ef\u786e\u4fdd\u7b2c\u4e09\u65b9\u65e0\u6cd5\u8bbf\u95ee\u654f\u611f\u6570\u636e\u3002</li> <li>SLA\u7a33\u5b9a\uff1a\u79c1\u6709\u4e91\u901a\u5e38\u90e8\u7f72\u5728\u8be5\u7ec4\u7ec7\u81ea\u5df1\u7684\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\uff0c\u5f53\u672c\u7ec4\u7ec7\u5185\u90e8\u8bbf\u95ee\u79c1\u6709\u4e91\u4e2d\u8d44\u6e90\u65f6\uff0cSLA\u975e\u5e38\u7a33\u5b9a\u3002</li> <li>\u81ea\u4e3b\u53ef\u63a7\uff1a\u79c1\u6709\u4e91\u5ba2\u6237\u53ef\u4ee5\u81ea\u7531\u8d2d\u4e70\u4ed6\u4eec\u559c\u6b22\u7684\u786c\u4ef6\u548c\u8f6f\u4ef6\uff0c\u800c\u4e0d\u662f\u516c\u6709\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u63d0\u4f9b\u7684\u786c\u4ef6\u548c\u8f6f\u4ef6\u3002</li> <li>\u5b9a\u5236\u5316\u5f3a\uff1a\u79c1\u6709\u4e91\u5ba2\u6237\u53ef\u4ee5\u4ee5\u4ed6\u4eec\u60f3\u8981\u7684\u4efb\u4f55\u65b9\u5f0f\u5b9a\u5236\u8ba1\u7b97\u3001\u5b58\u50a8\u548c\u7f51\u7edc\uff0c\u5e76\u8fd0\u884c\u81ea\u5df1\u7684\u5b9a\u5236\u5316\u8f6f\u4ef6\u548c\u7ba1\u7406\u5e73\u53f0\uff0c\u79c1\u6709\u4e91\u56f4\u7ed5\u8be5\u7ec4\u7ec7\u7684\u5b9e\u9645\u4e1a\u52a1\u9700\u6c42\u6765\u5b9a\u5236\u5316\u6784\u5efa\u3002</li> </ul>","tags":["\u79c1\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/#2","title":"2. \u79c1\u6709\u4e91\u7684\u67b6\u6784","text":"<p>\u79c1\u6709\u4e91\u5e38\u89c1\u7684\u4e00\u822c\u67b6\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u79c1\u6709\u4e91\u4e3b\u8981\u53ef\u4ee5\u63d0\u4f9bIaaS\uff08Infrastructure as a Service\uff0c\u57fa\u7840\u8bbe\u65bd\u5373\u670d\u52a1\uff09\u3001PaaS\uff08Platform as a Service\uff0c\u5e73\u53f0\u5373\u670d\u52a1\uff09\u3001\u8fd0\u7ef4\u80fd\u529b\u3002</p> <ul> <li>\u79c1\u6709\u4e91IaaS\u5c42\u63d0\u4f9b\u8ba1\u7b97\u3001\u5b58\u50a8\u3001\u7f51\u7edc\u8d44\u6e90\u670d\u52a1\u80fd\u529b\u3002\u7528\u6237\u6839\u636e\u81ea\u8eab\u4e1a\u52a1\u9700\u6c42\uff0c\u7075\u6d3b\u9009\u62e9\u6240\u9700\u670d\u52a1\u4e3a\u81ea\u8eab\u63d0\u4f9b\u80fd\u529b\u3002\u79c1\u6709\u4e91\u9700\u8981\u5c3d\u53ef\u80fd\u505a\u5230\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\u7684\u524d\u63d0\u4e0b\u7cbe\u7b80\u7cfb\u7edf\uff0c\u4ee5\u4f18\u5316\u8fd0\u7ef4\u590d\u6742\u5ea6\u53ca\u6295\u8d44\u6210\u672c\u3002</li> <li>\u79c1\u6709\u4e91PaaS\u4e00\u822c\u8ba4\u4e3a\u662f\u516c\u6709\u4e91PaaS\u7684\u4e00\u4e2a\u80fd\u529b\u5b50\u96c6\uff0c\u4e0e\u516c\u6709\u4e91\u4e0d\u540c\u7684\u662f\uff0c\u79c1\u6709\u4e91\u7684PaaS\u53ea\u4e3a\u62e5\u6709\u79c1\u6709\u4e91\u7684\u7528\u6237\u63d0\u4f9b\u670d\u52a1\uff0c\u800c\u7b2c\u4e09\u65b9\u7528\u6237\u65e0\u6743\u9650\u63a5\u5165\u4f7f\u7528\u3002</li> <li>\u79c1\u6709\u4e91\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528IaaS\u3001PaaS\u63d0\u4f9b\u5546\u63d0\u4f9b\u7684\u8fd0\u7ef4\u5e73\u53f0\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u8eab\u4e1a\u52a1\u7279\u70b9\uff0c\u6309\u9700\u5b9a\u5236\u81ea\u5df1\u72ec\u6709\u7684\u3001\u4e0e\u4e1a\u52a1\u7d27\u5bc6\u76f8\u5173\u7684\u8fd0\u7ef4\u5e73\u53f0\u3002</li> </ul> <p> \u79c1\u6709\u4e91\u5e38\u89c1\u7684\u4e00\u822c\u67b6\u6784</p>","tags":["\u79c1\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/#3","title":"3. \u79c1\u6709\u4e91\u4e0e\u516c\u6709\u4e91\u7684\u6bd4\u8f83","text":"","tags":["\u79c1\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/#31","title":"3.1. \u603b\u4f53\u5bf9\u6bd4","text":"<p>\u4e0e\u516c\u6709\u4e91\u76f8\u6bd4\uff0c\u79c1\u6709\u4e91\u7684\u5b89\u5168\u6027\u66f4\u597d\uff0c\u4f46\u6210\u672c\u4e5f\u66f4\u9ad8\uff0c\u4e14\u79c1\u6709\u4e91\u6574\u4e2a\u57fa\u7840\u8bbe\u65bd\u7684\u5e73\u5747\u5229\u7528\u7387\u8981\u4f4e\u4e8e\u516c\u6709\u4e91\u3002</p> <p>\u4e0e\u79c1\u6709\u4e91\u76f8\u6bd4\uff0c\u516c\u6709\u4e91\u5177\u5907\u4ee5\u4e0b\u4f18\u70b9\uff1a</p> <ul> <li>\u66f4\u9ad8\u7684\u5f39\u6027\u548c\u53ef\u6269\u5c55\u6027\uff1a\u4f7f\u7528\u516c\u5171\u4e91\uff0c\u5ba2\u6237\u53ef\u4ee5\u5feb\u901f\u8ba2\u8d2d\u8ba1\u7b97\u3001\u5b58\u50a8\u548c\u7f51\u7edc\u8d44\u6e90\u6765\u5e94\u5bf9\u6fc0\u589e\u7684\u4e1a\u52a1\u9700\u6c42\uff0c\u800c\u65e0\u9700\u8d2d\u4e70\u548c\u90e8\u7f72\u65b0\u7684\u786c\u4ef6\u3002</li> <li>\u66f4\u4f4e\u7684\u8fdb\u5165\u6210\u672c\uff1a\u5927\u591a\u6570\u5ba2\u6237\u53ef\u4ee5\u65e0\u9700\u6dfb\u52a0\u81ea\u5df1\u7684\u7269\u7406\u57fa\u7840\u8bbe\u65bd\u5c31\u53ef\u4ee5\u4f7f\u7528\u516c\u5171\u4e91\u670d\u52a1\u3002</li> <li>\u66f4\u5feb\u5730\u83b7\u53d6\u6700\u65b0\u6280\u672f\uff1a\u5728\u8bb8\u591a\u60c5\u51b5\u4e0b\uff0c\u4e0e\u5ba2\u6237\u81ea\u5df1\u8d2d\u4e70\u548c\u5b89\u88c5\u786c\u4ef6\u548c\u8f6f\u4ef6\u76f8\u6bd4\uff0c\u516c\u6709\u4e91\u63d0\u4f9b\u5546\u80fd\u591f\u66f4\u5feb\u5730\u63d0\u4f9b\u6700\u65b0\u7684\u786c\u4ef6\u548c\u8f6f\u4ef6\uff0c\u53ca\u5176\u5bf9\u5e94\u7684\u5347\u7ea7\u66f4\u65b0\u3002</li> </ul>","tags":["\u79c1\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/#32","title":"3.2. \u5efa\u8bbe\u4e0e\u8fd0\u884c\u6a21\u5f0f\u5bf9\u6bd4","text":"<ul> <li>\u79c1\u6709\u4e91\u7684\u8d44\u4ea7\u5f52\u5c5e\u8be5\u7ec4\u7ec7\u62e5\u6709\uff0c\u7531\u8be5\u7ec4\u7ec7\u4e3b\u5bfc\u4e91\u7684\u5efa\u8bbe\u3001\u7ba1\u7406\u548c\u7ef4\u62a4\uff0c\u90e8\u7f72\u5728\u8be5\u7ec4\u7ec7\u5185\u90e8\u7684\u6570\u636e\u4e2d\u5fc3\u3002\u79c1\u6709\u4e91\u524d\u671f\u5efa\u8bbe\u6295\u5165\u6210\u672c\u8f83\u591a\uff0c\u5efa\u8bbe\u548c\u8c03\u8bd5\u5468\u671f\u8f83\u957f\u3002\u79c1\u6709\u4e91\u7684\u8fd0\u7ef4\u4e00\u822c\u9700\u8981\u8be5\u7ec4\u7ec7\u81ea\u8eab\u5b8c\u6210\u3002</li> <li>\u516c\u6709\u4e91\u662f\u4e00\u79cd\u65b0\u7684IT\u80fd\u529b\u6d88\u8d39\u6a21\u5f0f\uff0c\u516c\u6709\u4e91\u7684\u7528\u6237\u53ea\u9700\u5173\u6ce8\u4e91\u670d\u52a1\u6240\u63d0\u4f9b\u7684\u80fd\u529b\u548cSLA\uff0c\u5e76\u4e0d\u5173\u6ce8\u80cc\u540e\u7684\u8d44\u6e90\u6240\u5728\u5730\uff0c\u4ee5\u53ca\u5efa\u8bbe\u3001\u4ea4\u4ed8\u3001\u8fd0\u7ef4\u7b49\u95ee\u9898\u3002\u516c\u6709\u4e91\u7528\u6237\u53ef\u4ee5\u5feb\u901f\u79df\u7528\u8d44\u6e90\uff0c\u90e8\u7f72\u81ea\u5df1\u7684\u4e1a\u52a1\uff0c\u524d\u671f\u6295\u5165\u4f4e\uff0c\u4e1a\u52a1\u4e0a\u7ebf\u5468\u671f\u77ed\u3002\u5728\u8fd0\u7ef4\u5c42\u9762\uff0c\u516c\u6709\u4e91\u63d0\u4f9b\u5546\u63d0\u4f9b\u5927\u90e8\u5206\u8fd0\u7ef4\u670d\u52a1\uff0c\u516c\u6709\u4e91\u7528\u6237\u53ea\u9700\u8981\u5173\u6ce8\u81ea\u8eab\u7684\u5e94\u7528\u3002</li> </ul>","tags":["\u79c1\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/#33","title":"3.3. \u67b6\u6784\u5bf9\u6bd4","text":"<p>\u4ece\u67b6\u6784\u4e0a\u770b\uff0c\u4e00\u822c\u8ba4\u4e3a\u79c1\u6709\u4e91\u7684IaaS\u3001PaaS\u80fd\u529b\u662f\u516c\u6709\u4e91IaaS\u5c42\u3001PaaS\u5c42\u80fd\u529b\u7684\u5b50\u96c6\u3002\u7531\u4e8e\u79c1\u6709\u4e91\u662f\u6ee1\u8db3\u67d0\u7ec4\u7ec7\u7684\u5177\u4f53\u4e1a\u52a1\u9700\u6c42\u6784\u5efa\u7684\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u5c06IaaS\u3001PaaS\u7684\u80fd\u529b\u5168\u90e8\u90fd\u7eb3\u5165\u79c1\u6709\u4e91\uff0c\u8be5\u7ec4\u7ec7\u4e0d\u4f7f\u7528\u7684\u80fd\u529b\uff0c\u53ef\u4ee5\u4e0d\u90e8\u7f72\u3002\u4f8b\u5982\u8be5\u7ec4\u7ec7\u53ea\u4f7f\u7528\u865a\u62df\u673a\u670d\u52a1\uff0c\u4e0d\u4f7f\u7528\u88f8\u91d1\u5c5e\u670d\u52a1\uff0c\u5219\u8be5\u79c1\u6709\u4e91\u4e2d\u53ef\u4ee5\u4e0d\u90e8\u7f72\u88f8\u91d1\u5c5e\u670d\u52a1\u3002</p> <p>\u516c\u6709\u4e91\u67b6\u6784\u4e2d\u9664\u4e86IaaS\u3001PaaS\u4ee5\u5916\uff0c\u8fd8\u6709SaaS\u3001\u8fd0\u8425\u7b49\u4e3b\u8981\u80fd\u529b\u3002</p> <ul> <li>\u516c\u6709\u4e91\u4e00\u822c\u5747\u63d0\u4f9bSaaS\u80fd\u529b\uff0c\u4f46\u662f\u5728\u79c1\u6709\u4e91\u4e2d\uff0c\u5374\u4e0d\u4e00\u5b9a\u4f1a\u90e8\u7f72SaaS\u8f6f\u4ef6\u3002\u5f53SaaS\u8f6f\u4ef6\u79c1\u6709\u5316\u90e8\u7f72\u540e\uff0c\u79c1\u6709\u4e91\u62e5\u6709\u8005\u9700\u8981\u6295\u5165\u5927\u91cf\u7684\u8d44\u6e90\u53bb\u7ef4\u62a4SaaS\u8f6f\u4ef6\uff0c\u5728\u6210\u672c\u4e0a\u6bd4\u4f7f\u7528\u516c\u6709\u4e91\u7248\u672c\u7684\u7eafSaaS\u670d\u52a1\u8981\u9ad8\u5f97\u591a\u3002\u5728\u5b9e\u9645\u90e8\u7f72\u4e2d\uff0c\u4e0d\u8bba\u662f\u516c\u6709\u4e91\u3001\u79c1\u6709\u4e91\u3001\u6df7\u5408\u4e91\uff0c\u5176\u90e8\u7f72\u90fd\u662f\u57fa\u4e8e\u4e0d\u540c\u5ba2\u6237\u7684\u9700\u6c42\u5236\u5b9a\u7684SaaS\u5b9e\u65bd\u65b9\u6848\uff0c\u4e3b\u8981\u53d6\u51b3\u4e8e\u5ba2\u6237\u5bf9\u4e8e\u5b89\u5168\u3001\u6210\u672c\u3001\u7ef4\u62a4\u7b49\u5404\u4e2a\u56e0\u7d20\u7684\u7efc\u5408\u8003\u8651\u3002</li> <li>\u7531\u4e8e\u79c1\u6709\u4e91\u7684\u79c1\u6709\u5c5e\u6027\uff0c\u5728\u79c1\u6709\u4e91\u7684\u7ec4\u7ec7\u5185\u90e8\u4e00\u822c\u4e0d\u6d89\u53ca\u8d39\u7528\u8ba1\u7b97\u95ee\u9898\uff0c\u6b64\u65f6\u4e0d\u6d89\u53ca\u8fd0\u8425\u3002\u800c\u516c\u6709\u4e91\u9700\u901a\u8fc7\u5404\u79cd\u6a21\u5f0f\u5411\u5176\u7528\u6237\u6536\u8d39\uff0c\u56e0\u6b64\u5176\u8fd0\u8425\u80fd\u529b\u662f\u5fc5\u9009\u9879\u3002</li> </ul>","tags":["\u79c1\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/#34","title":"3.4. \u4e1a\u52a1\u7c7b\u578b\u5bf9\u6bd4","text":"<ul> <li>\u79c1\u6709\u4e91\u4e2d\u4e00\u822c\u90e8\u7f72\u8be5\u7ec4\u7ec7\u7684\u6838\u5fc3\u4e1a\u52a1\u3001\u6d89\u53ca\u5230\u4fe1\u606f\u5b89\u5168\u7b49\u7ea7\u9ad8\u7684\u4e1a\u52a1\u3002</li> <li>\u516c\u6709\u4e91\u4e2d\u4e00\u822c\u90e8\u7f72\u975e\u6838\u5fc3\u4e1a\u52a1\u3001\u9700\u8981\u5feb\u901f\u8fed\u4ee3\u7684\u4e1a\u52a1\u3001\u5bf9\u5916\u90e8\u63d0\u4f9b\u670d\u52a1\u7684\u4e1a\u52a1\u3002</li> </ul> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u516c\u6709\u4e91\u4e0e\u79c1\u6709\u4e91\u7684\u4e3b\u8981\u5bf9\u6bd4\u5982\u4e0b\u8868\u6240\u793a\u3002</p> \u5bf9\u6bd4\u9879 \u516c\u6709\u4e91 \u79c1\u6709\u4e91 \u7528\u6237\u7c7b\u578b \u521b\u4e1a\u516c\u53f8\u3001\u5c0f\u578b\u516c\u53f8\u3001\u4e2a\u4eba \u653f\u5e9c\u3001\u5927\u4f01\u4e1a \u4e1a\u52a1\u7c7b\u578b \u5bf9\u5916\u63d0\u4f9b\u4ea4\u4e92\u7684\u4e1a\u52a1 \u7ec4\u7ec7\u5185\u90e8\u4e1a\u52a1 \u5b89\u5168 \u4e3b\u673a\u5c42\u9762\u5b9e\u73b0\u5b89\u5168\u9694\u79bb \u7f51\u7edc\u5c42\u9762\u5b9e\u73b0\u5b89\u5168\u9694\u79bb \u6210\u672c \u521d\u671f\u6210\u672c\u4f4e\uff0c\u540e\u671f\u5f53\u4e1a\u52a1\u91cf\u5927\u65f6\uff0c\u6210\u672c\u8f83\u9ad8 \u521d\u671f\u6210\u672c\u9ad8\uff0c\u968f\u7740\u4e1a\u52a1\u91cf\u589e\u52a0\uff0c\u540e\u671f\u5e73\u5747\u6210\u672c\u4f4e \u5b9a\u5236 \u5f88\u5c11\u5b9a\u5236 \u7075\u6d3b\u5b9a\u5236\uff0c\u53ef\u4e0e\u73b0\u6709\u7cfb\u7edf\u8fdb\u884c\u96c6\u6210 \u6280\u672f\u67b6\u6784 \u81ea\u7814\u67b6\u6784\u3001\u4e3b\u8981\u5173\u6ce8\u5206\u5e03\u5f0f\u3001\u5927\u96c6\u7fa4 \u5f00\u6e90\u67b6\u6784\uff0c\u4e3b\u8981\u5173\u6ce8\u9ad8\u53ef\u7528\uff0c\u7075\u6d3b\u6027 \u517c\u5bb9\u6027 \u6839\u636e\u516c\u6709\u4e91\u7684\u8981\u6c42\u6765\u4fee\u6539\u81ea\u8eab\u4e1a\u52a1 \u4e3b\u52a8\u517c\u5bb9\u548c\u9002\u914d\u81ea\u8eab\u4e1a\u52a1 \u8fd0\u7ef4 \u7528\u6237\u65e0\u6cd5\u81ea\u4e3b\u8fd0\u7ef4\uff0c\u516c\u6709\u4e91\u670d\u52a1\u5546\u7edf\u4e00\u8fd0\u7ef4 \u81ea\u4e3b\u8fd0\u7ef4\uff0c\u4e5f\u53ef\u6258\u7ba1\u7ed9\u7b2c\u4e09\u65b9\u8fd0\u7ef4","tags":["\u79c1\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/#4","title":"4. \u79c1\u6709\u4e91\u7684\u670d\u52a1\u63d0\u4f9b\u5546","text":"<p>\u56fd\u5185\u89c4\u6a21\u8f83\u5927\u7684\u573a\u666f\u79c1\u6709\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u6709\uff1a</p> <ol> <li>\u534e\u4e3a</li> <li>\u65b0\u534e\u4e09</li> <li>\u534e\u4e91\u6570\u636e</li> <li>\u4e2d\u56fd\u7535\u4fe1</li> <li>\u4e2d\u56fd\u8054\u901a</li> </ol>","tags":["\u79c1\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E4%BA%91/#_1","title":"\u53c2\u8003\u8d44\u6e90","text":"","tags":["\u79c1\u6709\u4e91"]},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/","title":"\u7b2c\u56db\u7ae0 \u6536\u655b\u6bd4","text":""},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#1","title":"1. \u4ec0\u4e48\u662f\u6d41\u91cf\u6536\u655b","text":"<p>\u6570\u636e\u62a5\u6587\u7684\u6d41\u91cf\u6536\u655b\uff0c\u662f\u6307\u6570\u636e\u62a5\u6587\u5728\u7f51\u7edc\u8f6c\u53d1\u8fc7\u7a0b\u4e2d\u7531\u4e8e\u67b6\u6784\u3001\u8bbe\u5907\u7b49\u975e\u6545\u969c\u539f\u56e0\u800c\u4e0d\u80fd\u5b9e\u73b0\u7ebf\u901f\u65e0\u4e22\u5305\u8f6c\u53d1\u3002\u5728\u6d41\u91cf\u6536\u655b\u65f6\uff0c\u7f51\u7edc\u8bbe\u5907\u4f1a\u6709\u90e8\u5206\u7aef\u53e3\u62e5\u585e\uff0c\u8fdb\u800c\u4e22\u5f03\u90e8\u5206\u62a5\u6587\u3002\u4e3a\u4e86\u80fd\u591f\u63cf\u8ff0\u4e0d\u540c\u7684\u6536\u655b\u7a0b\u5ea6\uff0c\u6211\u4eec\u901a\u5e38\u7528\u4e00\u4e2a\u7cfb\u7edf\u6240\u6709\u5357\u5411\uff08\u4e0b\u884c\uff09\u63a5\u53e3\u7684\u603b\u5e26\u5bbd\u6bd4\u4e0a\u8fd9\u4e2a\u7cfb\u7edf\u6240\u6709\u5317\u5411\uff08\u4e0a\u884c\uff09\u63a5\u53e3\u603b\u5e26\u5bbd\u7684\u6570\u503c\u6765\u8868\u793a\uff0c\u6211\u4eec\u4e5f\u5c06\u8fd9\u4e2a\u6570\u503c\u79f0\u4e3a\u8fd9\u4e2a\u7cfb\u7edf\u7684\u6536\u655b\u6bd4\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u4f60\u670910\u53f0\u670d\u52a1\u5668\uff0c\u6bcf\u53f0\u670d\u52a1\u5668\u901a\u8fc710GE\u7684\u63a5\u53e3\u8fde\u63a5\u5230\u4e00\u4e2a\u63a5\u5165\u4ea4\u6362\u673a\uff0c\u90a3\u6211\u4eec\u4e00\u5171\u5c31\u6709100G\uff0810\u00d710G=100G\uff09\u7684\u5357\u5411\u5e26\u5bbd\u3002\u5047\u8bbe\u8fd9\u53f0\u4ea4\u6362\u673a\u8fd8\u67092\u4e2a40GE\u7684\u63a5\u53e3\u53ef\u4ee5\u7528\u4e8e\u63a5\u5165\u5230\u66f4\u9ad8\u4e00\u5c42\u7684\u6c47\u805a\u4ea4\u6362\u673a\uff0c\u90a3\u6211\u4eec\u4e00\u5171\u5c31\u670980G\uff082\u00d740G=80G\uff09\u7684\u5317\u5411\u5e26\u5bbd\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u5f97\u5230\u7684\u6536\u655b\u6bd4\u5219\u662f1.25\uff1a1\uff08100G\u00f780G=1.25\uff09\u3002</p> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u9020\u6210\u7f51\u7edc\u6d41\u91cf\u6536\u655b\u7684\u539f\u56e0\u5e76\u4e0d\u603b\u662f\u4e0a\u8ff0\u63cf\u8ff0\u7684\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u4e0d\u8fc7\u603b\u7684\u6765\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6d41\u91cf\u6536\u655b\u7684\u539f\u56e0\u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ul> <li>\u4ea4\u6362\u673a\u4e0d\u652f\u6301\u7ebf\u901f\u8f6c\u53d1\uff0c\u5728\u4ea4\u6362\u673a\u5185\u90e8\u53ef\u80fd\u5f62\u6210\u6d41\u91cf\u6536\u655b\uff1b</li> <li>\u7f51\u7edc\u67b6\u6784\u8bbe\u8ba1\u7684\u539f\u56e0\uff0c\u65e0\u8bba\u4ea4\u6362\u673a\u662f\u5426\u7ebf\u901f\uff0c\u8f6c\u53d1\u62a5\u6587\u65f6\u4e5f\u4f1a\u5b58\u5728\u6d41\u91cf\u6536\u655b\u3002</li> </ul> <p>\u4ee5\u4e0b\u5c06\u5206\u522b\u4ee5\u793a\u4f8b\u8bf4\u660e\u3002</p> <p></p> <p>\u6587\u4e2d\u5bf9\u4e8e\u4f20\u8f93\u62a5\u6587\u901f\u7387\u3001\u5e26\u5bbd\u6536\u655b\u7b49\u7684\u8ba1\u7b97\u6ca1\u6709\u8003\u8651\u5230\u7f51\u7edc\u5c42\u534f\u8bae\u7b49\u5f00\u9500\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#11","title":"1.1. \u4ea4\u6362\u673a\u975e\u7ebf\u901f\u5bfc\u81f4\u7684\u6536\u655b","text":"<p>\u67d0\u4ea4\u6362\u673a\u53ea\u5177\u67098Gbps\u7ebf\u901f\u8f6c\u53d1\u7684\u4ea4\u6362\u80fd\u529b\uff0c\u67d0\u65f6\u523b\u4ece\u4ea4\u6362\u673a\u524d12\u4e2a\u63a5\u53e3\u5411\u540e12\u4e2a\u63a5\u53e3\u540c\u65f6\u8f6c\u53d1\u6d41\u91cf\uff0c\u5f53\u6bcf\u4e2a\u63a5\u53e3\u6d41\u91cf\u5747\u8fbe\u52301Gbps\u65f6\uff0c\u5728\u4ea4\u6362\u673a\u5185\u90e8\u4e00\u5b9a\u4f1a\u6709\u62e5\u585e\uff0c\u6b64\u65f6\u4fbf\u5f62\u6210\u4e86\u8f6c\u53d1\u7684\u6536\u655b\uff08\u5982[\u56fe4-1]\u6240\u793a\uff09\u3002\u5b9e\u9645\u6bcf\u79d2\u4ea4\u6362\u673a\u63a5\u6536\u6d41\u91cf\u4e3a12Gbps\uff0c\u4f46\u8f6c\u53d1\u51fa\u53bb\u7684\u62a5\u6587\u53ea\u67098Gbps\uff0c\u6536\u655b\u6bd4\u4e3a\u8f93\u5165\u5e26\u5bbd(12Gbps)\u00f7\u8f93\u51fa\u5e26\u5bbd(8Gbps)=1.5\uff1a1\u3002</p> <p>\u56fe4-1\u00a0\u4ea4\u6362\u673a\u975e\u7ebf\u901f\u5bfc\u81f4\u7684\u6536\u655b\u793a\u610f </p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#12","title":"1.2. \u7f51\u7edc\u8bbe\u8ba1\u5bfc\u81f4\u7684\u6536\u655b","text":"<p>\u5982[\u56fe4-2]\u6240\u793a\uff0c4\u53f0\u670d\u52a1\u5668\u5206\u522b\u901a\u8fc710GE\u94fe\u8def\u8fde\u63a5\u63a5\u5165\u4ea4\u6362\u673a\uff0c\u63a5\u5165\u4ea4\u6362\u673a\u901a\u8fc71\u676125GE\u94fe\u8def\u8fde\u63a5\u6838\u5fc3\u4ea4\u6362\u673a\u3002\u5373\u63a5\u5165\u4ea4\u6362\u673a\u7684\u4e0b\u884c\u5e26\u5bbd\u4e3a40Gbps\uff0c\u63a5\u5165\u4ea4\u6362\u673a\u7684\u4e0a\u884c\u5e26\u5bbd\u4e3a25Gbps\u3002\u4e0b\u4e0a\u884c\u94fe\u8def\u6536\u655b\u6bd4\u4e3a\u4e0b\u884c\u5e26\u5bbd\uff0840Gbps\uff09\u00f7\u4e0a\u884c\u5e26\u5bbd\uff0825Gbps\uff09=1.6\uff1a1\u3002</p> <p>\u56fe4-2\u00a0\u7f51\u7edc\u8bbe\u8ba1\u5bfc\u81f4\u7684\u6536\u655b\u793a\u610f </p> <p>\u5f53\u7136\uff0c\u6700\u7406\u60f3\u7684\u6536\u655b\u6bd4\u662f1\uff1a1\u3002\u4f46\u662f\u6211\u4eec\u4e5f\u4f1a\u6ce8\u610f\u5230\uff0c\u4f4e\u6536\u655b\u6bd4\u7684\u8bbe\u8ba1\u610f\u5473\u7740\u9009\u7528\u66f4\u9ad8\u4e0a\u884c\u7aef\u53e3\u5e26\u5bbd\u7684\u8bbe\u5907\uff0c\u8fd9\u610f\u5473\u7740\u66f4\u591a\u7684\u6295\u5165\uff1b\u5982\u679c\u5728\u4e0d\u8ba1\u6210\u672c\u7684\u60c5\u51b5\u4e0b\uff0c1\uff1a1\u7684\u6536\u655b\u6bd4\u662f\u6211\u4eec\u90fd\u671f\u671b\u80fd\u5b9e\u73b0\u7684\u3002\u53e6\u5916\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u7684\u670d\u52a1\u5668\u4e5f\u4e0d\u662f\u6bcf\u65f6\u6bcf\u523b\u90fd\u5de5\u4f5c\u5728\u9ad8\u8d1f\u8377\u4e0b\uff0c\u5360\u7528100%\u7684\u5e26\u5bbd\u3002\u8fd9\u610f\u5473\u7740\u5373\u4f7f\u4e0d\u662f1\uff1a1\u7684\u6536\u655b\u6bd4\uff0c\u4e5f\u4e0d\u662f\u5c31\u4e00\u5b9a\u4f1a\u51fa\u73b0\u6570\u636e\u62a5\u6587\u56e0\u62e5\u585e\u4e22\u5305\uff0c\u4e1a\u52a1\u4ecd\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u3002\u56e0\u6b64\uff0c\u627e\u5230\u8fd9\u4e24\u8005\u4e4b\u95f4\u7684\u5e73\u8861\uff0c\u627e\u5230\u6700\u9002\u5408\u7684\u6536\u655b\u6bd4\uff0c\u5c31\u663e\u5f97\u5341\u5206\u6709\u5fc5\u8981\u3002</p> <p>\u6536\u655b\u6bd4\u53cd\u6620\u4e86\u4e00\u4e2a\u7f51\u7edc\u7ebf\u901f\u8f6c\u53d1\u6d41\u91cf\u7684\u80fd\u529b\uff0c\u56e0\u6b64\u901a\u5e38\u6211\u4eec\u4f1a\u628a\u6536\u655b\u6bd4\u4f5c\u4e3a\u8861\u91cf\u4e00\u4e2a\u9ad8\u6027\u80fd\u7f51\u7edc\u7684\u56e0\u7d20\u6765\u8003\u8651\u3002\u4e00\u822c\u5728\u56ed\u533a\u7f51\uff0c\u7531\u4e8e\u6d41\u91cf\u538b\u529b\u4e0d\u5927\uff0c\u56ed\u533a\u7f51\u7f51\u7edc\u4e00\u822c\u90fd\u4f1a\u5b58\u5728\u8f83\u5927\u7684\u6d41\u91cf\u6536\u655b\uff1b\u4f46\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\uff0c\u7531\u4e8e\u5176\u5bf9\u6027\u80fd\u8981\u6c42\u9ad8\uff0c\u6d41\u91cf\u6536\u655b\u7684\u8bbe\u8ba1\u5c31\u5341\u5206\u91cd\u8981\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#2","title":"2. \u7f51\u7edc\u6d41\u91cf\u6536\u655b\u8bbe\u8ba1","text":"<p>\u5728\u8fdb\u884c\u7f51\u7edc\u6d41\u91cf\u6536\u655b\u8bbe\u8ba1\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\u7f51\u7edc\u4e2d\u9700\u8981\u90e8\u7f72\u7684\u4e1a\u52a1\u5e94\u7528\u53ca\u5176\u7279\u6027\uff0c\u660e\u786e\u7f51\u7edc\u4e1a\u52a1\u548c\u6d41\u91cf\u6a21\u578b\u3002\u7efc\u5408\u8003\u8651\u4e1c\u897f\u3001\u5357\u5317\u6d41\u91cf\u7684\u5927\u5c0f\u3001\u6bd4\u4f8b\uff0c\u6765\u5236\u5b9a\u5408\u9002\u7684\u6536\u655b\u6bd4\u548c\u9009\u62e9\u76f8\u5e94\u7684\u8bbe\u5907\u3002\u4e00\u822c\u9700\u8981\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u8003\u8651\uff1a</p> <ul> <li>\u7f51\u7edc\u67b6\u6784</li> <li>\u53ef\u7528\u94fe\u8def\u8bbe\u8ba1</li> <li>\u8bbe\u5907\u9009\u578b</li> </ul> <p>\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u9664\u975e\u662f\u5bf9\u6d41\u91cf\u6536\u655b\u6bd4\u8981\u6c42\u7279\u522b\u9ad8\u7684\u7f51\u7edc\uff0c\u6211\u4eec\u4e5f\u6709\u4e00\u79cd\u7b80\u5316\u7684\u65b9\u6cd5\u6765\u8003\u8651\uff0c\u5373\u4e3b\u8981\u8003\u8651\u8bbe\u5907\u7684\u53ef\u7528\u4e0a\u884c\u53e3\u7684\u5e26\u5bbd\u6765\u8bbe\u8ba1\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#21","title":"2.1. \u7f51\u7edc\u67b6\u6784","text":"<p>\u76ee\u524d\u5e38\u89c1\u7684\u7f51\u7edc\u7ed3\u6784\u4e00\u822c\u91c7\u7528\u201c\u4e24\u5c42\u201d\u7ed3\u6784\u3002\u8fd9\u91cc\u7684\u201c\u4e8c\u5c42\u201d\u662f\u6307Spine+Leaf\u4e24\u5c42\u8bbe\u5907\u7684\u6241\u5e73\u5316\u8bbe\u8ba1\uff08\u5982[\u56fe4-3]\u6240\u793a\uff09\uff0c\u4e8c\u5c42\u67b6\u6784\u6bd4\u591a\u5c42\u67b6\u6784\u6574\u4f53\u4e0a\u5177\u6709\u66f4\u5c0f\u7684\u6536\u655b\u6bd4\uff0c\u5728\u6027\u80fd\u8981\u6c42\u66f4\u9ad8\u7684\u6570\u636e\u4e2d\u5fc3\u7b49\u73af\u5883\u5e94\u8003\u8651\u4e3a\u4e8c\u5c42\u6241\u5e73\u5316\u67b6\u6784\u8bbe\u8ba1\u3002</p> <p>\u56fe4-3\u00a0\u6570\u636e\u4e2d\u5fc3\u4e8c\u5c42\u7f51\u7edc\u67b6\u6784\u793a\u610f </p> <p>\u73b0\u5728\uff0c\u8fd8\u6709\u5f88\u591a\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u91c7\u7528Border Leaf\u3001Spine\u3001Leaf\u7684\u7ec4\u7f51\u8bbe\u8ba1\uff08\u5982[\u56fe4-4]\u6240\u793a\uff09\u3002\u8fd9\u79cd\u8bbe\u8ba1\u5b9e\u9645\u4e0a\u4e5f\u662f\u4e8c\u5c42\u7684\u7ed3\u6784\uff0c\u56e0\u4e3aBorder Leaf\u548cLeaf\u90fd\u662f\u5c5e\u4e8e\u540c\u4e00\u5c42\u7684\u3002\u5728\u653f\u5e9c\u6216\u91d1\u878d\u6216\u67d0\u4e9b\u7279\u6b8a\u9886\u57df\u7b49\uff0c\u7531\u4e8e\u4e1a\u52a1\u67b6\u6784\u6216\u7f51\u7edc\u5b89\u5168\u6027\u7684\u8981\u6c42\uff0c\u9700\u8981Spine\u5c42\u8bbe\u5907\u548c\u7f51\u5173\u5206\u79bb\uff0c\u90e8\u7f72\u5b89\u5168\u9694\u79bb\u7b49\uff0c\u5219\u4f1a\u91c7\u7528\u8fd9\u79cd\u7ed3\u6784\u3002</p> <p>\u56fe4-4\u00a0\u6570\u636e\u4e2d\u5fc3Border Leaf+Spine+Leaf\u7f51\u7edc\u67b6\u6784\u793a\u610f </p> <p>\u5728\u5b9e\u9645\u8bbe\u8ba1\u4e2d\u5e94\u8be5\u6839\u636e\u9700\u8981\u7075\u6d3b\u9009\u62e9\uff0c\u4f8b\u5982\u6027\u80fd\u8981\u6c42\u9ad8\u7684\u5e94\u7528\u7cfb\u7edf\u7f51\u7edc\u67b6\u6784\u91c7\u7528\u4e8c\u5c42\u7f51\u7edc\u8bbe\u8ba1\uff0c\u800c\u5b89\u5168\u6027\u8981\u6c42\u9ad8\u7684\u5e94\u7528\u7cfb\u7edf\u7f51\u7edc\u67b6\u6784\u91c7\u7528\u4e09\u5c42\u6216\u591a\u5c42\u7f51\u7edc\u8bbe\u8ba1\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#22","title":"2.2. \u53ef\u7528\u94fe\u8def\u8bbe\u8ba1","text":"<p>\u5728\u4f20\u7edf\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\uff0c\u901a\u5e38\u4ee5\u751f\u6210\u6811\u534f\u8bae\uff08STP\uff09\u914d\u5408\u7f51\u5173\u5197\u4f59\u534f\u8bae\uff08VRRP\uff09\u63d0\u4f9b\u670d\u52a1\u5668\u63a5\u5165\u7684\u53ef\u9760\u6027\u3002\u540c\u65f6\uff0c\u670d\u52a1\u5668\u4ee5\u591a\u7f51\u5361\u8fde\u63a5\u7f51\u7edc\u4ee5\u8fdb\u4e00\u6b65\u63d0\u4f9b\u5197\u4f59\u80fd\u529b\u3002\u4f46\u6b64\u79cd\u8bbe\u8ba1\u7684\u5197\u4f59\u94fe\u8def\u5f80\u5f80\u53ea\u80fd\u5728\u4e3b\u7528\u94fe\u8def\u6545\u969c\u65f6\u624d\u53d1\u6325\u4f5c\u7528\uff0c\u94fe\u8def\u53ca\u8bbe\u5907\u7684\u5229\u7528\u7387\u4e0d\u9ad8\uff0c\u4e5f\u5f71\u54cd\u7740\u7f51\u7edc\u7684\u6536\u655b\u6bd4\u3002</p> <p>\u534e\u4e3a\u63a8\u8350\u91c7\u7528\u8de8\u8bbe\u5907\u94fe\u8def\u805a\u5408\uff08M-LAG\uff09\u6280\u672f\u6784\u5efa\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u3002\u5982[\u56fe4-5]\u6240\u793a\uff0cM-LAG\u53ef\u4ee5\u770b\u505a\u4e00\u79cd\u6a2a\u5411\u865a\u62df\u5316\u6280\u672f\uff0c\u5c06\u53cc\u5f52\u63a5\u5165\u7684\u4e24\u53f0\u8bbe\u5907\u5728\u903b\u8f91\u4e0a\u865a\u62df\u6210\u4e00\u53f0\u8bbe\u5907\u3002M-LAG\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6ca1\u6709\u73af\u8def\u7684\u4e8c\u5c42\u62d3\u6251\uff0c\u540c\u65f6M-LAG\u6210\u5458\u53e3\u6240\u5728\u94fe\u8def\u5747\u53c2\u4e0e\u8f6c\u53d1\uff0c\u4e0d\u5b58\u5728\u94fe\u8def\u7684\u6d6a\u8d39\u60c5\u51b5\u3002</p> <p>\u56fe4-5\u00a0M-LAG\u793a\u610f\u56fe </p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u91c7\u7528M-LAG\u65b9\u5f0f\u63a5\u5165\u7684\u65f6\u5019\uff0c\u9700\u8981\u89c4\u5212\u597d\u7aef\u53e3\u7684\u4f7f\u7528\uff0c\u56e0\u4e3aM-LAG\u7684peer-link\u94fe\u8def\u548c\u53cc\u4e3b\u68c0\u6d4b\u94fe\u8def\u90fd\u9700\u8981\u9884\u7559\u7aef\u53e3\uff0c\u5982[\u56fe4-6]\u6240\u793a\u3002</p> <p>\u56fe4-6\u00a0M-LAG\u7aef\u53e3\u4f7f\u7528\u793a\u610f\u56fe </p> <p>\u5173\u4e8eM-LAG\u94fe\u8def\u63a5\u53e3\u7684\u8bf4\u660e\u53ef\u53c2\u89c1[\u88684-1]\u3002</p> <p>\u88684-1\u00a0M-LAG\u94fe\u8def\u63a5\u53e3\u8bf4\u660e</p> \u94fe\u8def\u63a5\u53e3 \u8bf4\u660e peer-link\u94fe\u8def peer-link\u94fe\u8def\u662f\u4e00\u6761\u76f4\u8fde\u94fe\u8def\u4e14\u5fc5\u987b\u505a\u94fe\u8def\u805a\u5408\uff0c\u7528\u4e8e\u4ea4\u6362\u534f\u5546\u62a5\u6587\u53ca\u4f20\u8f93\u90e8\u5206\u6d41\u91cf\u3002\u63a5\u53e3\u914d\u7f6e\u4e3apeer-link\u63a5\u53e3\u540e\uff0c\u8be5\u63a5\u53e3\u4e0a\u4e0d\u80fd\u518d\u914d\u7f6e\u5176\u5b83\u4e1a\u52a1\u3002\u4e3a\u4e86\u589e\u52a0peer-link\u94fe\u8def\u7684\u53ef\u9760\u6027\uff0c\u63a8\u8350\u91c7\u7528\u591a\u6761\u94fe\u8def\u505a\u94fe\u8def\u805a\u5408\u3002 \u53cc\u4e3b\u68c0\u6d4b\u94fe\u8def \u53cc\u4e3b\u68c0\u6d4b\u94fe\u8def\u662f\u4e00\u6761\u4e09\u5c42\u4e92\u901a\u94fe\u8def\uff0c\u7528\u4e8eM-LAG\u4e3b\u5907\u8bbe\u5907\u95f4\u53d1\u9001\u53cc\u4e3b\u68c0\u6d4b\u62a5\u6587\u3002 M-LAG\u6210\u5458\u63a5\u53e3 M-LAG\u4e3b\u5907\u8bbe\u5907\u4e0a\u8fde\u63a5\u7528\u6237\u4fa7\u4e3b\u673a\uff08\u6216\u4ea4\u6362\u8bbe\u5907\uff09\u7684Eth-Trunk\u63a5\u53e3\u3002\u4e3a\u4e86\u589e\u52a0\u53ef\u9760\u6027\uff0c\u63a8\u8350\u94fe\u8def\u805a\u5408\u914d\u7f6e\u4e3aLACP\u6a21\u5f0f\u3002 <p>\u5728\u670d\u52a1\u5668\u63a5\u5165\u4fa7\uff0c\u4e5f\u6709\u7c7b\u4f3c\u7684\u8bbe\u8ba1\u65b9\u5f0f\u3002\u82e5\u670d\u52a1\u5668\u53cc\u7f51\u5361\u4e3a\u4e3b\u5907\u65b9\u5f0f\uff0c\u5219\u53ef\u8bbe\u8ba1\u4e3a\u53ea\u6709\u4e3b\u7528\u94fe\u8def\u751f\u6548\u3001\u5907\u7528\u94fe\u8def\u5728\u4e3b\u7528\u94fe\u8def\u6545\u969c\u65f6\u542f\u7528\uff1b\u82e5\u670d\u52a1\u5668\u53cc\u7f51\u5361\u4e3a\u8d1f\u8f7d\u5206\u62c5\u65b9\u5f0f\uff0c\u5219\u5168\u90e8\u4e0a\u8054\u94fe\u8def\u5747\u53ef\u4ee5\u4f7f\u7528\uff0c\u914d\u5408\u94fe\u8def\u6536\u655b\u6bd4\u8bbe\u8ba1\u53ef\u4ee5\u63d0\u9ad8\u7f51\u7edc\u4e2d\u7684\u5b9e\u9645\u53ef\u7528\u5e26\u5bbd\uff0c\u63d0\u5347\u7f51\u7edc\u8f6c\u53d1\u6027\u80fd\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#23","title":"2.3. \u8bbe\u5907\u9009\u578b","text":"<p>\u4e0a\u8ff0\u4e3e\u4f8b\u5747\u5047\u8bbe\u6240\u6709\u4ea4\u6362\u673a\u7684\u6240\u6709\u7aef\u53e3\u53ef\u4ee5\u7ebf\u901f\u8f6c\u53d1\uff0c\u5982\u679c\u4ea4\u6362\u673a\u4e0d\u80fd\u7ebf\u901f\u8f6c\u53d1\uff0c\u8fd8\u9700\u8981\u8003\u8651\u5728\u4ea4\u6362\u673a\u4e0a\u7684\u6536\u655b\u3002\u56e0\u6b64\uff0c\u4e3a\u4fdd\u8bc1\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7684\u9ad8\u6027\u80fd\uff0c\u6700\u597d\u9009\u7528\u5177\u6709\u5168\u7ebf\u901f\u80fd\u529b\u7684\u4ea4\u6362\u673a\u8bbe\u5907\u3002</p> <p>\u534e\u4e3aCloudEngine\u7cfb\u5217\u4ea4\u6362\u673a\uff0c\u5168\u7cfb\u5217\u5747\u652f\u6301\u7ebf\u901f\u8f6c\u53d1\u3002\u5982[\u88684-2]\u6240\u793a\uff0c\u4e0b\u9762\u6211\u4eec\u4ee5 CE6870-48T6CQ-EI \u4e3a\u4f8b\uff0c\u7ed9\u5927\u5bb6\u4ecb\u7ecd\u4e00\u4e0b\u5982\u4f55\u521d\u6b65\u5224\u65ad\u4e00\u53f0\u4ea4\u6362\u673a\u662f\u5426\u652f\u6301\u7ebf\u901f\u8f6c\u53d1\u3002</p> <p>\u88684-2\u00a0CE6870-48T6CQ-EI\u6027\u80fd\u53c2\u6570</p> \u9879\u76ee CE6870-48T6CQ-EI 10GE BASE-T\u63a5\u53e3 48 10GE SFP+\u63a5\u53e3 NA 100GE QSFP28\u63a5\u53e3 6 \u4ea4\u6362\u5bb9\u91cf 2.16Tbps/19.44Tbps <p>\u5982[\u88684-2]\u6240\u793a\uff0c\u67e5\u8be2CE6870-48T6CQ-EI\u7684\u6027\u80fd\u53c2\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230CE6870-48T6CQ-EI\u5171\u670948\u4e2a10GE\u63a5\u53e3\u548c6\u4e2a100GE\u63a5\u53e3\u3002\u6211\u4eec\u9996\u5148\u8ba1\u7b97CE6870-48T6CQ-EI\u4e0a\u6240\u6709\u7aef\u53e3\u80fd\u63d0\u4f9b\u7684\u603b\u5e26\u5bbd\u3002\u8ba1\u7b97\u516c\u5f0f\u4e3a\uff1a\u7aef\u53e3\u6570\u00d7\u76f8\u5e94\u7aef\u53e3\u901f\u7387\u00d72\uff08\u5168\u53cc\u5de5\u6a21\u5f0f\uff09\u3002\u5982\u679c\u5f97\u5230\u7684\u603b\u5e26\u5bbd\u2264\u4ea4\u6362\u5bb9\u91cf\uff0c\u5219\u6211\u4eec\u53ef\u8ba4\u4e3a\u8be5\u4ea4\u6362\u673a\u5728\u4ea4\u6362\u5bb9\u91cf\u4e0a\u53ef\u505a\u5230\u7ebf\u901f\u8f6c\u53d1\u3002\u4e0b\u9762\u6211\u4eec\u6765\u8ba1\u7b97\u9a8c\u8bc1\u4e00\u4e0b\u3002</p> <p>\u8ba1\u7b97\u53ef\u5f97\uff1a(48\u00d710G+6\u00d7100G)\u00d72=2160G\u22642.16T\u3002\u56e0\u6b64CE6870-48T6CQ-EI\u662f\u7ebf\u901f\u8f6c\u53d1\u7684\u3002\u81f3\u4e8eCE6870-48T6CQ-EI\u8fd8\u6709\u4e00\u4e2a\u4ea4\u6362\u5bb9\u91cf19.44Tbps\uff0c\u8fd9\u4e2a\u662f\u6307\u5806\u53e0\u60c5\u51b5\u4e0b\u7684\u4ea4\u6362\u5bb9\u91cf\u3002CE6870-48T6CQ-EI\u6700\u591a\u652f\u63019\u53f0\u8bbe\u5907\u8fdb\u884c\u5806\u53e0\uff0c\u56e0\u6b642.16T\u00d79=19.44T\u226419.44T\uff0c\u6240\u4ee5CE6870-48T6CQ-EI\u5728\u5806\u53e0\u60c5\u51b5\u4e0b\uff0c\u4e5f\u53ef\u4ee5\u505a\u5230\u7ebf\u901f\u8f6c\u53d1\u3002</p> <p></p> <p>\u6b64\u5904\u4ee5\u76d2\u5f0f\u4ea4\u6362\u673a\u8fdb\u884c\u4e86\u8bf4\u660e\uff0c\u5b9e\u9645\u4e0a\u6846\u5f0f\u4ea4\u6362\u673a\u7684\u60c5\u51b5\u8981\u590d\u6742\u7684\u591a\u3002\u6846\u5f0f\u4ea4\u6362\u673a\u7684\u4e1a\u52a1\u677f\u5361\u9700\u8981\u6b63\u786e\u914d\u5408\u4ea4\u6362\u7f51\u677f\u7684\u9009\u7528\u624d\u80fd\u505a\u5230\u8bbe\u5907\u7684\u7ebf\u901f\u8f6c\u53d1\uff0c\u53ef\u901a\u8fc7\u8f6c\u53d1\u6027\u80fd\u8bc4\u4f30\u5de5\u5177\u6765\u642d\u914d\u9009\u62e9\uff0c\u786e\u4fdd\u9009\u62e9\u7684\u4e1a\u52a1\u677f\u5361\u548c\u4ea4\u6362\u7f51\u677f\u7ec4\u5408\u53ef\u4ee5\u7ebf\u901f\u8f6c\u53d1\u3002</p> <p>\u4e0b\u9762\u4e3a\u4e86\u4fbf\u4e8e\u8bf4\u660e\uff0c\u6211\u4eec\u5047\u8bbe\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u6574\u4f53\u91c7\u7528Border Leaf-Spine-Leaf\u7684\u4e09\u5c42\u7ed3\u6784\uff0c\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u7f51\u7edc\u6536\u655b\u6bd4\u7684\u8bbe\u8ba1\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#24-leaf","title":"2.4. \u670d\u52a1\u5668\u63a5\u5165Leaf","text":"<p>\u670d\u52a1\u5668\u7684\u63a5\u5165\u6d89\u53ca\u5230\u5e03\u7ebf\u65b9\u5f0f\uff0c\u4ee5\u53ca\u63a5\u5165\u4ea4\u6362\u673a\u7684\u9009\u62e9\u3002\u5e38\u89c1\u7684\u5e03\u7ebf\u65b9\u5f0f\u6709TOR\u4ee5\u53caEOR/MOR\u4e24\u7c7b\uff0c\u53c2\u89c1[\u56fe4-7]\u548c[\u56fe4-8]\u3002\u8fd9\u4e24\u7c7b\u65b9\u5f0f\u53ef\u4ee5\u7ec4\u5408\u51fa\u4e30\u5bcc\u7684\u90e8\u7f72\u65b9\u5f0f\uff0c\u5728\u5177\u4f53\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u6839\u636e\u4e1a\u52a1\u90e8\u7f72\u7684\u8981\u6c42\uff0c\u7075\u6d3b\u9009\u62e9\u4e0d\u540c\u7684\u90e8\u7f72\u65b9\u5f0f\u6216\u7ec4\u5408\u3002</p> <p>\u56fe4-7\u00a0TOR\u63a5\u5165\u65b9\u5f0f </p> <p>\u56fe4-8\u00a0EOR/MOR\u63a5\u5165\u65b9\u5f0f </p> <p>\u4e24\u8005\u7684\u5bf9\u6bd4\u5982\u4e0b\uff0c\u53c2\u89c1[\u88684-3]\u3002</p> <p>\u88684-3\u00a0\u670d\u52a1\u5668\u63a5\u5165\u65b9\u5f0f\u5bf9\u6bd4</p> \u90e8\u7f72\u65b9\u5f0f TOR\uff08Top Of Rack\uff09 EOR\uff08End Of Rack\uff09/MOR\uff08Middle Of Rack\uff09 \u670d\u52a1\u5668\u7c7b\u578b 1U/2U/4U\u673a\u67b6\u670d\u52a1\u5668\u3001\u5200\u7247\u670d\u52a1\u5668(\u76f4\u901a) 1U/2U/4U\u673a\u67b6\u670d\u52a1\u5668\u3001\u5200\u7247\u670d\u52a1\u5668(\u4ea4\u6362\u6a21\u5757) \u9002\u7528\u573a\u666f \u9ad8\u5bc6\u5ea6\u670d\u52a1\u5668\u673a\u67dc \u4f4e\u5bc6\u5ea6\u670d\u52a1\u5668\u673a\u67dc\uff0c\u9ad8\u5bc6\u5200\u7247\u673a\u67dc \u5e03\u7ebf \u7b80\u5316\u670d\u52a1\u5668\u673a\u67dc\u4e0e\u7f51\u7edc\u673a\u67dc\u95f4\u6c34\u5e73\u5e03\u7ebf \u5e03\u7ebf\u590d\u6742 \u7ef4\u62a4 \u63a5\u5165\u8bbe\u5907\u591a\uff0c\u7f51\u7edc\u7ba1\u7406\u7ef4\u62a4\u590d\u6742\uff1b\u7535\u7f06\u7ef4\u62a4\u7b80\u5355\uff0c\u6269\u5c55\u6027\u597d\u3002 \u63a5\u5165\u8bbe\u5907\u5c11\uff0c\u7ef4\u62a4\u7b80\u5355\uff1b\u7535\u7f06\u7ef4\u62a4\u590d\u6742\u3002 <p>\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7684\u573a\u666f\u4e2d\uff0c\u5927\u90e8\u5206\u5c5e\u4e8e\u9ad8\u5bc6\u5ea6\u670d\u52a1\u5668\u7684\u573a\u666f\uff0c\u56e0\u6b64\u91c7\u7528TOR\u7684\u65b9\u5f0f\u6bd4\u8f83\u5e38\u89c1\u3002\u4e0d\u540c\u670d\u52a1\u5668\u548c\u573a\u666f\u7684\u90e8\u7f72\u601d\u8def\u53ef\u53c2\u8003\u88684-4\u3002</p> <p>\u88684-4\u00a0\u670d\u52a1\u5668\u90e8\u7f72\u5178\u578b\u573a\u666f</p> \u670d\u52a1\u5668\u5bc6\u5ea6 \u670d\u52a1\u5668\u79cd\u7c7b I/O\u6a21\u5757\u914d\u7f6e \u4e1a\u52a1\u7f51\u53e3 \u5b58\u50a8\u7f51\u53e3 \u4e1a\u52a1\u7ba1\u7406\u7f51\u53e3 \u5efa\u8bae\u7684\u63a5\u5165\u4ea4\u6362\u673a\u90e8\u7f72 \u4f4e\u5bc6\u5ea6\u5206\u533a \u673a\u67b6\u5f0f\u670d\u52a1\u56682U\u4e3a\u4f8b \u56fa\u5b9aGE/10GE\uff0c\u5e76\u914d\u7f6eFC\u53caGE/10GE\u7f51\u5361 2\u4e2aGE/10GE 0~2\u4e2aFC\u6216GE/10GE 0~2\u4e2aGE/10GE EOR/MOR/TOR \u9ad8\u5bc6\u5ea6\u5206\u533a \u673a\u67b6\u5f0f\u670d\u52a1\u56682U\u4e3a\u4f8b \u56fa\u5b9aGE/10GE\uff0c\u5e76\u914d\u7f6eFC\u53caGE/10GE\u7f51\u5361 2\u4e2aGE/10GE 0~2\u4e2aFC\u6216GE/10GE 0~2\u4e2aGE/10GE TOR \u5200\u7247\u670d\u52a1\u5668\u4ee510\u5200\u7247/\u6846\u4e3a\u4f8b8U \u914d\u7f6e\u76f4\u901a\u6a21\u5757(\u6bcf\u4e2a\u7f51\u53e3\u4e0e\u5200\u7247\u901a\u8fc7\u80cc\u677f\u76f4\u63a5\u8fde\u63a5) 20\u4e2aGE\u76f4\u901a 0,10,20\u4e2aFC\u76f4\u901a\u62160,10,20GE\u76f4\u901a 0,20\u4e2aGE TOR\u4ee5\u592a\u94fe\u8def\u9700\u5c0f\u4e8eTOR\u6700\u5927\u63a5\u5165\u5bc6\u5ea6 \u914d\u7f6e\u4ea4\u6362\u6a21\u5757(\u4ea4\u6362\u6a21\u5757\u76f8\u5f53\u4e8e\u4e00\u4e2a\u63a5\u5165\u4ea4\u6362\u673a) 2~4\u4e2a10GE 0~6\u4e2aFC\u621610GE 0~2\u4e2aGE/10GE EOR/MOR <p>\u4e0b\u9762\u6211\u4eec\u4ee5\u9ad8\u5bc6\u673a\u67b6\u670d\u52a1\u5668\u573a\u666f\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u4e0b\u5177\u4f53\u7684\u63a5\u5165\u65b9\u6848\u3002\u5982[\u56fe4-9]\u6240\u793a\uff0c\u6bcf\u673a\u67b6\u90e8\u7f72\u4e8610\u53f0\u673a\u67b6\u5f0f\u670d\u52a1\u5668\uff08\u901a\u5e38\u4f1a\u90e8\u7f728<sub>12\u53f0\u670d\u52a1\u5668\uff09\uff0c\u6bcf\u6392\u5171\u670910\u4e2a\u673a\u67b6\uff08\u901a\u5e38\u6bcf\u6392\u4f1a\u90e8\u7f728</sub>12\u4e2a\u673a\u67b6\uff09\u90e8\u7f72\u4e86\u670d\u52a1\u5668\uff0c\u6784\u6210\u9ad8\u5bc6\u5ea6\u673a\u67b6\u670d\u52a1\u5668\u90e8\u7f72\u3002\u67d0\u6570\u636e\u4e2d\u5fc3\u5171\u67094\u6392\u8fd9\u6837\u7684\u673a\u67b6\u3002</p> <p>\u56fe4-9\u00a0\u9ad8\u5bc6\u673a\u67b6\u670d\u52a1\u5668\u63a5\u5165\u65b9\u6848 </p> <p>\u6bcf\u53f0\u670d\u52a1\u5668\u5177\u67092\u4e2a10GE\u4e1a\u52a1\u7f51\u53e3\u548c1\u4e2aFE\u63a5\u5165BMC\u7ba1\u7406\u53e3\u3002\u4e3a\u4e86\u4fdd\u8bc1\u53ef\u9760\u6027\uff0c\u6bcf\u53f0\u670d\u52a1\u5668\u91c7\u7528M-LAG\u7684\u65b9\u5f0f\u63a5\u5165\u7f51\u7edc\u3002\u76f8\u90bb\u7684\u4e24\u4e2a\u673a\u67b6\u7ec4\u6210\u4e00\u7ec4M-LAG\u7684\u7cfb\u7edf\uff0c\u8fd9\u6837\u4e00\u4e2a\u673a\u67b6\u4e0a\u9762\u7684TOR\u4ea4\u6362\u673a\u9700\u8981\u63a5\u5165200G\uff0810G\u00d710\u00d72=200G\uff09\u5e26\u5bbd\u7684\u6d41\u91cf\u3002</p> <p>\u6839\u636e\u7ecf\u9a8c\u503c\uff0c\u6211\u4eec\u5728\u63a5\u5165\u5c42\u7684\u6536\u655b\u6bd4\u4e00\u822c\u63a7\u5236\u57283\uff1a1\u5de6\u53f3\uff0c\u8fd9\u4e3b\u8981\u53d6\u51b3\u4e8e\u6211\u4eec\u5c06\u4e3a\u63a5\u5165\u4ea4\u6362\u673a\u8bbe\u8ba1\u591a\u5927\u7684\u4e0a\u884c\u5e26\u5bbd\u3002\u76ee\u524d\u6765\u8bf4\uff0c\u63a5\u5165\u4ea4\u6362\u673a\u7684\u5355\u4e2a\u4e0a\u884c\u63a5\u53e3\u53ef\u4ee5\u8fbe\u523040G\u7684\u5e26\u5bbd\uff0c\u7406\u8bba\u4e0a\u901a\u8fc74\u4e2a40G\u7684\u4e0a\u884c\u63a5\u53e3\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5927\u81f4\u5c06\u6536\u655b\u6bd4\u505a\u52301\uff1a1\u3002\u4f46\u662f\u6b64\u65f6\u6211\u4eec\u81f3\u5c11\u9700\u8981\u4e3a\u8be5Spine\u8bbe\u7f6e4\u53f0\u6c47\u805a\u4ea4\u6362\u673a\uff0c\u4e14\u6bcf\u589e\u52a0\u4e00\u4e2a\u4e0a\u884c\u63a5\u53e3\u5c31\u9700\u8981\u589e\u52a0\u4e00\u53f0\u6c47\u805a\u4ea4\u6362\u673a\uff0c\u56e0\u6b64\u8fd9\u4e2a\u5f00\u9500\u8fd8\u662f\u5341\u5206\u53ef\u89c2\u7684\u3002\u5728\u5b9e\u9645\u90e8\u7f72\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u8bbe\u7f6e\u4e24\u53f0\u6c47\u805a\u4ea4\u6362\u673a\uff0c\u63a5\u5165\u4ea4\u6362\u673a\u901a\u8fc72\u4e2a40GE\u63a5\u53e3\u63a5\u5165\u6c47\u805a\u4ea4\u6362\u673a\uff0c\u63d0\u4f9b80G\uff0840G\u00d72=80G\uff09\u7684\u4e0a\u884c\u5e26\u5bbd\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u52302.5\uff1a1\uff08200G\u00f780G=2.5\uff09\u7684\u6536\u655b\u6bd4\uff0c\u5f88\u597d\u7684\u5c06\u5176\u63a7\u5236\u57283:1\u4ee5\u5185\u3002</p> <p>\u6839\u636e\u4ee5\u4e0a\u7684\u5206\u6790\uff0c\u6211\u4eec\u63a8\u8350\u9009\u62e9 CE6870-24S6CQ-EI \u4f5c\u4e3aTOR\u63a5\u5165\u4ea4\u6362\u673a\uff0c\u5982\u56fe4-10\u6240\u793a\uff0c\u8be5\u4ea4\u6362\u673a\u5177\u670924\u4e2a10GE SFP+\u4ee5\u592a\u7f51\u5149\u63a5\u53e3\u548c6\u4e2a40GE/100GE QSFP28\u4ee5\u592a\u7f51\u5149\u63a5\u53e3\u3002\u5176\u4e0a\u884c\u53e3\u8fd8\u652f\u6301100GE\u7684\u5149\u6a21\u5757\uff0c\u5728\u4e0d\u589e\u52a0\u6c47\u805a\u4ea4\u6362\u673a\u7684\u60c5\u51b5\u4e0b\uff0c\u901a\u8fc7100GE\u63a5\u53e3\u4e5f\u53ef\u4ee5\u8fbe\u5230\u63a5\u8fd11\uff1a1\u7684\u6536\u655b\u6bd4\u3002\u9664\u6b64\u4e4b\u5916\uff0cCE6870\u7cfb\u5217\u4ea4\u6362\u673a\u63d0\u4f9b4GB\u7684\u5927\u7f13\u5b58\uff0c\u53ef\u8f7b\u677e\u5e94\u5bf9\u89c6\u9891\u3001\u641c\u7d22\u7b49\u5e94\u7528\u5f15\u8d77\u7684\u6d41\u91cf\u6d6a\u6d8c\u3002</p> <p>\u56fe4-10\u00a0CE6870-24S6CQ-EI </p> <p>CE6870\u7cfb\u5217\u8fd8\u63d0\u4f9b48\u4e2a10GE\u63a5\u53e3\u7684\u6b3e\u578b\uff0c\u53ef\u652f\u6301\u66f4\u9ad8\u5bc6\u5ea6\u7684\u670d\u52a1\u5668\u63a5\u5165\u9700\u6c42\u3002\u5982\u679c\u4e0d\u9700\u8981\u7528\u5230\u5927\u7f13\u5b58\uff0c\u4e5f\u53ef\u4ee5\u9009\u7528 CE6851-48S6Q-HI \u4f5c\u4e3aTOR\u63a5\u5165\u4ea4\u6362\u673a\u3002</p> <p></p> <p>\u6b64\u5904\u6ca1\u6709\u8003\u8651\u670d\u52a1\u5668\u548c\u4ea4\u6362\u673a\u7ba1\u7406\u7f51\u53e3\u7684\u63a5\u5165\u9700\u6c42\u3002\u7531\u4e8e\u7ba1\u7406\u7f51\u53e3\u4e0d\u9700\u8981\u5927\u7684\u5e26\u5bbd\u4fdd\u8bc1\uff0c\u4ece\u63a7\u5236\u6210\u672c\u7684\u89d2\u5ea6\u51fa\u53d1\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4f1a\u9009\u62e9\u4ef7\u683c\u8f83\u4fbf\u5b9c\u7684\u63a5\u5165\u4ea4\u6362\u673a\uff08\u53ea\u8981\u6ee1\u8db3\u63a5\u53e3\u63a5\u5165\u9700\u6c42\u5373\u53ef\uff09\uff0c\u4f8b\u5982\u534e\u4e3aS5700\u7cfb\u5217\u4ea4\u6362\u673a\uff0c\u91c7\u7528MOR/EOR\u7684\u90e8\u7f72\u65b9\u5f0f\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#25-leafspine","title":"2.5. Leaf\u63a5\u5165Spine","text":"<p>\u4e0b\u9762\u6211\u4eec\u63a5\u7740\u770bSpine\u5c42\u4ea4\u6362\u673a\u7684\u9009\u62e9\u3002\u6bcf\u6392\u673a\u67b6\u4e0a\u5171\u670910\u53f0TOR\u4ea4\u6362\u673a\u9700\u8981\u8fde\u63a5\u5230\u6211\u4eec\u7684\u6c47\u805a\u4ea4\u6362\u673a\uff0c\u6bcf\u53f0TOR\u4ea4\u6362\u673a\u901a\u8fc72\u4e2a40GE\u63a5\u53e3\u63a5\u5165\u5230Spine\u5c42\u8bbe\u5907\uff0c\u4e00\u5171\u662f80\u4e2a\uff082\u00d710\u00d74=80\uff09\u63a5\u53e3\uff0c3200G\uff0880\u00d740G=3200G\uff09\u7684\u5e26\u5bbd\u3002</p> <p>\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u5c06\u8fd9\u4e9b\u63a5\u53e3\u5206\u4e3a\u51e0\u4e2aSpine\u8282\u70b9\u63a5\u5165\u5230Spine\u5c42\u8bbe\u5907\u3002\u4e3a\u4e86\u907f\u514d\u7684\u8bbe\u5907\u7684\u5355\u70b9\u6545\u969c\u5f15\u8d77\u7f51\u7edc\u95ee\u9898\uff0c\u6211\u4eec\u6bcf\u4e2aSpine\u8282\u70b9\u90fd\u81f3\u5c11\u67092\u53f0Spine\u5c42\u4ea4\u6362\u673a\u3002</p> <p>\u5982\u679c\u6211\u4eec\u9009\u62e9\u5c06\u8fd9\u4e9bTOR\u4ea4\u6362\u673a\u4f5c\u4e3a\u4e00\u4e2aSpine\u63a5\u5165\uff0c\u90a3\u4e48\u8fd9\u4e2aSpine\u63a5\u5165\u7684\u63a5\u53e3\u6570\u4e3a80\u4e2a\u63a5\u53e3\uff0c3200G\u7684\u5e26\u5bbd\uff0c\u5982[\u56fe4-11]\u6240\u793a\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5982\u679c\u901a\u8fc7100G\u7684\u4e0a\u884c\u94fe\u8def\u94fe\u63a5\u5230Border Leaf\u8bbe\u5907\uff08\u4e00\u822c\u4e3a\u4e24\u53f0\uff0c\u5317\u5411\u8fde\u63a5\u5230\u51fa\u53e3\u8def\u7531\uff09\uff0c\u5219\u53ef\u4ee5\u63d0\u4f9b400G\uff084\u00d7100G=400G\uff09\u7684\u5e26\u5bbd\uff0c\u6b64\u65f6\u6536\u655b\u6bd4\u4e3a8:1\uff083200G\u00f7400G=8\uff09\u3002</p> <p>\u56fe4-11\u00a01\u4e2aSpine\u63a5\u5165 </p> <p>\u5982\u679c\u6211\u4eec\u9009\u62e9\u5c06\u8fd9\u4e9bTOR\u4ea4\u6362\u673a\u5206\u4e3a\u4e24\u4e2aSpine\u63a5\u5165\uff0c\u90a3\u4e48\u6bcf\u4e2aSpine\u63a5\u5165\u7684\u63a5\u53e3\u6570\u4e3a40\u4e2a\u63a5\u53e3\uff0c1600G\u7684\u5e26\u5bbd\uff0c\u5982[\u56fe4-12]\u6240\u793a\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5982\u679c\u901a\u8fc7100G\u7684\u4e0a\u884c\u94fe\u8def\u94fe\u63a5\u5230Border Leaf\u8bbe\u5907\uff0c\u5219\u53ef\u4ee5\u63d0\u4f9b400G\uff084\u00d7100G=400G\uff09\u7684\u5e26\u5bbd\uff0c\u6b64\u65f6\u6536\u655b\u6bd4\u4e3a4:1\uff081600G\u00f7400G=4\uff09\u3002</p> <p>\u56fe4-12\u00a02\u4e2aSpine\u63a5\u5165 </p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2dSpine\u7684\u5212\u5206\uff0c\u6536\u655b\u6bd4\u5e76\u4e0d\u662f\u552f\u4e00\u7684\u4f9d\u636e\uff0c\u66f4\u4e3b\u8981\u7684\u662f\u6839\u636e\u4e1a\u52a1\u548c\u529f\u80fd\u7684\u5206\u533a\u6765\u5212\u5206\u7684\u3002\u53e6\u5916\u53d7\u9650\u4e8e\u4ea4\u6362\u673a\u672c\u8eab\u8def\u7531\u3001ARP\u7b49\u89c4\u683c\u7684\u9650\u5236\uff0c\u518d\u52a0\u4e0a\u73b0\u5728\u865a\u62df\u673a\u7684\u5927\u89c4\u6a21\u5e94\u7528\uff08\u865a\u62df\u6bd4\u8fbe\u52301:30\u6216\u66f4\u9ad8\uff0c\u5bf9\u89c4\u683c\u8981\u6c42\u66f4\u9ad8\uff09\uff0c\u4e00\u4e2aSpine\u7684\u89c4\u6a21\u4e5f\u4e0d\u4f1a\u592a\u5927\u3002</p> <p>\u5728\u8fd9\u4e2a\u573a\u666f\u4e0b\uff0c\u6211\u4eec\u91c7\u7528\u4e86\u4e24\u4e2aSpine\u63a5\u5165\u7684\u65b9\u5f0f\uff0c\u5373\u5c06Row1\u548cRow2\u5171\u7528\u4e00\u4e2aSpine\uff0cRow3\u548cRow4\u5171\u7528\u4e00\u4e2aSpine\u3002\u6b64\u65f6\u6211\u4eec\u4e00\u822c\u9009\u7528\u6846\u5f0f\u4ea4\u6362\u673a\u6216\u9ad8\u6027\u80fd\u7684\u76d2\u5f0f\u7075\u6d3b\u63d2\u5361\u4ea4\u6362\u673a\u6765\u4f5c\u4e3aSpine\u8bbe\u5907\u3002</p> <p>\u5982[\u56fe4-13]\u6240\u793a\uff0c\u6211\u4eec\u63a8\u8350\u9009\u62e9 CE12804 \u4f5c\u4e3aSpine\u4ea4\u6362\u673a\u3002CE12804\u5177\u67094\u4e2a\u4e1a\u52a1\u677f\u5361\u69fd\u4f4d\uff08CE12800\u7cfb\u5217\u4ea4\u6362\u673a\u53ef\u4ee5\u63d0\u4f9b4\u30018\u300112\u300116\u4e2a\u4e1a\u52a1\u677f\u5361\u69fd\u4f4d\uff0c\u53ef\u6839\u636e\u9700\u8981\u7075\u6d3b\u9009\u62e9\uff09\uff0c\u53ef\u9009\u7684\u677f\u5361\u79cd\u7c7b\u4e30\u5bcc\uff0c\u652f\u6301\u9ad8\u5bc640GE\u677f\u5361\uff08\u6700\u9ad8\u53ef\u63d0\u4f9b144\u4e2a40GE\u63a5\u53e3\uff0c36\u00d74=144\uff09\u548c\u9ad8\u5bc6100GE\u677f\u5361\uff08\u6700\u9ad8\u53ef\u63d0\u4f9b144\u4e2a100GE\u63a5\u53e3\uff0c36\u00d74=144\uff09\u3002\u53ef\u6839\u636e\u5b9e\u9645\u9700\u6c42\u7075\u6d3b\u9009\u62e9\u548c\u642d\u914d\uff0c\u4e5f\u4fbf\u4e8e\u540e\u671f\u7684\u8c03\u6574\u6216\u8005\u6269\u5bb9\u3002</p> <p>\u56fe4-13\u00a0CE12804 </p> <p>\u5728\u4e0a\u8ff0\u7684\u9700\u6c42\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u6bcf\u53f0CE12804\u4ea4\u6362\u673a\u9009\u62e92\u575724\u63a5\u53e3\u768440GE\u5355\u677f\uff08CE-L24LQ-EC1\uff09\u7528\u4e8e\u4e0b\u884c\u8fde\u63a5\u548c1\u57574\u63a5\u53e3\u7684100GE\u5355\u677f\uff08CE-L04CF-EF\uff09\u7528\u4e8e\u4e0a\u884c\u8fde\u63a5\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8fd8\u6709\u4e00\u79cd\u66f4\u4f4e\u6210\u672c\u7684\u65b9\u6848\uff0c\u5373\u9009\u7528 CE8860-4C-EI \u4f5c\u4e3aSpine\u4ea4\u6362\u673a\uff0c\u5982[\u56fe4-14]\u6240\u793a\u3002CE8860-4C-EI\u662f\u5177\u67092U\u9ad8\u5ea6\u7684\u7075\u6d3b\u63d2\u5361\u4ea4\u6362\u673a\uff0c\u6700\u591a\u53ef\u4ee5\u63d2\u51654\u4e2a\u63d2\u5361\u3002\u5728\u4ee5\u4e0a\u9700\u6c42\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e93\u575716\u7aef\u53e3\u768440GE\u63d2\u5361\uff08CE88-D16Q\uff09\u548c1\u57578\u7aef\u53e3\u768440GE/100GE\u63d2\u5361\uff08CE88-D8CQ\uff09\u3002 CE88-D16Q \u7528\u4e8e\u4e0b\u884c\u8fde\u63a5\uff1b CE88-D8CQ \u7528\u4e8e\u4e0a\u884c\u8fde\u63a5\u3002</p> <p>\u56fe4-14\u00a0CE8860-4C-EI </p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#26-spineborder-leaf","title":"2.6. Spine\u63a5\u5165Border Leaf","text":"<p>\u6700\u540e\u6211\u4eec\u6765\u770bBorder Leaf\u5c42\u7684\u8bbe\u8ba1\uff0c\u5982[\u56fe4-15]\u6240\u793a\u3002Border Leaf\u5317\u5411\u4e3b\u8981\u662f\u8fde\u63a5\u51fa\u53e3\u8def\u7531\u5668\uff0c\u5357\u5411\u8fde\u63a5\u4e0d\u540c\u7684Spine\uff0c\u627f\u62c5\u5357\u5317\u5411\u6d41\u91cf\u7684\u8f6c\u53d1\u3002Border Leaf\u7684\u8bbe\u8ba1\u5f88\u91cd\u8981\u7684\u4e00\u4e2a\u662f\u8003\u8651\u5ba2\u6237\u6240\u8d2d\u4e70\u7684\u51fa\u53e3\u8def\u7531\u5668\u7684\u7aef\u53e3\u3002\u8fd9\u4e9b\u7aef\u53e3\u76f8\u6bd4\u8f83\u4e8e\u6211\u4eec\u4e0b\u5c42\u7684\u7f51\u7edc\u8bbe\u5907\u6bd4\u8f83\u8d35\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u90fd\u662f10GE/40GE\u7684\u63a5\u53e3\u3002\u8fd9\u4e5f\u610f\u5473\u7740\u6211\u4eec\u5728Border Leaf\u7684\u6536\u655b\u6bd4\u4f1a\u6bd4\u8f83\u5927\u3002</p> <p>\u56fe4-15\u00a0Spine\u63a5\u5165Border Leaf\u793a\u610f </p> <p>\u5982\u679c\u6211\u4eec\u6309\u71674\u4e2a40GE\u7684\u51fa\u53e3\u63a5\u53e3\u6765\u8ba1\u7b97\uff0c\u6211\u4eec\u5c06\u6709160G\u7684\u5e26\u5bbd\uff0c\u6b64\u65f6\u6536\u655b\u6bd4\u662f5\uff1a1\uff08800G\u00f7160G=5\uff09\u3002\u4f46\u662f\u6839\u636e\u76ee\u524d\u7edf\u8ba1\uff0c\u7ea675%\u7684\u6d41\u91cf\u90fd\u662f\u53d1\u751f\u5728\u6570\u636e\u4e2d\u5fc3\u7684\u5185\u90e8\uff0c\u5373\u4e1c\u897f\u5411\u7684\u6d41\u91cf\u3002\u90a3\u4e48\u5269\u4e0b\u768425%\u7684\u6d41\u91cf\uff0c\u5373\u5357\u5317\u5411\u7684\u6d41\u91cf\u5927\u6982\u53ea\u6709200G\uff08800G\u00d725%=200G\uff09\u3002\u5982\u679c\u6309\u7167\u8fd9\u4e2a\u6765\u4f30\u7b97\uff0c\u6211\u4eec\u7684\u6536\u655b\u6bd4\u4e3a1.25:1\uff08200G\u00f7160G=1.25\uff09\uff0c\u5c5e\u4e8e\u53ef\u63a5\u53d7\u7684\u8303\u56f4\u3002</p> <p>\u7531\u4e8eBorder Leaf\u7684\u8bbe\u5907\u4e0d\u9700\u8981\u5f88\u591a\u63a5\u53e3\uff0c\u6211\u4eec\u9009\u7528\u4e0a\u9762\u63d0\u5230\u7684 CE6870-24S6CQ-EI \u4f5c\u4e3aBorder Leaf\u8bbe\u5907\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u6700\u7ec8\u6211\u4eec\u5f97\u5230\u7f51\u7edc\u6536\u655b\u8bbe\u8ba1\u7684\u903b\u8f91\u56fe\uff0c\u5982[\u56fe4-16]\u6240\u793a\u3002</p> <p>\u56fe4-16\u00a0\u6536\u655b\u6bd4\u8bbe\u8ba1\u903b\u8f91\u793a\u610f\u56fe </p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/04%20%E6%94%B6%E6%95%9B%E6%AF%94/#3","title":"3. \u672c\u7ae0\u5c0f\u7ed3","text":"<p>\u5728\u8bbe\u8ba1\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u6536\u655b\u6bd4\u65f6\uff0c\u6211\u4eec\u9700\u8981\u6839\u636e\u7f51\u7edc\u4e1a\u52a1\u548c\u6d41\u91cf\u6a21\u578b\u3002\u7efc\u5408\u8003\u8651\u4e1c\u897f\u3001\u5357\u5317\u6d41\u91cf\u7684\u5927\u5c0f\u3001\u6bd4\u4f8b\uff0c\u6765\u5236\u5b9a\u5408\u9002\u7684\u6536\u655b\u6bd4\u548c\u9009\u62e9\u76f8\u5e94\u7684\u8bbe\u5907\u3002\u6839\u636e\u7ecf\u9a8c\u503c\uff0c\u53ef\u53c2\u8003\u4ee5\u4e0b\u8bbe\u8ba1\uff1a</p> <ul> <li>\u5728\u670d\u52a1\u5668\u63a5\u5165\u7684Leaf\u5c42\uff0c\u5357\u5317\u5411\u6536\u655b\u6bd4\u4e00\u822c\u63a7\u5236\u57283\uff1a1\u4ee5\u4e0b\uff1b</li> <li>\u5728Spine\u5c42\uff0c\u8003\u8651\u548cLeaf\u5c42\u7684\u6536\u655b\u6bd4\u63a5\u8fd1\u6216\u66f4\u5c0f\uff1b</li> <li>\u5728Border Leaf\u5c42\uff0c\u6536\u655b\u6bd4\u4e00\u822c\u8f83\u5927\uff0c\u6839\u636e\u5ba2\u6237\u7684\u51fa\u53e3\u8def\u7531\u5e26\u5bbd\u7075\u6d3b\u8bbe\u8ba1\u3002</li> </ul> <p>\u5f53\u91c7\u7528\u4e8c\u5c42\u7684\u7ed3\u6784\u65f6\uff0cSpine\u5c42\u9664\u4e86\u5357\u5317\u5411\u6d41\u91cf\uff0c\u4e1c\u897f\u5411\u6d41\u91cf\u7684\u538b\u529b\u4e5f\u4f1a\u66f4\u5927\uff0c\u9700\u8981\u9009\u7528\u9ad8\u6027\u80fd\u7684\u4ea4\u6362\u673a\uff0c\u5e76\u5c3d\u91cf\u589e\u52a0Spine\u95f4\u4e92\u8054\u7684\u5e26\u5bbd\u3002</p> <p>\u534e\u4e3aCloudEngine\u7cfb\u5217\u4ea4\u6362\u673a\uff0c\u5177\u6709\u7ebf\u901f\u8f6c\u53d1\uff0c\u9ad8\u7aef\u53e3\u5bc6\u5ea6\u548c\u5927\u7f13\u5b58\u7b49\u7279\u70b9\uff0c\u662f\u60a8\u6784\u5efa\u4f4e\u6536\u655b\u6bd4\u9ad8\u6027\u80fd\u7f51\u7edc\u7684\u6700\u4f73\u4f19\u4f34\u3002\u4e86\u89e3\u534e\u4e3aCloudEngine\u7cfb\u5217\u4ea4\u6362\u673a\u66f4\u591a\u8f6c\u53d1\u6027\u80fd\u548c\u63a5\u53e3\u4fe1\u606f\uff0c\u8bf7\u8bbf\u95ee\uff1ahttp://e.huawei.com/cn/products/enterprise-networking/switches/data-center-switches\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/","title":"\u7b2c\u4e03\u7ae0 Overlay\u7f51\u7edc","text":""},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#1-overlay","title":"1. Overlay\u4ecb\u7ecd","text":"<p>\u5982[\u56fe7-1]\u6240\u793a\uff0cOverlay\u7f51\u7edc\u662f\u5c06\u5df2\u6709\u7684\u7269\u7406\u7f51\u7edc\uff08Underlay\u7f51\u7edc\uff09\u4f5c\u4e3a\u57fa\u7840\uff0c\u5728\u5176\u4e0a\u5efa\u7acb\u53e0\u52a0\u7684\u903b\u8f91\u7f51\u7edc\uff0c\u5b9e\u73b0\u7f51\u7edc\u8d44\u6e90\u7684\u865a\u62df\u5316\u3002</p> <p>\u56fe7-1\u00a0Overlay\u7f51\u7edc\u6982\u5ff5\u56fe </p> <p>Overlay\u7f51\u7edc\u662f\u5efa\u7acb\u5728\u5df2\u6709\u7269\u7406\u7f51\u7edc\u4e0a\u7684\u865a\u62df\u7f51\u7edc\uff0c\u5177\u6709\u72ec\u7acb\u7684\u63a7\u5236\u548c\u8f6c\u53d1\u5e73\u9762\uff0c\u5bf9\u4e8e\u8fde\u63a5\u5230Overlay\u7684\u7ec8\u7aef\u8bbe\u5907\uff08\u4f8b\u5982\u670d\u52a1\u5668\uff09\u6765\u8bf4\uff0c\u7269\u7406\u7f51\u7edc\u662f\u900f\u660e\u7684\uff0c\u4ece\u800c\u53ef\u4ee5\u5b9e\u73b0\u627f\u8f7d\u7f51\u7edc\u548c\u4e1a\u52a1\u7f51\u7edc\u7684\u5206\u79bb\u3002</p> <p>\u4e3a\u4ec0\u4e48\u9700\u8981Overlay\u7f51\u7edc\uff1f</p> <p>\u4f5c\u4e3a\u4e91\u8ba1\u7b97\u6838\u5fc3\u6280\u672f\u4e4b\u4e00\u7684\u201c\u670d\u52a1\u5668\u865a\u62df\u5316\u201d\u5df2\u7ecf\u88ab\u6570\u636e\u4e2d\u5fc3\u666e\u904d\u5e94\u7528\u3002\u968f\u7740\u4f01\u4e1a\u4e1a\u52a1\u7684\u53d1\u5c55\uff0c\u865a\u62df\u673a\u6570\u91cf\u7684\u5feb\u901f\u589e\u957f\u548c\u865a\u62df\u673a\u8fc1\u79fb\u5df2\u6210\u4e3a\u4e00\u4e2a\u5e38\u6001\u6027\u4e1a\u52a1\u3002\u7531\u6b64\u4e5f\u7ed9\u4f20\u7edf\u7f51\u7edc\u5e26\u6765\u4e86\u4ee5\u4e0b\u4e00\u4e9b\u95ee\u9898\uff1a</p> <ul> <li> <p>\u865a\u62df\u673a\u89c4\u6a21\u53d7\u7f51\u7edc\u89c4\u683c\u9650\u5236</p> <p>\u5728\u4f20\u7edf\u4e8c\u5c42\u7f51\u7edc\u73af\u5883\u4e0b\uff0c\u6570\u636e\u62a5\u6587\u662f\u901a\u8fc7\u67e5\u8be2MAC\u5730\u5740\u8868\u8fdb\u884c\u4e8c\u5c42\u8f6c\u53d1\uff0c\u800c\u7f51\u7edc\u8bbe\u5907MAC\u5730\u5740\u8868\u7684\u5bb9\u91cf\u9650\u5236\u4e86\u865a\u62df\u673a\u7684\u6570\u91cf\u3002</p> </li> <li> <p>\u7f51\u7edc\u9694\u79bb\u80fd\u529b\u9650\u5236</p> <p>\u5f53\u524d\u4e3b\u6d41\u7684\u7f51\u7edc\u9694\u79bb\u6280\u672f\u662fVLAN\uff0c\u7531\u4e8eIEEE 802.1Q\u4e2d\u5b9a\u4e49\u7684VLAN ID\u53ea\u670912\u6bd4\u7279\uff0c\u4ec5\u80fd\u8868\u793a4096\u4e2aVLAN\uff0c\u65e0\u6cd5\u6ee1\u8db3\u5927\u4e8c\u5c42\u7f51\u7edc\u4e2d\u6807\u8bc6\u5927\u91cf\u79df\u6237\u6216\u79df\u6237\u7fa4\u7684\u9700\u6c42\u3002</p> </li> <li> <p>\u865a\u62df\u673a\u8fc1\u79fb\u8303\u56f4\u53d7\u7f51\u7edc\u67b6\u6784\u9650\u5236</p> <p>\u4e3a\u4e86\u4fdd\u8bc1\u865a\u62df\u673a\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\u4e1a\u52a1\u4e0d\u4e2d\u65ad\uff0c\u5219\u9700\u8981\u4fdd\u8bc1\u865a\u62df\u673a\u7684IP\u5730\u5740\u3001MAC\u5730\u5740\u7b49\u53c2\u6570\u4fdd\u6301\u4e0d\u53d8\uff0c\u8fd9\u5c31\u8981\u6c42\u4e1a\u52a1\u7f51\u7edc\u662f\u4e00\u4e2a\u4e8c\u5c42\u7f51\u7edc\uff0c\u4e14\u8981\u6c42\u7f51\u7edc\u672c\u8eab\u5177\u5907\u591a\u8def\u5f84\u7684\u5197\u4f59\u5907\u4efd\u548c\u53ef\u9760\u6027\u3002\u4f20\u7edf\u7684STP\u3001\u8bbe\u5907\u865a\u62df\u5316\u7b49\u6280\u672f\u53ea\u9002\u7528\u4e8e\u4e2d\u5c0f\u89c4\u6a21\u7684\u7f51\u7edc\u3002</p> </li> </ul> <p>\u9488\u5bf9\u4e0a\u8ff0\u95ee\u9898\uff0c\u4e3a\u4e86\u6ee1\u8db3\u4e91\u8ba1\u7b97\u865a\u62df\u5316\u7684\u7f51\u7edc\u80fd\u529b\u9700\u6c42\uff0c\u9010\u6b65\u6f14\u5316\u51fa\u4e86Overlay\u7f51\u7edc\u6280\u672f\u3002</p> <ul> <li> <p>\u9488\u5bf9\u865a\u62df\u673a\u89c4\u6a21\u53d7\u7f51\u7edc\u89c4\u683c\u9650\u5236</p> <p>\u865a\u62df\u673a\u53d1\u51fa\u7684\u6570\u636e\u5305\u5c01\u88c5\u5728IP\u6570\u636e\u5305\u4e2d\uff0c\u5bf9\u7f51\u7edc\u53ea\u8868\u73b0\u4e3a\u5c01\u88c5\u540e\u7684\u7f51\u7edc\u53c2\u6570\u3002\u56e0\u6b64\uff0c\u6781\u5927\u964d\u4f4e\u4e86\u5927\u4e8c\u5c42\u7f51\u7edc\u5bf9MAC\u5730\u5740\u89c4\u683c\u7684\u9700\u6c42\u3002</p> </li> <li> <p>\u9488\u5bf9\u7f51\u7edc\u9694\u79bb\u80fd\u529b\u9650\u5236</p> <p>Overlay\u6280\u672f\u6269\u5c55\u4e86\u9694\u79bb\u6807\u8bc6\u7684\u4f4d\u6570\uff0824\u6bd4\u7279\uff09\uff0c\u6781\u5927\u6269\u5c55\u4e86\u9694\u79bb\u6570\u91cf\u3002</p> </li> <li> <p>\u9488\u5bf9\u865a\u62df\u673a\u8fc1\u79fb\u8303\u56f4\u53d7\u7f51\u7edc\u67b6\u6784\u9650\u5236</p> <p>Overlay\u5c06\u4ee5\u592a\u62a5\u6587\u5c01\u88c5\u5728IP\u62a5\u6587\u4e4b\u4e0a\uff0c\u901a\u8fc7\u8def\u7531\u5728\u7f51\u7edc\u4e2d\u4f20\u8f93\u3002\u901a\u8fc7\u8def\u7531\u7f51\u7edc\uff0c\u865a\u62df\u673a\u8fc1\u79fb\u4e0d\u53d7\u7f51\u7edc\u67b6\u6784\u9650\u5236\u3002\u800c\u4e14\u8def\u7531\u7f51\u7edc\u5177\u5907\u826f\u597d\u7684\u6269\u5c55\u80fd\u529b\u3001\u6545\u969c\u81ea\u6108\u80fd\u529b\u3001\u8d1f\u8f7d\u5747\u8861\u80fd\u529b\u3002</p> </li> </ul> <p>Overlay\u6280\u672f\u6709\u591a\u79cd\uff0c\u4f8b\u5982VXLAN\u3001NVGRE\u3001STT\u7b49\uff0c\u5176\u4e2dVXLAN\u662f\u76ee\u524d\u83b7\u5f97\u6700\u5e7f\u6cdb\u652f\u6301\u7684Overlay\u6280\u672f\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#2-vxlan","title":"2. VXLAN","text":"<p>VXLAN\uff08Virtual eXtensible Local Area Network\uff0c\u865a\u62df\u6269\u5c55\u5c40\u57df\u7f51\uff09\uff0c\u662f\u7531IETF\u5b9a\u4e49\u7684NVO3\uff08Network Virtualization over Layer 3\uff09\u6807\u51c6\u6280\u672f\u4e4b\u4e00\uff0c\u91c7\u7528MAC-in-UDP\u7684\u62a5\u6587\u5c01\u88c5\u6a21\u5f0f\uff0c\u5982[\u56fe7-2]\u6240\u793a\uff0c\u539f\u59cb\u62a5\u6587\u5728VXLAN\u63a5\u5165\u70b9\uff08\u88ab\u79f0\u4e3aVTEP\uff09\u52a0\u4e0aVXLAN\u5e27\u5934\u540e\u518d\u88ab\u5c01\u88c5\u5728UDP\u62a5\u5934\u4e2d\uff0c\u5e76\u4f7f\u7528\u627f\u8f7d\u7f51\u7edc\u7684IP/MAC\u5730\u5740\u4f5c\u4e3a\u5916\u5c42\u5934\u8fdb\u884c\u5c01\u88c5\uff0c\u627f\u8f7d\u7f51\u7edc\u53ea\u9700\u8981\u6309\u7167\u666e\u901a\u7684\u4e8c\u4e09\u5c42\u8f6c\u53d1\u6d41\u7a0b\u8fdb\u884c\u8f6c\u53d1\u5373\u53ef\u3002</p> <p>\u56fe7-2\u00a0VXLAN\u62a5\u6587\u683c\u5f0f </p> <p>\u4ee5VXLAN\u6280\u672f\u4e3a\u57fa\u7840\u7684Overlay\u7f51\u7edc\u67b6\u6784\u6a21\u578b\u5982[\u56fe7-3]\u6240\u793a\u3002</p> <p>\u56fe7-3\u00a0VXLAN\u7f51\u7edc\u6a21\u578b </p> <ul> <li> <p>VTEP\uff08VXLAN Tunnel Endpoints\uff0cVXLAN\u96a7\u9053\u7aef\u70b9\uff09</p> <p>VXLAN\u7f51\u7edc\u7684\u8fb9\u7f18\u8bbe\u5907\uff0c\u662fVXLAN\u96a7\u9053\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\uff0c\u8fdb\u884cVXLAN\u62a5\u6587\u7684\u5c01\u88c5\u3001\u89e3\u5c01\u88c5\u7b49\u5904\u7406\u3002VTEP\u65e2\u53ef\u4ee5\u90e8\u7f72\u5728\u7f51\u7edc\u8bbe\u5907\u4e0a\uff08\u7f51\u7edc\u63a5\u5165\u4ea4\u6362\u673a\uff09\uff0c\u4e5f\u53ef\u4ee5\u90e8\u7f72\u5728vSwitch\u4e0a\uff08\u670d\u52a1\u5668\u4e0a\u7684\u865a\u62df\u4ea4\u6362\u673a\uff09\u3002</p> </li> <li> <p>VNI\uff08VXLAN Network Identifier\uff0cVXLAN \u7f51\u7edc\u6807\u8bc6\u7b26\uff09</p> <p>VNI\u662f\u4e00\u79cd\u7c7b\u4f3c\u4e8eVLAN ID\u7684\u7f51\u7edc\u6807\u8bc6\uff0c\u7528\u6765\u6807\u8bc6VXLAN\u4e8c\u5c42\u7f51\u7edc\u3002\u4e00\u4e2aVNI\u4ee3\u8868\u4e00\u4e2aVXLAN\u6bb5\uff0c\u4e0d\u540cVXLAN\u6bb5\u7684\u865a\u62df\u673a\u4e0d\u80fd\u76f4\u63a5\u4e8c\u5c42\u76f8\u4e92\u901a\u4fe1\u3002</p> </li> <li> <p>VXLAN\u96a7\u9053</p> <p>\u4e24\u4e2aVTEP\u4e4b\u95f4\u5efa\u7acb\u7684\u903b\u8f91\u96a7\u9053\uff0c\u7528\u4e8e\u4f20\u8f93VXLAN\u62a5\u6587\u3002\u4e1a\u52a1\u62a5\u6587\u5728\u8fdb\u5165VXLAN\u96a7\u9053\u5f0f\u8fdb\u884cVXLAN\u3001UDP\u3001IP\u5934\u5c01\u88c5\uff0c\u7136\u540e\u901a\u8fc7\u4e09\u5c42\u8f6c\u53d1\u900f\u660e\u5730\u5c06\u62a5\u6587\u8f6c\u53d1\u7ed9\u8fdc\u7aefVTEP\uff0c\u8fdc\u7aefVTEP\u5bf9\u62a5\u6587\u8fdb\u884c\u89e3\u5c01\u88c5\u5904\u7406\u3002</p> </li> </ul>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#21-vxlan","title":"2.1. VXLAN\u62a5\u6587\u8f6c\u53d1\u8fc7\u7a0b","text":"<p>\u4e0b\u9762\u4ee5\u540c\u7f51\u6bb5\u7684VM\u95f4\u76f8\u901a\u7b80\u5355\u4ecb\u7ecdVXLAN\u7f51\u7edc\u4e2d\u7684\u62a5\u6587\u8f6c\u53d1\u8fc7\u7a0b\u3002</p> <p>\u56fe7-4\u00a0VXLAN\u62a5\u6587\u8f6c\u53d1\u8fc7\u7a0b\u793a\u610f\u56fe </p> <ol> <li>VM1\u53d1\u9001\u76ee\u7684\u5730\u5740\u4e3aVM2\u7684\u62a5\u6587\u3002</li> <li>VTEP1\u6536\u5230\u8be5\u62a5\u6587\u540e\u8fdb\u884cVXLAN\u5c01\u88c5\uff0c\u5c01\u88c5\u7684\u5916\u5c42\u76ee\u7684IP\u4e3aVTEP2\u3002\u5c01\u88c5\u540e\u7684\u62a5\u6587\uff0c\u6839\u636e\u5916\u5c42MAC\u548cIP\u4fe1\u606f\uff0c\u5728IP\u7f51\u7edc\u4e2d\u8fdb\u884c\u4f20\u8f93\uff0c\u76f4\u81f3\u5230\u8fbe\u5bf9\u7aefVTEP2\u3002</li> <li>VTEP2\u6536\u5230\u62a5\u6587\u540e\uff0c\u5bf9\u62a5\u6587\u8fdb\u884c\u89e3\u5c01\u88c5\uff0c\u5f97\u5230VM1\u53d1\u9001\u7684\u539f\u59cb\u62a5\u6587\uff0c\u7136\u540e\u5c06\u5176\u8f6c\u53d1\u81f3VM2\u3002</li> </ol>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#3-macbum","title":"3. \u4e8c\u5c42MAC\u5b66\u4e60\u53caBUM\u62a5\u6587\u8f6c\u53d1","text":"<p>\u5728VXLAN\u7f51\u7edc\u4e2d\uff0c\u540c\u5b50\u7f51\u865a\u62df\u673a\u7684\u4e92\u901a\u662f\u901a\u8fc7\u67e5\u627eMAC\u8868\u8fdb\u884c\u8f6c\u53d1\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0cVM1\u7ed9VM2\u53d1\u9001\u62a5\u6587\u65f6\uff0c\u7ecf\u8fc7VTEP1\u8f6c\u53d1\uff0cVTEP1\u4e0a\u9700\u8981\u5b66\u4e60\u5230VM2\u7684MAC\u5730\u5740\u3002</p> <p>\u6700\u521d\u7684VXLAN\u6807\u51c6\u5e76\u6ca1\u6709\u5b9a\u4e49\u63a7\u5236\u5e73\u9762\uff0cVTEP\u4e4b\u95f4\u65e0\u6cd5\u4f20\u9012\u5b66\u4e60\u5230\u7684\u4e3b\u673aMAC\u5730\u5740\u3002\u4f46\u662fVXLAN\u6709\u7740\u4e0e\u4f20\u7edf\u4ee5\u592a\u7f51\u975e\u5e38\u76f8\u4f3c\u7684MAC\u5b66\u4e60\u673a\u5236\uff0c\u5f53VTEP\u63a5\u6536\u5230VXLAN\u62a5\u6587\u540e\uff0c\u4f1a\u8bb0\u5f55\u6e90VTEP\u7684IP\u3001\u865a\u62df\u673aMAC\u548cVNI\u5230\u672c\u5730MAC\u8868\u4e2d\uff0c\u8fd9\u6837\u5f53VTEP\u63a5\u6536\u5230\u76ee\u7684MAC\u4e3a\u6b64\u865a\u62df\u673a\u7684MAC\u65f6\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884cVXLAN\u5c01\u88c5\u5e76\u8f6c\u53d1\u3002</p> <p>\u56fe7-5\u00a0MAC\u5b66\u4e60\u793a\u610f\u56fe </p> <p>\u4ee5VTEP2\u5b66\u4e60\u5230VM1\u7684MAC\u8fc7\u7a0b\u4e3a\u4f8b\uff1a</p> <ol> <li>VM1\u53d1\u9001\u76ee\u7684\u5730\u5740\u4e3aVM2\u7684\u62a5\u6587\u3002</li> <li>VTEP1\u63a5\u6536\u5230\u62a5\u6587\u540e\uff0c\u8fdb\u884cVXLAN\u5c01\u88c5\uff0c\u5e76\u5c06\u5176\u8f6c\u53d1\u81f3VTEP2\u3002\u540c\u65f6\uff0cVTEP1\u53ef\u4ee5\u5b66\u4e60\u5230VM1\u7684MAC\u5730\u5740\u3001VNI\u3001\u5165\u63a5\u53e3\u3002</li> <li>VTEP2\u63a5\u6536\u5230\u62a5\u6587\u540e\uff0c\u5bf9\u62a5\u6587\u8fdb\u884c\u89e3\u5c01\u88c5\u3002\u540c\u65f6\uff0cVTEP2\u53ef\u4ee5\u5b66\u4e60\u5230VM1\u7684MAC\u5730\u5740\u3001VNI\u3001\u5165\u63a5\u53e3\uff08\u4e3aVTEP1\uff09\u3002</li> </ol> <p>\u7ecf\u8fc7\u4e0a\u8ff0\u6d41\u7a0b\uff0cVTEP1\u548cVTEP2\u53ef\u4ee5\u5b66\u4e60\u5230VM1\u7684MAC\u5730\u5740\u3002VTEP1\u548cVTEP2\u5b66\u4e60\u5230VM2\u7684MAC\u5730\u5740\u8fc7\u7a0b\u4e0e\u4e4b\u7c7b\u4f3c\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#31-bum","title":"3.1. BUM\u62a5\u6587\u8f6c\u53d1","text":"<p>\u524d\u9762\u63cf\u8ff0\u7684\u62a5\u6587\u8f6c\u53d1\u8fc7\u7a0b\u90fd\u662f\u5df2\u77e5\u5355\u64ad\u62a5\u6587\u8f6c\u53d1\uff0c\u5982\u679cVTEP\u6536\u5230\u4e00\u4e2a\u672a\u77e5\u5730\u5740\u7684BUM\u62a5\u6587\uff08\u5e7f\u64ad\u3001\u7ec4\u64ad\u3001\u672a\u77e5\u5355\u64ad\uff09\u5982\u4f55\u5904\u7406\u5462\u3002\u4e0e\u4f20\u7edf\u4ee5\u592a\u7f51BUM\u62a5\u6587\u8f6c\u53d1\u7c7b\u4f3c\uff0cVTEP\u4f1a\u901a\u8fc7\u6cdb\u6d2a\u7684\u65b9\u5f0f\u8f6c\u53d1\u6d41\u91cf\u3002</p> <p>\u56fe7-6\u00a0BUM\u62a5\u6587\u8f6c\u53d1\u793a\u610f\u56fe </p> <p>\u4ee5\u4e0a\u56fe\u4e2dVM1\u60f3\u5411VM2\u53d1\u9001\u62a5\u6587\u4e3a\u4f8b\uff0c\u56e0\u4e3aVM1\u4e0d\u77e5\u9053VM2\u7684MAC\u5730\u5740\uff0c\u6240\u4ee5\u4f1a\u53d1\u9001ARP\u5e7f\u64ad\u62a5\u6587\u8bf7\u6c42VM2\u7684MAC\u5730\u5740\u3002</p> <ol> <li>VM1\u53d1\u9001ARP\u5e7f\u64ad\u8bf7\u6c42\uff0c\u8bf7\u6c42VM2\u7684MAC\u5730\u5740\u3002</li> <li> <p>VTEP1\u6536\u5230ARP\u8bf7\u6c42\u540e\uff0c\u56e0\u4e3a\u662f\u5e7f\u64ad\u62a5\u6587\uff0cVTEP1\u4f1a\u5728\u8be5VNI\u5185\u67e5\u627e\u6240\u6709\u7684\u96a7\u9053\u5217\u8868\uff0c\u4f9d\u636e\u83b7\u53d6\u7684\u96a7\u9053\u5217\u8868\u8fdb\u884c\u62a5\u6587\u5c01\u88c5\u540e\uff0c\u5411\u6240\u6709\u96a7\u9053\u53d1\u9001\u62a5\u6587\uff0c\u4ece\u800c\u5c06\u62a5\u6587\u8f6c\u53d1\u81f3\u540c\u5b50\u7f51\u7684VTEP2\u548cVTEP3\u3002</p> <p>\u540c\u65f6\uff0cVTEP1\u4f1a\u5b66\u4e60\u5230VM1\u7684MAC\u5730\u5740\u3002</p> </li> <li> <p>VTEP2\u548cVTEP3\u63a5\u6536\u5230\u62a5\u6587\u540e\uff0c\u8fdb\u884c\u89e3\u5c01\u88c5\uff0c\u5f97\u5230VM1\u53d1\u9001\u7684\u539f\u59cbARP\u62a5\u6587\uff0c\u7136\u540e\u8f6c\u53d1\u81f3VM2\u548cVM3\u3002</p> <p>\u540c\u65f6VTEP2\u3001VTEP3\u4f1a\u5b66\u4e60\u5230VM1\u7684MAC\u5730\u5740\u3002</p> </li> <li> <p>VM2\u548cVM3\u63a5\u6536\u5230ARP\u8bf7\u6c42\u540e\uff0c\u6bd4\u8f83\u62a5\u6587\u4e2d\u7684\u76ee\u7684IP\u5730\u5740\u662f\u5426\u4e3a\u672c\u673a\u7684IP\u5730\u5740\u3002VM3\u53d1\u73b0\u76ee\u7684IP\u4e0d\u662f\u672c\u673aIP\uff0c\u6545\u5c06\u62a5\u6587\u4e22\u5f03\uff1bVM2\u53d1\u73b0\u76ee\u7684IP\u662f\u672c\u673aIP\uff0c\u5219\u5bf9ARP\u8bf7\u6c42\u505a\u51fa\u5e94\u7b54\u3002</p> <p>ARP\u5e94\u7b54\u62a5\u6587\u4e3a\u5df2\u77e5\u5355\u64ad\u62a5\u6587\uff0c\u8f6c\u53d1\u6d41\u7a0b\u4e0e\u524d\u6587\u63cf\u8ff0\u7684\u4e00\u81f4\uff0c\u6b64\u5904\u4e0d\u5728\u8d58\u8ff0\u3002</p> </li> <li> <p>\u7ecf\u8fc7ARP\u5e94\u7b54\u6d41\u7a0b\uff0cVTEP1\u548cVM1\u5c31\u53ef\u4ee5\u5b66\u4e60\u5230VM2\u7684MAC\u5730\u5740\u3002\u540e\u7eed\u7684\u8f6c\u53d1\u6d41\u7a0b\u540c\u5df2\u77e5\u5355\u64ad\u8f6c\u53d1\u6d41\u7a0b\u4e00\u81f4\u3002</p> </li> </ol>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#4-vxlan","title":"4. VXLAN\u7f51\u5173\u90e8\u7f72","text":"<p>\u4e0e\u4e0d\u540cVLAN\u9700\u8981\u901a\u8fc7\u4e09\u5c42\u7f51\u5173\u4e92\u901a\u4e00\u6837\uff0cVXLAN\u4e2d\u4e0d\u540cVNI\u7684\u4e92\u901a\u4e5f\u9700\u8981\u6709\u4e09\u5c42\u7f51\u5173\u3002</p> <p>\u5728\u5178\u578b\u7684\u201cSpine-Leaf\u201dVXLAN\u7ec4\u7f51\u7ed3\u6784\u4e0b\uff0c\u6839\u636e\u4e09\u5c42\u7f51\u5173\u7684\u90e8\u7f72\u4f4d\u7f6e\u4e0d\u540c\uff0cVXLAN\u4e09\u5c42\u7f51\u5173\u53ef\u4ee5\u5206\u4e3a\u96c6\u4e2d\u5f0f\u7f51\u5173\u548c\u5206\u5e03\u5f0f\u7f51\u5173\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#41","title":"4.1. \u96c6\u4e2d\u5f0f\u7f51\u5173\u90e8\u7f72","text":"<p>\u96c6\u4e2d\u5f0f\u7f51\u5173\u662f\u6307\u5c06\u4e09\u5c42\u7f51\u5173\u96c6\u4e2d\u90e8\u7f72\u5728Spine\u8bbe\u5907\u4e0a\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u6240\u6709\u8de8\u5b50\u7f51\u7684\u6d41\u91cf\u90fd\u7ecf\u8fc7\u4e09\u5c42\u7f51\u5173\u8fdb\u884c\u8f6c\u53d1\uff0c\u5b9e\u73b0\u6d41\u91cf\u7684\u96c6\u4e2d\u7ba1\u7406\u3002</p> <p>\u56fe7-7\u00a0\u96c6\u4e2d\u5f0f\u7f51\u5173\u7ec4\u7f51\u793a\u610f\u56fe </p> <p>\u96c6\u4e2d\u5f0f\u7f51\u5173\u90e8\u7f72\u65b9\u5f0f\u53ef\u4ee5\u5bf9\u8de8\u5b50\u7f51\u6d41\u91cf\u8fdb\u884c\u96c6\u4e2d\u7ba1\u7406\uff0c\u7f51\u5173\u7684\u90e8\u7f72\u548c\u7ba1\u7406\u6bd4\u8f83\u7b80\u5355\uff0c\u4f46\u662f\u56e0\u4e3a\u540cLeaf\u4e0b\u8de8\u5b50\u7f51\u6d41\u91cf\u4e5f\u9700\u8981\u7ecf\u8fc7Spine\u8f6c\u53d1\uff0c\u6240\u4ee5\u6d41\u91cf\u8f6c\u53d1\u8def\u5f84\u4e0d\u662f\u6700\u4f18\u3002\u540c\u65f6\uff0c\u6240\u6709\u901a\u8fc7\u4e09\u5c42\u8f6c\u53d1\u7684\u7ec8\u7aef\u79df\u6237\u7684\u8868\u9879\u90fd\u9700\u8981\u5728Spine\u4e0a\u751f\u6210\u3002\u4f46\u662f\uff0cSpine\u7684\u8868\u9879\u89c4\u683c\u6709\u9650\uff0c\u5f53\u7ec8\u7aef\u79df\u6237\u7684\u6570\u91cf\u8d8a\u6765\u8d8a\u591a\u65f6\uff0c\u5bb9\u6613\u6210\u4e3a\u7f51\u7edc\u74f6\u9888\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#42","title":"4.2. \u5206\u5e03\u5f0f\u7f51\u5173\u90e8\u7f72","text":"<p>VXLAN\u5206\u5e03\u5f0f\u7f51\u5173\u662f\u5c06Leaf\u8282\u70b9\u4f5c\u4e3aVXLAN\u96a7\u9053\u7aef\u70b9VTEP\uff0c\u6bcf\u4e2aLeaf\u8282\u70b9\u90fd\u53ef\u4f5c\u4e3aVXLAN\u4e09\u5c42\u7f51\u5173\uff0cSpine\u8282\u70b9\u4e0d\u611f\u77e5VXLAN\u96a7\u9053\uff0c\u53ea\u4f5c\u4e3aVXLAN\u62a5\u6587\u7684\u8f6c\u53d1\u8282\u70b9\u3002</p> <p>\u56fe7-8\u00a0\u5206\u5e03\u5f0f\u7f51\u5173\u7ec4\u7f51\u793a\u610f\u56fe </p> <p>\u5728Leaf\u4e0a\u90e8\u7f72VXLAN\u4e09\u5c42\u7f51\u5173\uff0c\u5373\u53ef\u5b9e\u73b0\u540cLeaf\u4e0b\u8de8\u5b50\u7f51\u901a\u4fe1\u3002\u6b64\u65f6\uff0c\u6d41\u91cf\u53ea\u9700\u8981\u5728Leaf\u8282\u70b9\u8fdb\u884c\u8f6c\u53d1\uff0c\u4e0d\u518d\u9700\u8981\u7ecf\u8fc7Spine\u8282\u70b9\uff0c\u4ece\u800c\u8282\u7ea6\u4e86\u5927\u91cf\u7684\u5e26\u5bbd\u8d44\u6e90\u3002\u540c\u65f6\uff0cLeaf\u8282\u70b9\u53ea\u9700\u8981\u5b66\u4e60\u81ea\u8eab\u8fde\u63a5\u865a\u62df\u673a\u7684ARP\u8868\u9879\uff0c\u800c\u4e0d\u5fc5\u50cf\u96c6\u4e2d\u4e09\u5c42\u7f51\u5173\u4e00\u6837\uff0c\u9700\u8981\u5b66\u4e60\u6240\u6709\u865a\u62df\u673a\u7684ARP\u8868\u9879\uff0c\u89e3\u51b3\u4e86\u96c6\u4e2d\u5f0f\u4e09\u5c42\u7f51\u5173\u5e26\u6765\u7684ARP\u8868\u9879\u74f6\u9888\u95ee\u9898\uff0c\u7f51\u7edc\u89c4\u6a21\u6269\u5c55\u80fd\u529b\u5f3a\u3002</p> <p>\u5bf9\u4e8e\u5206\u5e03\u5f0f\u7f51\u5173\u573a\u666f\uff0c\u56e0\u4e3a\u9700\u8981\u5728\u4e09\u5c42\u7f51\u5173\u95f4\u4f20\u9012\u4e3b\u673a\u8def\u7531\u624d\u80fd\u4fdd\u8bc1\u865a\u62df\u673a\u95f4\u4e92\u901a\uff0c\u6240\u4ee5\u9700\u8981\u6709\u63a7\u5236\u5e73\u9762\u6765\u8fdb\u884c\u8def\u7531\u7684\u4f20\u9012\u300208 BGP EVPN\u5c31\u662f\u63cf\u8ff0EVPN\u4f5c\u4e3a\u63a7\u5236\u5e73\u9762\u6280\u672f\u5728VXLAN\u7f51\u7edc\u91cc\u7684\u5e94\u7528\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#5","title":"5. \u53cc\u6d3b\u7f51\u5173","text":"<p>\u5728\u4f20\u7edf\u7f51\u7edc\u4e2d\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u9ad8\u53ef\u9760\u6027\uff0c\u901a\u5e38\u90e8\u7f72\u591a\u4e2a\u7f51\u5173\u8fdb\u884c\u5907\u4efd\u3002\u4e0e\u4f20\u7edf\u7f51\u7edc\u7c7b\u4f3c\uff0cVXLAN\u7f51\u7edc\u4e5f\u652f\u6301Overlay\u5c42\u9762\u7684\u53cc\u6d3b\u7f51\u5173\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#51","title":"5.1. \u96c6\u4e2d\u5f0f\u7f51\u5173\u573a\u666f\u4e0b\u591a\u6d3b\u7f51\u5173","text":"<p>\u5728\u5178\u578b\u7684\u201cSpine-Leaf\u201d\u7ec4\u7f51\u7ed3\u6784\u4e0b\uff0cLeaf\u4f5c\u4e3a\u4e8c\u5c42\u7f51\u5173\uff0cSpine\u4f5c\u4e3a\u4e09\u5c42\u7f51\u5173\u3002\u591a\u4e2aSpine\u914d\u7f6e\u76f8\u540c\u7684VTEP\u5730\u5740\u3001\u865a\u62dfMAC\u5730\u5740\uff0c\u4ece\u800c\u53ef\u4ee5\u5c06\u591a\u4e2aSpine\u865a\u62df\u6210\u4e00\u4e2aVXLAN\u96a7\u9053\u7aef\u70b9\u3002\u8fd9\u6837\u4f7f\u5f97\u65e0\u8bba\u6d41\u91cf\u53d1\u5230\u54ea\u4e00\u4e2aSpine\u8bbe\u5907\uff0c\u8be5\u8bbe\u5907\u90fd\u53ef\u4ee5\u63d0\u4f9b\u7f51\u5173\u670d\u52a1\uff0c\u5c06\u62a5\u6587\u6b63\u786e\u8f6c\u53d1\u7ed9\u4e0b\u4e00\u8df3\u8bbe\u5907\u3002</p> <p>\u56fe7-9\u00a0\u96c6\u4e2d\u5f0f\u7f51\u5173\u573a\u666f\u4e0b\u591a\u6d3b\u7f51\u5173\u7ec4\u7f51\u793a\u610f\u56fe </p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#52","title":"5.2. \u5206\u5e03\u5f0f\u7f51\u5173\u573a\u666f\u4e0b\u53cc\u6d3b\u63a5\u5165","text":"<p>\u5728\u5206\u5e03\u5f0f\u7f51\u5173\u573a\u666f\u4e0b\uff0cSpine\u4f5c\u4e3a\u900f\u4f20\u8bbe\u5907\uff0cLeaf\u4f5c\u4e3a\u4e09\u5c42\u7f51\u5173\u3002\u901a\u8fc7\u5728Leaf\u4e0a\u90e8\u7f72M-LAG\uff0c\u53ef\u4ee5\u5b9e\u73b0\u53cc\u6d3b\u63a5\u5165\uff0c\u5373\u670d\u52a1\u5668\u53ef\u4ee5\u53cc\u6d3b\u63a5\u5165\u5230\u591a\u4e2aLeaf\u3002</p> <p>\u56fe7-10\u00a0\u5206\u5e03\u5f0f\u7f51\u5173\u573a\u666f\u4e0b\u53cc\u6d3b\u63a5\u5165 </p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/07%20Overlay%E7%BD%91%E7%BB%9C/#6","title":"6. \u672c\u7ae0\u5c0f\u7ed3","text":"<p>\u672c\u7ae0\u8282\u4ecb\u7ecd\u4e86VXLAN\u6982\u5ff5\u53ca\u62a5\u6587\u8f6c\u53d1\u6d41\u7a0b\u7b49\u5185\u5bb9\u3002VXLAN\u53ef\u4ee5\u57fa\u4e8e\u5df2\u6709\u7684IP\u7f51\u7edc\uff0c\u901a\u8fc7\u4e09\u5c42\u7f51\u7edc\u6784\u5efa\u51fa\u4e00\u4e2a\u5927\u4e8c\u5c42\u7f51\u7edc\u3002\u90e8\u7f72VXLAN\u529f\u80fd\u7684\u53ef\u4ee5\u662f\u7269\u7406\u4ea4\u6362\u673a\u6216\u670d\u52a1\u5668\u4e0a\u7684\u865a\u62df\u4ea4\u6362\u673a\uff08vSwitch\uff09\uff0c\u7269\u7406\u4ea4\u6362\u673a\u4f5c\u4e3aVTEP\u7684\u4f18\u52bf\u5728\u4e8e\u8bbe\u5907\u5904\u7406\u6027\u80fd\u6bd4\u8f83\u9ad8\uff0c\u53ef\u4ee5\u652f\u6301\u975e\u865a\u62df\u5316\u7684\u7269\u7406\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4e92\u901a\uff0c\u4f46\u662f\u9700\u8981\u7269\u7406\u4ea4\u6362\u673a\u652f\u6301VXLAN\u529f\u80fd\uff1bvSwitch\u4f5c\u4e3aVTEP\u7684\u4f18\u52bf\u5728\u4e8e\u5bf9\u7f51\u7edc\u8981\u6c42\u4f4e\uff0c\u4e0d\u9700\u8981\u7f51\u7edc\u8bbe\u5907\u652f\u6301VXLAN\u529f\u80fd\uff0c\u4f46\u662fvSwitch\u5904\u7406\u6027\u80fd\u4e0d\u5982\u7269\u7406\u4ea4\u6362\u673a\u3002</p> <p>\u4ece\u524d\u6587\u7684\u4ecb\u7ecd\u53ef\u4ee5\u77e5\u9053VXLAN\u901a\u8fc7\u6cdb\u6d2a\u65b9\u5f0f\u8fdb\u884cMAC\u5b66\u4e60\uff0c\u8fd9\u662f\u56e0\u4e3a\u65e9\u671f\u7684VXLAN\u6ca1\u6709\u63a7\u5236\u5e73\u9762\u3002\u4e0b\u4e00\u7ae0\u8282\u4f1a\u4ecb\u7ecd\u4f5c\u4e3aVXLAN\u63a7\u5236\u5e73\u9762\u7684\u6280\u672f\u2014\u2014EVPN\uff0c\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7EVPN\u5b9e\u73b0VXLAN\u96a7\u9053\u81ea\u52a8\u5efa\u7acb\u548cMAC\u8def\u7531\u5b66\u4e60\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/08%20BGP%20EVPN/","title":"\u7b2c\u516b\u7ae0 BGP EVPN","text":""},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/08%20BGP%20EVPN/#1-evpn","title":"1. EVPN\u4ecb\u7ecd","text":"<p>\u6700\u521d\u7684VXLAN\u65b9\u6848\uff08RFC7348\uff09\u4e2d\u6ca1\u6709\u5b9a\u4e49\u63a7\u5236\u5e73\u9762\uff0c\u662f\u624b\u5de5\u914d\u7f6eVXLAN\u96a7\u9053\uff0c\u7136\u540e\u901a\u8fc7\u6d41\u91cf\u6cdb\u6d2a\u7684\u65b9\u5f0f\u8fdb\u884c\u4e3b\u673a\u5730\u5740\u7684\u5b66\u4e60\u3002\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u4e0a\u8f83\u4e3a\u7b80\u5355\uff0c\u4f46\u662f\u4f1a\u5bfc\u81f4\u7f51\u7edc\u4e2d\u5b58\u5728\u5f88\u591a\u6cdb\u6d2a\u6d41\u91cf\u3001\u7f51\u7edc\u6269\u5c55\u8d77\u6765\u56f0\u96be\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0cVXLAN\u5f15\u5165\u4e86EVPN\uff08Ethernet VPN\uff09\u4f5c\u4e3aVXLAN\u7684\u63a7\u5236\u5e73\u9762\u3002EVPN\u53c2\u8003\u4e86BGP/MPLS IP VPN\u7684\u673a\u5236\uff0c\u901a\u8fc7\u6269\u5c55BGP\u534f\u8bae\u65b0\u5b9a\u4e49\u4e86\u51e0\u79cdBGP EVPN\u8def\u7531\uff0c\u901a\u8fc7\u5728\u7f51\u7edc\u4e2d\u53d1\u5e03\u8def\u7531\u6765\u5b9e\u73b0VTEP\u7684\u81ea\u52a8\u53d1\u73b0\u3001\u4e3b\u673a\u5730\u5740\u5b66\u4e60\u3002</p> <p>\u91c7\u7528EVPN\u4f5c\u4e3a\u63a7\u5236\u5e73\u9762\u5177\u6709\u4ee5\u4e0b\u4e00\u4e9b\u4f18\u52bf\uff1a</p> <ul> <li>\u53ef\u5b9e\u73b0VTEP\u81ea\u52a8\u53d1\u73b0\u3001VXLAN\u96a7\u9053\u81ea\u52a8\u5efa\u7acb\uff0c\u4ece\u800c\u964d\u4f4e\u7f51\u7edc\u90e8\u7f72\u3001\u6269\u5c55\u7684\u96be\u5ea6\u3002</li> <li>EVPN\u53ef\u4ee5\u540c\u65f6\u53d1\u5e03\u4e8c\u5c42MAC\u548c\u4e09\u5c42\u8def\u7531\u4fe1\u606f\u3002</li> <li>\u53ef\u4ee5\u51cf\u5c11\u7f51\u7edc\u4e2d\u6cdb\u6d2a\u6d41\u91cf\u3002</li> </ul>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/08%20BGP%20EVPN/#2-bgp-evpn","title":"2. BGP EVPN\u8def\u7531\u7c7b\u578b","text":"<p>\u4f20\u7edf\u7684BGP-4\u4f7f\u7528Update\u62a5\u6587\u5728\u5bf9\u7b49\u4f53\u4e4b\u95f4\u4ea4\u6362\u8def\u7531\u4fe1\u606f\u3002\u4e00\u6761Update\u62a5\u6587\u53ef\u4ee5\u901a\u544a\u4e00\u7c7b\u5177\u6709\u76f8\u540c\u8def\u5f84\u5c5e\u6027\u7684\u53ef\u8fbe\u8def\u7531\uff0c\u8fd9\u4e9b\u8def\u7531\u653e\u5728NLRI\uff08Network Layer Reachable Information\uff0c\u7f51\u7edc\u5c42\u53ef\u8fbe\u4fe1\u606f\uff09\u5b57\u6bb5\u4e2d\u3002</p> <p>\u56e0\u4e3aBGP-4\u53ea\u80fd\u7ba1\u7406IPv4\u5355\u64ad\u8def\u7531\u4fe1\u606f\uff0c\u4e3a\u4e86\u63d0\u4f9b\u5bf9\u591a\u79cd\u7f51\u7edc\u5c42\u534f\u8bae\u7684\u652f\u6301\uff08\u4f8b\u5982IPv6\u3001\u7ec4\u64ad\uff09\uff0c\u53d1\u5c55\u51fa\u4e86MP-BGP\uff08MultiProtocol BGP\uff09\u3002MP-BGP\u5728BGP-4\u57fa\u7840\u4e0a\u5bf9NLRI\u4f5c\u4e86\u65b0\u6269\u5c55\u3002\u7384\u673a\u5c31\u5728\u4e8e\u65b0\u6269\u5c55\u7684NLRI\u4e0a\uff0c\u6269\u5c55\u4e4b\u540e\u7684NLRI\u589e\u52a0\u4e86\u5730\u5740\u65cf\u7684\u63cf\u8ff0\uff0c\u53ef\u4ee5\u7528\u6765\u533a\u5206\u4e0d\u540c\u7684\u7f51\u7edc\u5c42\u534f\u8bae\uff0c\u4f8b\u5982IPv6\u5355\u64ad\u5730\u5740\u65cf\u3001VPN\u5b9e\u4f8b\u5730\u5740\u65cf\u7b49\u3002</p> <p>\u7c7b\u4f3c\u7684\uff0cEVPN\u5728L2VPN\u5730\u5740\u65cf\u4e0b\u5b9a\u4e49\u4e86\u65b0\u7684\u5b50\u5730\u5740\u65cf\u2014\u2014EVPN\u5730\u5740\u65cf\uff0c\u5e76\u65b0\u589e\u4e86\u4e00\u79cdNLRI\uff0c\u5373EVPN NLRI\u3002EVPN NLRI\u5b9a\u4e49\u4e86\u4ee5\u4e0b\u51e0\u79cdBGP EVPN\u8def\u7531\u7c7b\u578b\uff0c\u901a\u8fc7\u5728EVPN\u5bf9\u7b49\u4f53\u4e4b\u95f4\u53d1\u5e03\u8fd9\u4e9b\u8def\u7531\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0VXLAN\u96a7\u9053\u7684\u81ea\u52a8\u5efa\u7acb\u3001\u4e3b\u673a\u5730\u5740\u7684\u5b66\u4e60\u3002</p> <ul> <li>Type2\u8def\u7531\u2014\u2014MAC/IP\u8def\u7531\uff1a\u7528\u6765\u901a\u544a\u4e3b\u673aMAC\u5730\u5740\u3001\u4e3b\u673aARP\u548c\u4e3b\u673a\u8def\u7531\u4fe1\u606f\u3002</li> <li>Type3\u8def\u7531\u2014\u2014Inclusive Multicast\u8def\u7531\uff1a\u7528\u4e8eVTEP\u7684\u81ea\u52a8\u53d1\u73b0\u548cVXLAN\u96a7\u9053\u7684\u52a8\u6001\u5efa\u7acb\u3002</li> <li>Type5\u8def\u7531\u2014\u2014IP\u524d\u7f00\u8def\u7531\uff1a\u7528\u4e8e\u901a\u544a\u5f15\u5165\u7684\u5916\u90e8\u8def\u7531\uff0c\u4e5f\u53ef\u4ee5\u901a\u544a\u4e3b\u673a\u8def\u7531\u4fe1\u606f\u3002</li> </ul> <p>EVPN\u8def\u7531\u5728\u53d1\u5e03\u65f6\uff0c\u4f1a\u643a\u5e26RD\uff08Route Distinguisher\uff0c\u8def\u7531\u6807\u8bc6\u7b26\uff09\u548cVPN Target\uff08\u4e5f\u79f0\u4e3aRoute Target\uff09\u3002RD\u7528\u6765\u533a\u5206\u4e0d\u540c\u7684VXLAN EVPN\u8def\u7531\u3002VPN Target\u662f\u4e00\u79cdBGP\u6269\u5c55\u56e2\u4f53\u5c5e\u6027\uff0c\u7528\u4e8e\u63a7\u5236EVPN\u8def\u7531\u7684\u53d1\u5e03\u4e0e\u63a5\u6536\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cVPN Target\u5b9a\u4e49\u4e86\u672c\u7aef\u7684EVPN\u8def\u7531\u53ef\u4ee5\u88ab\u54ea\u4e9b\u5bf9\u7aef\u6240\u63a5\u6536\uff0c\u4ee5\u53ca\u672c\u7aef\u662f\u5426\u63a5\u6536\u5bf9\u7aef\u53d1\u6765\u7684EVPN\u8def\u7531\u3002</p> <p>VPN Target\u5c5e\u6027\u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ul> <li>ERT\uff08Export Route Target\uff09\uff1a\u672c\u7aef\u53d1\u9001EVPN\u8def\u7531\u65f6\uff0c\u5c06\u6d88\u606f\u4e2d\u643a\u5e26\u7684VPN Target\u5c5e\u6027\u8bbe\u7f6e\u4e3aERT\u3002</li> <li>IRT\uff08Import Route Target\uff09\uff1a\u672c\u7aef\u5728\u63a5\u6536\u5230\u5bf9\u7aef\u7684EVPN\u8def\u7531\u65f6\uff0c\u5c06\u6d88\u606f\u4e2d\u643a\u5e26\u7684ERT\u4e0e\u672c\u7aef\u7684IRT\u8fdb\u884c\u6bd4\u8f83\uff0c\u53ea\u6709\u4e24\u8005\u76f8\u7b49\u65f6\u624d\u63a5\u6536\u8be5\u8def\u7531\uff0c\u5426\u5219\u4e22\u5f03\u8be5\u8def\u7531\u3002</li> </ul>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/08%20BGP%20EVPN/#3-type2","title":"3. Type2\u7c7b\u578b\u8def\u7531","text":"<p>Type2\u7c7b\u578b\u8def\u7531\u4e2dNLRI\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p>\u56fe8-1\u00a0Type2\u7c7b\u578b\u8def\u7531\u4e2dNLRI\u683c\u5f0f </p> <p>\u7531[\u56fe8-1]\u53ef\u4ee5\u770b\u51fa\uff0cType2\u7c7b\u578b\u8def\u7531\u4e2d\u643a\u5e26\u6709\u4e3b\u673aMAC\u3001\u4e3b\u673aIP\u4fe1\u606f\uff0c\u56e0\u6b64Type2\u7c7b\u578b\u8def\u7531\u53ef\u4ee5\u7528\u4e8e\u53d1\u5e03\u4e3b\u673aMAC\uff0c\u8fd8\u53ef\u4ee5\u53d1\u5e03\u4e3b\u673aIP\u5730\u5740\u3002</p> <p>\u56fe8-2\u00a0Type2\u7c7b\u578b\u8def\u7531\u53d1\u5e03MAC\u5730\u5740\u793a\u610f\u56fe </p> <p>\u5982[\u56fe8-2]\u6240\u793a\uff0cLeaf1\u63a5\u6536\u5230Host1\u53d1\u9001\u7684\u62a5\u6587\u540e\uff0c\u4f1a\u5b66\u4e60\u5230Host1\u7684MAC\u5730\u5740\u3002Leaf1\u5b66\u4e60\u5230Host1\u7684MAC\u540e\uff0c\u4f1a\u751f\u6210Type2\u7c7b\u578b\u7684\u8def\u7531\u53d1\u9001\u7ed9Leaf2\uff0c\u8be5\u8def\u7531\u4f1a\u643a\u5e26EVPN\u5b9e\u4f8b\u7684ERT\u3001Host1\u7684MAC\u5730\u5740\u3001Leaf1\u7684VTEP IP\u7b49\u4fe1\u606f\u3002</p> <p>Leaf2\u6536\u5230Leaf1\u53d1\u9001\u6765\u7684\u8def\u7531\u540e\uff0c\u6839\u636e\u8def\u7531\u4e2d\u7684ERT\u662f\u5426\u4e0e\u672c\u7aefEVPN\u5b9e\u4f8b\u7684IRT\u76f8\u540c\u6765\u51b3\u5b9a\u662f\u5426\u63a5\u6536\u8be5\u8def\u7531\u3002\u5982\u679c\u76f8\u540c\uff0c\u5219\u63a5\u6536\u8be5\u8def\u7531\uff0cLeaf2\u53ef\u4ee5\u5b66\u4e60\u5230Host1\u7684MAC\u5730\u5740\uff1b\u5982\u679c\u4e0d\u540c\uff0c\u5219\u4e22\u5f03\u8def\u7531\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/08%20BGP%20EVPN/#4-type3","title":"4. Type3\u7c7b\u578b\u8def\u7531","text":"<p>Type3\u7c7b\u578b\u8def\u7531\u4e2dNLRI\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p>\u56fe8-3\u00a0Type3\u7c7b\u578b\u8def\u7531\u4e2dNLRI\u683c\u5f0f </p> <p>Type3\u7c7b\u578b\u8def\u7531\u4e2d\u4e3b\u8981\u643a\u5e26\u6709VTEP IP\u4fe1\u606f\uff0c\u4e3b\u8981\u7528\u4e8eVTEP\u7684\u81ea\u52a8\u53d1\u73b0\u548cVXLAN\u96a7\u9053\u7684\u52a8\u6001\u5efa\u7acb\u3002</p> <p>\u56fe8-4\u00a0Type3\u7c7b\u578b\u8def\u7531\u5efa\u7acbVXLAN\u96a7\u9053\u793a\u610f\u56fe </p> <p>\u5982[\u56fe8-4]\u6240\u793a\uff0c\u5728Leaf1\u548cLeaf2\u4e4b\u95f4\u5efa\u7acbBGP EVPN\u5bf9\u7b49\u4f53\u540e\uff0cLeaf1\u4f1a\u751f\u6210Type3\u7c7b\u578b\u7684\u8def\u7531\u53d1\u9001\u7ed9Leaf2\u3002\u8be5\u8def\u7531\u4e2d\u4f1a\u643a\u5e26\u672c\u7aefVTEP IP\u5730\u5740\u3001VNI\u3001EVPN\u5b9e\u4f8b\u7684ERT\u7b49\u4fe1\u606f\u3002</p> <p>Leaf2\u6536\u5230Leaf1\u53d1\u9001\u6765\u7684\u8def\u7531\u540e\uff0c\u6839\u636e\u8def\u7531\u4e2d\u7684ERT\u662f\u5426\u4e0e\u672c\u7aefEVPN\u5b9e\u4f8b\u7684IRT\u76f8\u540c\u6765\u51b3\u5b9a\u662f\u5426\u63a5\u6536\u8be5\u8def\u7531\u3002\u5982\u679c\u76f8\u540c\uff0c\u5219\u63a5\u6536\u8be5\u8def\u7531\uff0c\u5efa\u7acb\u4e00\u6761\u5230\u5bf9\u7aef\u7684VXLAN\u96a7\u9053\u3002\u540c\u65f6\uff0c\u5982\u679c\u5bf9\u7aefVNI\u4e0e\u672c\u7aef\u76f8\u540c\uff0c\u5219\u521b\u5efa\u4e00\u4e2a\u5934\u7aef\u590d\u5236\u8868\uff0c\u7528\u4e8e\u540e\u7eed\u5e7f\u64ad\u3001\u7ec4\u64ad\u3001\u672a\u77e5\u5355\u64ad\u62a5\u6587\u7684\u8f6c\u53d1\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/08%20BGP%20EVPN/#5-type5","title":"5. Type5\u7c7b\u578b\u8def\u7531","text":"<p>Type5\u7c7b\u578b\u8def\u7531\u4e2dNLRI\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p>\u56fe8-5\u00a0Type5\u7c7b\u578b\u8def\u7531\u4e2dNLRI\u683c\u5f0f </p> <p>Type5\u7c7b\u578b\u8def\u7531\u643a\u5e26\u8def\u7531\u4fe1\u606f\uff0c\u4e3b\u8981\u7528\u4e8e\u53d1\u5e03\u8def\u7531\u3002\u4e0eType2\u7c7b\u578b\u8def\u7531\u4e0d\u540c\u7684\u662f\uff0cType5\u7c7b\u578b\u8def\u7531\u65e2\u53ef\u4ee5\u53d1\u5e0332\u4f4d\u4e3b\u673a\u8def\u7531\uff0c\u4e5f\u53ef\u4ee5\u53d1\u5e03\u7f51\u6bb5\u8def\u7531\u3002</p> <p>\u56fe8-6\u00a0Type5\u7c7b\u578b\u8def\u7531\u53d1\u5e03\u8def\u7531\u793a\u610f\u56fe </p> <p>Type5\u7c7b\u578b\u8def\u7531\u53ef\u4ee5\u5c06\u672c\u5730\u5176\u4ed6\u534f\u8bae\u7684\u79c1\u7f51\u8def\u7531\uff08\u4f8b\u5982\u9759\u6001\u8def\u7531\u3001\u76f4\u8fde\u8def\u7531\u3001\u5176\u4ed6\u8def\u7531\u534f\u8bae\u8def\u7531\uff09\u53d1\u5e03\u5230\u5176\u4ed6EVPN\u7f51\u7edc\u4e2d\uff0c\u5728\u8fdc\u7aef\u751f\u6210\u76f8\u5e94\u7684\u4e3b\u673a/\u7f51\u6bb5\u8def\u7531\u3002\u6240\u4ee5Type5\u7c7b\u578b\u8def\u7531\u53ef\u4ee5\u5b9e\u73b0VXLAN\u7f51\u7edc\u4e3b\u673a\u8bbf\u95ee\u5916\u90e8\u975eVXLAN\u7f51\u7edc\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/08%20BGP%20EVPN/#6-bgp-evpndci","title":"6. BGP EVPN\u5b9e\u73b0DCI\u4e92\u8054","text":"<p>\u901a\u8fc7BGP EVPN\u5728\u4e24\u4e2a\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u5404\u5efa\u7acb\u4e00\u6bb5VXLAN\u96a7\u9053\uff0c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u518d\u5efa\u7acb\u4e00\u6bb5VXLAN\u96a7\u9053\uff0c\u53ef\u4ee5\u5b9e\u73b0\u6570\u636e\u4e2d\u5fc3\u4e92\u8054\u3002\u5982\u56fe\u56fe8-7\u6240\u793a\uff0c\u5206\u522b\u5728\u6570\u636e\u4e2d\u5fc3A\u3001\u6570\u636e\u4e2d\u5fc3B\u5185\u914d\u7f6eBGP EVPN\u534f\u8bae\u521b\u5efa\u5206\u5e03\u5f0f\u7f51\u5173VXLAN\u96a7\u9053\uff0c\u5b9e\u73b0\u5404\u6570\u636e\u4e2d\u5fc3\u5185\u90e8VM\u4e4b\u95f4\u7684\u901a\u4fe1\u3002Leaf2\u548cLeaf3\u662f\u6570\u636e\u4e2d\u5fc3\u5185\u8fde\u63a5\u9aa8\u5e72\u7f51\u7684\u8fb9\u7f18\u8bbe\u5907\uff0c\u901a\u8fc7\u5728Leaf2\u548cLeaf3\u4e0a\u914d\u7f6eBGP EVPN\u534f\u8bae\u521b\u5efaVXLAN\u96a7\u9053\uff0c\u5c06\u4ece\u4e00\u4fa7\u6570\u636e\u4e2d\u5fc3\u6536\u5230\u7684VXLAN\u62a5\u6587\u5148\u89e3\u5c01\u88c5\u3001\u7136\u540e\u518d\u91cd\u65b0\u5c01\u88c5\u540e\u53d1\u9001\u5230\u53e6\u4e00\u4fa7\u6570\u636e\u4e2d\u5fc3\uff0c\u5b9e\u73b0\u5bf9\u8de8\u6570\u636e\u4e2d\u5fc3\u7684\u62a5\u6587\u7aef\u5230\u7aef\u7684VXLAN\u62a5\u6587\u627f\u8f7d\uff0c\u4fdd\u8bc1\u8de8\u6570\u636e\u4e2d\u5fc3VM\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</p> <p>\u56fe8-7\u00a0\u901a\u8fc7BGP EVPN\u5b9e\u73b0\u6570\u636e\u4e2d\u5fc3\u4e92\u8054\u7ec4\u7f51\u56fe </p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/01%20%E5%8D%8E%E4%B8%BA%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/08%20BGP%20EVPN/#7","title":"7. \u672c\u7ae0\u5c0f\u7ed3","text":"<p>EVPN\u662f\u57fa\u4e8eBGP\u534f\u8bae\u7684\u6280\u672f\uff0c\u9700\u8981\u90e8\u7f72\u5728\u7f51\u7edc\u4ea4\u6362\u673a\u4e0a\u3002\u8fd9\u610f\u5473\u7740\u7f51\u7edc\u4ea4\u6362\u673a\u9700\u8981\u4f5c\u4e3aVTEP\u8282\u70b9\uff0c\u8fdb\u884cVXLAN\u5c01\u88c5\u3002\u670d\u52a1\u5668\u901a\u8fc7\u63a5\u53e3\u6216VLAN\u63a5\u5165\u7f51\u7edc\u4ea4\u6362\u673a\u3002\u8fd9\u4e9b\u63a5\u53e3\u6216VLAN\u4f1a\u6620\u5c04\u5230\u5bf9\u5e94\u7684\u5e7f\u64ad\u57dfBD\uff0c\u540c\u65f6BD\u4e5f\u4f1a\u7ed1\u5b9a\u4e00\u4e2aEVPN\u5b9e\u4f8b\uff0c\u901a\u8fc7EVPN\u5b9e\u4f8b\u95f4\u8def\u7531\u7684\u4f20\u9012\u5b9e\u73b0VXLAN\u96a7\u9053\u7684\u5efa\u7acb\u3001MAC\u5b66\u4e60\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/","title":"00 \u4ec0\u4e48\u662fVXLAN","text":"<p>VXLAN\u5373\u865a\u62df\u6269\u5c55\u5c40\u57df\u7f51\uff0c\u662f\u5927\u4e8c\u5c42\u7f51\u7edc\u4e2d\u5e7f\u6cdb\u4f7f\u7528\u7684\u7f51\u7edc\u865a\u62df\u5316\u6280\u672f\u3002\u5728\u6e90\u7f51\u7edc\u8bbe\u5907\u4e0e\u76ee\u7684\u7f51\u7edc\u8bbe\u5907\u4e4b\u95f4\u5efa\u7acb\u4e00\u6761\u903b\u8f91VXLAN\u96a7\u9053\uff0c\u91c7\u7528MAC in UDP\uff08User Datagram Protocol\uff09\u5c01\u88c5\u65b9\u5f0f\uff0c\u5373\uff0c\u5c06\u865a\u62df\u673a\u53d1\u51fa\u7684\u539f\u59cb\u4ee5\u592a\u62a5\u6587\u5b8c\u6574\u7684\u5c01\u88c5\u5728UDP\u62a5\u6587\u4e2d\uff0c\u7136\u540e\u5728\u5916\u5c42\u4f7f\u7528\u7269\u7406\u7f51\u7edc\u7684IP\u62a5\u6587\u5934\u548c\u4ee5\u592a\u62a5\u6587\u5934\u5c01\u88c5\uff0c\u8fd9\u6837\uff0c\u5c01\u88c5\u540e\u7684\u62a5\u6587\u5c31\u50cf\u666e\u901aIP\u62a5\u6587\u4e00\u6837\uff0c\u53ef\u4ee5\u901a\u8fc7\u8def\u7531\u7f51\u7edc\u8f6c\u53d1\uff0c\u8fd9\u5c31\u50cf\u7ed9\u4e8c\u5c42\u7f51\u7edc\u7684\u865a\u62df\u673a\u63d2\u4e0a\u4e86\u8def\u7531\u7684\u7fc5\u8180\uff0c\u4f7f\u865a\u62df\u673a\u5f7b\u5e95\u6446\u8131\u4e86\u4e8c\u3001\u4e09\u5c42\u7f51\u7edc\u7684\u7ed3\u6784\u9650\u5236\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#1-vxlan","title":"1. \u4e3a\u4ec0\u4e48\u9700\u8981VXLAN\uff1f","text":"<p>\u4e3a\u4ec0\u4e48\u9700\u8981VXLAN\u5462\uff1f\u8fd9\u548c\u670d\u52a1\u5668\u7684\u865a\u62df\u5316\u8d8b\u52bf\u7d27\u5bc6\u76f8\u5173\uff0c\u4e00\u65b9\u9762\u51fa\u73b0\u4e86**\u865a\u62df\u673a\u52a8\u6001\u8fc1\u79fb**\uff0c\u8981\u6c42\u865a\u62df\u673a\u5728\u8fc1\u79fb\u524d\u540e\u7684IP\u548cMAC\u5730\u5740\u4e0d\u80fd\u6539\u53d8\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u79df\u6237\u6570\u91cf\u6fc0\u589e\uff0c\u9700\u8981\u7f51\u7edc\u63d0\u4f9b\u9694\u79bb\u6d77\u91cf\u79df\u6237\u7684\u80fd\u529b\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#11","title":"1.1. \u865a\u62df\u673a\u52a8\u6001\u8fc1\u79fb","text":"<p>\u670d\u52a1\u5668\u865a\u62df\u5316\u6280\u672f\u662f\u628a\u4e00\u53f0\u7269\u7406\u670d\u52a1\u5668\u865a\u62df\u5316\u6210\u591a\u53f0\u903b\u8f91\u670d\u52a1\u5668\uff0c\u8fd9\u79cd\u903b\u8f91\u670d\u52a1\u5668\u88ab\u79f0\u4e3a\u865a\u62df\u673a\uff08VM\uff09\u3002\u901a\u8fc7\u670d\u52a1\u5668\u865a\u62df\u5316\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u63d0\u9ad8\u670d\u52a1\u5668\u7684\u5229\u7528\u7387\uff0c\u964d\u4f4e\u80fd\u6e90\u6d88\u8017\uff0c\u964d\u4f4e\u8fd0\u8425\u6210\u672c\uff0c\u6240\u4ee5\u865a\u62df\u5316\u6280\u672f\u76ee\u524d\u5f97\u5230\u4e86\u5e7f\u6cdb\u7684\u5e94\u7528\u3002</p> <p>\u5728\u670d\u52a1\u5668\u865a\u62df\u5316\u540e\uff0c\u865a\u62df\u673a\u52a8\u6001\u8fc1\u79fb\u53d8\u5f97\u5e38\u6001\u5316\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u8fc1\u79fb\u65f6\u4e1a\u52a1\u4e0d\u4e2d\u65ad\uff0c\u5c31\u8981\u6c42\u5728\u865a\u62df\u673a\u8fc1\u79fb\u65f6\uff0c\u4e0d\u4ec5\u865a\u62df\u673a\u7684IP\u5730\u5740\u4e0d\u53d8\uff0c\u800c\u4e14\u865a\u62df\u673a\u7684\u8fd0\u884c\u72b6\u6001\u4e5f\u5fc5\u987b\u4fdd\u6301\u539f\u72b6\uff08\u4f8b\u5982TCP\u4f1a\u8bdd\u72b6\u6001\uff09\uff0c\u6240\u4ee5\u865a\u62df\u673a\u7684\u52a8\u6001\u8fc1\u79fb\u53ea\u80fd\u5728\u540c\u4e00\u4e2a\u4e8c\u5c42\u57df\u4e2d\u8fdb\u884c\uff0c\u800c\u4e0d\u80fd\u8de8\u4e8c\u5c42\u57df\u8fc1\u79fb\u3002</p> <p>\u4f20\u7edf\u7684\u4e09\u5c42\u7f51\u7edc\u67b6\u6784\u9650\u5236\u4e86\u865a\u62df\u673a\u7684\u52a8\u6001\u8fc1\u79fb\u8303\u56f4\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u8fc1\u79fb\u53ea\u80fd\u5728\u4e00\u4e2a\u8f83\u5c0f\u7684\u5c40\u90e8\u8303\u56f4\u5185\u8fdb\u884c\uff0c\u5e94\u7528\u53d7\u5230\u4e86\u6781\u5927\u7684\u9650\u5236\u3002</p> <p> \u4f20\u7edf\u7684\u4e09\u5c42\u7f51\u7edc\u67b6\u6784\u9650\u5236\u4e86\u865a\u62df\u673a\u7684\u52a8\u6001\u8fc1\u79fb\u8303\u56f4</p> <p>\u4e3a\u4e86\u6253\u7834\u8fd9\u79cd\u9650\u5236\uff0c\u5b9e\u73b0\u865a\u62df\u673a\u7684\u5927\u8303\u56f4\u751a\u81f3\u8de8\u5730\u57df\u7684\u52a8\u6001\u8fc1\u79fb\uff0c\u5c31\u8981\u6c42\u628aVM\u8fc1\u79fb\u53ef\u80fd\u6d89\u53ca\u7684\u6240\u6709\u670d\u52a1\u5668\u90fd\u7eb3\u5165\u540c\u4e00\u4e2a\u4e8c\u5c42\u7f51\u7edc\u57df\uff0c\u8fd9\u6837\u624d\u80fd\u5b9e\u73b0VM\u7684\u5927\u8303\u56f4\u65e0\u969c\u788d\u8fc1\u79fb\u3002</p> <p>\u4f17\u6240\u5468\u77e5\uff0c\u540c\u4e00\u53f0\u4e8c\u5c42\u4ea4\u6362\u673a\u53ef\u4ee5\u5b9e\u73b0\u4e0b\u6302\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4e8c\u5c42\u901a\u4fe1\uff0c\u800c\u4e14\u670d\u52a1\u5668\u4ece\u8be5\u4e8c\u5c42\u4ea4\u6362\u673a\u7684\u4e00\u4e2a\u7aef\u53e3\u8fc1\u79fb\u5230\u53e6\u4e00\u4e2a\u7aef\u53e3\u65f6\uff0cIP\u5730\u5740\u662f\u53ef\u4ee5\u4fdd\u6301\u4e0d\u53d8\u7684\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u6ee1\u8db3\u865a\u62df\u673a\u52a8\u6001\u8fc1\u79fb\u7684\u9700\u6c42\u4e86\u3002VXLAN\u7684\u8bbe\u8ba1\u7406\u5ff5\u548c\u76ee\u6807\u6b63\u662f\u7531\u6b64\u800c\u6765\u7684\u3002</p> <p>VXLAN\u63d0\u4f9b\u4e00\u5957\u65b9\u6cd5\u8bba\uff0c\u5728IP\u7f51\u7edc\u57fa\u7840\u4e0a\uff0c\u5f53\u6e90\u548c\u76ee\u7684\u4e4b\u95f4\u6709\u901a\u4fe1\u9700\u6c42\u65f6\uff0c\u4fbf\u5728IP\u7f51\u7edc\u4e4b\u4e0a\u521b\u5efa\u4e00\u6761\u865a\u62df\u7684\u96a7\u9053\uff0c\u900f\u660e\u8f6c\u53d1\u7528\u6237\u6570\u636e\u3002\u4efb\u610f\u4e24\u70b9\u4e4b\u95f4\u90fd\u80fd\u901a\u8fc7VXLAN\u96a7\u9053\u6765\u901a\u4fe1\uff0c\u5ffd\u7565\u5e95\u5c42\u7f51\u7edc\u7684\u7ed3\u6784\u548c\u7ec6\u8282\u3002\u4ece\u670d\u52a1\u5668\u7684\u89d2\u5ea6\u770b\uff0cVXLAN\u4e3a\u5b83\u4eec\u5c06\u6574\u4e2a\u57fa\u7840\u7f51\u7edc\u865a\u62df\u6210\u4e86\u4e00\u53f0\u5de8\u5927\u7684\u201c\u4e8c\u5c42\u4ea4\u6362\u673a\u201d\uff0c\u6240\u6709\u670d\u52a1\u5668\u90fd\u8fde\u63a5\u5728\u8fd9\u53f0\u865a\u62df\u4e8c\u5c42\u4ea4\u6362\u673a\u4e0a\u3002\u800c\u57fa\u7840\u7f51\u7edc\u4e4b\u5185\u5982\u4f55\u8f6c\u53d1\u90fd\u662f\u8fd9\u53f0\u201c\u5de8\u5927\u4ea4\u6362\u673a\u201d\u5185\u90e8\u7684\u4e8b\u60c5\uff0c\u670d\u52a1\u5668\u5b8c\u5168\u65e0\u9700\u5173\u5fc3\u3002</p> <p> VXLAN\u5c06\u6574\u4e2a\u57fa\u7840\u7f51\u7edc\u865a\u62df\u6210\u4e86\u4e00\u53f0\u5de8\u5927\u7684\u201c\u4e8c\u5c42\u4ea4\u6362\u673a\u201d</p> <p>\u57fa\u4e8e\u8fd9\u79cd\u201c\u4e8c\u5c42\u4ea4\u6362\u673a\u201d\u7684\u6a21\u578b\uff0c\u5c31\u5f88\u5bb9\u6613\u7406\u89e3\u4e3a\u4ec0\u4e48VXLAN\u53ef\u4ee5\u5b9e\u73b0VM\u52a8\u6001\u8fc1\u79fb\u4e86\uff1a\u5c06\u865a\u62df\u673a\u4ece\u201c\u4e8c\u5c42\u4ea4\u6362\u673a\u201d\u7684\u4e00\u4e2a\u7aef\u53e3\u6362\u5230\u53e6\u4e00\u4e2a\u7aef\u53e3\uff0c\u5b8c\u5168\u65e0\u9700\u53d8\u66f4IP\u5730\u5740\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#12","title":"1.2. \u79df\u6237\u6570\u91cf\u6fc0\u589e\uff0c\u8981\u6c42\u63d0\u4f9b\u4e00\u4e2a\u53ef\u9694\u79bb\u6d77\u91cf\u79df\u6237\u7684\u7f51\u7edc","text":"<p>\u5728\u4f20\u7edf\u7684VLAN\u7f51\u7edc\u4e2d\uff0c\u6807\u51c6\u5b9a\u4e49\u6240\u652f\u6301\u7684\u53ef\u7528VLAN\u6570\u91cf\u53ea\u67094000\u4e2a\u5de6\u53f3\u3002\u670d\u52a1\u5668\u865a\u62df\u5316\u540e\uff0c\u4e00\u53f0\u7269\u7406\u670d\u52a1\u5668\u4e2d\u627f\u8f7d\u4e86\u591a\u53f0\u865a\u62df\u673a\uff0c\u6bcf\u4e2a\u865a\u62df\u673a\u90fd\u6709\u72ec\u7acb\u7684IP\u5730\u5740\u548cMAC\u5730\u5740\uff0c\u76f8\u5f53\u4e8e\u670d\u52a1\u5668\u6210\u500d\u6269\u5927\u4e86\u3002\u4f8b\u5982\uff0c\u516c\u6709\u4e91\u6216\u5176\u5b83\u5927\u578b\u865a\u62df\u5316\u4e91\u6570\u636e\u4e2d\u5fc3\u52a8\u8f84\u9700\u5bb9\u7eb3\u4e0a\u4e07\u751a\u81f3\u66f4\u591a\u79df\u6237\uff0cVLAN\u7684\u80fd\u529b\u663e\u7136\u5df2\u7ecf\u529b\u4e0d\u4ece\u5fc3\u3002</p> <p>VXLAN\u5982\u4f55\u6765\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\u5462\uff1fVXLAN\u5728VXLAN\u5e27\u5934\u4e2d\u5f15\u5165\u4e86\u7c7b\u4f3cVLAN ID\u7684\u7f51\u7edc\u6807\u8bc6\uff0c\u79f0\u4e3aVXLAN\u7f51\u7edc\u6807\u8bc6VNI\uff08VXLAN Network ID\uff09\uff0c\u753124\u6bd4\u7279\u7ec4\u6210\uff0c\u7406\u8bba\u4e0a\u53ef\u652f\u6301\u591a\u8fbe16M\u7684VXLAN\u6bb5\uff0c\u4ece\u800c\u6ee1\u8db3\u4e86\u5927\u89c4\u6a21\u4e0d\u540c\u79df\u6237\u4e4b\u95f4\u7684\u6807\u8bc6\u3001\u9694\u79bb\u9700\u6c42\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#2-vxlanvlan","title":"2. VXLAN\u4e0eVLAN\u4e4b\u95f4\u6709\u4f55\u4e0d\u540c?","text":"<p>VLAN\u4f5c\u4e3a\u4f20\u7edf\u7684\u7f51\u7edc\u9694\u79bb\u6280\u672f\uff0c\u5728\u6807\u51c6\u5b9a\u4e49\u4e2dVLAN\u7684\u6570\u91cf\u53ea\u67094000\u4e2a\u5de6\u53f3\uff0c\u65e0\u6cd5\u6ee1\u8db3\u5927\u4e8c\u5c42\u7f51\u7edc\u7684\u79df\u6237\u95f4\u9694\u79bb\u9700\u6c42\u3002\u53e6\u5916\uff0cVLAN\u7684\u4e8c\u5c42\u8303\u56f4\u4e00\u822c\u8f83\u5c0f\u4e14\u56fa\u5b9a\uff0c\u65e0\u6cd5\u652f\u6301\u865a\u62df\u673a\u5927\u8303\u56f4\u7684\u52a8\u6001\u8fc1\u79fb\u3002</p> <p>VXLAN\u5b8c\u7f8e\u5730\u5f25\u8865\u4e86VLAN\u7684\u4e0a\u8ff0\u4e0d\u8db3\uff0c\u4e00\u65b9\u9762\u901a\u8fc7VXLAN\u4e2d\u768424\u6bd4\u7279VNI\u5b57\u6bb5\uff0c\u63d0\u4f9b\u591a\u8fbe16M\u79df\u6237\u7684\u6807\u8bc6\u80fd\u529b\uff0c\u8fdc\u5927\u4e8eVLAN\u76844000\uff1b\u53e6\u4e00\u65b9\u9762\uff0cVXLAN\u672c\u8d28\u4e0a\u5728\u4e24\u53f0\u4ea4\u6362\u673a\u95f4\u6784\u5efa\u4e86\u4e00\u6761\u7a7f\u8d8a\u57fa\u7840IP\u7f51\u7edc\u7684\u865a\u62df\u96a7\u9053\uff0c\u5c06IP\u57fa\u7840\u7f51\u7edc\u865a\u62df\u6210\u4e00\u4e2a\u5de8\u578b\u201c\u4e8c\u5c42\u4ea4\u6362\u673a\uff0c\u5373\u5927\u4e8c\u5c42\u7f51\u7edc\uff0c\u6ee1\u8db3\u865a\u62df\u673a\u5927\u8303\u56f4\u52a8\u6001\u8fc1\u79fb\u7684\u9700\u6c42\u3002</p> <p>\u867d\u7136\u4ece\u540d\u5b57\u4e0a\u770b\uff0cVXLAN\u662fVLAN\u7684\u4e00\u79cd\u6269\u5c55\u534f\u8bae\uff0c\u4f46VXLAN\u6784\u5efa\u865a\u62df\u96a7\u9053\u7684\u672c\u9886\u5df2\u7ecf\u4e0eVLAN\u8fe5\u7136\u4e0d\u540c\u4e86\u3002</p> <p>\u4e0b\u9762\u6765\u4ecb\u7ecd\u4e0b\uff0cVXLAN\u62a5\u6587\u5230\u5e95\u957f\u5565\u6837\u3002</p> <p> VXLAN\u62a5\u6587\u683c\u5f0f\uff08\u4ee5\u5916\u5c42IP\u5934\u4e3aIPv4\u683c\u5f0f\u4e3a\u4f8b\uff09</p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0cVTEP\u5bf9VM\u53d1\u9001\u7684\u539f\u59cb\u4ee5\u592a\u5e27\uff08Original L2 Frame\uff09\u8fdb\u884c\u4e86\u4ee5\u4e0b\u201c\u5305\u88c5\u201d\uff1a</p> <ul> <li> <p>VXLAN Header</p> <p>\u589e\u52a0VXLAN\u5934\uff088\u5b57\u8282\uff09\uff0c\u5176\u4e2d\u5305\u542b24\u6bd4\u7279\u7684VNI\u5b57\u6bb5\uff0c\u7528\u6765\u5b9a\u4e49VXLAN\u7f51\u7edc\u4e2d\u4e0d\u540c\u7684\u79df\u6237\u3002\u6b64\u5916\uff0c\u8fd8\u5305\u542bVXLAN Flags\uff088\u6bd4\u7279\uff0c\u53d6\u503c\u4e3a00001000\uff09\u548c\u4e24\u4e2a\u4fdd\u7559\u5b57\u6bb5\uff08\u5206\u522b\u4e3a24\u6bd4\u7279\u548c8\u6bd4\u7279\uff09\u3002</p> </li> <li> <p>UDP Header</p> <p>VXLAN\u5934\u548c\u539f\u59cb\u4ee5\u592a\u5e27\u4e00\u8d77\u4f5c\u4e3aUDP\u7684\u6570\u636e\u3002UDP\u5934\u4e2d\uff0c\u76ee\u7684\u7aef\u53e3\u53f7\uff08VXLAN Port\uff09\u56fa\u5b9a\u4e3a4789\uff0c\u6e90\u7aef\u53e3\u53f7\uff08UDP Src. Port\uff09\u662f\u539f\u59cb\u4ee5\u592a\u5e27\u901a\u8fc7\u54c8\u5e0c\u7b97\u6cd5\u8ba1\u7b97\u540e\u7684\u503c\u3002</p> </li> <li> <p>Outer IP Header</p> <p>\u5c01\u88c5\u5916\u5c42IP\u5934\u3002\u5176\u4e2d\uff0c\u6e90IP\u5730\u5740\uff08Outer Src. IP\uff09\u4e3a\u6e90VM\u6240\u5c5eVTEP\u7684IP\u5730\u5740\uff0c\u76ee\u7684IP\u5730\u5740\uff08Outer Dst. IP\uff09\u4e3a\u76ee\u7684VM\u6240\u5c5eVTEP\u7684IP\u5730\u5740\u3002</p> </li> <li> <p>Outer MAC Header</p> <p>\u5c01\u88c5\u5916\u5c42\u4ee5\u592a\u5934\u3002\u5176\u4e2d\uff0c\u6e90MAC\u5730\u5740\uff08Src. MAC Addr.\uff09\u4e3a\u6e90VM\u6240\u5c5eVTEP\u7684MAC\u5730\u5740\uff0c\u76ee\u7684MAC\u5730\u5740\uff08Dst. MAC Addr.\uff09\u4e3a\u5230\u8fbe\u76ee\u7684VTEP\u7684\u8def\u5f84\u4e2d\u4e0b\u4e00\u8df3\u8bbe\u5907\u7684MAC\u5730\u5740\u3002</p> </li> </ul>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#3-vxlan","title":"3. VXLAN\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f","text":"<p>\u672c\u8282\u5c06\u4e3a\u60a8\u4ecb\u7ecdVXLAN\u96a7\u9053\u7684\u5efa\u7acb\u8fc7\u7a0b\uff0c\u5e76\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u66f4\u597d\u5730\u7406\u89e3VXLAN\u7684\u5de5\u4f5c\u539f\u7406\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#31-vxlanvtepvni","title":"3.1. VXLAN\u4e2d\u7684VTEP\u548cVNI","text":"<p>\u5728\u4ecb\u7ecdVXLAN\u96a7\u9053\u7684\u5efa\u7acb\u8fc7\u7a0b\u524d\uff0c\u5148\u6765\u4e86\u89e3VXLAN\u7f51\u7edc\u6a21\u578b\u4e2d\u4e00\u4e9b\u5e38\u89c1\u7684\u6982\u5ff5\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u4e24\u53f0\u670d\u52a1\u5668\u4e4b\u95f4\u901a\u8fc7VXLAN\u7f51\u7edc\u8fdb\u884c\u901a\u4fe1\u3002\u5728\u4e24\u53f0TOR\u4ea4\u6362\u673a\u4e4b\u95f4\u5efa\u7acb\u4e86\u4e00\u6761VXLAN\u96a7\u9053\uff0cTOR\u4ea4\u6362\u673a\u5c06\u670d\u52a1\u5668\u53d1\u51fa\u7684\u539f\u59cb\u6570\u636e\u5e27\u52a0\u4ee5\u201c\u5305\u88c5\u201d\uff0c\u597d\u8ba9\u539f\u59cb\u62a5\u6587\u53ef\u4ee5\u5728\u627f\u8f7d\u7f51\u7edc\uff08\u6bd4\u5982IP\u7f51\u7edc\uff09\u4e0a\u4f20\u8f93\u3002\u5f53\u5230\u8fbe\u76ee\u7684\u670d\u52a1\u5668\u6240\u8fde\u63a5\u7684TOR\u4ea4\u6362\u673a\u540e\uff0c\u79bb\u5f00VXLAN\u96a7\u9053\uff0c\u5e76\u5c06\u539f\u59cb\u6570\u636e\u5e27\u6062\u590d\u51fa\u6765\uff0c\u7ee7\u7eed\u8f6c\u53d1\u7ed9\u76ee\u7684\u670d\u52a1\u5668\u3002</p> <p> VXLAN\u7f51\u7edc\u6a21\u578b\u793a\u610f</p> <p>VXLAN\u7f51\u7edc\u4e2d\u51fa\u73b0\u4e86\u4e00\u4e9b\u4f20\u7edf\u7f51\u7edc\u4e2d\u6ca1\u6709\u7684\u65b0\u5143\u7d20\uff0c\u5982VTEP\u3001VNI\u7b49\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\u5462\uff1f\u4e0b\u9762\u5c06\u5411\u60a8\u4ecb\u7ecd\u8fd9\u51e0\u4e2a\u65b0\u5143\u7d20\u3002</p> <p>\u4ec0\u4e48\u662fVXLAN VTEP</p> <p>VTEP\uff08VXLAN Tunnel Endpoints\uff0cVXLAN\u96a7\u9053\u7aef\u70b9\uff09\u662fVXLAN\u7f51\u7edc\u7684\u8fb9\u7f18\u8bbe\u5907\uff0c\u662fVXLAN\u96a7\u9053\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\uff0c\u6e90\u670d\u52a1\u5668\u53d1\u51fa\u7684\u539f\u59cb\u6570\u636e\u5e27\uff0c\u5728VTEP\u4e0a\u88ab\u5c01\u88c5\u6210VXLAN\u683c\u5f0f\u7684\u62a5\u6587\uff0c\u5e76\u5728IP\u7f51\u7edc\u4e2d\u4f20\u9012\u5230\u53e6\u5916\u4e00\u4e2aVTEP\u4e0a\uff0c\u5e76\u7ecf\u8fc7\u89e3\u5c01\u8f6c\u8fd8\u539f\u51fa\u539f\u59cb\u7684\u6570\u636e\u5e27\uff0c\u6700\u540e\u8f6c\u53d1\u7ed9\u76ee\u7684\u670d\u52a1\u5668\u3002</p> <p>\u4ec0\u4e48\u662fVXLAN VNI</p> <p>VNI\uff08VXLAN Network Identifier\uff0cVXLAN \u7f51\u7edc\u6807\u8bc6\u7b26\uff09\uff0cVNI\u662f\u4e00\u79cd\u7c7b\u4f3c\u4e8eVLAN\u00a0ID\u7684\u7528\u6237\u6807\u8bc6\uff0c\u4e00\u4e2aVNI\u4ee3\u8868\u4e86\u4e00\u4e2a\u79df\u6237\uff0c\u5c5e\u4e8e\u4e0d\u540cVNI\u7684\u865a\u62df\u673a\u4e4b\u95f4\u4e0d\u80fd\u76f4\u63a5\u8fdb\u884c\u4e8c\u5c42\u901a\u4fe1\u3002</p> <p>VNI\u8fd8\u53ef\u5206\u4e3a\u4e8c\u5c42VNI\u548c\u4e09\u5c42VNI\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u4e0d\u540c\uff0c\u4e8c\u5c42VNI\u662f\u666e\u901a\u7684VNI\uff0c\u7528\u4e8eVXLAN\u62a5\u6587\u540c\u5b50\u7f51\u7684\u8f6c\u53d1\uff1b\u4e09\u5c42VNI\u548cVPN\u5b9e\u4f8b\u8fdb\u884c\u5173\u8054\uff0c\u7528\u4e8eVXLAN\u62a5\u6587\u8de8\u5b50\u7f51\u7684\u8f6c\u53d1\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#32-vxlan","title":"3.2. VXLAN\u7684\u7f51\u5173","text":"<p>\u548cVLAN\u7c7b\u4f3c\uff0c\u4e0d\u540cVNI\u4e4b\u95f4\u7684\u4e3b\u673a\uff0c\u4ee5\u53caVXLAN\u7f51\u7edc\u548c\u975eVXLAN\u7f51\u7edc\u4e2d\u7684\u4e3b\u673a\u4e0d\u80fd\u76f4\u63a5\u76f8\u4e92\u901a\u4fe1\u3002\u4e3a\u4e86\u6ee1\u8db3\u8fd9\u4e9b\u901a\u4fe1\u9700\u6c42\uff0cVXLAN\u5f15\u5165\u4e86VXLAN\u7f51\u5173\u7684\u6982\u5ff5\u3002VXLAN\u7f51\u5173\u5206\u4e3a\u4e8c\u5c42\u7f51\u5173\u548c\u4e09\u5c42\u7f51\u5173\uff0cVXLAN\u4e8c\u5c42\u7f51\u5173\u7528\u4e8e\u7ec8\u7aef\u63a5\u5165VXLAN\u7f51\u7edc\uff0c\u4e5f\u53ef\u7528\u4e8e\u540c\u4e00VXLAN\u7f51\u7edc\u7684\u5b50\u7f51\u901a\u4fe1\uff1bVXLAN\u4e09\u5c42\u7f51\u5173\u7528\u4e8eVXLAN\u7f51\u7edc\u4e2d\u8de8\u5b50\u7f51\u901a\u4fe1\u4ee5\u53ca\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\u3002</p> <p>\u6839\u636e\u4e09\u5c42\u7f51\u5173\u90e8\u7f72\u65b9\u5f0f\u7684\u4e0d\u540c\uff0cVXLAN\u4e09\u5c42\u7f51\u5173\u53c8\u53ef\u4ee5\u5206\u4e3a\u96c6\u4e2d\u5f0f\u7f51\u5173\u548c\u5206\u5e03\u5f0f\u7f51\u5173\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#321-vxlan","title":"3.2.1. VXLAN\u96c6\u4e2d\u5f0f\u7f51\u5173","text":"<p>\u96c6\u4e2d\u5f0f\u7f51\u5173\u662f\u6307\u5c06\u4e09\u5c42\u7f51\u5173\u96c6\u4e2d\u90e8\u7f72\u5728\u4e00\u53f0\u8bbe\u5907\u4e0a\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u6240\u6709\u8de8\u5b50\u7f51\u7684\u6d41\u91cf\u90fd\u7ecf\u8fc7\u8fd9\u4e2a\u4e09\u5c42\u7f51\u5173\u8f6c\u53d1\uff0c\u5b9e\u73b0\u6d41\u91cf\u7684\u96c6\u4e2d\u7ba1\u7406\u3002</p> <p> VXLAN\u96c6\u4e2d\u5f0f\u7f51\u5173\u7ec4\u7f51\u56fe</p> <p>\u90e8\u7f72\u96c6\u4e2d\u5f0f\u7f51\u5173\u7684\u4f18\u70b9\u548c\u7f3a\u70b9\u5982\u4e0b\uff1a</p> <ul> <li>\u4f18\u70b9\uff1a\u5bf9\u8de8\u5b50\u7f51\u6d41\u91cf\u8fdb\u884c\u96c6\u4e2d\u7ba1\u7406\uff0c\u7f51\u5173\u7684\u90e8\u7f72\u548c\u7ba1\u7406\u6bd4\u8f83\u7b80\u5355\u3002</li> <li>\u7f3a\u70b9\uff1a<ul> <li>\u8f6c\u53d1\u8def\u5f84\u4e0d\u662f\u6700\u4f18\uff1a\u540c\u4e00\u4e8c\u5c42\u7f51\u5173\u4e0b\u8de8\u5b50\u7f51\u7684\u4e09\u5c42\u6d41\u91cf\u90fd\u9700\u8981\u7ecf\u8fc7\u96c6\u4e2d\u4e09\u5c42\u7f51\u5173\u7ed5\u884c\u8f6c\u53d1\uff08\u5982\u56fe\u4e2d\u84dd\u8272\u865a\u7ebf\u6240\u793a\uff09\u3002</li> <li>ARP\u8868\u9879\u89c4\u683c\u74f6\u9888\uff1a\u7531\u4e8e\u91c7\u7528\u96c6\u4e2d\u4e09\u5c42\u7f51\u5173\uff0c\u901a\u8fc7\u4e09\u5c42\u7f51\u5173\u8f6c\u53d1\u7684\u7ec8\u7aef\u7684ARP\u8868\u9879\u90fd\u9700\u8981\u5728\u4e09\u5c42\u7f51\u5173\u4e0a\u751f\u6210\uff0c\u800c\u4e09\u5c42\u7f51\u5173\u4e0a\u7684ARP\u8868\u9879\u89c4\u683c\u6709\u9650\uff0c\u9650\u5236\u4e86\u7f51\u7edc\u7684\u6269\u5c55\u3002</li> </ul> </li> </ul>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#322-vxlan","title":"3.2.2. VXLAN\u5206\u5e03\u5f0f\u7f51\u5173","text":"<p>\u901a\u8fc7\u90e8\u7f72\u5206\u5e03\u5f0f\u7f51\u5173\u53ef\u4ee5\u89e3\u51b3\u96c6\u4e2d\u5f0f\u7f51\u5173\u90e8\u7f72\u7684\u7f3a\u70b9\u3002VXLAN\u5206\u5e03\u5f0f\u7f51\u5173\u662f\u6307\u5728\u5178\u578b\u7684\u201cSpine-Leaf\u201d\u7ec4\u7f51\u7ed3\u6784\u4e0b\uff0c\u5c06Leaf\u8282\u70b9\u4f5c\u4e3aVXLAN\u96a7\u9053\u7aef\u70b9VTEP\uff0c\u6bcf\u4e2aLeaf\u8282\u70b9\u90fd\u53ef\u4f5c\u4e3aVXLAN\u4e09\u5c42\u7f51\u5173\uff08\u540c\u65f6\u4e5f\u662fVXLAN\u4e8c\u5c42\u7f51\u5173\uff09\uff0cSpine\u8282\u70b9\u4e0d\u611f\u77e5VXLAN\u96a7\u9053\uff0c\u53ea\u4f5c\u4e3aVXLAN\u62a5\u6587\u7684\u8f6c\u53d1\u8282\u70b9\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0cServer1\u548cServer2\u4e0d\u5728\u540c\u4e00\u4e2a\u7f51\u6bb5\uff0c\u4f46\u662f\u90fd\u8fde\u63a5\u5230\u540c\u4e00\u4e2aLeaf\u8282\u70b9\u3002Server1\u548cServer2\u901a\u4fe1\u65f6\uff0c\u6d41\u91cf\u53ea\u9700\u8981\u5728\u8be5Leaf\u8282\u70b9\u4e0a\u8f6c\u53d1\uff0c\u4e0d\u518d\u9700\u8981\u7ecf\u8fc7Spine\u8282\u70b9\u3002</p> <p>\u90e8\u7f72\u5206\u5e03\u5f0f\u7f51\u5173\u65f6\uff1a</p> <ul> <li>Spine\u8282\u70b9\uff1a\u5173\u6ce8\u4e8e\u9ad8\u901fIP\u8f6c\u53d1\uff0c\u5f3a\u8c03\u7684\u662f\u8bbe\u5907\u7684\u9ad8\u901f\u8f6c\u53d1\u80fd\u529b\u3002</li> <li>Leaf\u8282\u70b9\uff1a<ul> <li>\u4f5c\u4e3aVXLAN\u7f51\u7edc\u4e2d\u7684\u4e8c\u5c42\u7f51\u5173\u8bbe\u5907\uff0c\u4e0e\u7269\u7406\u670d\u52a1\u5668\u6216VM\u5bf9\u63a5\uff0c\u7528\u4e8e\u89e3\u51b3\u7ec8\u7aef\u79df\u6237\u63a5\u5165VXLAN\u865a\u62df\u7f51\u7edc\u7684\u95ee\u9898\u3002</li> <li>\u4f5c\u4e3aVXLAN\u7f51\u7edc\u4e2d\u7684\u4e09\u5c42\u7f51\u5173\u8bbe\u5907\uff0c\u8fdb\u884cVXLAN\u62a5\u6587\u5c01\u88c5/\u89e3\u5c01\u88c5\uff0c\u5b9e\u73b0\u8de8\u5b50\u7f51\u7684\u7ec8\u7aef\u79df\u6237\u901a\u4fe1\uff0c\u4ee5\u53ca\u5916\u90e8\u7f51\u7edc\u7684\u8bbf\u95ee\u3002</li> </ul> </li> </ul> <p> VXLAN\u5206\u5e03\u5f0f\u7f51\u5173\u793a\u610f\u56fe</p> <p>VXLAN\u5206\u5e03\u5f0f\u7f51\u5173\u5177\u6709\u5982\u4e0b\u7279\u70b9\uff1a</p> <ul> <li>\u540c\u4e00\u4e2aLeaf\u8282\u70b9\u65e2\u53ef\u4ee5\u505aVXLAN\u4e8c\u5c42\u7f51\u5173\uff0c\u4e5f\u53ef\u4ee5\u505aVXLAN\u4e09\u5c42\u7f51\u5173\uff0c\u90e8\u7f72\u7075\u6d3b\u3002</li> <li>Leaf\u8282\u70b9\u53ea\u9700\u8981\u5b66\u4e60\u81ea\u8eab\u8fde\u63a5\u670d\u52a1\u5668\u7684ARP\u8868\u9879\uff0c\u800c\u4e0d\u5fc5\u50cf\u96c6\u4e2d\u4e09\u5c42\u7f51\u5173\u4e00\u6837\uff0c\u9700\u8981\u5b66\u4e60\u6240\u6709\u670d\u52a1\u5668\u7684ARP\u8868\u9879\uff0c\u89e3\u51b3\u4e86\u96c6\u4e2d\u5f0f\u4e09\u5c42\u7f51\u5173\u5e26\u6765\u7684ARP\u8868\u9879\u74f6\u9888\u95ee\u9898\uff0c\u7f51\u7edc\u89c4\u6a21\u6269\u5c55\u80fd\u529b\u5f3a\u3002</li> </ul>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#33-vtepvxlan","title":"3.3. \u54ea\u4e9bVTEP\u4e4b\u95f4\u9700\u8981\u5efa\u7acbVXLAN\u96a7\u9053","text":"<p>\u201c\u5927\u4e8c\u5c42\u7f51\u7edc\u201d\u53ef\u4ee5\u7a81\u7834\u7269\u7406\u4e0a\u7684\u754c\u9650\uff0c\u5b9e\u73b0\u201c\u5927\u4e8c\u5c42\u7f51\u7edc\u201d\u4e2dVM\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u540c\u4e00\u201c\u5927\u4e8c\u5c42\u7f51\u7edc\u201d\u5185\u7684VTEP\u4e4b\u95f4\u90fd\u9700\u8981\u5efa\u7acbVXLAN\u96a7\u9053\u3002\u5982\u4e0b\u56fe\u4e2dVTEP_1\u8fde\u63a5\u7684VM\u3001VTEP_2\u8fde\u63a5\u7684VM\u4ee5\u53caVTEP_3\u8fde\u63a5\u7684VM\u4e4b\u95f4\u9700\u8981\u201c\u5927\u4e8c\u5c42\u201d\u4e92\u901a\uff0c\u90a3VTEP_1\u3001VTEP_2\u548cVTEP_3\u4e4b\u95f4\u5c31\u9700\u8981\u4e24\u4e24\u5efa\u7acbVXLAN\u96a7\u9053\u3002</p> <p> \u5efa\u7acbVXLAN\u96a7\u9053\u793a\u610f\u56fe</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#34-vxlan","title":"3.4. VXLAN\u96a7\u9053\u7684\u5efa\u7acb","text":"<p>VXLAN\u96a7\u9053\u7531\u4e00\u5bf9VTEP IP\u5730\u5740\u786e\u5b9a\uff0c\u521b\u5efaVXLAN\u96a7\u9053\u5b9e\u9645\u4e0a\u662f\u4e24\u7aefVTEP\u83b7\u53d6\u5bf9\u7aefVTEP IP\u5730\u5740\u7684\u8fc7\u7a0b\uff0c\u53ea\u8981\u5bf9\u7aefVTEP IP\u5730\u5740\u662f\u4e09\u5c42\u8def\u7531\u53ef\u8fbe\u7684\uff0cVXLAN\u96a7\u9053\u5c31\u53ef\u4ee5\u5efa\u7acb\u6210\u529f\u3002</p> <p>VXLAN\u96a7\u9053\u7684\u5efa\u7acb\u5206\u4e3a\u9759\u6001\u65b9\u5f0f\u548c\u52a8\u6001\u65b9\u5f0f\u4e24\u79cd\u3002</p> <p>\u9759\u6001\u65b9\u5f0f\u6ca1\u6709\u63a7\u5236\u5e73\u9762\uff0c\u7528\u6237\u901a\u8fc7\u624b\u52a8\u6307\u5b9aVXLAN\u96a7\u9053\u7684\u6e90IP\u4e3a\u672c\u7aefVTEP\u7684IP\u3001\u76ee\u7684IP\u4e3a\u5bf9\u7aefVTEP\u7684IP\uff0c\u5efa\u7acbVXLAN\u96a7\u9053\u3002\u9759\u6001\u65b9\u5f0f\u624b\u5de5\u914d\u7f6e\u5de5\u4f5c\u91cf\u5927\uff0c\u7075\u6d3b\u6027\u8f83\u5dee\uff0c\u4e0d\u9002\u5408\u5927\u89c4\u6a21\u7684\u7ec4\u7f51\u573a\u666f\u3002</p> <p>\u52a8\u6001\u65b9\u5f0f\u7684VXLAN\u96a7\u9053\u7684\u5efa\u7acb\u501f\u52a9VXLAN EVPN\u534f\u8bae\u4f5c\u4e3aVXLAN\u7684\u63a7\u5236\u5e73\u9762\uff0c\u5728\u4e24\u7aefVTEP\u4e4b\u95f4\u5efa\u7acbBGP EVPN\u5bf9\u7b49\u4f53\uff0c\u7136\u540e\u5bf9\u7b49\u4f53\u4e4b\u95f4\u5229\u7528VXLAN EVPN\u8def\u7531\u5b9e\u73b0VTEP\u7684\u81ea\u52a8\u53d1\u73b0\u3001\u4e3b\u673a\u4fe1\u606f\u76f8\u4e92\u901a\u544a\u7b49\uff0c\u4ece\u800c\u5b9e\u73b0\u52a8\u6001\u5efa\u7acbVXLAN\u96a7\u9053\u3002\u6570\u636e\u5e73\u9762\u5219\u4f9d\u636e\u63a7\u5236\u5e73\u9762\u5efa\u7acb\u7684\u8f6c\u53d1\u8868\u9879\u6267\u884c\u62a5\u6587\u7684\u8f6c\u53d1\u3002\u52a8\u6001\u65b9\u5f0f\u7075\u6d3b\u6027\u9ad8\uff0c\u9002\u5408\u5927\u89c4\u6a21\u7684VXLAN\u7ec4\u7f51\u573a\u666f\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#35-vxlan","title":"3.5. \u5982\u4f55\u786e\u5b9a\u62a5\u6587\u5c5e\u4e8e\u54ea\u4e2aVXLAN\u96a7\u9053","text":"<p>\u201c\u5927\u4e8c\u5c42\u7f51\u7edc\u201d\u5c31\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u7f51\u7edc\u4e2dVLAN\uff08\u865a\u62df\u5c40\u57df\u7f51\uff09\u7684\u6982\u5ff5\uff0c\u5728VXLAN\u7f51\u7edc\u4e2d\uff0c\u4e0d\u540c\u7684\u201c\u5927\u4e8c\u5c42\u7f51\u7edc\u201d\u7528Bridge-Domain\u6807\u8bc6\uff0c\u7b80\u79f0BD\uff0c\u4e0d\u540c\u7684BD\u901a\u8fc7VNI\u6765\u533a\u5206\u7684\u3002\u5728\u5efa\u7acbVXLAN\u96a7\u9053\u65f6\uff0c\u9700\u8981\u5728VTEP\u8bbe\u5907\u4e0a\u914d\u7f6eBD\u4e0eVNI\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u8fdb\u5165VTEP\u7684\u62a5\u6587\u6839\u636eBD\u4e0eVNI\u7684\u6620\u5c04\u5173\u7cfb\u8868\u786e\u5b9a\u62a5\u6587\u5728\u8fdb\u884cVXLAN\u5c01\u88c5\u65f6\uff0c\u8be5\u6dfb\u52a0\u54ea\u4e2aVNI\u6807\u8bc6\uff0c\u5373\u62a5\u6587\u901a\u8fc7\u54ea\u4e2aVXLAN\u96a7\u9053\u8f6c\u53d1\u3002\u90a3\u4e48\uff0c\u62a5\u6587\u6839\u636e\u4ec0\u4e48\u6765\u786e\u5b9a\u81ea\u5df1\u5c5e\u4e8e\u54ea\u4e2aBD\u5462\uff1f</p> <p>\u8bf4\u660e</p> <p>\u5f53BUM\uff08Broadcast&amp;Unknown-unicast&amp;Multicast\uff0c\u5e7f\u64ad&amp;\u672a\u77e5\u5355\u64ad&amp;\u7ec4\u64ad\u62a5\u6587\u8fdb\u884cVXLAN\u5c01\u88c5\u65f6\uff0c\u63a5\u5165\u7aefVTEP\u91c7\u7528\u5934\u7aef\u590d\u5236\u65b9\u5f0f\u8fdb\u884c\u62a5\u6587\u7684VXLAN\u5c01\u88c5\uff0c\u5c06\u62a5\u6587\u53d1\u9001\u7ed9\u5934\u7aef\u590d\u5236\u5217\u8868\u4e2d\u7684\u6240\u6709\u51fa\u7aef\u53e3VTEP\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#36-bd","title":"3.6. \u5982\u4f55\u786e\u5b9a\u62a5\u6587\u5c5e\u4e8e\u54ea\u4e2aBD","text":"<p>VTEP\u53ea\u662f\u8bbe\u5907\u627f\u62c5\u7684\u4e00\u4e2a\u89d2\u8272\u800c\u5df2\uff0c\u53ea\u662f\u8bbe\u5907\u529f\u80fd\u7684\u4e00\u90e8\u5206\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5e76\u975e\u6240\u6709\u8fdb\u5165\u5230\u8bbe\u5907\u7684\u62a5\u6587\u90fd\u4f1a\u8d70VXLAN\u96a7\u9053\uff08\u4e5f\u53ef\u80fd\u62a5\u6587\u5c31\u662f\u8d70\u666e\u901a\u7684\u4e8c\u4e09\u5c42\u8f6c\u53d1\u6d41\u7a0b\uff09\u3002\u6240\u4ee5\uff0c\u5728\u56de\u7b54\u201c\u5982\u4f55\u786e\u5b9a\u62a5\u6587\u5c5e\u4e8e\u54ea\u4e2aBD\u201d\u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u8981\u56de\u7b54\u201c\u54ea\u4e9b\u62a5\u6587\u8981\u8fdb\u5165VXLAN\u96a7\u9053\u201d\u3002</p> <p>\u54ea\u4e9b\u62a5\u6587\u8981\u8fdb\u5165VXLAN\u96a7\u9053\uff1f</p> <p>\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\u4e4b\u524d\uff0c\u4e0d\u59a8\u5148\u56de\u60f3\u4e00\u4e0bVLAN\u6280\u672f\u4e2d\uff0c\u8bbe\u5907\u5bf9\u4e8e\u63a5\u6536\u548c\u53d1\u9001\u7684\u62a5\u6587\u662f\u5982\u4f55\u8fdb\u884c\u5904\u7406\u7684\u3002\u62a5\u6587\u8981\u8fdb\u5165\u8bbe\u5907\u8fdb\u884c\u4e0b\u4e00\u6b65\u5904\u7406\uff0c\u9996\u5148\u5f97\u5148\u8fc7\u63a5\u53e3\u8fd9\u4e00\u5173\uff0c\u53ef\u4ee5\u8bf4\u63a5\u53e3\u638c\u63a7\u7740\u5bf9\u62a5\u6587\u7684\u201c\u751f\u6740\u5927\u6743\u201d\u3002\u4f20\u7edf\u7f51\u7edc\u4e2d\u5b9a\u4e49\u4e86\u4e09\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u63a5\u53e3\uff1aAccess\u3001Trunk\u3001Hybrid\u3002\u8fd9\u4e09\u79cd\u7c7b\u578b\u7684\u63a5\u53e3\u867d\u7136\u5e94\u7528\u573a\u666f\u4e0d\u540c\uff0c\u4f46\u5b83\u4eec\u7684\u6700\u7ec8\u76ee\u7684\u662f\u4e00\u6837\u7684\uff1a\u4e00\u662f\u6839\u636e\u914d\u7f6e\u6765\u68c0\u67e5\u54ea\u4e9b\u62a5\u6587\u662f\u5141\u8bb8\u901a\u8fc7\u7684\uff1b\u4e8c\u662f\u5224\u65ad\u5bf9\u68c0\u67e5\u901a\u8fc7\u7684\u62a5\u6587\u505a\u600e\u6837\u7684\u5904\u7406\u3002</p> <p>\u5728VXLAN\u7f51\u7edc\u4e2d\uff0cVTEP\u4e0a\u7684\u63a5\u53e3\u4e5f\u627f\u62c5\u7740\u7c7b\u4f3c\u7684\u4efb\u52a1\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u91cc\u7684\u63a5\u53e3\u4e0d\u662f\u7269\u7406\u63a5\u53e3\uff0c\u800c\u662f\u4e00\u4e2a\u53eb\u505a\u201c\u4e8c\u5c42\u5b50\u63a5\u53e3\u201d\u7684\u903b\u8f91\u63a5\u53e3\u3002\u7c7b\u4f3c\u7684\uff0c\u4e8c\u5c42\u5b50\u63a5\u53e3\u4e3b\u8981\u505a\u4e24\u4ef6\u4e8b\uff1a\u4e00\u662f\u6839\u636e\u914d\u7f6e\u6765\u68c0\u67e5\u54ea\u4e9b\u62a5\u6587\u9700\u8981\u8fdb\u5165VXLAN\u96a7\u9053\uff1b\u4e8c\u662f\u5224\u65ad\u5bf9\u68c0\u67e5\u901a\u8fc7\u7684\u62a5\u6587\u505a\u600e\u6837\u7684\u5904\u7406\u3002\u5728\u4e8c\u5c42\u5b50\u63a5\u53e3\u4e0a\uff0c\u4e3a\u7b80\u5316\u914d\u7f6e\u7ba1\u7406\uff0c\u6839\u636e\u4e1a\u52a1\u5b9a\u4e49\u4e86\u4e0d\u540c\u7684\u6d41\u5c01\u88c5\u7c7b\u578b\uff08\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u7f51\u7edc\u4e2d\u4e0d\u540c\u7684\u63a5\u53e3\u7c7b\u578b\uff09\u3002\u76ee\u524d\u4e3b\u8981\u7684\u6d41\u5c01\u88c5\u7c7b\u578b\u6709dot1q\u3001untag\u3001qinq\u548cdefault\u56db\u79cd\u7c7b\u578b\uff1a</p> <ul> <li>dot1q\uff1a\u5bf9\u4e8e\u5e26\u6709\u4e00\u5c42VLAN Tag\u7684\u62a5\u6587\uff0c\u8be5\u7c7b\u578b\u5b50\u63a5\u53e3\u53ea\u63a5\u6536\u4e0e\u6307\u5b9aVLAN Tag\u5339\u914d\u7684\u62a5\u6587\uff1b\u5bf9\u4e8e\u5e26\u6709\u4e24\u5c42VLAN Tag\u7684\u62a5\u6587\uff0c\u8be5\u7c7b\u578b\u5b50\u63a5\u53e3\u53ea\u63a5\u6536\u5916\u5c42VLAN Tag\u4e0e\u6307\u5b9aVLAN Tag\u5339\u914d\u7684\u62a5\u6587\u3002</li> <li>untag\uff1a\u8be5\u7c7b\u578b\u5b50\u63a5\u53e3\u53ea\u63a5\u6536\u4e0d\u5e26VLAN Tag\u7684\u62a5\u6587\u3002</li> <li>qinq\uff1a\u8be5\u7c7b\u578b\u5b50\u63a5\u53e3\u53ea\u63a5\u6536\u5e26\u6709\u6307\u5b9a\u4e24\u5c42VLAN Tag\u7684\u62a5\u6587\u3002</li> <li>default\uff1a\u5141\u8bb8\u5b50\u63a5\u53e3\u63a5\u6536\u6240\u6709\u62a5\u6587\uff0c\u4e0d\u533a\u5206\u62a5\u6587\u4e2d\u662f\u5426\u5e26VLAN Tag\u3002\u4e0d\u8bba\u662f\u5bf9\u539f\u59cb\u62a5\u6587\u8fdb\u884cVXLAN\u5c01\u88c5\uff0c\u8fd8\u662f\u89e3\u5c01\u88c5VXLAN\u62a5\u6587\uff0c\u8be5\u7c7b\u578b\u5b50\u63a5\u53e3\u90fd\u4e0d\u4f1a\u5bf9\u539f\u59cb\u62a5\u6587\u8fdb\u884c\u4efb\u4f55VLAN Tag\u5904\u7406\uff0c\u5305\u62ec\u6dfb\u52a0\u3001\u66ff\u6362\u6216\u5265\u79bb\u3002</li> </ul> <p>\u9664\u4e8c\u5c42\u5b50\u63a5\u53e3\u5916\uff0c\u8fd8\u53ef\u4ee5\u5c06VLAN\u4f5c\u4e3a\u4e1a\u52a1\u63a5\u5165\u70b9\u3002\u5c06VLAN\u7ed1\u5b9a\u5230\u5e7f\u64ad\u57dfBD\u540e\uff0c\u52a0\u5165\u8be5VLAN\u7684\u63a5\u53e3\u5373\u4e3aVXLAN\u4e1a\u52a1\u63a5\u5165\u70b9\uff0c\u8fdb\u5165\u63a5\u53e3\u7684\u62a5\u6587\u7531VXLAN\u96a7\u9053\u5904\u7406\u3002</p> <p>\u5c06\u4e8c\u5c42\u5b50\u63a5\u53e3\u52a0\u5165BD</p> <p>\u73b0\u5728\u518d\u6765\u56de\u7b54\u201c\u5982\u4f55\u786e\u5b9a\u62a5\u6587\u5c5e\u4e8e\u54ea\u4e2aBD\u201d\u5c31\u975e\u5e38\u7b80\u5355\u4e86\u3002\u5176\u5b9e\uff0c\u53ea\u8981\u5c06\u4e8c\u5c42\u5b50\u63a5\u53e3\u52a0\u5165\u6307\u5b9a\u7684BD\uff0c\u7136\u540e\u6839\u636e\u4e8c\u5c42\u5b50\u63a5\u53e3\u4e0a\u7684\u914d\u7f6e\uff0c\u8bbe\u5907\u5c31\u53ef\u4ee5\u786e\u5b9a\u62a5\u6587\u5c5e\u4e8e\u54ea\u4e2aBD\u5566\uff01</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#4-vxlan-evpn","title":"4. \u4ec0\u4e48\u662fVXLAN EVPN\uff1f","text":"<p>^f4de6e</p> <p>EVPN\uff08Ethernet Virtual Private Network\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u4e8c\u5c42\u7f51\u7edc\u4e92\u8054\u7684VPN\u6280\u672f\u3002EVPN\u6280\u672f\u91c7\u7528\u7c7b\u4f3c\u4e8eBGP/MPLS IP VPN\u7684\u673a\u5236\uff0c\u5728BGP\u534f\u8bae\u7684\u57fa\u7840\u4e0a\u5b9a\u4e49\u4e86\u4e00\u79cd\u65b0\u7684NLRI\uff08Network Layer Reachability Information\uff0c\u7f51\u7edc\u5c42\u53ef\u8fbe\u4fe1\u606f\uff09\u5373EVPN NLRI\uff0cEVPN NLRI\u5b9a\u4e49\u4e86\u51e0\u79cd\u65b0\u7684BGP EVPN\u8def\u7531\u7c7b\u578b\uff0c\u7528\u4e8e\u5904\u5728\u4e8c\u5c42\u7f51\u7edc\u7684\u4e0d\u540c\u7ad9\u70b9\u4e4b\u95f4\u7684MAC\u5730\u5740\u5b66\u4e60\u548c\u53d1\u5e03\u3002</p> <p>\u6700\u521d\u7684VXLAN\u65b9\u6848\uff08RFC7348\uff09\u4e2d\u6ca1\u6709\u5b9a\u4e49\u63a7\u5236\u5e73\u9762\uff0c\u662f\u624b\u5de5\u914d\u7f6eVXLAN\u96a7\u9053\uff0c\u7136\u540e\u901a\u8fc7\u6570\u636e\u5e73\u9762\u7684\u6d41\u91cf\u6cdb\u6d2a\u7684\u65b9\u5f0f\u8fdb\u884cVTEP\u53d1\u73b0\u548c\u4e3b\u673a\u4fe1\u606f\uff08\u5305\u62ecIP\u5730\u5740\u3001MAC\u5730\u5740\u3001VNI\u3001\u7f51\u5173VTEP IP\u5730\u5740\uff09\u5b66\u4e60\u7684\u3002\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u4e0a\u8f83\u4e3a\u7b80\u5355\uff0c\u4f46\u662f\u4f1a\u5bfc\u81f4\u7f51\u7edc\u4e2d\u5b58\u5728\u5f88\u591a\u6cdb\u6d2a\u6d41\u91cf\u3001\u7f51\u7edc\u6269\u5c55\u8d77\u6765\u56f0\u96be\u3002\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0c\u5728VXLAN\u4e2d\u5f15\u5165\u4e86**EVPN\u4f5c\u4e3aVXLAN\u7684\u63a7\u5236\u5e73\u9762**\uff0c\u5373****\u901a\u8fc7****VXLAN EVPN\u8def\u7531\u4f20\u9012VTEP\u5730\u5740\u548c\u4e3b\u673a\u4fe1\u606f\uff0c\u628a\u539f\u672c\u4f9d\u8d56\u6570\u636e\u5e73\u9762\u7684VTEP\u53d1\u73b0\u548c\u4e3b\u673a\u4fe1\u606f\u5b66\u4e60\u8f6c\u79fb\u5230\u63a7\u5236\u5e73\u9762\u3002</p> <p> \u5c06EVPN\u4f5c\u4e3aVXLAN\u7684\u63a7\u5236\u5e73\u9762</p> <p>\u91c7\u7528EVPN\u4f5c\u4e3aVXLAN\u7684\u63a7\u5236\u5e73\u9762\u5177\u6709\u4ee5\u4e0b\u4f18\u52bf\uff1a</p> <ul> <li>\u53ef\u5b9e\u73b0VTEP\u81ea\u52a8\u53d1\u73b0\u3001VXLAN\u96a7\u9053\u81ea\u52a8\u5efa\u7acb\uff0c\u4ece\u800c\u964d\u4f4e\u7f51\u7edc\u90e8\u7f72\u3001\u6269\u5c55\u7684\u96be\u5ea6\u3002</li> <li> <p>EVPN\u53ef\u4ee5\u540c\u65f6\u53d1\u5e03\u4e8c\u5c42MAC\u4fe1\u606f\u548c\u4e09\u5c42\u8def\u7531\u4fe1\u606f\u3002</p> </li> <li> <p>\u53ef\u4ee5\u51cf\u5c11\u7f51\u7edc\u4e2d\u7684\u6cdb\u6d2a\u6d41\u91cf\u3002</p> </li> </ul>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#41-vxlan-evpn","title":"4.1. VXLAN EVPN\u7684\u8def\u7531\u7c7b\u578b\u6709\u54ea\u4e9b\uff1f","text":"<p>\u5728EVPN NLRI\u4e2d\u5b9a\u4e49\u4e86\u5982\u4e0b\u51e0\u79cd\u5e94\u7528\u4e8eVXLAN\u63a7\u5236\u5e73\u9762\u7684BGP EVPN\u8def\u7531\u7c7b\u578b\uff1a</p> <ul> <li>Type2\u8def\u7531\uff1a\u53c8\u79f0MAC/IP\u8def\u7531\uff0c\u4e3b\u8981\u7528\u4e8eVTEP\u4e4b\u95f4\u76f8\u4e92\u901a\u544a\u4e3b\u673aIP\u3001MAC\u4fe1\u606f\u3002</li> <li>Type3\u8def\u7531\uff1a\u4e3b\u8981\u7528\u4e8e\u5728VTEP\u4e4b\u95f4\u76f8\u4e92\u901a\u544a\u4e8c\u5c42VNI\u3001VTEP IP\u4fe1\u606f\uff0c\u4ee5\u5efa\u7acb\u5934\u7aef\u590d\u5236\u5217\u8868\uff0c\u6307\u5bfc\u540e\u7eedBUM\u62a5\u6587\u7684\u8f6c\u53d1\u3002</li> <li>Type5\u8def\u7531\uff1a\u53c8\u79f0IP\u524d\u7f00\u8def\u7531\uff0c\u4e3b\u8981\u7528\u4e8e\u4f20\u9012\u7f51\u6bb5\u8def\u7531\u3002</li> </ul>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#42-evpnvtep","title":"4.2. \u4f7f\u7528EVPN\u53d1\u5e03VTEP\u8def\u7531","text":"<p>\u5728\u4e3b\u673a\u540c\u5b50\u7f51\u4e92\u901a\u573a\u666f\u4e0b\uff0c\u56e0\u4e3a\u53ea\u9700\u8981\u5728\u540c\u4e00\u4e2a\u4e8c\u5c42\u5e7f\u64ad\u57df\uff08BD\uff09\u5185\u4e92\u901a\uff0c\u6240\u4ee5\u53ea\u8981\u4e24\u7aefVTEP\u7684IP\u5730\u5740\u8def\u7531\u53ef\u8fbe\uff0cVXLAN\u96a7\u9053\u5c31\u53ef\u4ee5\u5efa\u7acb\uff0c\u6240\u4ee5\u540c\u5b50\u7f51VXLAN\u96a7\u9053\u7684\u52a8\u6001\u5efa\u7acb\u9700\u8981\u5728\u4e24\u7aefVTEP\u4e4b\u95f4\u5efa\u7acbBGP EVPN\u5bf9\u7b49\u4f53\uff0c\u7136\u540e\u5bf9\u7b49\u4f53\u4e4b\u95f4\u901a\u8fc7\u4ea4\u4e92Type3\u8def\u7531\u6765\u4e92\u76f8\u4f20\u9012VNI\u548cVTEP IP\u5730\u5740\u4fe1\u606f\uff0c\u6765\u5b9e\u73b0\u52a8\u6001\u5efa\u7acbVXLAN\u96a7\u9053\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#43-evpn","title":"4.3. \u4f7f\u7528EVPN\u53d1\u5e03\u4e3b\u673a\u8def\u7531","text":"<p>\u5728\u4e3b\u673a\u8de8\u5b50\u7f51\u4e92\u901a\u573a\u666f\u4e0b\uff0c\u9700\u8981\u5728\u4e0d\u540c\u4e8c\u5c42\u5e7f\u64ad\u57df\uff08BD\uff09\u5185\u4e92\u901a\uff0c\u4e3b\u673a\u4e4b\u95f4\u7684\u4e92\u901a\u9700\u8981\u77e5\u9053\u5bf9\u7aef\u4e3b\u673a\u7684IP\u8def\u7531\u3002Type2\u8def\u7531\u643a\u5e2632\u4f4d\u63a9\u7801\u7684\u4e3b\u673aIP\u5730\u5740\u4fe1\u606f\uff0cVTEP\u4e4b\u95f4\u901a\u8fc7EVPN Type2\u8def\u7531\u53d1\u5e03\u4e3b\u673a\u8def\u7531\u4fe1\u606f\uff0c\u4ece\u800c\u4f7fVTEP\u5c31\u5b66\u4e60\u5230\u4e3b\u673a\u7684\u8def\u7531\u4fe1\u606f\uff0c\u4ece\u800c\u8fdb\u884c\u4e09\u5c42\u8f6c\u53d1\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#44-evpn","title":"4.4. \u4f7f\u7528EVPN\u53d1\u5e03\u7f51\u6bb5\u8def\u7531","text":"<p>\u7f51\u6bb5\u8def\u7531\u7684\u53d1\u5e03\u6d41\u7a0b\u4e0e\u4e3b\u673a\u8def\u7531\u7c7b\u4f3c\uff0c\u533a\u522b\u5728\u4e8e\u7f51\u6bb5\u8def\u7531\u662f\u901a\u8fc7Type5\u8def\u7531\u53d1\u5e03\u7684\uff0cType2\u8def\u7531\u53ea\u80fd\u53d1\u5e0332/128\u4f4d\u7684\u4e3b\u673a\u8def\u7531\u3002Type5\u8def\u7531\u4e5f\u53ef\u4ee5\u53d1\u5e0332/128\u4f4d\u7684\u4e3b\u673a\u8def\u7531\uff0c\u5728\u53d1\u5e0332/128\u4f4d\u7684\u4e3b\u673a\u8def\u7531\u65f6\uff0c\u529f\u80fd\u4e0eType2\u8def\u7531\u7c7b\u4f3c\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#45-evpnmac","title":"4.5. \u4f7f\u7528EVPN\u5b66\u4e60MAC\u5730\u5740","text":"<p>\u5728VXLAN\u7f51\u7edc\u4e2d\uff0c\u4e3a\u4e86\u51cf\u5c11\u7f51\u7edc\u7ba1\u7406\u5458\u624b\u5de5\u7ef4\u62a4\u5de5\u4f5c\u91cf\u548c\u51cf\u5c11\u6cdb\u6d2a\u6d41\u91cf\uff0c\u9700\u8981\u652f\u6301MAC\u5730\u5740\u52a8\u6001\u5b66\u4e60\u3002\u8de8\u5b50\u7f51\u4e92\u901a\u9700\u8981\u8fdb\u884c\u4e09\u5c42\u8f6c\u53d1\uff0cMAC\u5730\u5740\u5b66\u4e60\u53ea\u5728\u672c\u7aef\u4e3b\u673a\u548c\u7f51\u5173\u4e4b\u95f4\u901a\u8fc7\u52a8\u6001ARP\u62a5\u6587\u5b9e\u73b0\uff0c\u8fd9\u91cc\u4e0d\u518d\u8be6\u8ff0\u3002\u5728\u540c\u5b50\u7f51\u4e3b\u673a\u4e92\u901a\u573a\u666f\u4e0b\uff0c\u4f7f\u7528EVPN\u4f5c\u4e3aVXLAN\u7684\u63a7\u5236\u5e73\u9762\uff0c\u53ef\u4ee5\u7528EVPN\u6765\u8fdb\u884cMAC\u5b66\u4e60\u3002Type2\u8def\u7531\u4e0d\u4ec5\u643a\u5e26IP\u8def\u7531\u4fe1\u606f\uff0c\u8fd8\u643a\u5e26MAC\u5730\u5740\u4fe1\u606f\uff0c\u4f7f\u7528EVPN\u6765\u8fdb\u884cMAC\u5b66\u4e60\u7684\u8fc7\u7a0b\uff0c\u662f\u901a\u8fc7\u5728VTEP\u4e4b\u95f4\u4f20\u9012Type2\u8def\u7531\u8def\u7531\u5b8c\u6210\u7684\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#5-vxlan","title":"5. VXLAN\u7f51\u7edc\u4e2d\u7684\u62a5\u6587\u662f\u5982\u4f55\u8f6c\u53d1\u7684\uff1f","text":"<p>\u57fa\u672c\u7684\u4e8c\u4e09\u5c42\u8f6c\u53d1\u4e2d\uff0c\u4e8c\u5c42\u8f6c\u53d1\u4f9d\u8d56\u7684\u662fMAC\u8868\uff0c\u4e09\u5c42\u8f6c\u53d1\u4f9d\u8d56\u7684\u662fFIB\u8868\u3002\u5728VXLAN\u4e2d\uff0c\u5176\u5b9e\u4e5f\u662f\u540c\u6837\u7684\u9053\u7406\u3002\u4e0b\u9762\u4ee5VXLAN\u96a7\u9053\u7684\u5efa\u7acb\uff09\u4e3a\u4f8b\uff0c\u5206\u522b\u4ecb\u7ecd\u540c\u5b50\u7f51\u5185\u3001\u8de8\u5b50\u7f51\u95f4\u662f\u5982\u4f55\u8fdb\u884c\u901a\u4fe1\u7684\uff0c\u5e2e\u52a9\u60a8\u7406\u89e3VXLAN\u4e2d\u7684\u6982\u5ff5\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#51-vxlan","title":"5.1. \u96c6\u4e2d\u5f0fVXLAN\u4e2d\u540c\u5b50\u7f51\u4e92\u901a\u6d41\u7a0b","text":"<p>\u5982\u4e0b\u56fe\u6240\u793a\uff0cVM_A\u3001VM_B\u548cVM_C\u5c5e\u4e8e\u540c\u7f51\u6bb5\u3002\u6b64\u65f6\uff0cVM_A\u60f3\u4e0eVM_C\u8fdb\u884c\u901a\u4fe1\uff0c\u9996\u6b21\u8fdb\u884c\u901a\u4fe1\uff0c\u62a5\u6587\u8fdb\u884c\u5982\u4e0b\u5904\u7406\uff1a</p> <ol> <li>VM_A\u4e0a\u6ca1\u6709VM_C\u7684MAC\u5730\u5740\uff0c\u6240\u4ee5\u4f1a\u53d1\u9001ARP\u5e7f\u64ad\u62a5\u6587\u8bf7\u6c42VM_C\u7684MAC\u5730\u5740\u3002</li> <li>VTEP_1\u6536\u5230ARP\u8bf7\u6c42\u540e\uff0c\u5148\u8fdb\u884cVXLAN\u5c01\u88c5\uff0c\u7136\u540e\u5c06VXLAN\u62a5\u6587\u590d\u5236\u591a\u4efd\u5206\u522b\u53d1\u9001\u7ed9\u6240\u6709\u7684\u5bf9\u7aefVTEP\u3002</li> <li>\u62a5\u6587\u5230\u8fbeVTEP_2\u548cVTEP_3\u540e\uff0cVTEP\u5bf9\u62a5\u6587\u8fdb\u884c\u89e3\u5c01\u88c5\uff0c\u5f97\u5230VM_A\u53d1\u9001\u7684\u539f\u59cb\u62a5\u6587\u3002VTEP_2\u548cVTEP_3\u5728\u5bf9\u5e94\u7684\u4e8c\u5c42\u57df\u5185\u5e7f\u64ad\u3002</li> <li>\u5f53VM_C\u6536\u5230\u8be5\u8bf7\u6c42\u62a5\u6587\u540e\uff0c\u53d1\u73b0\u76ee\u7684IP\u4e0e\u672c\u673aIP\u76f8\u540c\uff0c\u56e0\u6b64VM_C\u5c06\u8fdb\u884cARP\u5e94\u7b54\u3002\u800c\u5176\u4ed6VM\u6536\u5230\u8be5\u8bf7\u6c42\u62a5\u6587\u4f1a\u4e22\u5f03\u3002</li> </ol> <p>\u7ecf\u8fc7\u4e0a\u8ff0\u8fc7\u7a0b\uff0cVM_A\u548cVM_C\u5747\u5df2\u5b66\u4e60\u5230\u4e86\u5bf9\u65b9\u7684MAC\u5730\u5740\u3002\u4e4b\u540e\uff0cVM_A\u548cVM_C\u5c06\u91c7\u7528\u5355\u64ad\u65b9\u5f0f\u8fdb\u884c\u901a\u4fe1\u3002</p> <p> \u540c\u5b50\u7f51VM\u4e92\u901a\u7ec4\u7f51\u56fe</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#52-vxlan","title":"5.2. \u96c6\u4e2d\u5f0fVXLAN\u4e2d\u8de8\u5b50\u7f51\u4e92\u901a\u6d41\u7a0b","text":"<p>\u8de8\u5b50\u7f51\u62a5\u6587\u8f6c\u53d1\u9700\u8981\u901a\u8fc7\u4e09\u5c42\u7f51\u5173\u5b9e\u73b0\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0cVM_A\u3001VM_B\u5c5e\u4e8e\u4e0d\u540c\u7f51\u6bb5\u3002VM_A\u4e0eVM_B\u8fdb\u884c\u901a\u4fe1\u7684\u62a5\u6587\u5904\u7406\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>VM_A\u5148\u5c06\u6570\u636e\u62a5\u6587\u53d1\u9001\u7ed9VTEP_1\u3002</li> <li>VTEP_1\u6536\u5230\u540e\u8fdb\u884cVXLAN\u5c01\u88c5\uff0c\u7136\u540e\u5c06VXLAN\u62a5\u6587\u53d1\u9001\u7ed9\u5bf9\u7aefVTEP_3\u3002</li> <li>VTEP_3\u6536\u5230VXLAN\u62a5\u6587\u540e\u8fdb\u884c\u89e3\u5c01\u88c5\uff0c\u53d1\u73b0\u76ee\u7684MAC\u662f\u4e09\u5c42\u7f51\u5173\u63a5\u53e3BDIF\u7684MAC\u5730\u5740MAC_10\uff0c\u800c\u76ee\u7684IP\u5730\u5740\u4e3aIP_B\uff0810.1.20.1\uff09\uff0c\u56e0\u6b64\u9700\u8981\u8fdb\u884c\u4e09\u5c42\u8f6c\u53d1\u3002</li> <li>VTEP_3\u6839\u636e\u8def\u7531\u8868\u67e5\u627e\u5230IP_B\u7684\u4e0b\u4e00\u8df3\uff0c\u53d1\u73b0\u51fa\u63a5\u53e3\u4e3aBDIF 20\uff0cVTEP_3\u5c06\u62a5\u6587\u91cd\u65b0\u8fdb\u884cVXLAN\u5c01\u88c5\uff0c\u7136\u540e\u5c06VXLAN\u62a5\u6587\u53d1\u9001\u7ed9\u5bf9\u7aefVTEP_2\u3002</li> <li>\u62a5\u6587\u5230\u8fbeVTEP_2\u540e\uff0cVTEP_2\u5bf9\u62a5\u6587\u8fdb\u884c\u89e3\u5c01\u88c5\uff0c\u5e76\u5c06\u5176\u53d1\u9001\u7ed9VM_B\u3002</li> </ol> <p> \u4e0d\u540c\u5b50\u7f51VM\u4e92\u901a\u6d41\u7a0b\u793a\u610f</p> <p>\u8bf4\u660e</p> <p>BDIF\u63a5\u53e3\u7684\u529f\u80fd\u4e0eVLANIF\u63a5\u53e3\u7c7b\u4f3c\uff0c\u662f\u57fa\u4e8eBD\u521b\u5efa\u7684\u4e09\u5c42\u903b\u8f91\u63a5\u53e3\uff0c\u7528\u4ee5\u5b9e\u73b0\u4e0d\u540c\u5b50\u7f51\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u6216VXLAN\u7f51\u7edc\u4e0e\u975eVXLAN\u7f51\u7edc\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/00%20%E4%BB%80%E4%B9%88%E6%98%AFVXLAN/#6","title":"6. \u53c2\u8003\u8d44\u6e90","text":"<ol> <li>VXLAN\u914d\u7f6e\u6307\u5357\uff08NetEngine\u8def\u7531\u5668\uff09</li> <li>VXLAN\u914d\u7f6e\u6307\u5357\uff08S\u4ea4\u6362\u673a\uff09</li> <li>\u4ec0\u4e48\u662fVXLAN</li> </ol>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/","title":"01 VXLAN\u7f51\u7edc\u4e2d\u7684RD\u3001RT\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u914d\u7f6eRD\u3001RT\uff1f","text":"<p>\u4ec0\u4e48\u662fVXLAN\u7f51\u7edc\u4e2d\u7684RD\u548cRT\uff1fRD\u3001RT\u7684\u914d\u7f6e\u8981\u6c42\u662f\u4ec0\u4e48\uff1f\u76f8\u540c\u7f51\u6bb5\u4e92\u901a\u573a\u666f\u4e0b\uff0c\u5982\u4f55\u914d\u7f6eRD\u3001RT\uff1f\u8de8\u7f51\u6bb5\u4e92\u901a\u573a\u666f\u4e0b\uff0c\u5982\u4f55\u914d\u7f6eRD\u3001RT\uff1f</p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#1-vxlanrdrt","title":"1. VXLAN\u7f51\u7edc\u4e2d\u7684RD\u3001RT\u662f\u4ec0\u4e48\uff1f","text":""},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#11-vpn","title":"1.1. VPN","text":""},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#12-rd","title":"1.2. RD","text":""},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#13-rt","title":"1.3. RT","text":""},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#14-evpn","title":"1.4. EVPN","text":""},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#2-rdrt","title":"2. \u76f8\u540c\u7f51\u6bb5\u4e92\u901a\u573a\u666f\u4e0b\uff0c\u5982\u4f55\u914d\u7f6eRD\u3001RT\uff1f","text":""},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#21","title":"2.1. \u7ec4\u7f51\u9700\u6c42","text":"<p>\u5982\u56fe1-1\u6240\u793a\uff0c\u67d0\u4f01\u4e1a\u5728\u4e0d\u540c\u7684\u6570\u636e\u4e2d\u5fc3\u4e2d\u90fd\u62e5\u6709\u81ea\u5df1\u7684VM\uff0c\u670d\u52a1\u56681\u4e0a\u7684VM1\u5c5e\u4e8eVLAN 30\uff0c\u670d\u52a1\u56682\u4e0a\u7684VM1\u5c5e\u4e8eVLAN 20\uff0c\u670d\u52a1\u56681\u548c\u670d\u52a1\u56682\u4f4d\u4e8e\u76f8\u540c\u7f51\u6bb5\u3002\u73b0\u9700\u8981\u914d\u7f6e\u901a\u8fc7VXLAN\u5b9e\u73b0\u76f8\u540c\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u3002</p> <p>\u56fe1-1\u00a0\u914d\u7f6e\u901a\u8fc7VXLAN\u5b9e\u73b0\u76f8\u540c\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u7ec4\u7f51\u56fe </p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#22","title":"2.2. \u914d\u7f6e\u5173\u952e\u70b9\u5206\u6790","text":"<ol> <li> <p>\u5173\u4e8eVNI\uff0c\u914d\u7f6e\u6709\u54ea\u4e9b\u8981\u6c42\uff1f</p> <p>\u76f8\u540c\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u65f6\uff0cEVPN\u9700\u8981\u53d1\u5e03Type2\u548cType3\u8def\u7531\uff0c\u5e76\u53ea\u4f7f\u7528\u4e8c\u5c42VNI\uff0c\u672c\u7aef\u548c\u5bf9\u7aef\u7684\u4e8c\u5c42VNI\u9700\u8981\u4e00\u81f4\u3002</p> <p>\uff081\uff09VTEP\u4e4b\u95f4\u901a\u8fc7\u53d1\u5e03Type3\u8def\u7531\uff0c\u7528\u4e8e\u5728VTEP\u4e4b\u95f4\u76f8\u4e92\u901a\u544a\u4e8c\u5c42VNI\u3001VTEP IP\u4fe1\u606f\uff0c\u901a\u8fc7\u5efa\u7acb\u5934\u7aef\u590d\u5236\u5217\u8868\uff0c\u5b9e\u73b0VTEP\u8bbe\u5907\u7684\u81ea\u52a8\u53d1\u73b0\u548cVXLAN\u96a7\u9053\u7684\u52a8\u6001\u5efa\u7acb\u3002</p> <p>\uff082\uff09VTEP\u4e4b\u95f4\u901a\u8fc7\u53d1\u5e03Type2\u8def\u7531\uff0c\u5b9e\u73b0\u4e24\u7aefVTEP\u76f8\u4e92\u5b66\u4e60\u4e3b\u673aMAC\u3002</p> </li> <li> <p>\u5173\u4e8eEVPN\u5b9e\u4f8b\u7684RD\u548cRT\u503c\uff0c\u914d\u7f6e\u6709\u54ea\u4e9b\u8981\u6c42\uff1f</p> <p>RD\u503c\uff0c\u53ea\u5728\u672c\u5730\u6709\u6548\uff0c\u4e0d\u540c\u7684EVPN\u5b9e\u4f8b\u4f7f\u7528\u4e0d\u540c\u7684RD\u503c\uff0c\u5728\u672c\u5730\u4e0d\u80fd\u51b2\u7a81\u3002</p> <p>\u76f8\u540c\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u65f6\uff0c\u53d1\u5e03EVPN\u8def\u7531\u65f6\uff0c\u53d1\u9001\u7aefVTEP\u4f1a\u643a\u5e26\u672c\u5730EVPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u5217\u8868\u4e2d\u7684\u6240\u6709VPN-Target\u5c5e\u6027\u3002\u5f53\u63a5\u6536\u7aefVTEP\u6536\u5230\u7684EVPN\u8def\u7531\u643a\u5e26\u7684VPN-Target\u5c5e\u6027\uff0c\u4e0e\u81ea\u5df1\u5728EVPN\u5b9e\u4f8b\u7684\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u5217\u8868\u6709\u76f8\u540c\u6761\u76ee\u65f6\uff0c\u624d\u5141\u8bb8\u63a5\u6536\u8be5EVPN\u8def\u7531\u3002\u6240\u4ee5\u672c\u5730EVPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\uff08ERT\uff09\u9700\u8981\u4e0e\u5bf9\u7aef\u7684EVPN\u5b9e\u4f8b\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\uff08IRT\uff09\u6709\u76f8\u540c\u7684\u503c\u3002</p> </li> </ol>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#23","title":"2.3. \u603b\u4f53\u914d\u7f6e\u5173\u952e\u914d\u7f6e\u6b65\u9aa4\u53ca\u8981\u6c42","text":"<p>\u5982\u4e0b\u4ec5\u63cf\u8ff0\u5728VXLAN\u7684Overlay\u7f51\u7edc\u4e2d\u7684\u5173\u952e\u914d\u7f6e\u8981\u6c42\u4ee5\u53caNVE\u8bbe\u5907\u7684\u5177\u4f53\u914d\u7f6e\u6837\u4f8b\uff1a</p> <p>\u88681-1\u00a0Overlay\u7f51\u7edc\u4e2d\u5173\u952e\u914d\u7f6e\u8981\u6c42\u53ca\u4e3e\u4f8b</p> \u5e8f\u53f7 \u914d\u7f6e\u8bf4\u660e Device1\u7684\u914d\u7f6e\u6587\u4ef6\uff1a Device3\u7684\u914d\u7f6e\u6587\u4ef6\uff1a 1 \u5b9a\u4e49\u5e7f\u64ad\u57dfBD\u4e3a20\uff0cBD\u4f5c\u4e3aVXLAN\u7f51\u7edc\u7684\u5b9e\u4f53\uff0c\u901a\u8fc7BD\u8f6c\u53d1\u6d41\u91cf\u3002\u76f8\u540c\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u65f6\uff0c\u5bf9\u7aef\u7684BD\u9700\u8981\u4e0e\u672c\u7aef\u4e00\u81f4\u3002 #bridge-domain 20 #bridge-domain 20 2 \u5b9a\u4e49\u4e8c\u5c42VNI\u4e3a5020\uff0cVNI\u5c06\u4ee51:1\u65b9\u5f0f\u6620\u5c04\u5230\u5e7f\u64ad\u57dfBD 20\u3002\u76f8\u540c\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u65f6\uff0c\u672c\u7aef\u548c\u5bf9\u7aef\u7684\u4e8c\u5c42VNI\u9700\u8981\u4e00\u81f4\u3002 vxlan vni 5020 vxlan vni 5020 3 \u5728BD\u4e0b\u521b\u5efaEVPN\u5b9e\u4f8b\uff0c\u5e76\u914d\u7f6e\u8be5EVPN\u5b9e\u4f8b\u7684RD\u503c\u3001\u672c\u5730EVPN\u5b9e\u4f8b\u51fa\u65b9\u5411\u548c\u5165\u65b9\u5411\u7684VPN-Target\u5c5e\u6027\u3002\u76f8\u540c\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u65f6\uff0c\u672c\u7aef\u8bbe\u5907\u4f1a\u53d1\u9001\u643a\u5e26MAC\u4fe1\u606f\u7684Type2\u8def\u7531\u81f3\u5bf9\u7aef\uff0c\u8be5Type2\u8def\u7531\u4f1a\u643a\u5e26BD\u4e0b\u7684ERT\uff0c\u5bf9\u7aef\u76f8\u540cBD\u9700\u8981\u63a5\u6536\u8be5Type2\u8def\u7531\u4e2d\u7684MAC\u4fe1\u606f\u624d\u80fd\u8fdb\u884c\u4e8c\u5c42\u4e92\u901a\uff0c\u6240\u4ee5\u672c\u5730EVPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\u9700\u8981\u4e0e\u5bf9\u7aef\u7684EVPN\u5b9e\u4f8b\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\u76f8\u540c\u3002 evpn  route-distinguisher 10:1  vpn-target 100:5010 export-extcommunity  vpn-target 100:5020 import-extcommunity evpn  route-distinguisher 10:3  vpn-target 100:5020 export-extcommunity  vpn-target 100:5010 import-extcommunity 4 \u914d\u7f6e\u670d\u52a1\u5668\u63a5\u5165\u5230VXLAN\u7f51\u7edc\uff0c\u9700\u8981\u914d\u7f6e\u63a5\u5165\u4fa7\u63a5\u53e3\u5de5\u4f5c\u5728\u4e8c\u5c42\u3002VM1\u6240\u5c5e\u7684VLAN ID\u4e3aVLAN 30\uff0c\u6240\u4ee5\u8bbe\u7f6e\u5141\u8bb8\u901a\u8fc7\u7684VLAN\u4e3aVLAN 30\uff0c\u5e76\u4ee51:1\u65b9\u5f0f\u6620\u5c04\u5230\u5e7f\u64ad\u57dfBD 20\u3002VM2\u6240\u5c5e\u7684VLAN ID\u4e3aVLAN 20\uff0c\u6240\u4ee5\u8bbe\u7f6e\u5141\u8bb8\u901a\u8fc7\u7684VLAN\u4e3aVLAN 20\uff0c\u5e76\u4ee51:1\u65b9\u5f0f\u6620\u5c04\u5230\u5e7f\u64ad\u57dfBD 20\u3002 #interface 10GE1/0/2.1 mode l2 encapsulation dot1q vid 30 bridge-domain 20 #interface 10GE1/0/2.1 mode l2 encapsulation dot1q vid 20 bridge-domain 20 5 \u521b\u5efa\u73af\u56de\u53e3\u5730\u5740\uff0c\u8be5\u5730\u5740\u5c06\u4f5c\u4e3aNVE\u8bbe\u5907\u7684IP\u5730\u5740\u3002 #interface LoopBack1 ip address 2.2.2.2 255.255.255.255 #interface LoopBack1 ip address 4.4.4.4 255.255.255.255 6 \u521b\u5efaVTEP IP\u5e76\u914d\u7f6eVNI\uff08\u5373\u4e8c\u5c42VNI\uff09\u7684\u5934\u7aef\u590d\u5236\u5217\u8868\u3002 #interface Nve1 source 2.2.2.2 vni 5020 head-end peer-list protocol bgp #interface Nve1 source 4.4.4.4 vni 5020 head-end peer-list protocol bgp"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#3-rdrt","title":"3. \u8de8\u7f51\u6bb5\u4e92\u901a\u573a\u666f\u4e0b\uff0c\u5982\u4f55\u914d\u7f6eRD\u3001RT\uff1f","text":""},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#31","title":"3.1. \u7ec4\u7f51\u9700\u6c42","text":"<p>\u5982\u56fe1-2\u6240\u793a\uff0c\u67d0\u7528\u6237\u5728\u4e0d\u540c\u7684\u6570\u636e\u4e2d\u5fc3NVE\u8bbe\u5907\u4e0b\u90fd\u62e5\u6709\u81ea\u5df1\u7684VM\uff0c\u5176\u4e2d\u670d\u52a1\u56681\u4e0a\u7684VM1\u5c5e\u4e8eVLAN 10\uff0c\u670d\u52a1\u56682\u4e0a\u7684VM1\u5c5e\u4e8eVLAN 20\uff0c\u4e14\u4f4d\u4e8e\u4e0d\u540c\u7f51\u6bb5\uff1b\u670d\u52a1\u56681\u901a\u8fc7Device2\u63a5\u5165VXLAN\u7f51\u7edc\uff0c\u670d\u52a1\u56682\u901a\u8fc7Device3\u63a5\u5165VXLAN\u7f51\u7edc\u3002\u73b0\u9700\u8981\u901a\u8fc7VXLAN\u5206\u5e03\u5f0f\u7f51\u5173\u5b9e\u73b0\u4e0d\u540c\u7f51\u6bb5\u4e2dVM\u7684\u4e92\u901a\u3002</p> <p>\u56fe1-2\u00a0\u914d\u7f6e\u901a\u8fc7VXLAN\u5b9e\u73b0\u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u7ec4\u7f51\u56fe </p>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#32","title":"3.2. \u914d\u7f6e\u5173\u952e\u70b9\u5206\u6790","text":"<ol> <li> <p>\u5173\u4e8eVNI\uff0c\u914d\u7f6e\u6709\u54ea\u4e9b\u8981\u6c42\uff1f</p> <p>\u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\uff0c\u9700\u8981\u53d1\u5e03Type2\uff08\u6216\u8005Type5\uff09\u8def\u7531\u3002\u901a\u8fc7Type2\u53d1\u5e03\u4e3b\u673a\u8def\u7531\u65f6\uff0c\u9700\u8981\u7528\u5230\u4e8c\u5c42VNI\u548c\u4e09\u5c42VNI\u3002\u901a\u8fc7Type5\u53d1\u5e03\u7f51\u6bb5\u8def\u7531\u65f6\uff0c\u53ea\u9700\u8981\u7528\u5230\u4e09\u5c42VNI\u3002</p> <ol> <li>VTEP\u4e4b\u95f4\u901a\u8fc7\u53d1\u5e03Type2\u7684\u4e3b\u673a\u8def\u7531\uff0c\u5b9e\u73b0\u5206\u5e03\u5f0f\u7f51\u5173\u573a\u666f\u4e0b\u8de8\u7f51\u6bb5\u4e3b\u673a\u4e4b\u95f4\u7684\u4e92\u901a\u3002\u5728\u5206\u5e03\u5f0fVXLAN\u7f51\u7edc\u4e2d\uff0c\u4e00\u822c\u4f7f\u7528Type2\u8def\u7531\u901a\u544a\u4e3b\u673a\u8def\u7531\u548c\u4e3b\u673aARP\uff0c\u6b64\u65f6\u4e5f\u53ef\u9009\u62e9\u914d\u7f6eARP\u5e7f\u64ad\u62a5\u6587\u6291\u5236\u529f\u80fd\uff0c\u5e76\u80fd\u652f\u6301\u865a\u62df\u673a\u8fc1\u79fb\u3002</li> <li> <p>VTEP\u4e4b\u95f4\u901a\u8fc7\u53d1\u5e03Type5\u7684\u7f51\u6bb5\u8def\u7531\uff0c\u5b9e\u73b0\u5206\u5e03\u5f0f\u7f51\u5173\u573a\u666f\u4e0b\u8de8\u7f51\u6bb5\u4e3b\u673a\u4e4b\u95f4\u7684\u4e92\u901a\uff0c\u51cf\u5c11\u4e3b\u673a\u8def\u7531\u7684\u53d1\u5e03\u3002</p> <p>\u4f7f\u7528Type5\u8def\u7531\u65f6\uff0c\u6709\u5982\u4e0b\u9650\u5236\uff1a</p> <ul> <li>\u7f51\u5173\u8bbe\u5907\u4e0b\u8fde\u63a5\u7684\u7f51\u6bb5\u5728\u6574\u4e2a\u7f51\u7edc\u4e2d\u552f\u4e00\u3002</li> <li>\u5728\u914d\u7f6e\u53d1\u5e03IP\u524d\u7f00\u7c7b\u578b\u7684\u8def\u7531\u4e4b\u540e\uff0c\u9700\u6267\u884c**arp direct-route enable**\u547d\u4ee4\u5c06\u4e3b\u673aIP\u5730\u5740\u53d1\u5e03\u4e3a\u76f4\u8fde\u8def\u7531\uff0c\u6b64\u65f6\u865a\u62df\u673a\u7684\u8fc1\u79fb\u4f1a\u53d7\u5230\u9650\u5236\u3002</li> </ul> </li> </ol> </li> <li> <p>\u5173\u4e8eEVPN\u5b9e\u4f8b\u7684RD\u548cRT\u503c\uff0c\u914d\u7f6e\u6709\u54ea\u4e9b\u8981\u6c42\uff1f</p> <p>RD\u503c\uff0c\u53ea\u5728\u672c\u5730\u6709\u6548\uff0c\u4e0d\u540c\u7684EVPN\u5b9e\u4f8b\u4f7f\u7528\u4e0d\u540c\u7684RD\uff0c\u5728\u672c\u5730\u4e0d\u80fd\u51b2\u7a81\u3002</p> <p>RT\u503c\u7684\u914d\u7f6e\u9700\u8981\u6ee1\u8db3\u5982\u4e0b\u8981\u6c42\uff1a</p> <ul> <li>\u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\uff0c\u53d1\u9001\u7aef\u53d1\u5e03Type2\u7684\u8def\u7531\u65f6\uff0c\u4f1a\u643a\u5e26\u672c\u5730EVPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u5217\u8868\u4e2d\u7684\u6240\u6709VPN-Target\u5c5e\u6027\uff08ERT\uff09\u3002\u5f53\u8be5EVPN\u8def\u7531\u4e0e\u63a5\u6536\u7aef\u4e2d\u5bf9\u5e94\u7684L3VPN\u5b9e\u4f8b\uff08L3VPN\u5b9e\u4f8b\u7531L3 VNI\u786e\u5b9a\uff09\u4e2d\u7684\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u5217\u8868\u4e2d\u7684\u6761\u76ee\u76f8\u540c\u65f6\uff0c\u624d\u5141\u8bb8EVPN\u8def\u7531\u4ea4\u53c9\u5230L3VPN\u5b9e\u4f8b\u8def\u7531\u8868\u3002\u6240\u4ee5\u53d1\u9001\u7aefEVPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\uff08ERT\uff09\u9700\u8981\u4e0e\u63a5\u6536\u7aef\u7684L3VPN\u5b9e\u4f8b\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\uff08eIRT\uff09\u6709\u76f8\u540c\u7684\u503c\u3002</li> <li>\u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\uff0c\u53d1\u9001\u7aef\u53d1\u5e03Type5\u7684\u7f51\u6bb5\u8def\u7531\u65f6\uff0c\u4f1a\u643a\u5e26L3VPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u5217\u8868\u4e2d\u7684\u6240\u6709VPN-Target\u5c5e\u6027\uff08ERT\uff09\u3002\u5f53\u8be5EVPN\u8def\u7531\u4e0e\u63a5\u6536\u7aef\u4e2d\u5bf9\u5e94\u7684L3VPN\u5b9e\u4f8b\uff08L3VPN\u5b9e\u4f8b\u7531L3 VNI\u786e\u5b9a\uff09\u4e2d\u7684\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u5217\u8868\u4e2d\u7684\u6761\u76ee\u76f8\u540c\u65f6\uff0c\u624d\u5141\u8bb8EVPN\u8def\u7531\u4ea4\u53c9\u5230L3VPN\u5b9e\u4f8b\u8def\u7531\u8868\u3002\u6240\u4ee5\u53d1\u9001\u7aefL3VPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\uff08ERT\uff09\u9700\u8981\u4e0e\u63a5\u6536\u7aef\u7684L3VPN\u5b9e\u4f8b\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\uff08eIRT\uff09\u6709\u76f8\u540c\u7684\u503c\u3002</li> <li>\u5173\u4e8eL3VPN\u5b9e\u4f8b\u7684RD\u548cRT\u503c\uff0c\u914d\u7f6e\u6709\u54ea\u4e9b\u8981\u6c42\uff1f</li> </ul> <p>RD\u503c\uff0c\u53ea\u5728\u672c\u5730\u6709\u6548\uff0c\u4e0d\u540c\u7684L3VPN\u5b9e\u4f8b\u4f7f\u7528\u4e0d\u540c\u7684RD\uff0c\u5728\u672c\u5730\u4e0d\u80fd\u51b2\u7a81\u3002</p> <p>RT\u503c\u7684\u914d\u7f6e\u9700\u8981\u6ee1\u8db3\u5982\u4e0b\u8981\u6c42\uff1a</p> <ul> <li>\u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\uff0c\u53d1\u9001\u7aef\u53d1\u5e03Type2\u8def\u7531\u65f6\uff0cL3VPN\u5b9e\u4f8b\u4e2d\u7684VPN-Target\u5c5e\u6027\u5982\u4e0a\u6240\u793a\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002</li> <li>\u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\uff0c\u53d1\u9001\u7aef\u53d1\u5e03Type5\u7684\u7f51\u6bb5\u8def\u7531\u65f6\uff0c\u4f1a\u643a\u5e26\u53d1\u9001\u7aefL3VPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u5217\u8868\u4e2d\u7684\u6240\u6709VPN-Target\u5c5e\u6027\uff08eERT\uff09\u3002\u5f53\u8be5EVPN\u8def\u7531\u4e0e\u63a5\u6536\u7aef\u76f8\u540c\u7684L3VPN\u5b9e\u4f8b\u7684\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u5217\u8868\u6709\u76f8\u540c\u6761\u76ee\u65f6\uff0c\u624d\u5141\u8bb8\u8be5\u7f51\u6bb5\u8def\u7531\u4ea4\u53c9\u5230L3VPN\u5b9e\u4f8b\u8def\u7531\u8868\u3002\u6240\u4ee5\u53d1\u9001\u7aefL3VPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\uff08eERT\uff09\u9700\u8981\u4e0e\u63a5\u6536\u7aef\u7684L3VPN\u5b9e\u4f8b\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\uff08eIRT\uff09\u6709\u76f8\u540c\u7684\u503c\u3002</li> </ul> </li> </ol>"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#33","title":"3.3. \u603b\u4f53\u914d\u7f6e\u5173\u952e\u914d\u7f6e\u6b65\u9aa4\u53ca\u8981\u6c42","text":"<p>\u5982\u4e0b\u4ec5\u63cf\u8ff0\u5728VXLAN\u7684Overlay\u7f51\u7edc\u4e2d\u7684\u5173\u952e\u914d\u7f6e\u8981\u6c42\u4ee5\u53caNVE\u8bbe\u5907\u7684\u5177\u4f53\u914d\u7f6e\u6837\u4f8b\uff1a</p> <p>\u88681-2\u00a0Overlay\u7f51\u7edc\u4e2d\u5173\u952e\u914d\u7f6e\u8981\u6c42\u53ca\u4e3e\u4f8b\uff08\u4ee5\u53d1\u5e03Type2\u8def\u7531\u4e3a\u4f8b\uff09</p> \u5e8f\u53f7 \u914d\u7f6e\u8bf4\u660e Device2\u7684\u914d\u7f6e\u6587\u4ef6\uff1a Device3\u7684\u914d\u7f6e\u6587\u4ef6\uff1a 1 \u5206\u522b\u5b9a\u4e49\u5e7f\u64ad\u57dfBD\uff0cBD\u4f5c\u4e3aVXLAN\u7f51\u7edc\u7684\u5b9e\u4f53\uff0c\u901a\u8fc7BD\u8f6c\u53d1\u6d41\u91cf\u3002\u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u65f6\uff0c\u5bf9\u7aef\u7684BD\u4e0e\u672c\u7aef\u4e0d\u4e00\u81f4\u3002 #bridge-domain 10 #bridge-domain 20 2 \u5206\u522b\u5b9a\u4e49\u4e8c\u5c42VNI\uff0cVNI\u5c06\u4ee51:1\u65b9\u5f0f\u6620\u5c04\u5230\u5e7f\u64ad\u57dfBD\u3002\u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u65f6\uff0c\u5bf9\u7aef\u7684\u4e8c\u5c42VNI\u4e0e\u672c\u7aef\u4e0d\u4e00\u81f4\u3002 vxlan vni 10 vxlan vni 20 3 \u5728BD\u4e0b\u521b\u5efaEVPN\u5b9e\u4f8b\uff0c\u5e76\u914d\u7f6e\u8be5EVPN\u5b9e\u4f8b\u7684RD\u503c\u3001\u672c\u5730EVPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027 \u3002\u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u53d1\u5e03Type2\u8def\u7531\u65f6\uff0c\u56e0\u4e3a\u9700\u8981\u5bf9\u7aef\u7684L3VPN\u8def\u7531\u8868\u5b66\u5230\u672c\u5730\u7684\u4e3b\u673a\u8def\u7531\uff0c\u53c8\u7531\u4e8e\u672c\u5730\u7684Type2\u8def\u7531\u4f1a\u643a\u5e26\u672c\u7aefBD\u4e0b\u7684ERT\uff0c\u6240\u4ee5\u672c\u5730EVPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\u9700\u8981\u4e0e\u5bf9\u7aef\u7684L3VPN\u5b9e\u4f8b\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\u6709\u76f8\u540c\u7684\u503c\u3002 evpn  route-distinguisher 10:2  vpn-target 100:5020 export-extcommunity evpn  route-distinguisher 10:3  vpn-target 100:5030 export-extcommunity 4 \u521b\u5efa\u7528\u6237\u7684L3VPN\u5b9e\u4f8b\uff0c\u5982vpn1\u3002 #ip vpn-instance vpn1 #ip vpn-instance vpn1 5 \u5728vpn1\u4e0b\u5b9a\u4e49RD\u503c\u3001\u7528\u4e8eEVPN\u7684\u51fa\u65b9\u5411\u548c\u5165\u65b9\u5411\u7684VPN-Target\u5c5e\u6027\u3002\u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\u53d1\u5e03Type2\u8def\u7531\u65f6\uff0c\u672c\u5730L3VPN\u5b9e\u4f8b\u5165\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\uff08eIRT\uff09\u9700\u8981\u4e0e\u5bf9\u7aef\u7684EVPN\u5b9e\u4f8b\u51fa\u65b9\u5411VPN-Target\u5c5e\u6027\u503c\uff08ERT\uff09\u6709\u76f8\u540c\u7684\u503c\u3002 ipv4-family  route-distinguisher 20:2  vpn-target 100:5030 import-extcommunity evpn ipv4-family  route-distinguisher 20:2  vpn-target 100:5020 import-extcommunity evpn 6 \u5728vpn1\u4e2d\u5b9a\u4e49\u4e09\u5c42VNI5010\uff0c\u4e09\u5c42VNI\u7528\u6765\u6807\u8bc6L3VPN\uff0c\u56e0\u4e3a\u4e0e\u5bf9\u7aef\u5728\u540c\u4e00\u4e2aVPN\u4e2d\uff0c\u5bf9\u7aef\u7684\u4e09\u5c42VNI\u4e0e\u672c\u7aef\u4e00\u81f4\u3002 vxlan vni 5010 vxlan vni 5010 7 \u8de8\u7f51\u6bb5\u7528\u6237\u901a\u4fe1\uff0c\u6240\u4ee5\u521b\u5efaVbdif\u63a5\u53e3\u3002\u4f7f\u80fd\u8be5\u63a5\u53e3\u4e3aVXLAN\u5206\u5e03\u5f0f\u7f51\u5173\u3002\u5e76\u5c06\u8be5\u63a5\u53e3\u52a0\u5165\u5230vpn1\u4e2d\u3002 #interface Vbdif10 ip binding vpn-instance vpn1 ip address 10.1.1.1 255.255.255.0 mac-address 0000-5e00-0102 vxlan anycast-gateway enable arp collect host enable #interface Vbdif20 ip binding vpn-instance vpn1 ip address 20.1.1.1 255.255.255.0 vxlan anycast-gateway enable arp collect host enable 8 \u914d\u7f6e\u670d\u52a1\u5668\u63a5\u5165\u5230VXLAN\u7f51\u7edc\uff0c\u9700\u8981\u914d\u7f6e\u63a5\u5165\u4fa7\u63a5\u53e3\u5de5\u4f5c\u5728\u4e8c\u5c42\u3002VM1\u6240\u5c5e\u7684VLAN ID\u4e3aVLAN 10\uff0c\u6240\u4ee5\u8bbe\u7f6e\u5141\u8bb8\u901a\u8fc7\u7684VLAN\u4e3aVLAN 10\uff0c\u5c06\u4ee51:1\u65b9\u5f0f\u6620\u5c04\u5230\u5e7f\u64ad\u57dfBD 10\uff0c\u540c\u7406\u914d\u7f6eVM2 \u7684\u63a5\u5165\u3002 #interface 10GE1/0/2.1 mode l2 encapsulation dot1q vid 10 bridge-domain 10 #interface 10GE1/0/2.1 mode l2 encapsulation dot1q vid 20 bridge-domain 20 9 \u521b\u5efa\u73af\u56de\u53e3\u5730\u5740\uff0c\u8be5\u5730\u5740\u5c06\u4f5c\u4e3aNVE\u8bbe\u5907\u7684IP\u5730\u5740\u3002 #interface LoopBack1 ip address 2.2.2.210 255.255.255.255 #interface LoopBack0 ip address 3.3.3.3 255.255.255.255 10 \u521b\u5efaVTEP IP\u5e76\u914d\u7f6eVNI\uff08\u5373\u4e8c\u5c42VNI\uff09\u7684\u5934\u7aef\u590d\u5236\u5217\u8868\u3002 #interface Nve1 source 2.2.2.210 vni 10 head-end peer-list protocol bgp #interface Nve1 source 3.3.3.3 vni 20 head-end peer-list protocol bgp 11 \u914d\u7f6eBGP EVPN\u90bb\u5c45\uff0c\u5e76\u5c06EVPN\u7684\u53d1\u5e03\u8def\u7531\u7c7b\u578b\u8bbe\u7f6e\u4e3aType2\uff08\u5373irb\uff09\u3002 #bgp 100 instance evpn1 peer 1.1.1.1 as-number 100 peer 1.1.1.1 connect-interface LoopBack0# ipv4-family vpn-instance vpn1  import-route direct  advertise l2vpn evpn# l2vpn-family evpn  policy vpn-target  peer 1.1.1.1 enable  peer 1.1.1.1 advertise irb #bgp 100 instance evpn1 peer 1.1.1.1 as-number 100 peer 1.1.1.1 connect-interface LoopBack0# ipv4-family vpn-instance vpn1  import-route direct  advertise l2vpn evpn# l2vpn-family evpn  policy vpn-target  peer 1.1.1.1 enable  peer 1.1.1.1 advertise irb"},{"location":"04%20%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E5%A4%A7%E4%BA%8C%E5%B1%82/01%20VXLAN%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84RD%E3%80%81RT%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AERD%E3%80%81RT%EF%BC%9F/#4","title":"4. \u76f8\u5173\u53c2\u8003","text":"<p>\u60f3\u4e86\u89e3VXLAN\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003\u4ec0\u4e48\u662fVXLAN\u3002</p> <p>\u60f3\u4e86\u89e3EVPN\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003\u4ec0\u4e48\u662fEVPN\u3002</p>"},{"location":"05%20WLAN/display%20vap/","title":"display vap","text":""},{"location":"05%20WLAN/display%20vap/#_1","title":"\u547d\u4ee4\u529f\u80fd","text":"<p>**display vap**\u547d\u4ee4\u7528\u6765\u67e5\u770b\u4e1a\u52a1\u578bVAP\u7684\u76f8\u5173\u4fe1\u606f\u3002</p>"},{"location":"05%20WLAN/display%20vap/#_2","title":"\u547d\u4ee4\u683c\u5f0f","text":"<p>display vap\u00a0{\u00a0ap-group ap-group-name\u00a0| {\u00a0ap-name ap-name\u00a0|\u00a0ap-id ap-id\u00a0} [\u00a0radio radio-id\u00a0] } [\u00a0ssid ssid\u00a0]</p> <p>display vap\u00a0{\u00a0all\u00a0|\u00a0ssid ssid\u00a0}</p>"},{"location":"05%20WLAN/display%20vap/#_3","title":"\u53c2\u6570\u8bf4\u660e","text":"\u53c2\u6570 \u53c2\u6570\u8bf4\u660e \u53d6\u503c ap-group ap-group-name \u67e5\u770b\u6307\u5b9aAP\u7ec4\u4e0b\u7684\u6240\u6709\u4e1a\u52a1\u578bVAP\u7684\u76f8\u5173\u4fe1\u606f\u3002 \u5fc5\u987b\u662f\u5df2\u5b58\u5728\u7684AP\u7ec4\u540d\u79f0\u3002 ap-name ap-name \u67e5\u770b\u6307\u5b9a\u540d\u79f0\u7684AP\u7684\u4e1a\u52a1\u578bVAP\u7684\u76f8\u5173\u4fe1\u606f\u3002 \u5fc5\u987b\u662f\u5df2\u5b58\u5728\u7684AP\u540d\u79f0\u3002 ap-id ap-id \u67e5\u770b\u6307\u5b9aID\u7684AP\u7684\u4e1a\u52a1\u578bVAP\u7684\u76f8\u5173\u4fe1\u606f\u3002 \u5fc5\u987b\u662f\u5df2\u5b58\u5728\u7684AP ID\u3002 radio radio-id \u67e5\u770b\u6307\u5b9a\u5c04\u9891\u7684\u4e1a\u52a1\u578bVAP\u7684\u76f8\u5173\u4fe1\u606f\u3002 \u6574\u6570\u7c7b\u578b\uff0c\u53d6\u503c\u8303\u56f4\uff1a0\uff5e2\u3002 ssid ssid \u67e5\u770b\u6307\u5b9aSSID\u7684\u4e1a\u52a1\u578bVAP\u7684\u76f8\u5173\u4fe1\u606f\u3002 \u5fc5\u987b\u662f\u5df2\u5b58\u5728\u7684SSID\u3002 all \u67e5\u770b\u6240\u6709\u4e1a\u52a1\u578bVAP\u7684\u76f8\u5173\u4fe1\u606f\u3002 -"},{"location":"05%20WLAN/display%20vap/#_4","title":"\u89c6\u56fe","text":"<p>\u6240\u6709\u89c6\u56fe</p>"},{"location":"05%20WLAN/display%20vap/#_5","title":"\u7f3a\u7701\u7ea7\u522b","text":"<p>1\uff1a\u76d1\u63a7\u7ea7</p>"},{"location":"05%20WLAN/display%20vap/#_6","title":"\u4f7f\u7528\u6307\u5357","text":"<p>\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u8be5\u547d\u4ee4\u67e5\u770b\u4e1a\u52a1\u578bVAP\u7684\u76f8\u5173\u4fe1\u606f\u3002</p>"},{"location":"05%20WLAN/display%20vap/#_7","title":"\u4f7f\u7528\u5b9e\u4f8b","text":""},{"location":"05%20WLAN/display%20vap/#vap","title":"\u67e5\u770b\u6240\u6709\u4e1a\u52a1\u578bVAP\u7684\u4fe1\u606f\u3002","text":"<pre><code>&lt;HUAWEI&gt; **display vap all**\nWID : WLAN ID\n-----------------------------------------------------------------------------\nAP ID AP name        RfID WID  BSSID          Status  Auth type  STA   SSID\n-----------------------------------------------------------------------------\n3     ap1            0    1    00e0-fc12-3456 ON      Open       0     GUEST-WLAN\n-----------------------------------------------------------------------------\nTotal: 1\n</code></pre> <p>\u88681\u00a0 **display vap**\u547d\u4ee4\u8f93\u51fa\u4fe1\u606f\u63cf\u8ff0</p> \u9879\u76ee \u63cf\u8ff0 AP ID AP ID\u3002 AP name AP\u540d\u79f0\u3002 RfID \u5c04\u9891ID\u3002 WID VAP\u7684ID\u3002 SSID SSID\u7684\u540d\u79f0\u3002 BSSID VAP\u7684MAC\u5730\u5740\u3002 Status VAP\u5f53\u524d\u72b6\u6001\uff1a- ON\uff1aVAP\u670d\u52a1\u5f00\u542f- OFF\uff1aVAP\u670d\u52a1\u5173\u95ed- -\uff1a\u53cc\u94fe\u8def\u51b7\u5907\u4e0b\u5907AC\u4e0a\u7684VAP\u72b6\u6001\u663e\u793a Auth type VAP\u8ba4\u8bc1\u65b9\u5f0f\u3002 STA \u5f53\u524dVAP\u63a5\u5165\u7684\u7ec8\u7aef\u6570\u3002"},{"location":"05%20WLAN/temporary-management%20psk/","title":"temporary-management psk","text":""},{"location":"05%20WLAN/temporary-management%20psk/#_1","title":"\u547d\u4ee4\u529f\u80fd","text":"<p>**temporary-management psk**\u547d\u4ee4\u7528\u6765\u914d\u7f6e\u79bb\u7ebf\u7ba1\u7406VAP\u548c\u5929\u7ebf\u5bf9\u51c6VAP\u7684\u767b\u5f55\u5bc6\u7801\u3002</p> <p>**undo temporary-management psk**\u547d\u4ee4\u7528\u6765\u6062\u590d\u79bb\u7ebf\u7ba1\u7406VAP\u548c\u5929\u7ebf\u5bf9\u51c6VAP\u7684\u767b\u5f55\u5bc6\u7801\u4e3a\u7f3a\u7701\u503c\u3002</p> <p>\u7f3a\u7701\u60c5\u51b5\u4e0b\uff0c\u672a\u914d\u7f6e\u767b\u5f55\u5bc6\u7801\uff0c\u4f7f\u7528\u5168\u5c40\u7684\u767b\u5f55\u5bc6\u7801\u3002</p>"},{"location":"05%20WLAN/temporary-management%20psk/#_2","title":"\u547d\u4ee4\u683c\u5f0f","text":"<p>temporary-management psk psk-value</p> <p>undo temporary-management psk</p>"},{"location":"05%20WLAN/temporary-management%20psk/#_3","title":"\u53c2\u6570\u8bf4\u660e","text":"\u53c2\u6570 \u53c2\u6570\u8bf4\u660e \u53d6\u503c psk-value \u914d\u7f6e\u79bb\u7ebf\u7ba1\u7406VAP\u548c\u5929\u7ebf\u5bf9\u51c6VAP\u7684\u767b\u5f55\u5bc6\u7801\u3002 \u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u53ef\u4ee5\u662f48-108\u4f4d\u7684\u5bc6\u6587\u5bc6\u7801\uff1b\u4e5f\u53ef\u4ee5\u662f\u957f\u5ea6\u8303\u56f4\u662f8\uff5e63\u4f4d\u7684\u663e\u5f0f\u5bc6\u7801\u3002\u5fc5\u987b\u5305\u62ec\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u7279\u6b8a\u5b57\u7b26\u4e2d\u7684\u81f3\u5c11\u4e24\u79cd\u3002"},{"location":"05%20WLAN/temporary-management%20psk/#_4","title":"\u89c6\u56fe","text":"<p>AP\u7cfb\u7edf\u6a21\u677f\u89c6\u56fe</p>"},{"location":"05%20WLAN/temporary-management%20psk/#_5","title":"\u7f3a\u7701\u7ea7\u522b","text":"<p>2\uff1a\u914d\u7f6e\u7ea7</p>"},{"location":"05%20WLAN/temporary-management%20psk/#_6","title":"\u4f7f\u7528\u6307\u5357","text":"<p>\u5e94\u7528\u573a\u666f</p> <p>\u6267\u884c\u8be5\u547d\u4ee4\uff0c\u7528\u6237\u53ef\u4ee5\u914d\u7f6e\u79bb\u7ebf\u7ba1\u7406VAP\u548c\u5929\u7ebf\u5bf9\u51c6VAP\u7684\u767b\u5f55\u5bc6\u7801\u3002\u5982\u679c\u672a\u914d\u7f6e\u8fc7\u8be5\u5bc6\u7801\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528\u5168\u5c40\u7684\u767b\u5f55\u5bc6\u7801\uff0c\u5168\u5c40\u7684\u767b\u5f55\u5bc6\u7801\u7531**temporary-management psk**\uff08WLAN\u89c6\u56fe\uff09\u547d\u4ee4\u914d\u7f6e\u3002\u5982\u679c\u914d\u7f6e\u4e86\u8be5\u767b\u5f55\u5bc6\u7801\uff0c\u5219\u8be5\u767b\u5f55\u5bc6\u7801\u751f\u6548\uff0c\u4f18\u5148\u7ea7\u9ad8\u4e8e\u5168\u5c40\u7684\u767b\u5f55\u5bc6\u7801\u3002</p>"},{"location":"05%20WLAN/temporary-management%20psk/#_7","title":"\u4f7f\u7528\u5b9e\u4f8b","text":""},{"location":"05%20WLAN/temporary-management%20psk/#vapvapyshsjx_202206","title":"\u914d\u7f6e\u79bb\u7ebf\u7ba1\u7406VAP\u548c\u5929\u7ebf\u5bf9\u51c6VAP\u7684\u5bc6\u7801\u4e3aYsHsjx_202206\u3002","text":"<p> system-view [HUAWEI] wlan  [HUAWEI-wlan-view] ap-system-profile name default [HUAWEI-wlan-ap-system-prof-default] temporary-management psk YsHsjx_202206"},{"location":"05%20WLAN/WLAN%E4%B8%9A%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%B5%81%E7%A8%8B/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"WLAN\u6a21\u677f\u5f15\u7528\u5173\u7cfb","text":"<p>\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u914d\u7f6e\u548c\u7ef4\u62a4WLAN\u7684\u5404\u4e2a\u529f\u80fd\uff0c\u9488\u5bf9WLAN\u7684\u4e0d\u540c\u529f\u80fd\u548c\u7279\u6027\u8bbe\u8ba1\u4e86\u5404\u79cd\u7c7b\u578b\u7684\u6a21\u677f\uff0c\u8fd9\u4e9b\u6a21\u677f\u7edf\u79f0\u4e3aWLAN\u6a21\u677f\u3002\u5982\u56fe1\u6240\u793a\uff0c\u5404\u4e2aWLAN\u6a21\u677f\u95f4\u5b58\u5728\u7740\u76f8\u4e92\u5f15\u7528\u7684\u5173\u7cfb\uff0c\u901a\u8fc7\u4e86\u89e3\u8fd9\u4e9b\u5f15\u7528\u5173\u7cfb\uff0c\u660e\u786eWLAN\u6a21\u677f\u7684\u5f15\u7528\u5173\u7cfb\u914d\u7f6e\u601d\u8def\uff0c\u4fbf\u4e8e\u7528\u6237\u987a\u5229\u5b8c\u6210WLAN\u6a21\u677f\u7684\u914d\u7f6e\u3002</p> <p>\u5982\u56fe1\u6240\u793a\uff0cAP\u7ec4\u548cAP\u4e0b\u90fd\u80fd\u591f\u5f15\u7528\u5982\u4e0b\u6a21\u677f\uff1a\u57df\u7ba1\u7406\u6a21\u677f\u3001AP\u7cfb\u7edf\u6a21\u677f\u3001WIDS\u6a21\u677f\u3001AP\u6709\u7ebf\u53e3\u6a21\u677f\u3001BLE\u6a21\u677f\u3001WDS\u6a21\u677f\u3001\u5c04\u9891\u6a21\u677f\u3001VAP\u6a21\u677f\u3001\u5b9a\u4f4d\u6a21\u677f\u3001\u573a\u666f\u6a21\u677f\u548cMesh\u6a21\u677f\u3002\u90e8\u5206\u6a21\u677f\u4f8b\u5982\u5c04\u9891\u6a21\u677f\u8fd8\u80fd\u7ee7\u7eed\u5f15\u7528\u5176\u5b83\u6a21\u677f\uff0c\u4f8b\u5982\u8fd8\u80fd\u5f15\u7528\u7a7a\u53e3\u626b\u63cf\u6a21\u677f\u548cRRM\u6a21\u677f\u3002</p> <p>\u56fe1\u00a0WLAN\u6a21\u677f\u5f15\u7528\u5173\u7cfb\u56fe </p> <p></p> <ul> <li> <p>\u6807\u6709*\u7684\u6a21\u677f\u8868\u793a\u8be5\u6a21\u677f\u5b58\u5728\u7f3a\u7701\u7684\u6a21\u677f\u3002</p> </li> <li> <p>AP\u5c04\u9891\u4e0b\u80fd\u76f4\u63a5\u5f15\u7528\u90e8\u5206\u6a21\u677f\uff0c\u5982\u5c04\u9891\u6a21\u677f\u3001VAP\u6a21\u677f\u3001WDS\u6a21\u677f\u3001WDS\u767d\u540d\u5355\u6a21\u677f\u3001Mesh\u6a21\u677f\u548cMesh\u767d\u540d\u5355\u6a21\u677f\u3002</p> </li> <li> <p>IoT\u6a21\u677f\u662f\u76f4\u63a5\u5f15\u7528\u5230\u7269\u8054\u7f51AP\u7684IoT\u63d2\u5361\u63a5\u53e3\u89c6\u56fe\u4e0b\u7684\uff0c\u56e0\u6b64\u56fe\u4e2d\u672a\u5c55\u793a\u3002</p> </li> </ul> <p>WLAN\u6a21\u677f\u7684\u4ea7\u751f\u662f\u4e3a\u4e86\u65b9\u4fbfWLAN\u529f\u80fd\u7684\u914d\u7f6e\u548c\u7ef4\u62a4\uff0c\u5f53\u7528\u6237\u5728\u914d\u7f6eWLAN\u4e1a\u52a1\u529f\u80fd\u65f6\uff0c\u53ea\u9700\u8981\u5728\u5bf9\u5e94\u529f\u80fd\u7684WLAN\u6a21\u677f\u4e2d\u8fdb\u884c\u53c2\u6570\u914d\u7f6e\uff0c\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u5c06\u6b64\u6a21\u677f\u5f15\u7528\u5230\u4e0a\u4e00\u5c42\u6a21\u677f\u6216\u8005\u5f15\u7528\u5230AP\u7ec4\u6216AP\u4e2d\uff0c\u914d\u7f6e\u5c31\u4f1a\u81ea\u52a8\u4e0b\u53d1\u5230AP\uff0c\u914d\u7f6e\u4e0b\u53d1\u5b8c\u6210\u540e\uff0c\u914d\u7f6e\u7684\u529f\u80fd\u5c31\u4f1a\u76f4\u63a5\u5728AP\u4e0a\u751f\u6548\u3002</p> <p></p> <ul> <li>\u5982\u679c\u4e00\u4e2aWLAN\u6a21\u677f\u5f15\u7528\u5230\u4e86\u4e0a\u4e00\u5c42\u6a21\u677f\u4e2d\uff0c\u8fd8\u9700\u8981\u914d\u7f6e\u4e0a\u4e00\u5c42\u6a21\u677f\u5f15\u7528\u5230AP\u7ec4\u6216AP\u4e2d\u3002</li> </ul> <p>\u4f8b\u5982\u9700\u8981\u914d\u7f6e\u7a7a\u53e3\u626b\u63cf\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u5728\u7a7a\u53e3\u626b\u63cf\u6a21\u677f\u4e0b\u914d\u7f6e\u5177\u4f53\u53c2\u6570\uff0c\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u53c2\u8003\u56fe1\uff0c\u5148\u5c06\u7a7a\u53e3\u626b\u63cf\u6a21\u677f\u5f15\u7528\u5230\u5c04\u9891\u6a21\u677f\uff0c\u7136\u540e\u5c06\u5c04\u9891\u6a21\u677f\u5f15\u7528\u5230AP\u7ec4\u6216AP\u4e2d\uff0c\u914d\u7f6e\u7684\u7a7a\u53e3\u626b\u63cf\u53c2\u6570\u5c31\u4f1a\u81ea\u52a8\u4e0b\u53d1\u5230AP\u4e0a\u751f\u6548\u3002\u5982\u679c\u5404\u6a21\u677f\u4e4b\u95f4\u5df2\u7ecf\u63d0\u524d\u914d\u7f6e\u597d\u4e86\u5f15\u7528\u5173\u7cfb\uff0c\u5728\u7a7a\u53e3\u626b\u63cf\u6a21\u677f\u4e0b\u914d\u7f6e\u53c2\u6570\u540e\uff0c\u914d\u7f6e\u4e5f\u4f1a\u81ea\u52a8\u4e0b\u53d1\u5230AP\u3002</p>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/","title":"WLAN\u5b89\u5168\u914d\u7f6e","text":"<p>WLAN\u6280\u672f\u662f\u4ee5\u65e0\u7ebf\u5c04\u9891\u4fe1\u53f7\u4f5c\u4e3a\u4e1a\u52a1\u6570\u636e\u7684\u4f20\u8f93\u4ecb\u8d28\uff0c\u8fd9\u79cd\u5f00\u653e\u7684\u4fe1\u9053\u4f7f\u653b\u51fb\u8005\u5f88\u5bb9\u6613\u5bf9\u65e0\u7ebf\u4fe1\u9053\u4e2d\u4f20\u8f93\u7684\u4e1a\u52a1\u6570\u636e\u8fdb\u884c\u7a83\u542c\u548c\u7be1\u6539\u3002\u901a\u8fc7\u914d\u7f6eWLAN\u5b89\u5168\uff0c\u53ef\u4ee5\u9632\u6b62\u653b\u51fb\u8005\u5bf9WLAN\u7f51\u7edc\u7684\u653b\u51fb\uff0c\u5e76\u6709\u6548\u4fdd\u62a4\u5408\u6cd5\u7528\u6237\u7684\u4fe1\u606f\u548c\u4e1a\u52a1\u3002</p>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#1-wlan","title":"1. WLAN\u5b89\u5168\u4ecb\u7ecd","text":""},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#11","title":"1.1. \u5b9a\u4e49","text":"<p>WLAN\u5b89\u5168\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u65b9\u9762\uff1a</p> <ul> <li>\u8fb9\u754c\u9632\u5fa1\u5b89\u5168\uff1a802.11\u7f51\u7edc\u5f88\u5bb9\u6613\u53d7\u5230\u5404\u79cd\u7f51\u7edc\u5a01\u80c1\u7684\u5f71\u54cd\uff0c\u5982\u672a\u7ecf\u6388\u6743\u7684AP\u7528\u6237\u3001Ad-hoc\u7f51\u7edc\u3001\u62d2\u7edd\u670d\u52a1\u578b\u653b\u51fb\u7b49\u3002\u65e0\u7ebf\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edfWIDS\uff08Wireless Intrusion Detection System\uff09\u53ef\u4ee5\u68c0\u6d4b\u975e\u6cd5\u7684\u7528\u6237\u6216AP\uff1b\u65e0\u7ebf\u5e72\u6270\u9632\u5fa1\u7cfb\u7edfWIPS\uff08Wireless Intrusion Prevention System\uff09\u53ef\u4ee5\u4fdd\u62a4\u4f01\u4e1a\u7f51\u7edc\u548c\u7528\u6237\u4e0d\u88ab\u65e0\u7ebf\u7f51\u7edc\u4e0a\u672a\u7ecf\u6388\u6743\u7684\u8bbe\u5907\u8bbf\u95ee\u3002</li> <li>\u7528\u6237\u63a5\u5165\u5b89\u5168\uff1a\u7528\u6237\u63a5\u5165\u65e0\u7ebf\u7f51\u7edc\u7684\u5408\u6cd5\u6027\u548c\u5b89\u5168\u6027\uff0c\u5305\u62ec\uff1a\u94fe\u8def\u8ba4\u8bc1\uff0c\u7528\u6237\u63a5\u5165\u8ba4\u8bc1\u548c\u6570\u636e\u52a0\u5bc6\u3002</li> <li>\u4e1a\u52a1\u5b89\u5168\uff1a\u4fdd\u8bc1\u7528\u6237\u7684\u4e1a\u52a1\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u5b89\u5168\u6027\uff0c\u907f\u514d\u5408\u6cd5\u7528\u6237\u7684\u4e1a\u52a1\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u88ab\u975e\u6cd5\u6355\u83b7\u3002</li> </ul>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#12","title":"1.2. \u76ee\u7684","text":"<p>WLAN\u6280\u672f\u5177\u6709\u5b89\u88c5\u4fbf\u6377\u3001\u4f7f\u7528\u7075\u6d3b\u3001\u7ecf\u6d4e\u8282\u7ea6\u3001\u6613\u4e8e\u6269\u5c55\u7b49\u4f18\u70b9\u3002\u4f46\u662fWLAN\u6280\u672f\u662f\u4ee5\u65e0\u7ebf\u5c04\u9891\u4fe1\u53f7\u4f5c\u4e3a\u4e1a\u52a1\u6570\u636e\u7684\u4f20\u8f93\u4ecb\u8d28\uff0c\u8fd9\u79cd\u5f00\u653e\u7684\u4fe1\u9053\u4f7f\u653b\u51fb\u8005\u5f88\u5bb9\u6613\u5bf9\u65e0\u7ebf\u4fe1\u9053\u4e2d\u4f20\u8f93\u7684\u4e1a\u52a1\u6570\u636e\u8fdb\u884c\u7a83\u542c\u548c\u7be1\u6539\u3002\u56e0\u6b64\uff0c\u5b89\u5168\u6027\u6210\u4e3a\u963b\u788dWLAN\u6280\u672f\u53d1\u5c55\u7684\u6700\u91cd\u8981\u56e0\u7d20\u3002</p> <p>\u4e3a\u4e86\u4fdd\u969c\u65e0\u7ebf\u7528\u6237\u7684\u5b89\u5168\u6027\uff0cWLAN\u5b89\u5168\u53ef\u4ee5\u63d0\u4f9b\uff1a</p> <ul> <li>\u68c0\u67e5\u548c\u9632\u5fa1\u975e\u6cd5\u7528\u6237\u5165\u4fb5\u7684\u673a\u5236\u2014WIDS/WIPS\u3002</li> <li>\u9488\u5bf9\u65e0\u7ebf\u7528\u6237\u7684\u5b89\u5168\u7b56\u7565\u673a\u5236\uff0c\u5305\u62ec\u94fe\u8def\u8ba4\u8bc1\uff0c\u7528\u6237\u63a5\u5165\u8ba4\u8bc1\u548c\u6570\u636e\u52a0\u5bc6\u3002</li> <li>\u57fa\u4e8e\u7528\u6237\u4e1a\u52a1\u7684\u5b89\u5168\u673a\u5236\u3002</li> </ul>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#2-wlan","title":"2. WLAN\u5b89\u5168\u539f\u7406\u63cf\u8ff0","text":""},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#21","title":"2.1. \u8bbe\u5907\u68c0\u6d4b\u673a\u5236","text":"<p>\u4e3a\u4e86\u9632\u6b62\u975e\u6cd5\u8bbe\u5907\u6216\u5e72\u6270\u8bbe\u5907\u7684\u5165\u4fb5\uff0c\u53ef\u4ee5\u5728\u9700\u8981\u4fdd\u62a4\u7684\u7f51\u7edc\u7a7a\u95f4\u4e2d\u90e8\u7f72\u76d1\u6d4bAP\uff0c\u901a\u8fc7\u65e0\u7ebf\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edfWIDS\uff08Wireless Intrusion Detection System\uff09\uff0c\u76d1\u6d4bAP\u53ef\u4ee5\u5b9a\u671f\u5bf9\u65e0\u7ebf\u4fe1\u53f7\u8fdb\u884c\u63a2\u6d4b\uff0c\u8fd9\u6837\uff0cAC\u5c31\u53ef\u4ee5\u4e86\u89e3\u5230\u65e0\u7ebf\u7f51\u7edc\u4e2d\u8bbe\u5907\u7684\u60c5\u51b5\uff0c\u8fdb\u800c\u5bf9\u975e\u6cd5\u8bbe\u5907\u6216\u5e72\u6270\u8bbe\u5907\u91c7\u53d6\u76f8\u5e94\u7684\u9632\u8303\u63aa\u65bd\u3002</p> <p>\u914d\u7f6e\u8bbe\u5907\u68c0\u6d4b\u529f\u80fd\u4e4b\u524d\uff0c\u9700\u8981\u5148\u8bbe\u7f6eAP\u7684\u5de5\u4f5c\u6a21\u5f0f\u3002</p> <p>AP\u5c04\u9891\u7684\u5de5\u4f5c\u6a21\u5f0f\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li>normal\uff1a\u6b63\u5e38\u6a21\u5f0f<ul> <li>\u5982\u679c\u5c04\u9891\u672a\u5f00\u542f\u7a7a\u53e3\u626b\u63cf\u76f8\u5173\u529f\u80fd\uff0c\u5982WIDS\u3001\u9891\u8c31\u5206\u6790\u548c\u7ec8\u7aef\u5b9a\u4f4d\uff0c\u8be5\u5c04\u9891\u4ec5\u7528\u4e8e\u4f20\u8f93\u666e\u901a\u7684WLAN\u4e1a\u52a1\u6570\u636e\u3002</li> <li>\u5982\u679c\u5c04\u9891\u5f00\u542f\u4e86\u7a7a\u53e3\u626b\u63cf\u76f8\u5173\u529f\u80fd\uff08\u5982WIDS\u3001\u9891\u8c31\u5206\u6790\u548c\u7ec8\u7aef\u5b9a\u4f4d\uff09\uff0c\u5219\u8be5\u5c04\u9891\u9664\u4e86\u4f20\u8f93\u666e\u901a\u7684WLAN\u4e1a\u52a1\u6570\u636e\uff0c\u8fd8\u5177\u5907\u4e86\u76d1\u63a7\u529f\u80fd\u3002\u5c04\u9891\u626b\u63cf\u5468\u671f\u5185WLAN\u4e1a\u52a1\u7684\u65f6\u5ef6\u53ef\u80fd\u51fa\u73b0\u77ac\u65f6\u7684\u589e\u52a0\uff0c\u5e76\u4e0d\u5f71\u54cd\u6b63\u5e38\u4e0a\u7f51\uff0c\u4f46\u5982\u679c\u6709\u4f4e\u65f6\u5ef6\u8981\u6c42\u7684\u4e1a\u52a1\u5982\u89c6\u9891\u4f1a\u8bae\uff0c\u5219\u5efa\u8bae\u4f7f\u7528\u5355\u72ec\u7684\u5c04\u9891\u7528\u4e8e\u7a7a\u53e3\u626b\u63cf\u3002</li> </ul> </li> <li> <p>monitor\uff1a\u76d1\u63a7\u6a21\u5f0f</p> <p>\u8be5\u6a21\u5f0f\u4e0b\u5c04\u9891\u4e0d\u80fd\u7528\u4e8e\u4f20\u8f93\u666e\u901a\u7684WLAN\u4e1a\u52a1\u6570\u636e\uff0c\u53ea\u80fd\u7528\u4e8e\u4f9d\u8d56\u7a7a\u53e3\u626b\u63cf\u7684WLAN\u4e1a\u52a1\u3002</p> </li> </ul> <p>\u8bbe\u5907\u68c0\u6d4b\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff1a\u65e0\u7ebf\u8bbe\u5907\u68c0\u6d4b\u548c\u8bbe\u5907\u975e\u6cd5\u6027\u5224\u65ad\u3002</p>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#211","title":"2.1.1. \u65e0\u7ebf\u8bbe\u5907\u68c0\u6d4b","text":"<p>\u5f00\u542f\u4e86WIDS\u529f\u80fd\u7684AP\u6839\u636e\u4fa6\u542c\u5230\u7684802.11\u5e27\uff0c\u53ef\u4ee5\u5224\u65ad\u51fa\u5468\u56f4\u65e0\u7ebf\u8bbe\u5907\u7684\u7c7b\u578b\u3002\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u914d\u7f6eAP\u7684\u5de5\u4f5c\u6a21\u5f0f\u5e76\u5f00\u542fWIDS\u529f\u80fd\u3002</li> <li> <p>AC\u5c06\u914d\u7f6e\u4e0b\u53d1\u7ed9AP\u3002</p> </li> <li> <p>AP\u5f00\u59cb\u626b\u63cf\u4fe1\u9053\u76d1\u6d4b\u5468\u8fb9\u7684\u65e0\u7ebf\u8bbe\u5907\u4fe1\u606f\uff0c\u901a\u8fc7\u4fa6\u542c\u5468\u56f4\u8bbe\u5907\u53d1\u9001\u7684\u5e27\u6765\u641c\u96c6\u5468\u8fb9\u7684\u65e0\u7ebf\u8bbe\u5907\u4fe1\u606f\u3002\u7136\u540e\u6839\u636e\u641c\u96c6\u5230\u7684802.11 MAC\u5e27\u5224\u65ad\u5e27\u7c7b\u578b\u548c\u8bbe\u5907\u7c7b\u578b\u3002</p> <p>\u76ee\u524d\u53ef\u4ee5\u8bc6\u522b\u51fa\u7684\u8bbe\u5907\u7c7b\u578b\u6709AP\u3001STA\u3001\u65e0\u7ebf\u7f51\u6865\u548cAd-hoc\u8bbe\u5907\u3002</p> <ul> <li>\u65e0\u7ebf\u7f51\u6865\uff1a\u80fd\u591f\u5229\u7528\u65e0\u7ebf\u4f20\u8f93\u65b9\u5f0f\u5b9e\u73b0\u5728\u4e24\u4e2a\u6216\u591a\u4e2a\u7f51\u7edc\u4e4b\u95f4\u642d\u8d77\u901a\u4fe1\u6865\u6881\u7684\u8bbe\u5907\u3002</li> <li> <p>Ad-hoc\u8bbe\u5907\uff1a\u51e0\u53f0\u5e26\u6709\u65e0\u7ebf\u7f51\u5361\u7684\u8bbe\u5907\u7ec4\u6210\u7684\u4e34\u65f6\u65e0\u7ebf\u7f51\u7edc\uff0c\u4e5f\u79f0Ad-hoc\u7f51\u7edc\uff0c\u5982\u56fe1\u6240\u793a\u3002\u6784\u6210Ad-hoc\u7f51\u7edc\u7684\u8bbe\u5907\u79f0\u4e3aAd-hoc\u8bbe\u5907\u3002</p> <p>\u56fe1\u00a0Ad-hoc\u7ec4\u7f51\u56fe </p> </li> </ul> <p>AP\u8bc6\u522b\u8bbe\u5907\u7c7b\u578b\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <ul> <li>\u9488\u5bf9Probe Request\u3001Association Request\u548cReassociation Request\u5e27\uff1a\u6839\u636e\u7f51\u7edc\u7c7b\u578b\uff08802.11 MAC\u5e27\u7684Frame Body\u5b57\u6bb5\u4f1a\u643a\u5e26\u6b64\u4fe1\u606f\uff09\u6765\u5224\u65ad\u662fAd-hoc\u6216STA\u3002<ul> <li>Ad-hoc\u8bbe\u5907\uff1a\u7f51\u7edc\u7c7b\u578b\u4e3a\u72ec\u7acb\u578b\u7f51\u7edc\u3002</li> <li>STA\uff1a\u7f51\u7edc\u7c7b\u578b\u4e3a\u57fa\u7840\u578b\u7f51\u7edc\u3002</li> </ul> </li> <li>\u9488\u5bf9Beacon\u3001Probe Response\u3001Association Response\u548cReassociation Response\u5e27\uff1a\u6839\u636e\u7f51\u7edc\u7c7b\u578b\uff08802.11 MAC\u5e27\u7684Frame Body\u5b57\u6bb5\u4f1a\u643a\u5e26\u6b64\u4fe1\u606f\uff09\u6765\u5224\u65ad\u662fAd-hoc\u6216AP\u3002<ul> <li>Ad-hoc\u8bbe\u5907\uff1a\u7f51\u7edc\u7c7b\u578b\u4e3a\u72ec\u7acb\u578b\u7f51\u7edc\u3002</li> <li>AP\uff1a\u7f51\u7edc\u7c7b\u578b\u4e3a\u57fa\u7840\u578b\u7f51\u7edc\u3002</li> </ul> </li> <li>\u9488\u5bf9\u6570\u636e\u62a5\u6587\uff1a\u76d1\u6d4b\u6240\u6709802.11\u62a5\u6587\uff0c\u6839\u636e\u6570\u636e\u62a5\u6587\u7684DS\u57df\u6765\u5224\u65ad\u662fAd-hoc\u3001\u65e0\u7ebf\u7f51\u6865\u3001STA\u6216AP\u3002<ul> <li>Ad-hoc\u8bbe\u5907\uff1a802.11 MAC\u5e27\u7684Frame Control\u5b57\u6bb5\u4e2d\u7684To DS\u4e3a0\uff0cFrom DS\u4e5f\u4e3a0\u3002</li> <li>\u65e0\u7ebf\u7f51\u6865\uff1a802.11 MAC\u5e27\u7684Frame Control\u5b57\u6bb5\u4e2d\u7684To DS\u4e3a1\uff0cFrom DS\u4e5f\u4e3a1\u3002</li> <li>STA\uff1a802.11 MAC\u5e27\u7684Frame Control\u5b57\u6bb5\u4e2d\u7684To DS\u4e3a1\uff0cFrom DS\u4e3a0\u3002</li> <li>AP\uff1a802.11 MAC\u5e27\u7684Frame Control\u5b57\u6bb5\u4e2d\u7684To DS\u4e3a0\uff0cFrom DS\u4e3a1\u3002</li> </ul> </li> </ul> </li> </ol>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#212","title":"2.1.2. \u8bbe\u5907\u975e\u6cd5\u6027\u5224\u65ad","text":"<p>AP\u5c06\u6536\u96c6\u5230\u7684\u8bbe\u5907\u4fe1\u606f\u5b9a\u671f\u4e0a\u62a5AC\u3002AC\u901a\u8fc7\u76d1\u6d4b\u7ed3\u679c\u5224\u65ad\u975e\u6cd5\u8bbe\u5907\u6216\u5e72\u6270\u8bbe\u5907\uff1a</p> <ul> <li>\u5408\u6cd5AP\uff1a\u672c\u5730\u7684AP\u6216\u52a0\u5165WIDS\u767d\u540d\u5355\u4e2d\u7684AP\u3002</li> <li>\u5408\u6cd5\u7f51\u6865\uff1a\u672c\u5730\u7684\u7f51\u6865\u6216\u52a0\u5165WIDS\u767d\u540d\u5355\u4e2d\u7684\u7f51\u6865\u3002</li> <li>\u5408\u6cd5STA\uff1a\u8fde\u63a5\u5728\u5408\u6cd5AP\u4e0a\u7684STA\u3002</li> <li>\u975e\u6cd5AP\uff1a\u4e0d\u5728WIDS\u767d\u540d\u5355\u4e2d\uff0c\u4e14AP\u7684SSID\u4e0e\u672c\u5730SSID\u76f8\u540c\u6216\u6ee1\u8db3\u4eff\u5192SSID\u7684\u5339\u914d\u89c4\u5219\u7684AP\u3002</li> <li>\u975e\u6cd5\u7f51\u6865\uff1a\u4e0d\u5728WIDS\u767d\u540d\u5355\u4e2d\uff0c\u4e14\u7f51\u6865\u7684SSID\u4e0e\u672c\u5730SSID\u76f8\u540c\u6216\u6ee1\u8db3\u4eff\u5192SSID\u7684\u5339\u914d\u89c4\u5219\u7684\u7f51\u6865\u3002</li> <li>\u975e\u6cd5STA\uff1a\u8fde\u63a5\u5728\u975e\u6cd5AP\u4e0a\u7684STA\u3002</li> <li>\u975e\u6cd5Ad-hoc\uff1a\u68c0\u6d4b\u5230\u7684Ad-hoc\u8bbe\u5907\u5747\u8ba4\u4e3a\u662f\u975e\u6cd5\u8bbe\u5907\u3002</li> <li>\u5e72\u6270AP\uff1a\u65e2\u4e0d\u662f\u5408\u6cd5AP\uff0c\u4e5f\u4e0d\u662f\u975e\u6cd5AP\u3002</li> <li>\u5e72\u6270\u7f51\u6865\uff1a\u65e2\u4e0d\u662f\u5408\u6cd5\u7f51\u6865\uff0c\u4e5f\u4e0d\u662f\u975e\u6cd5\u7f51\u6865\u3002</li> <li>\u5e72\u6270STA\uff1a\u8fde\u63a5\u5728\u5e72\u6270AP\u4e0a\u7684STA\u3002</li> </ul> <p>\u8bf4\u660e</p> <p>\u5224\u65ad\u51fa\u975e\u6cd5\u8bbe\u5907\u6216\u5e72\u6270\u8bbe\u5907\u540e\uff0c\u8fd8\u53ef\u4ee5\u5bf9\u975e\u6cd5\u8bbe\u5907\u6216\u5e72\u6270\u8bbe\u5907\u8fdb\u884c\u53cd\u5236\uff0c\u4ee5\u963b\u6b62\u975e\u6cd5\u8bbe\u5907\u6216\u5e72\u6270\u8bbe\u5907\u7684\u63a5\u5165\uff0c\u8be6\u7ec6\u8bf7\u53c2\u89c1\u8bbe\u5907\u53cd\u5236\u673a\u5236\u3002</p>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#22","title":"2.2. \u8bbe\u5907\u53cd\u5236\u673a\u5236","text":"<p>\u8bbe\u5907\u652f\u6301\u5bf9\u4e09\u79cd\u8bbe\u5907\u8fdb\u884c\u53cd\u5236\uff1a</p> <ul> <li> <p>\u975e\u6cd5AP\u6216\u5e72\u6270AP</p> <p>AC\u786e\u5b9a\u975e\u6cd5AP\u6216\u5e72\u6270AP\u540e\uff0c\u5c06\u975e\u6cd5AP\u6216\u5e72\u6270AP\u544a\u77e5\u76d1\u6d4bAP\u3002\u76d1\u6d4bAP\u4ee5\u975e\u6cd5AP\u6216\u5e72\u6270AP\u7684\u8eab\u4efd\u53d1\u9001\u5e7f\u64ad\u89e3\u9664\u8ba4\u8bc1Deauthentication\u5e27\uff0c\u8fd9\u6837\uff0c\u63a5\u5165\u975e\u6cd5AP\u6216\u5e72\u6270AP\u7684STA\u6536\u5230\u89e3\u9664\u8ba4\u8bc1\u5e27\u540e\uff0c\u5c31\u4f1a\u65ad\u5f00\u4e0e\u975e\u6cd5AP\u6216\u5e72\u6270AP\u7684\u8fde\u63a5\u3002\u901a\u8fc7\u8fd9\u79cd\u53cd\u5236\u673a\u5236\uff0c\u53ef\u4ee5\u963b\u6b62STA\u4e0e\u975e\u6cd5AP\u6216\u5e72\u6270AP\u7684\u8fde\u63a5\u3002</p> </li> </ul> <p>\u8bf4\u660e</p> <ul> <li>\u89e3\u9664\u8ba4\u8bc1\u7528\u4e8e\u4e2d\u65ad\u5df2\u7ecf\u5efa\u7acb\u7684\u65e0\u7ebf\u94fe\u8def\uff0c\u65e0\u8bba\u662fAP\u8fd8\u662fSTA\uff0c\u90fd\u53ef\u4ee5\u53d1\u9001\u89e3\u9664\u8ba4\u8bc1\u5e27\u65ad\u5f00\u5f53\u524d\u7684\u94fe\u8def\u8fc7\u7a0b\u3002</li> <li>\u76ee\u524d\u4ec5\u652f\u6301\u5bf9\u4eff\u5192AP\u548c\u8ba4\u8bc1\u65b9\u5f0f\u4e3aopen\u7684\u975e\u6cd5AP\u6216\u5e72\u6270AP\u7684\u53cd\u5236\u3002\u4eff\u5192AP\u5373\u975e\u6cd5AP\u6216\u5e72\u6270AP\u7684SSID\u8ddf\u5408\u6cd5AP\u4e0a\u914d\u7f6e\u7684SSID\u76f8\u540c\u6216\u76f8\u4f3c\u3002</li> </ul> <ul> <li> <p>\u975e\u6cd5STA\u6216\u5e72\u6270STA</p> <p>AC\u786e\u5b9a\u975e\u6cd5STA\u6216\u5e72\u6270STA\u540e\uff0c\u5c06\u975e\u6cd5STA\u6216\u5e72\u6270STA\u544a\u77e5\u76d1\u6d4bAP\u3002\u76d1\u6d4bAP\u4ee5\u975e\u6cd5STA\u6216\u5e72\u6270STA\u7684\u8eab\u4efd\u53d1\u9001\u5355\u64ad\u89e3\u9664\u8ba4\u8bc1Deauthentication\u5e27\uff0c\u8fd9\u6837\uff0c\u975e\u6cd5STA\u6216\u5e72\u6270STA\u63a5\u5165\u7684AP\u5728\u63a5\u6536\u5230\u89e3\u9664\u8ba4\u8bc1\u5e27\u540e\uff0c\u5c31\u4f1a\u65ad\u5f00\u4e0e\u975e\u6cd5STA\u6216\u5e72\u6270STA\u7684\u8fde\u63a5\u3002\u901a\u8fc7\u8fd9\u79cd\u53cd\u5236\u673a\u5236\uff0c\u53ef\u4ee5\u963b\u6b62AP\u4e0e\u975e\u6cd5STA\u6216\u5e72\u6270STA\u7684\u8fde\u63a5\u3002</p> </li> <li> <p>Ad-hoc\u8bbe\u5907</p> <p>AC\u786e\u5b9aAd-hoc\u8bbe\u5907\u540e\uff0c\u5c06Ad-hoc\u8bbe\u5907\u544a\u77e5\u76d1\u6d4bAP\u3002\u76d1\u6d4bAP\u4ee5Ad-hoc\u8bbe\u5907\u7684\u8eab\u4efd\uff08\u4f7f\u7528\u8be5\u8bbe\u5907\u7684BSSID\u3001MAC\u5730\u5740\uff09\u53d1\u9001\u5355\u64ad\u89e3\u9664\u8ba4\u8bc1Deauthentication\u5e27\uff0c\u8fd9\u6837\uff0c\u63a5\u5165Ad-hoc\u7f51\u7edc\u7684STA\u6536\u5230\u89e3\u9664\u8ba4\u8bc1\u5e27\u540e\uff0c\u5c31\u4f1a\u65ad\u5f00\u4e0eAd-hoc\u8bbe\u5907\u7684\u8fde\u63a5\u3002\u901a\u8fc7\u8fd9\u79cd\u53cd\u5236\u673a\u5236\uff0c\u53ef\u4ee5\u963b\u6b62STA\u4e0eAd-hoc\u8bbe\u5907\u7684\u8fde\u63a5\u3002</p> </li> </ul>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#23","title":"2.3. \u975e\u6cd5\u653b\u51fb\u68c0\u6d4b","text":"<p>\u5bf9\u4e8e\u4e2d\u5c0f\u578bWLAN\u7f51\u7edc\uff0c\u4e3a\u4e86\u53ca\u65f6\u53d1\u73b0WLAN\u7f51\u7edc\u4e2d\u53d7\u5230\u7684\u653b\u51fb\uff0c\u53ef\u4ee5\u542f\u52a8\u975e\u6cd5\u653b\u51fb\u68c0\u6d4b\u529f\u80fd\uff0c\u5bf9\u6cdb\u6d2a\u653b\u51fb\u3001\u5f31\u5411\u91cf\u548c\u6b3a\u9a97\u653b\u51fb\u7b49\u8fdb\u884c\u68c0\u6d4b\uff0c\u53ca\u65f6\u53d1\u73b0\u7f51\u7edc\u7684\u4e0d\u5b89\u5168\u56e0\u7d20\uff0c\u4f7f\u80fd\u8be5\u529f\u80fd\u540e\u53ef\u4ee5\u6dfb\u52a0\u653b\u51fb\u8005\u5230\u52a8\u6001\u9ed1\u540d\u5355\u4e2d\uff0c\u5e76\u53d1\u9001\u544a\u8b66\u4fe1\u606f\u4e0a\u62a5\u81f3AC\uff0c\u4ece\u800c\u53ca\u65f6\u901a\u77e5\u7ba1\u7406\u5458\u3002</p>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#231","title":"2.3.1. \u6cdb\u6d2a\u653b\u51fb\u68c0\u6d4b","text":"<p>\u56fe1\u00a0\u6cdb\u6d2a\u653b\u51fb\u539f\u7406\u56fe </p> <p>\u5982[\u56fe1]\u6240\u793a\uff0c\u6cdb\u6d2a\u653b\u51fb\u662f\u6307\u5f53AP\u5728\u77ed\u65f6\u95f4\u5185\u63a5\u6536\u4e86\u5927\u91cf\u7684\u540c\u4e00\u6e90MAC\u5730\u5740\u7684\u540c\u79cd\u7c7b\u578b\u7684\u7ba1\u7406\u62a5\u6587\u6216\u7a7a\u6570\u636e\u5e27\u62a5\u6587\u65f6\uff0cAP\u7684\u7cfb\u7edf\u8d44\u6e90\u88ab\u653b\u51fb\u62a5\u6587\u5360\u7528\uff0c\u65e0\u6cd5\u5904\u7406\u5408\u6cd5STA\u7684\u62a5\u6587\u3002</p> <p>\u6cdb\u6d2a\u653b\u51fb\u68c0\u6d4b\u662f\u6307AP\u901a\u8fc7\u6301\u7eed\u7684\u76d1\u63a7\u6bcf\u4e2aSTA\u7684\u6d41\u91cf\u5927\u5c0f\u6765\u9884\u9632\u6cdb\u6d2a\u653b\u51fb\u3002\u5f53\u6d41\u91cf\u8d85\u51fa\u53ef\u5bb9\u5fcd\u7684\u4e0a\u9650\u65f6\uff08\u4f8b\u59821\u79d2\u4e2d\u63a5\u6536\u5230\u8d85\u8fc7100\u4e2a\u62a5\u6587\uff09\uff0c\u8be5STA\u5c06\u88ab\u8ba4\u4e3a\u8981\u5728\u7f51\u7edc\u5185\u6cdb\u6d2a\uff0cAP\u4e0a\u62a5\u544a\u8b66\u4fe1\u606f\u7ed9AC\u3002\u5982\u679c\u4f7f\u80fd\u4e86\u52a8\u6001\u9ed1\u540d\u5355\uff0c\u68c0\u67e5\u5230\u7684\u653b\u51fb\u8bbe\u5907\u5c06\u88ab\u52a0\u5165\u52a8\u6001\u9ed1\u540d\u5355\u3002\u5728\u52a8\u6001\u9ed1\u540d\u5355\u8001\u5316\u4e4b\u524d\uff0cAP\u4e22\u5f03\u8be5\u653b\u51fb\u8bbe\u5907\u7684\u6240\u6709\u62a5\u6587\uff0c\u9632\u6b62\u5bf9\u7f51\u7edc\u9020\u6210\u51b2\u51fb\u3002</p> <p>AP\u652f\u6301\u5bf9\u4e0b\u5217\u62a5\u6587\u8fdb\u884c\u6cdb\u6d2a\u653b\u51fb\u68c0\u6d4b\uff1a</p> <ul> <li>\u8ba4\u8bc1\u8bf7\u6c42\u5e27Authentication Request</li> <li>\u53bb\u8ba4\u8bc1\u5e27Deauthentication</li> <li>\u5173\u8054\u8bf7\u6c42\u5e27Association Request</li> <li>\u53bb\u5173\u8054\u5e27Disassociation</li> <li>\u91cd\u5173\u8054\u8bf7\u6c42\u5e27Reassociation Request</li> <li>\u63a2\u6d4b\u5e27Probe Request</li> <li>Action\u5e27</li> <li>EAPOL Start</li> <li>EAPOL-Logoff</li> </ul>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#232","title":"2.3.2. \u5f31\u5411\u91cf\u68c0\u6d4b","text":"<p>\u56fe2\u00a0\u5f31\u5411\u91cf\u653b\u51fb\u539f\u7406\u56fe </p> <p>\u5982\u56fe2\u6240\u793a\uff0c\u5f31\u5411\u91cf\u662f\u6307\u5f53\u91c7\u7528WEP\u52a0\u5bc6\u65b9\u5f0f\u65f6\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u62a5\u6587\uff0c\u5728\u53d1\u9001\u524d\u90fd\u4f1a\u4f7f\u7528\u4e00\u4e2a3\u5b57\u8282\u7684\u521d\u59cb\u5411\u91cf\uff08Initialization Vector\uff09\u548c\u56fa\u5b9a\u7684\u5171\u4eab\u5bc6\u94a5\u4e00\u8d77\u6765\u52a0\u5bc6\u62a5\u6587\uff0c\u4f7f\u76f8\u540c\u7684\u5171\u4eab\u5bc6\u94a5\u4ea7\u751f\u4e0d\u540c\u7684\u52a0\u5bc6\u6548\u679c\u3002\u5982\u679cAP\u4f7f\u7528\u4e86\u5f31IV\uff08\u5f53AP\u68c0\u6d4b\u5230IV\u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u53d6\u503c\u4e3a3\uff5e15\uff0c\u7b2c\u4e8c\u4e2a\u5b57\u8282\u53d6\u503c\u4e3a255\u65f6\uff0c\u5373\u4e3a\u5f31IV\uff09\uff0c\u7531\u4e8e\u5728STA\u53d1\u9001\u62a5\u6587\u65f6IV\u4f5c\u4e3a\u62a5\u6587\u5934\u7684\u4e00\u90e8\u5206\u88ab\u660e\u6587\u53d1\u9001\uff0c\u653b\u51fb\u8005\u5f88\u5bb9\u6613\u66b4\u529b\u7834\u89e3\u51fa\u5171\u4eab\u5bc6\u94a5\u540e\u8bbf\u95ee\u7f51\u7edc\u8d44\u6e90\u3002</p> <p>\u5f31\u5411\u91cf\u68c0\u6d4b\u901a\u8fc7\u8bc6\u522b\u6bcf\u4e2aWEP\u62a5\u6587\u7684IV\u6765\u9884\u9632\u8fd9\u79cd\u653b\u51fb\uff0c\u5f53\u4e00\u4e2a\u5305\u542b\u6709\u5f31\u5411\u91cf\u7684\u62a5\u6587\u88ab\u68c0\u6d4b\u5230\uff0cAP\u5411AC\u4e0a\u62a5\u544a\u8b66\u4fe1\u606f\uff0c\u4fbf\u4e8e\u7528\u6237\u4f7f\u7528\u5176\u4ed6\u7684\u5b89\u5168\u7b56\u7565\u6765\u907f\u514dSTA\u4f7f\u7528\u5f31\u5411\u91cf\u52a0\u5bc6\u3002</p>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#233","title":"2.3.3. \u6b3a\u9a97\u653b\u51fb\u68c0\u6d4b","text":"<p>\u56fe3\u00a0\u6b3a\u9a97\u653b\u51fb\u539f\u7406\u56fe </p> <p>\u5982[\u56fe3]\u6240\u793a\uff0c\u6b3a\u9a97\u653b\u51fb\u4e5f\u79f0\u4e3a\u4e2d\u95f4\u4eba\u653b\u51fb\uff0c\u662f\u6307\u653b\u51fb\u8005\uff08\u6076\u610fAP\u6216\u6076\u610f\u7528\u6237\uff09\u5192\u5145\u5408\u6cd5\u8bbe\u5907\u5411STA\u53d1\u9001\u6b3a\u9a97\u653b\u51fb\u62a5\u6587\u5bfc\u81f4STA\u4e0d\u80fd\u4e0a\u7ebf\u3002\u6b3a\u9a97\u653b\u51fb\u62a5\u6587\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u4e24\u79cd\u62a5\u6587\u7c7b\u578b\uff1a\u5e7f\u64ad\u578b\u7684\u53bb\u5173\u8054\u5e27Disassociation\u548c\u53bb\u8ba4\u8bc1\u5e27Deauthentication\u3002</p> <p>\u4f7f\u80fd\u6b3a\u9a97\u653b\u51fb\u68c0\u6d4b\u529f\u80fd\u540e\uff0c\u5f53AP\u63a5\u6536\u5230\u4e0a\u8ff0\u4e24\u79cd\u62a5\u6587\uff0cAP\u4f1a\u68c0\u6d4b\u62a5\u6587\u7684\u6e90\u5730\u5740\u662f\u5426\u4e3aAP\u81ea\u8eab\u7684MAC\u5730\u5740\uff0c\u5982\u679c\u662f\uff0c\u5219\u8868\u793aWLAN\u7f51\u7edc\u53d7\u5230\u4e86\u89e3\u9664\u8ba4\u8bc1\u62a5\u6587\u6216\u89e3\u9664\u5173\u8054\u62a5\u6587\u7684\u6b3a\u9a97\u653b\u51fb\uff0cAP\u4f1a\u4e0a\u62a5\u544a\u8b66\u4fe1\u606f\u7ed9AC\u3002</p>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#24","title":"2.4. \u9632\u66b4\u529b\u7834\u89e3\u5bc6\u94a5\u529f\u80fd","text":"<p>\u66b4\u529b\u7834\u89e3\u6cd5\uff0c\u53c8\u79f0\u4e3a\u7a77\u4e3e\u6cd5\uff0c\u662f\u4e00\u79cd\u9488\u5bf9\u4e8e\u5bc6\u7801\u7684\u7834\u8bd1\u65b9\u6cd5\uff0c\u5373\u5c06\u5bc6\u7801\u8fdb\u884c\u9010\u4e2a\u63a8\u7b97\u76f4\u5230\u627e\u51fa\u771f\u6b63\u7684\u5bc6\u7801\u4e3a\u6b62\u3002\u4f8b\u5982\u4e00\u4e2a\u5df2\u77e5\u662f\u56db\u4f4d\u5e76\u4e14\u5168\u90e8\u7531\u6570\u5b57\u7ec4\u6210\u7684\u5bc6\u7801\uff0c\u5176\u53ef\u80fd\u5171\u670910000\u79cd\u7ec4\u5408\uff0c\u56e0\u6b64\u6700\u591a\u5c1d\u8bd510000\u6b21\u5c31\u80fd\u627e\u5230\u6b63\u786e\u7684\u5bc6\u7801\u3002\u7406\u8bba\u4e0a\u5229\u7528\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u7834\u89e3\u4efb\u4f55\u4e00\u79cd\u5bc6\u7801\uff0c\u95ee\u9898\u53ea\u5728\u4e8e\u5982\u4f55\u7f29\u77ed\u7834\u89e3\u65f6\u95f4\u3002\u5f53WLAN\u7f51\u7edc\u91c7\u7528\u7684\u5b89\u5168\u7b56\u7565\u4e3aWPA/WPA2-PSK\uff0cWAPI-PSK\uff0cWEP-Share-Key\u65f6\uff0c\u653b\u51fb\u8005\u5373\u53ef\u5229\u7528\u66b4\u529b\u7834\u89e3\u6cd5\u6765\u7834\u89e3\u51fa\u5bc6\u7801\u3002</p> <p>\u4e3a\u4e86\u63d0\u9ad8\u5bc6\u7801\u7684\u5b89\u5168\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u9632\u66b4\u529b\u7834\u89e3\u5bc6\u94a5\u529f\u80fd\uff0c\u5ef6\u957f\u7528\u6237\u7834\u89e3\u5bc6\u7801\u7684\u65f6\u95f4\u3002AP\u901a\u8fc7\u68c0\u6d4bWPA/WPA2-PSK\uff0cWAPI-PSK\uff0cWEP-Share-Key\u8ba4\u8bc1\u65f6\u5728\u4e00\u5b9a\u7684\u65f6\u95f4\u5185\u7684\u5bc6\u94a5\u534f\u5546\u5931\u8d25\u6b21\u6570\u662f\u5426\u8d85\u8fc7\u914d\u7f6e\u7684\u9608\u503c\uff0c\u6765\u786e\u5b9a\u662f\u5426\u5b58\u5728\u653b\u51fb\u3002\u5982\u679c\u8d85\u8fc7\uff0c\u5219\u8ba4\u4e3a\u8be5\u7528\u6237\u5728\u901a\u8fc7\u66b4\u529b\u7834\u89e3\u6cd5\u7834\u89e3\u5bc6\u7801\uff0cAP\u4e0a\u62a5\u544a\u8b66\u4fe1\u606f\u7ed9AC\uff0c\u5982\u679c\u540c\u65f6\u4f7f\u80fd\u4e86\u52a8\u6001\u9ed1\u540d\u5355\u529f\u80fd\uff0c\u5219AP\u5c06\u8be5\u7528\u6237\u52a0\u5165\u5230\u52a8\u6001\u9ed1\u540d\u5355\u5217\u8868\u4e2d\uff0c\u4e22\u5f03\u8be5\u7528\u6237\u7684\u6240\u6709\u62a5\u6587\uff0c\u76f4\u81f3\u52a8\u6001\u9ed1\u540d\u5355\u8001\u5316\u3002</p>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#3-wlan","title":"3. WLAN\u5b89\u5168\u5e94\u7528\u573a\u666f","text":""},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#31","title":"3.1. \u8bbe\u5907\u68c0\u6d4b\u548c\u53cd\u5236\u5e94\u7528","text":"<p>\u5982\u56fe1\u6240\u793a\uff0c\u5458\u5de5\u79c1\u81ea\u5728\u56ed\u533a\u7f51\u4e2d\u63a5\u5165\u5bb6\u7528\u80d6AP\uff0c\u6216\u901a\u8fc7\u4eff\u771f\u8f6f\u4ef6\u6a21\u62df\u80d6AP\uff0c\u5e76\u4f7f\u7528\u5408\u6cd5\u7684SSID\uff0c\u6b3a\u9a97\u7528\u6237\u63a5\u5165\u3002\u90e8\u7f72\u8bbe\u5907\u7684\u68c0\u6d4b\u548c\u53cd\u5236\u529f\u80fd\u540e\uff0cAC\u5224\u65ad\u51fa\u975e\u6cd5AP\uff0c\u76d1\u6d4bAP\u5c06\u4f1a\u4ee5\u975e\u6cd5AP\u7684\u8eab\u4efd\u53d1\u9001\u5e7f\u64ad\u89e3\u9664\u8ba4\u8bc1\u5e27\uff08Deauthentication\uff09\uff0c\u8fd9\u6837\uff0c\u63a5\u5165\u975e\u6cd5AP\u7684STA\u6536\u5230\u89e3\u9664\u8ba4\u8bc1\u5e27\u540e\uff0c\u5c31\u4f1a\u65ad\u5f00\u4e0e\u975e\u6cd5AP\u7684\u8fde\u63a5\u3002\u901a\u8fc7\u53cd\u5236\u673a\u5236\uff0c\u53ef\u4ee5\u963b\u6b62STA\u4e0e\u975e\u6cd5AP\u7684\u8fde\u63a5\u3002</p> <p>\u56fe1\u00a0\u8bbe\u5907\u68c0\u6d4b\u548c\u53cd\u5236\u7ec4\u7f51\u56fe </p>"},{"location":"05%20WLAN/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/WLAN%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#32","title":"3.2. \u653b\u51fb\u8bbe\u5907\u68c0\u6d4b\u5e94\u7528","text":"<p>\u5982\u56fe1\u6240\u793a\uff0c\u56ed\u533a\u63d0\u4f9b\u7684\u65e0\u7ebf\u7f51\u7edc\u4f7f\u7528WPA2-PSK\u7684\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u653b\u51fb\u8005\u4f7f\u7528\u7ec8\u7aef\u5bf9\u65e0\u7ebf\u7f51\u7edc\u53d1\u8d77\u6cdb\u6d2a\u653b\u51fb\uff0c\u5e76\u5c1d\u8bd5\u66b4\u529b\u7834\u89e3\u8ba4\u8bc1\u5bc6\u94a5\u3002AC\u68c0\u6d4b\u5230\u653b\u51fb\u8bbe\u5907\u540e\uff0c\u5c06\u653b\u51fb\u8bbe\u5907\u52a0\u5165\u52a8\u6001\u9ed1\u540d\u5355\uff0c\u4e0d\u518d\u5904\u7406\u653b\u51fb\u8bbe\u5907\u53d1\u9001\u7684\u4efb\u4f55\u62a5\u6587\uff0c\u963b\u6b62\u653b\u51fb\u7684\u8fdb\u884c\u3002</p> <p>\u56fe1\u00a0\u653b\u51fb\u8bbe\u5907\u68c0\u6d4b\u548c\u53cd\u5236\u7ec4\u7f51\u56fe </p>"},{"location":"06%20%E5%B9%BF%E5%9F%9F%E7%BD%91/BGP/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"https://bgp.he.net/AS24137 BGP Table Lookup Tool https://www.dan.me.uk/bgplookup https://dnslytics.com/ BGP4.net Wiki https://www.bgp4.net/doku.php?id=tools:ipv4_route_servers BGP4.net Wiki https://www.bgp4.net/doku.php?id=tools:ipv6_route_servers"},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/DNS%E8%A7%A3%E6%9E%90/","title":"\u5404\u8bb0\u5f55\u7c7b\u578b\u8bf4\u660e\u53ca\u89c4\u5219","text":""},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/DNS%E8%A7%A3%E6%9E%90/#_2","title":"\u5404\u8bb0\u5f55\u7c7b\u578b\u4f7f\u7528\u76ee\u7684","text":"\u8bb0\u5f55\u7c7b\u578b \u4f7f\u7528\u76ee\u7684 A \u8bb0\u5f55 \u5c06\u57df\u540d\u6307\u5411\u4e00\u4e2a IP \u5730\u5740\uff08\u5916\u7f51\u5730\u5740\uff09\u3002 CNAME \u8bb0\u5f55 \u5c06\u57df\u540d\u6307\u5411\u53e6\u4e00\u4e2a\u57df\u540d\uff0c\u518d\u7531\u53e6\u4e00\u4e2a\u57df\u540d\u63d0\u4f9b IP \u5730\u5740\uff08\u5916\u7f51\u5730\u5740\uff09\u3002 MX \u8bb0\u5f55 \u8bbe\u7f6e\u90ae\u7bb1\uff0c\u8ba9\u90ae\u7bb1\u80fd\u6536\u5230\u90ae\u4ef6\u3002 NS \u8bb0\u5f55 \u5c06\u5b50\u57df\u540d\u4ea4\u7ed9\u5176\u4ed6 DNS \u670d\u52a1\u5546\u89e3\u6790\u3002 SPF \u8bb0\u5f55 \u5c06\u57df\u540d\u6307\u5411\u53d1\u9001\u90ae\u4ef6\u7684\u670d\u52a1\u5668\uff0c\u662f\u4e00\u79cd\u4ee5IP\u5730\u5740\u8ba4\u8bc1\u7535\u5b50\u90ae\u4ef6\u53d1\u4ef6\u4eba\u8eab\u4efd\u7684\u6280\u672f\uff0c\u662f\u975e\u5e38\u9ad8\u6548\u7684\u5783\u573e\u90ae\u4ef6\u89e3\u51b3\u65b9\u6848\u3002 AAAA \u8bb0\u5f55 \u5c06\u57df\u540d\u6307\u5411\u4e00\u4e2a IPv6 \u5730\u5740\u3002 SRV \u8bb0\u5f55 \u7528\u6765\u6807\u8bc6\u67d0\u53f0\u670d\u52a1\u5668\u4f7f\u7528\u4e86\u67d0\u4e2a\u670d\u52a1\uff0c\u5e38\u89c1\u4e8e\u5fae\u8f6f\u7cfb\u7edf\u7684\u76ee\u5f55\u7ba1\u7406\u3002 TXT \u8bb0\u5f55 \u5bf9\u57df\u540d\u8fdb\u884c\u6807\u8bc6\u548c\u8bf4\u660e\uff0c\u7edd\u5927\u591a\u6570\u7684 TXT \u8bb0\u5f55\u662f\u7528\u6765\u505a SPF \u8bb0\u5f55\uff08\u53cd\u5783\u573e\u90ae\u4ef6\uff09\u3002 CAA \u8bb0\u5f55 \u6388\u6743\u6307\u5b9a CA \u673a\u6784\u4e3a\u57df\u540d\u7b7e\u53d1 SSL \u8bc1\u4e66\uff0c\u4ee5\u9632\u6b62 SSL \u8bc1\u4e66\u9519\u8bef\u7b7e\u53d1\u3002 HTTPS \u8bb0\u5f55 \u5c06\u57df\u540d\u6307\u5411\u53e6\u4e00\u4e2a\u57df\u540d\u6307\u5b9a\u503c\uff0c\u518d\u7531\u53e6\u4e00\u4e2a\u57df\u540d\u63d0\u4f9b IP \u5730\u5740\uff0c\u5c31\u9700\u8981\u6dfb\u52a0 HTTPS \u8bb0\u5f55\u3002 SVCB \u8bb0\u5f55 \u65b0\u578b\u670d\u52a1\u7ed1\u5b9a\u8bb0\u5f55\u7c7b\u578b\uff0c\u5141\u8bb8\u670d\u52a1\u6307\u5411\u591a\u4e2a\u5ba2\u6237\u7aef\uff0c\u5e76\u5173\u8054\u81ea\u5b9a\u4e49\u53c2\u6570\u503c\u3002 \u9690\u3001\u663e\u6027 URL \u8bb0\u5f55 \u5c06\u4e00\u4e2a\u57df\u540d\u6307\u5411\u53e6\u5916\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u7ad9\u70b9\u3002"},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E8%A7%84%E5%88%99/","title":"\u89e3\u6790\u8bb0\u5f55\u89c4\u5219","text":""},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E8%A7%84%E5%88%99/#1","title":"1. \u5404\u8bb0\u5f55\u7c7b\u578b\u8bf4\u660e\u53ca\u89c4\u5219","text":""},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E8%A7%84%E5%88%99/#11","title":"1.1. \u5404\u8bb0\u5f55\u7c7b\u578b\u4f7f\u7528\u76ee\u7684","text":"\u8bb0\u5f55\u7c7b\u578b \u4f7f\u7528\u76ee\u7684 A \u8bb0\u5f55 \u5c06\u57df\u540d\u6307\u5411\u4e00\u4e2a IP \u5730\u5740\u3002 AAAA \u8bb0\u5f55 \u5c06\u57df\u540d\u6307\u5411\u4e00\u4e2a IPv6 \u5730\u5740\u3002 CNAME \u8bb0\u5f55 \u5c06\u57df\u540d\u6307\u5411\u53e6\u4e00\u4e2a\u57df\u540d\uff0c\u518d\u7531\u53e6\u4e00\u4e2a\u57df\u540d\u63d0\u4f9b IP \u5730\u5740\u3002\u6700\u5e38\u7528\u5230 CNAME \u7684\u573a\u666f\u5305\u62ec\u505a CDN\u3001\u505a\u4f01\u4e1a\u90ae\u7bb1\u3002 MX \u8bb0\u5f55 \u8bbe\u7f6e\u90ae\u7bb1\uff0c\u8ba9\u90ae\u7bb1\u80fd\u6536\u5230\u90ae\u4ef6\u3002 NS \u8bb0\u5f55 \u5c06\u5b50\u57df\u540d\u4ea4\u7ed9\u5176\u4ed6 DNS \u670d\u52a1\u5546\u89e3\u6790\u3002 SPF \u8bb0\u5f55 \u5c06\u57df\u540d\u6307\u5411\u53d1\u9001\u90ae\u4ef6\u7684\u670d\u52a1\u5668\uff0c\u662f\u4e00\u79cd\u4ee5IP\u5730\u5740\u8ba4\u8bc1\u7535\u5b50\u90ae\u4ef6\u53d1\u4ef6\u4eba\u8eab\u4efd\u7684\u6280\u672f\uff0c\u662f\u975e\u5e38\u9ad8\u6548\u7684\u5783\u573e\u90ae\u4ef6\u89e3\u51b3\u65b9\u6848\u3002 SRV \u8bb0\u5f55 \u7528\u6765\u6807\u8bc6\u67d0\u53f0\u670d\u52a1\u5668\u4f7f\u7528\u4e86\u67d0\u4e2a\u670d\u52a1\uff0c\u5e38\u89c1\u4e8e\u5fae\u8f6f\u7cfb\u7edf\u7684\u76ee\u5f55\u7ba1\u7406\u3002 TXT \u8bb0\u5f55 \u5bf9\u57df\u540d\u8fdb\u884c\u6807\u8bc6\u548c\u8bf4\u660e\uff0c\u7edd\u5927\u591a\u6570\u7684 TXT \u8bb0\u5f55\u662f\u7528\u6765\u505a SPF \u8bb0\u5f55\uff08\u53cd\u5783\u573e\u90ae\u4ef6\uff09\u3002 CAA \u8bb0\u5f55 \u6388\u6743\u6307\u5b9a CA \u673a\u6784\u4e3a\u57df\u540d\u7b7e\u53d1 SSL \u8bc1\u4e66\uff0c\u4ee5\u9632\u6b62 SSL \u8bc1\u4e66\u9519\u8bef\u7b7e\u53d1\u3002 HTTPS \u8bb0\u5f55 \u5c06\u57df\u540d\u6307\u5411\u53e6\u4e00\u4e2a\u57df\u540d\u6307\u5b9a\u503c\uff0c\u518d\u7531\u53e6\u4e00\u4e2a\u57df\u540d\u63d0\u4f9b IP \u5730\u5740\uff0c\u5c31\u9700\u8981\u6dfb\u52a0 HTTPS \u8bb0\u5f55\u3002 SVCB \u8bb0\u5f55 \u65b0\u578b\u670d\u52a1\u7ed1\u5b9a\u8bb0\u5f55\u7c7b\u578b\uff0c\u5141\u8bb8\u670d\u52a1\u6307\u5411\u591a\u4e2a\u5ba2\u6237\u7aef\uff0c\u5e76\u5173\u8054\u81ea\u5b9a\u4e49\u53c2\u6570\u503c\u3002 \u9690\u3001\u663e\u6027 URL \u8bb0\u5f55 \u5c06\u4e00\u4e2a\u57df\u540d\u6307\u5411\u53e6\u5916\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u7ad9\u70b9\u3002"},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E8%A7%84%E5%88%99/#2-ttl","title":"2. TTL \u8bf4\u660e","text":"<p>TTL\uff08Time to live\uff09\uff0c\u662f\u6307\u5404\u5730 DNS \u670d\u52a1\u5668\u7f13\u5b58\u89e3\u6790\u8bb0\u5f55\u7684\u65f6\u957f\u3002</p> <p>\u5047\u8bbe TTL \u8bbe\u5b9a\u4e3a10\u5206\u949f\uff0c\u5f53\u5404\u5730\u7684 DNS \u670d\u52a1\u5668\u63a5\u6536\u5230\u57df\u540d\u7684\u89e3\u6790\u8bf7\u6c42\u65f6\uff0c\u4f1a\u5411\u6743\u5a01\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\u83b7\u53d6\u5230\u89e3\u6790\u8bb0\u5f55\uff0c\u5e76\u5728\u672c\u5730\u670d\u52a1\u5668\u4fdd\u5b5810\u5206\u949f\uff0c\u572810\u5206\u949f\u5185\uff0c\u89e3\u6790\u8bf7\u6c42\u5c06\u4ece\u672c\u5730\u7f13\u5b58\u4e2d\u8bfb\u53d6\uff0c\u7f13\u5b58\u5931\u6548\u540e\u624d\u4f1a\u91cd\u65b0\u83b7\u53d6\u8bb0\u5f55\u503c\u3002\u5efa\u8bae\u6b63\u5e38\u60c5\u51b5\u4e0b\u8bbe\u5b9a10\u5206\u949f\u5373\u53ef\uff0c\u4f7f\u7528\u4e0d\u540c\u5957\u9910\u7248\u672c\u7684\u89e3\u6790\u80fd\u8bbe\u5b9a\u7684 TTL \u6700\u4f4e\u503c\u4e0d\u540c\u3002</p>"},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E8%A7%84%E5%88%99/#3","title":"3. \u8d1f\u8f7d\u5747\u8861\u8bf4\u660e","text":""},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E8%A7%84%E5%88%99/#31","title":"3.1. \u8d1f\u8f7d\u5747\u8861\u4ecb\u7ecd","text":"<p>\u57fa\u4e8e\u89e3\u6790\u5b9e\u73b0\u7684\u8d1f\u8f7d\u5747\u8861\uff0c\u539f\u7406\u662f\u76f8\u540c\u4e3b\u673a\u8bb0\u5f55\u3001\u8bb0\u5f55\u7c7b\u578b\u3001\u7ebf\u8def\u7c7b\u578b\u4e0b\u8bbe\u7f6e\u4e0d\u540c\u7684\u8bb0\u5f55\u503c\uff0c\u6839\u636e\u6743\u91cd\u503c\u968f\u673a\u8fd4\u56de\u5bf9\u5e94\u8bb0\u5f55\u503c\u3002\u5982\u679c\u5728\u540c\u4e00\u4e3b\u673a\u8bb0\u5f55\u3001\u8bb0\u5f55\u7c7b\u578b\u3001\u7ebf\u8def\u7c7b\u578b\u4e0b\u6709\u591a\u4e2a\u670d\u52a1\u5668\uff0c\u9700\u8981\u5c06\u8bbf\u95ee\u6d41\u91cf\u5206\u644a\u5230\u5404\u4e2a\u670d\u52a1\u5668\u4e0a\uff0c\u53ef\u4ee5\u4f7f\u7528 DNS \u89e3\u6790\u6765\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3002</p> <p>\u8bf4\u660e\uff1a</p> <p>\u89e3\u6790\u8fd4\u56de\u5f97\u5230\u7684\u8bb0\u5f55\u503c\u662f\u6309\u6743\u91cd\u503c\u968f\u673a\u5f97\u5230\u7684\u8bb0\u5f55\u503c\uff0c\u4e0d\u4f1a\u6839\u636e\u670d\u52a1\u5668\u8d1f\u8f7d\u548c\u8fd0\u884c\u72b6\u51b5\u8fdb\u884c\u5206\u914d\u3002</p> <p>\u8d1f\u8f7d\u5747\u8861\u652f\u6301 A \u4e0e CNAME \u8bb0\u5f55\uff0c\u5404\u8bb0\u5f55\u8bbe\u7f6e\u793a\u4f8b\u5982\u4e0b\uff1a</p>"},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E8%A7%84%E5%88%99/#311-a","title":"3.1.1. A \u8bb0\u5f55\u8d1f\u8f7d\u5747\u8861","text":"\u4e3b\u673a\u8bb0\u5f55 \u8bb0\u5f55\u7c7b\u578b \u7ebf\u8def\u7c7b\u578b \u8bb0\u5f55\u503c TTL \u6743\u91cd www A \u9ed8\u8ba4 1.1.1.1 60 50 www A \u9ed8\u8ba4 2.2.2.2 60 50"},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E8%A7%84%E5%88%99/#312-cname","title":"3.1.2. CNAME \u8bb0\u5f55\u8d1f\u8f7d\u5747\u8861","text":"\u4e3b\u673a\u8bb0\u5f55 \u8bb0\u5f55\u7c7b\u578b \u7ebf\u8def\u7c7b\u578b \u8bb0\u5f55\u503c TTL \u6743\u91cd www CNAME \u9ed8\u8ba4 www.dnspod.cn 60 50 www CNAME \u9ed8\u8ba4 www.dnspod.net 60 50"},{"location":"07%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/DNS/%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E8%A7%84%E5%88%99/#4","title":"4. \u8d1f\u8f7d\u5747\u8861\u4f7f\u7528\u9650\u5236","text":"<p>\u8bf4\u660e</p> <ul> <li>\u4f7f\u7528\u4e0d\u540c\u89e3\u6790\u5957\u9910\u7248\u672c\u80fd\u8bbe\u5b9a\u4e0d\u540c\u8d1f\u8f7d\u5747\u8861\u6570\u76ee\u4e0a\u9650\u4e0d\u540c\u3002</li> <li>\u8d1f\u8f7d\u5747\u8861\u6570\u6307\u76f8\u540c\u4e3b\u673a\u8bb0\u5f55\u3001\u8bb0\u5f55\u7c7b\u578b\u3001\u7ebf\u8def\u7c7b\u578b\u7684\u8bb0\u5f55\u6570\u3002</li> <li>\u7531\u4e8e UDP \u534f\u8bae\u4f20\u8f93\u7684 DNS \u6d88\u606f\u6700\u5927\u957f\u5ea6\u9700\u8981\u9650\u5236\u5728 512 \u5b57\u8282\uff08\u4e0d\u5305\u62ec IP \u5934\u90e8\u3001UDP \u5934\u90e8\uff09\uff0c\u56e0\u6b64 1 \u4e2a DNS \u54cd\u5e94\u80fd\u591f\u8fd4\u56de\u7684\u8d44\u6e90\u8bb0\u5f55\u6570\u91cf\u5b58\u5728\u9650\u5236\uff1aAAAA \u8bb0\u5f55\u53ea\u8fd4\u56de 8 \u6761\uff0cCNAME \u8bb0\u5f55\u8fd4\u56de 1 \u6761\uff0cA \u8bb0\u5f55\u53ca\u5176\u4ed6\u8bb0\u5f55\u6700\u591a\u8fd4\u56de 20 \u6761\u3002\u5f53\u60a8\u8bbe\u7f6e\u7684\u8d1f\u8f7d\u5747\u8861\u6570\u8d85\u8fc7\u6b64\u9650\u5236\u65f6\uff0c\u6743\u5a01\u670d\u52a1\u5668\u5c06\u968f\u673a\u8fd4\u56de\u8bb0\u5f55\u503c\u3002</li> </ul>"},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/","title":"\u94fe\u8def\u805a\u5408LACP","text":"<p>LACP\uff08Link Aggregation Control Protocol\uff0c\u94fe\u8def\u805a\u5408\u63a7\u5236\u534f\u8bae\uff09\u662f\u4e00\u79cd\u57fa\u4e8eIEEE802.3ad\u6807\u51c6\u7684\u5b9e\u73b0\u94fe\u8def\u52a8\u6001\u805a\u5408\u4e0e\u89e3\u805a\u5408\u7684\u534f\u8bae\uff0c\u5b83\u662f\u94fe\u8def\u805a\u5408\u4e2d\u5e38\u7528\u7684\u4e00\u79cd\u534f\u8bae\u3002\u94fe\u8def\u805a\u5408\u7ec4\u4e2d\u542f\u7528\u4e86LACP\u534f\u8bae\u7684\u6210\u5458\u7aef\u53e3\u901a\u8fc7\u53d1\u9001LACPDU\u62a5\u6587\u8fdb\u884c\u4ea4\u4e92\uff0c\u53cc\u65b9\u5bf9\u54ea\u4e9b\u7aef\u53e3\u80fd\u591f\u53d1\u9001\u548c\u63a5\u6536\u62a5\u6587\u8fbe\u6210\u4e00\u81f4\uff0c\u786e\u5b9a\u627f\u62c5\u4e1a\u52a1\u6d41\u91cf\u7684\u94fe\u8def\u3002\u6b64\u5916\uff0c\u5f53\u805a\u5408\u6761\u4ef6\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u5982\u67d0\u4e2a\u94fe\u8def\u53d1\u751f\u6545\u969c\uff0cLACP\u6a21\u5f0f\u4f1a\u81ea\u52a8\u8c03\u6574\u805a\u5408\u7ec4\u4e2d\u7684\u94fe\u8def\uff0c\u7ec4\u5185\u5176\u4ed6\u53ef\u7528\u6210\u5458\u94fe\u8def\u63a5\u66ff\u6545\u969c\u94fe\u8def\u7ef4\u6301\u8d1f\u8f7d\u5e73\u8861\u3002\u8fd9\u6837\u5728\u4e0d\u8fdb\u884c\u786c\u4ef6\u5347\u7ea7\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u589e\u52a0\u8bbe\u5907\u4e4b\u95f4\u7684\u903b\u8f91\u5e26\u5bbd\uff0c\u63d0\u9ad8\u7f51\u7edc\u7684\u53ef\u9760\u6027\u3002</p>","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/#1-lacplag","title":"1. LACP\u4e0eLAG\u662f\u4ec0\u4e48\u5173\u7cfb\uff1f","text":"<p>\u94fe\u8def\u805a\u5408\u7ec4LAG\uff08Link Aggregation Group\uff09\u662f\u6307\u5c06\u82e5\u5e72\u6761\u4ee5\u592a\u94fe\u8def\u6346\u7ed1\u5728\u4e00\u8d77\u5f62\u6210\u4e00\u6761\u903b\u8f91\u94fe\u8def\uff0c\u4e5f\u79f0Eth-trunk\u94fe\u8def\u3002\u6bcf\u4e2a\u805a\u5408\u7ec4\u5bf9\u5e94\u4e00\u4e2a\u94fe\u8def\u805a\u5408\u63a5\u53e3\u6216Eth-Trunk\u63a5\u53e3\uff0c\u7ec4\u6210Eth-Trunk\u63a5\u53e3\u7684\u5404\u4e2a\u7269\u7406\u63a5\u53e3\u79f0\u4e3a\u6210\u5458\u63a5\u53e3\uff0c\u6210\u5458\u63a5\u53e3\u5bf9\u5e94\u7684\u94fe\u8def\u79f0\u4e3a\u6210\u5458\u94fe\u8def\u3002\u94fe\u8def\u805a\u5408\u63a5\u53e3\u53ef\u4ee5\u4f5c\u4e3a\u666e\u901a\u7684\u4ee5\u592a\u7f51\u63a5\u53e3\u6765\u4f7f\u7528\uff0c\u4e0e\u666e\u901a\u4ee5\u592a\u7f51\u63a5\u53e3\u7684\u5dee\u522b\u5728\u4e8e\uff1a\u8f6c\u53d1\u7684\u65f6\u5019\u94fe\u8def\u805a\u5408\u7ec4\u9700\u8981\u4ece\u6210\u5458\u63a5\u53e3\u4e2d\u9009\u62e9\u4e00\u4e2a\u6216\u591a\u4e2a\u63a5\u53e3\u6765\u8fdb\u884c\u6570\u636e\u8f6c\u53d1\u3002</p> <p> \u94fe\u8def\u805a\u5408\u7ec4\u4e0e\u94fe\u8def\u805a\u5408\u63a5\u53e3\u3001\u6210\u5458\u63a5\u53e3\u548c\u6210\u5458\u94fe\u8def\u5173\u7cfb\u793a\u610f\u56fe</p> <p>LAG\u662f\u4e00\u79cd\u94fe\u8def\u805a\u5408\u6280\u672f\uff0c\u5f53\u5728\u4e24\u53f0\u4ea4\u6362\u673a\u4e4b\u95f4\u5e76\u884c\u8fde\u63a5\u591a\u4e2a\u7aef\u53e3\u5e76\u5c06\u5b83\u4eec\u914d\u7f6e\u4e3aLAG\u65f6\uff0c\u94fe\u8def\u805a\u5408\u7ec4\u5c31\u4f1a\u5f62\u6210\uff0c\u800cLACP\u662f\u4e00\u79cd\u81ea\u52a8\u5efa\u7acbLAG\u7684\u63a7\u5236\u534f\u8bae\uff0c\u7528\u4e8e\u542f\u7528LAG\u81ea\u52a8\u914d\u7f6e\u7f51\u7edc\u4ea4\u6362\u673a\u7aef\u53e3\u3001\u5206\u79bb\u94fe\u8def\u6545\u969c\u548c\u6fc0\u6d3b\u6545\u969c\u5207\u6362\u3002</p> <p>LAG\u4e3b\u8981\u6709\u4e24\u79cd\u6a21\u5f0f\uff0c\u5206\u522b\u662f\u624b\u5de5\u6a21\u5f0f\u548cLACP\u6a21\u5f0f\u3002</p> <ul> <li>\u624b\u5de5\u6a21\u5f0f\uff1a\u6307LAG\u4e0d\u542f\u7528\u4efb\u4f55\u94fe\u8def\u805a\u5408\u534f\u8bae\uff0cEth-Trunk\u7684\u5efa\u7acb\u3001\u6210\u5458\u63a5\u53e3\u7684\u52a0\u5165\u7531\u624b\u5de5\u914d\u7f6e\u3002</li> <li>LACP\u6a21\u5f0f\uff1a\u6307LAG\u542f\u7528LACP\u94fe\u8def\u805a\u5408\u534f\u8bae\uff0cEth-Trunk\u7684\u5efa\u7acb\u3001\u6210\u5458\u63a5\u53e3\u7684\u52a0\u5165\u57fa\u4e8eLACP\u534f\u8bae\u534f\u5546\u5b8c\u6210\u3002</li> </ul> <p>\u90e8\u5206\u8bbe\u5907\u652f\u6301\u624b\u5de5\u6a21\u5f0f\uff0c\u4f46\u4e0d\u652f\u6301LACP\u6a21\u5f0f\uff0cLACP\u6a21\u5f0f\u9700\u8981\u672c\u7aef\u548c\u5bf9\u7aef\u8bbe\u5907\u540c\u65f6\u542f\u7528LACP\u534f\u8bae\uff0c\u6240\u9009\u62e9\u7684\u6d3b\u52a8\u63a5\u53e3\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\uff0c\u624d\u80fd\u5efa\u7acbLAG\uff0c\u5982\u679c\u5bf9\u7aef\u8bbe\u5907\u672a\u542f\u7528LACP\u534f\u8bae\uff0c\u672c\u7aefLAG\u4f1a\u5c1d\u8bd5\u5c06\u6570\u636e\u5305\u4f20\u8f93\u5230\u8fdc\u7a0b\u5355\u4e2a\u63a5\u53e3\uff0c\u53ef\u80fd\u5bfc\u81f4\u901a\u4fe1\u5931\u8d25\u3002</p> <p> \u624b\u5de5\u6a21\u5f0f\u4e0eLACP\u6a21\u5f0f\u7684\u5bf9\u6bd4</p>","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/#2-lacp","title":"2. \u4e3a\u4ec0\u4e48\u8981\u7528LACP\uff1f","text":"","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/#21-lacp","title":"2.1. LACP\u6a21\u5f0f\u5bf9\u6570\u636e\u4f20\u8f93\u66f4\u52a0\u7a33\u5b9a\u548c\u53ef\u9760","text":"<p>\u624b\u5de5\u6a21\u5f0f\u4e0b\uff0c\u6240\u6709\u94fe\u8def\u90fd\u662f\u6d3b\u52a8\u94fe\u8def\uff0c\u6240\u6709\u6d3b\u52a8\u94fe\u8def\u5747\u53c2\u4e0e\u6570\u636e\u8f6c\u53d1\uff0c\u5e73\u5747\u5206\u62c5\u6d41\u91cf\u3002\u5982\u679c\u67d0\u6761\u6d3b\u52a8\u94fe\u8def\u6545\u969c\uff0c\u94fe\u8def\u805a\u5408\u7ec4\u81ea\u52a8\u5728\u5269\u4f59\u7684\u6d3b\u52a8\u94fe\u8def\u4e2d\u5e73\u5747\u5206\u62c5\u6d41\u91cf\u3002</p> <p>LACP\u6a21\u5f0f\u4e0b\uff0c\u7531LACP\u786e\u5b9a\u805a\u5408\u7ec4\u4e2d\u7684\u6d3b\u52a8\u548c\u975e\u6d3b\u52a8\u94fe\u8def\uff0c\u53c8\u79f0\u4e3aM:N\u6a21\u5f0f\uff0c\u5373M\u6761\u6d3b\u52a8\u94fe\u8def\u4e0eN\u6761\u5907\u4efd\u94fe\u8def\u7684\u6a21\u5f0f\u3002\u8fd9\u79cd\u6a21\u5f0f\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u94fe\u8def\u53ef\u9760\u6027\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728M\u6761\u94fe\u8def\u4e2d\u5b9e\u73b0\u4e0d\u540c\u65b9\u5f0f\u7684\u8d1f\u8f7d\u5747\u8861\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u4e24\u53f0\u8bbe\u5907\u95f4\u6709M+N\u6761\u94fe\u8def\uff0c\u5728\u805a\u5408\u94fe\u8def\u4e0a\u8f6c\u53d1\u6d41\u91cf\u65f6\u5728M\u6761\u94fe\u8def\u4e0a\u5206\u62c5\u8d1f\u8f7d\uff0c\u5373\u6d3b\u52a8\u94fe\u8def\uff0c\u4e0d\u5728\u53e6\u5916\u7684N\u6761\u94fe\u8def\u8f6c\u53d1\u6d41\u91cf\uff0c\u8fd9N\u6761\u94fe\u8def\u63d0\u4f9b\u5907\u4efd\u529f\u80fd\uff0c\u5373\u5907\u4efd\u94fe\u8def\u3002\u6b64\u65f6\u94fe\u8def\u7684\u5b9e\u9645\u5e26\u5bbd\u4e3aM\u6761\u94fe\u8def\u7684\u603b\u548c\uff0c\u4f46\u662f\u80fd\u63d0\u4f9b\u7684\u6700\u5927\u5e26\u5bbd\u4e3aM+N\u6761\u94fe\u8def\u7684\u603b\u548c\u3002\u5f53M\u6761\u94fe\u8def\u4e2d\u6709\u4e00\u6761\u94fe\u8def\u6545\u969c\u65f6\uff0cLACP\u4f1a\u4eceN\u6761\u5907\u4efd\u94fe\u8def\u4e2d\u627e\u51fa\u4e00\u6761\u4f18\u5148\u7ea7\u9ad8\u7684\u53ef\u7528\u94fe\u8def\u66ff\u6362\u6545\u969c\u94fe\u8def\u3002\u6b64\u65f6\u94fe\u8def\u7684\u5b9e\u9645\u5e26\u5bbd\u8fd8\u662fM\u6761\u94fe\u8def\u7684\u603b\u548c\uff0c\u4f46\u662f\u80fd\u63d0\u4f9b\u7684\u6700\u5927\u5e26\u5bbd\u5c31\u53d8\u4e3aM+N-1\u6761\u94fe\u8def\u7684\u603b\u548c\u3002</p> <p> M:N\u5907\u4efd\u793a\u610f\u56fe</p>","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/#22-lacp","title":"2.2. LACP\u6a21\u5f0f\u5bf9\u805a\u5408\u94fe\u8def\u7ec4\u7684\u6545\u969c\u68c0\u6d4b\u66f4\u52a0\u51c6\u786e\u548c\u6709\u6548","text":"<p>\u624b\u5de5\u6a21\u5f0f\u53ea\u80fd\u68c0\u6d4b\u5230\u540c\u4e00\u805a\u5408\u7ec4\u5185\u7684\u6210\u5458\u94fe\u8def\u6709\u65ad\u8def\u7b49\u6709\u9650\u6545\u969c\uff0cLACP\u6a21\u5f0f\u4e0d\u4ec5\u80fd\u591f\u68c0\u6d4b\u5230\u540c\u4e00\u805a\u5408\u7ec4\u5185\u7684\u6210\u5458\u94fe\u8def\u6709\u65ad\u8def\u7b49\u6709\u9650\u6545\u969c\uff0c\u8fd8\u53ef\u4ee5\u68c0\u6d4b\u5230\u94fe\u8def\u6545\u969c\u3001\u94fe\u8def\u9519\u8fde\u7b49\u6545\u969c\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0cDeviceA\u4e0eDeviceB\u4e4b\u95f4\u521b\u5efaEth-trunk\uff0c\u9700\u8981\u5c06DeviceA\u4e0a\u7684\u56db\u4e2a\u63a5\u53e3\u4e0eDeviceB\u6346\u7ed1\u6210\u4e00\u4e2aEth-Trunk\u3002\u7531\u4e8e\u9519\u5c06DeviceA\u4e0a\u7684\u4e00\u4e2a\u63a5\u53e3\u4e0eDeviceC\u76f8\u8fde\uff0c\u8fd9\u5c06\u4f1a\u5bfc\u81f4DeviceA\u5411DeviceB\u4f20\u8f93\u6570\u636e\u65f6\u53ef\u80fd\u4f1a\u5c06\u672c\u5e94\u8be5\u53d1\u5230DeviceB\u7684\u6570\u636e\u53d1\u9001\u5230DeviceC\u4e0a\u3002</p> <p>\u624b\u5de5\u6a21\u5f0f\u7684Eth-trunk\u4e0d\u80fd\u53ca\u65f6\u68c0\u6d4b\u5230\u8be5\u6545\u969c\uff0c\u5982\u679c\u5728DeviceA\u548cDeviceB\u4e0a\u90fd\u542f\u7528LACP\u534f\u8bae\uff0c\u7ecf\u8fc7\u534f\u5546\u540e\uff0cEth-Trunk\u5c31\u4f1a\u9009\u62e9\u6b63\u786e\u8fde\u63a5\u7684\u94fe\u8def\u4f5c\u4e3a\u6d3b\u52a8\u94fe\u8def\u6765\u8f6c\u53d1\u6570\u636e\uff0c\u4ece\u800cDeviceA\u53d1\u9001\u7684\u6570\u636e\u80fd\u591f\u6b63\u786e\u5230\u8fbeDeviceB\u3002</p> <p> Eth-Trunk\u9519\u8fde\u793a\u610f\u56fe</p>","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/#3-lacp","title":"3. LACP\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f","text":"<p>LACP\u4e3a\u6570\u636e\u4ea4\u6362\u8bbe\u5907\u63d0\u4f9b\u4e00\u79cd\u6807\u51c6\u7684\u534f\u5546\u65b9\u5f0f\uff0c\u7cfb\u7edf\u6839\u636e\u81ea\u8eab\u914d\u7f6e\u81ea\u52a8\u5f62\u6210\u805a\u5408\u94fe\u8def\uff0c\u5e76\u542f\u52a8\u805a\u5408\u94fe\u8def\u6536\u53d1\u6570\u636e\u3002LACP\u901a\u8fc7\u94fe\u8def\u805a\u5408\u63a7\u5236\u534f\u8bae\u6570\u636e\u5355\u5143LACPDU\uff08Link Aggregation Control Protocol Data Unit\uff09\u4e0e\u5bf9\u7aef\u4ea4\u4e92\u4fe1\u606f\uff0cLACPDU\u62a5\u6587\u4e2d\u5305\u542b\u8bbe\u5907\u7684\u7cfb\u7edf\u4f18\u5148\u7ea7\u3001MAC\u5730\u5740\u3001\u63a5\u53e3\u4f18\u5148\u7ea7\u3001\u63a5\u53e3\u53f7\u548c\u64cd\u4f5cKey\u7b49\u4fe1\u606f\uff0c\u5bf9\u7aef\u63a5\u6536\u5230\u8fd9\u4e9b\u4fe1\u606f\u540e\uff0c\u5c06\u8fd9\u4e9b\u4fe1\u606f\u4e0e\u5176\u5b83\u7aef\u53e3\u6240\u4fdd\u5b58\u7684\u4fe1\u606f\u6bd4\u8f83\u4ee5\u9009\u62e9\u80fd\u591f\u6c47\u805a\u7684\u7aef\u53e3\uff0c\u53cc\u65b9\u5bf9\u7aef\u53e3\u52a0\u5165\u6216\u9000\u51fa\u67d0\u4e2a\u52a8\u6001\u805a\u5408\u7ec4\u8fbe\u6210\u4e00\u81f4\uff0c\u786e\u5b9a\u627f\u62c5\u4e1a\u52a1\u6d41\u91cf\u7684\u94fe\u8def\u3002</p> <p>LACP\u4e3b\u8981\u5de5\u4f5c\u4e3b\u8981\u5305\u542b\u4e92\u53d1LACPDU\u62a5\u6587\u3001\u786e\u5b9a\u4e3b\u52a8\u7aef\u3001\u786e\u5b9a\u6d3b\u52a8\u94fe\u8def\u3001\u94fe\u8def\u5207\u6362\uff0c\u5177\u4f53\u5b9e\u73b0\u5982\u4e0b\u3002</p>","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/#31-lacpdu","title":"3.1. \u4e92\u53d1LACPDU\u62a5\u6587","text":"<p>\u5728\u5bf9\u63a5\u7684\u4e24\u53f0\u8bbe\u5907\u4e0a\u521b\u5efaEth-Trunk\u5e76\u914d\u7f6e\u4e3aLACP\u6a21\u5f0f\uff0c\u7136\u540e\u5411Eth-Trunk\u4e2d\u624b\u5de5\u52a0\u5165\u6210\u5458\u63a5\u53e3\u3002\u6b64\u65f6\u6210\u5458\u63a5\u53e3\u4e0a\u4fbf\u542f\u7528\u4e86LACP\u534f\u8bae\uff0c\u4e24\u7aef\u4e92\u53d1LACPDU\u62a5\u6587\uff0cLACPDU\u62a5\u6587\u4e2d\u5305\u542b\u8bbe\u5907\u7684\u7cfb\u7edf\u4f18\u5148\u7ea7\u3001MAC\u5730\u5740\u3001\u63a5\u53e3\u4f18\u5148\u7ea7\u3001\u63a5\u53e3\u53f7\u548c\u64cd\u4f5cKey\u7b49\u4fe1\u606f\u3002</p> <p> \u4e92\u53d1LACPDU\u62a5\u6587</p>","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/#32","title":"3.2. \u786e\u5b9a\u4e3b\u52a8\u7aef","text":"<p>\u4e24\u7aef\u8bbe\u5907\u5747\u4f1a\u6536\u5230\u5bf9\u7aef\u53d1\u6765\u7684LACPDU\u62a5\u6587\u3002\u4ee5DeviceB\u4e3a\u4f8b\uff0c\u5f53DeviceB\u6536\u5230DeviceA\u53d1\u9001\u7684\u62a5\u6587\u65f6\uff0cDeviceB\u4f1a\u67e5\u770b\u5e76\u8bb0\u5f55\u5bf9\u7aef\u4fe1\u606f\uff0c\u7136\u540e\u6bd4\u8f83\u7cfb\u7edf\u4f18\u5148\u7ea7\u5b57\u6bb5\uff0c\u5982\u679cDeviceA\u7684\u7cfb\u7edf\u4f18\u5148\u7ea7\u9ad8\u4e8e\u672c\u7aef\u7684\u7cfb\u7edf\u4f18\u5148\u7ea7\uff0c\u5219\u786e\u5b9aDeviceA\u4e3aLACP\u4e3b\u52a8\u7aef\u3002\u5982\u679cDeviceA\u548cDeviceB\u7684\u7cfb\u7edf\u4f18\u5148\u7ea7\u76f8\u540c\uff0c\u6bd4\u8f83\u4e24\u7aef\u8bbe\u5907\u7684MAC\u5730\u5740\uff0cMAC\u5730\u5740\u5c0f\u7684\u4e00\u7aef\u4e3aLACP\u4e3b\u52a8\u7aef\u3002</p> <p> \u786e\u5b9a\u4e3b\u52a8\u7aef</p>","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/#33","title":"3.3. \u786e\u5b9a\u6d3b\u52a8\u94fe\u8def","text":"<p>\u9009\u51fa\u4e3b\u52a8\u7aef\u540e\uff0c\u8bbe\u5907\u4e24\u7aef\u4f1a\u4ee5\u4e3b\u52a8\u7aef\u7684\u63a5\u53e3\u4f18\u5148\u7ea7\u6765\u9009\u62e9\u6d3b\u52a8\u63a5\u53e3\uff0c\u5982\u679c\u4e3b\u52a8\u7aef\u7684\u63a5\u53e3\u4f18\u5148\u7ea7\u90fd\u76f8\u540c\u5219\u9009\u62e9\u63a5\u53e3\u7f16\u53f7\u6bd4\u8f83\u5c0f\u7684\u4e3a\u6d3b\u52a8\u63a5\u53e3\u3002LACP\u6a21\u5f0f\u652f\u6301\u8bbe\u7f6e\u6d3b\u52a8\u63a5\u53e3\u6570\u4e0a\u9650\u9608\u503c\u4ee5\u5728\u4fdd\u8bc1\u5e26\u5bbd\u7684\u60c5\u51b5\u4e0b\u63d0\u9ad8\u7f51\u7edc\u53ef\u9760\u6027\uff0c\u5f53\u524d\u6d3b\u52a8\u63a5\u53e3\u6570\u76ee\u8fbe\u5230\u4e0a\u9650\u9608\u503c\u65f6\uff0c\u518d\u5411Eth-Trunk\u4e2d\u6dfb\u52a0\u6210\u5458\u63a5\u53e3\uff0c\u4e0d\u4f1a\u589e\u52a0Eth-Trunk\u6d3b\u52a8\u63a5\u53e3\u7684\u6570\u76ee\uff0c\u8d85\u8fc7\u4e0a\u9650\u9608\u503c\u7684\u94fe\u8def\u72b6\u6001\u5c06\u88ab\u7f6e\u4e3aDown\uff0c\u4f5c\u4e3a\u5907\u4efd\u94fe\u8def\u3002\u4e24\u7aef\u8bbe\u5907\u9009\u62e9\u4e86\u4e00\u81f4\u7684\u6d3b\u52a8\u63a5\u53e3\uff0c\u6d3b\u52a8\u94fe\u8def\u7ec4\u4fbf\u53ef\u4ee5\u5efa\u7acb\u8d77\u6765\uff0c\u8fd9\u4e9b\u6d3b\u52a8\u94fe\u8def\u4ee5\u8d1f\u8f7d\u5206\u62c5\u7684\u65b9\u5f0f\u8f6c\u53d1\u6570\u636e\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0cLACP\u6a21\u5f0f\u4e0b\uff0c\u5982\u679c\u6d3b\u52a8\u94fe\u8def\u6570\u4e0a\u9650\u9608\u503c\u4e3a2\uff0c\u901a\u8fc7LACP\u534f\u5546\u540e\uff0c\u94fe\u8def1\u548c\u94fe\u8def2\u56e0\u4e3a\u4f18\u5148\u7ea7\u8f83\u9ad8\u88ab\u9009\u4f5c\u6d3b\u52a8\u94fe\u8def\uff0c\u94fe\u8def3\u5219\u4e3a\u5907\u4efd\u94fe\u8def\u3002\u805a\u5408\u94fe\u8def\u4e2d\u7684\u6d3b\u52a8\u94fe\u8def\u53c2\u4e0e\u6570\u636e\u8f6c\u53d1\uff0c\u603b\u5e26\u5bbd\u7b49\u4e8e\u88ab\u9009\u4e2d\u7684\u6d3b\u52a8\u94fe\u8def\u5e26\u5bbd\u4e4b\u548c\u3002</p> <p>  \u786e\u5b9a\u6d3b\u52a8\u94fe\u8def</p>","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/#34","title":"3.4. \u94fe\u8def\u5207\u6362","text":"<p>LACP\u6a21\u5f0f\u94fe\u8def\u805a\u5408\u7ec4\u4e2d\u5982\u679c\u67d0\u6761\u6d3b\u52a8\u94fe\u8def\u6545\u969c\uff0c\u94fe\u8def\u805a\u5408\u7ec4\u81ea\u52a8\u5728\u5907\u4efd\u94fe\u8def\u4e2d\u9009\u62e9\u4e00\u6761\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u94fe\u8def\u4f5c\u4e3a\u6d3b\u52a8\u94fe\u8def\u63a5\u66ff\u6545\u969c\u94fe\u8def\uff0c\u53c2\u4e0e\u6570\u636e\u8f6c\u53d1\u7684\u94fe\u8def\u6570\u76ee\u4e0d\u53d8\uff0c\u4fdd\u8bc1\u6570\u636e\u4f20\u8f93\u7684\u53ef\u9760\u6027\u3002LACP\u6a21\u5f0f\u94fe\u8def\u805a\u5408\u7ec4\u4e24\u7aef\u8bbe\u5907\u4e2d\u4efb\u4f55\u4e00\u7aef\u68c0\u6d4b\u5230\u4ee5\u4e0b\u4e8b\u4ef6\uff0c\u90fd\u4f1a\u89e6\u53d1\u805a\u5408\u7ec4\u7684\u94fe\u8def\u5207\u6362\uff1a</p> <ul> <li>\u94fe\u8defDown\u4e8b\u4ef6\u3002</li> <li>\u4ee5\u592a\u7f51OAM\u68c0\u6d4b\u5230\u94fe\u8def\u5931\u6548\u3002</li> <li>LACP\u534f\u8bae\u53d1\u73b0\u94fe\u8def\u6545\u969c\u3002</li> <li>\u63a5\u53e3\u4e0d\u53ef\u7528\u3002</li> <li>\u5728\u4f7f\u80fd\u4e86LACP\u62a2\u5360\u529f\u80fd\u7684\u524d\u63d0\u4e0b\uff0c\u66f4\u6539\u5907\u4efd\u63a5\u53e3\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u5f53\u524d\u6d3b\u52a8\u63a5\u53e3\u7684\u4f18\u5148\u7ea7\u3002</li> </ul> <p>\u5f53\u6ee1\u8db3\u4e0a\u8ff0\u5207\u6362\u6761\u4ef6\u5176\u4e2d\u4e4b\u4e00\u65f6\uff0c\u6309\u7167\u5982\u4e0b\u6b65\u9aa4\u8fdb\u884c\u5207\u6362\uff1a</p> <ol> <li>\u5173\u95ed\u6545\u969c\u94fe\u8def\u3002</li> <li>\u4eceN\u6761\u5907\u4efd\u94fe\u8def\u4e2d\u9009\u62e9\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u94fe\u8def\u63a5\u66ff\u6d3b\u52a8\u94fe\u8def\u4e2d\u7684\u6545\u969c\u94fe\u8def\u3002</li> <li>\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u5907\u4efd\u94fe\u8def\u8f6c\u4e3a\u6d3b\u52a8\u72b6\u6001\u5e76\u8f6c\u53d1\u6570\u636e\uff0c\u5b8c\u6210\u5207\u6362\u3002</li> </ol> <p> \u94fe\u8def\u5207\u6362</p>","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/001%20%E4%BB%80%E4%B9%88%E6%98%AFLACP/#4-lacppagp","title":"4. LACP\u548cPAgP\u6709\u4ec0\u4e48\u533a\u522b\uff1f","text":"<p>LACP\u548cPAgP\uff08Port Aggregation Protocol\uff0c\u7aef\u53e3\u6c47\u805a\u534f\u8bae\uff09\u662f\u94fe\u8def\u805a\u5408\u4e2d\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684\u4e24\u79cd\u534f\u5546\u534f\u8bae\u3002LACP\u548cPAgP\u7684\u529f\u80fd\u7c7b\u4f3c\uff0c\u90fd\u662f\u901a\u8fc7\u6346\u7ed1\u94fe\u8def\u5e76\u534f\u5546\u6210\u5458\u94fe\u8def\u4e4b\u95f4\u7684\u6d41\u91cf\u63d0\u9ad8\u7f51\u7edc\u7684\u53ef\u7528\u6027\u548c\u7a33\u5b9a\u6027\u3002LACP\u548cPAgP\u6570\u636e\u5305\u5728\u4ea4\u6362\u673a\u4e4b\u95f4\u901a\u8fc7\u652f\u6301\u4ee5\u592a\u7f51\u901a\u9053\u7684\u7aef\u53e3\u4ea4\u6362\u3002</p> <p>\u5b83\u4eec\u4e4b\u95f4\u6700\u5927\u7684\u533a\u522b\u662f\u652f\u6301\u7684\u4f9b\u5e94\u5546\u4e0d\u540c\uff0cLACP\u662f\u5f00\u653e\u6807\u51c6\uff0c\u53ef\u4ee5\u5728\u5927\u591a\u6570\u4ea4\u6362\u673a\u4e0a\u8fd0\u884c\uff0c\u5982\u534e\u4e3aS5700\u7cfb\u5217\u4ea4\u6362\u673a\uff0c\u800cPAgP\u662fCisco\u4e13\u6709\u534f\u8bae\uff0c\u53ea\u80fd\u5728Cisco\u6216\u652f\u6301PAgP\u7684\u7b2c\u4e09\u65b9\u4ea4\u6362\u673a\u4e0a\u8fd0\u884c\u3002</p> <p> LACP vs PAgP</p> <p>\u53c2\u8003\u8d44\u6e90</p> <p>1\u4e86\u89e3LACPDU\u5e27\u683c\u5f0f</p> <p>2\u56ed\u533a\u4ea4\u6362\u673a \u4ee5\u592a\u7f51\u94fe\u8def\u805a\u5408\u914d\u7f6e</p> <p>3\u56ed\u533a\u4ea4\u6362\u673a \u94fe\u8def\u805a\u5408\u5178\u578b\u914d\u7f6e</p>","tags":["LACP","\u94fe\u8def\u805a\u5408"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/002%20%E4%BB%80%E4%B9%88%E6%98%AFEth-trunk/","title":"Eth-trunk","text":"<p>Eth-trunk\u901a\u8fc7\u5c06\u591a\u6761\u4ee5\u592a\u7f51\u7269\u7406\u94fe\u8def\u6346\u7ed1\u5728\u4e00\u8d77\u6210\u4e3a\u4e00\u6761\u903b\u8f91\u94fe\u8def\uff0c\u4ece\u800c\u5b9e\u73b0\u589e\u52a0\u94fe\u8def\u5e26\u5bbd\u7684\u76ee\u7684\u3002\u6346\u7ed1\u5728\u4e00\u8d77\u7684\u94fe\u8def\u901a\u8fc7\u76f8\u4e92\u95f4\u7684\u52a8\u6001\u5907\u4efd\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u63d0\u9ad8\u94fe\u8def\u7684\u53ef\u9760\u6027\u3002</p>","tags":["Eth-trunk","LAG"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/002%20%E4%BB%80%E4%B9%88%E6%98%AFEth-trunk/#1-eth-trunk","title":"1. \u4e3a\u4ec0\u4e48\u9700\u8981Eth-trunk","text":"<p>\u968f\u7740\u7f51\u7edc\u89c4\u6a21\u4e0d\u65ad\u6269\u5927\uff0c\u7528\u6237\u5bf9\u9aa8\u5e72\u94fe\u8def\u7684\u5e26\u5bbd\u548c\u53ef\u9760\u6027\u63d0\u51fa\u8d8a\u6765\u8d8a\u9ad8\u7684\u8981\u6c42\u3002\u5728\u4f20\u7edf\u6280\u672f\u4e2d\uff0c\u5e38\u7528\u66f4\u6362\u9ad8\u901f\u7387\u7684\u5355\u677f\u6216\u66f4\u6362\u652f\u6301\u9ad8\u901f\u7387\u5355\u677f\u7684\u8bbe\u5907\u7684\u65b9\u5f0f\u6765\u589e\u52a0\u5e26\u5bbd\uff0c\u4f46\u8fd9\u79cd\u65b9\u6848\u9700\u8981\u4ed8\u51fa\u9ad8\u989d\u7684\u8d39\u7528\uff0c\u800c\u4e14\u4e0d\u591f\u7075\u6d3b\u3002</p> <p>Eth-Trunk\u53c8\u53eb\u4ee5\u592a\u7f51\u94fe\u8def\u805a\u5408Eth-Trunk\uff0c\u5b83\u901a\u8fc7\u5c06\u591a\u6761\u4ee5\u592a\u7f51\u7269\u7406\u94fe\u8def\u6346\u7ed1\u5728\u4e00\u8d77\u6210\u4e3a\u4e00\u6761\u903b\u8f91\u94fe\u8def\u3002\u8fbe\u5230\u589e\u52a0\u94fe\u8def\u5e26\u5bbd\u7684\u76ee\u7684\u3002\u5728\u5b9e\u73b0\u589e\u5927\u5e26\u5bbd\u76ee\u7684\u7684\u540c\u65f6\uff0cEth-Trunk\u91c7\u7528\u5907\u4efd\u94fe\u8def\u7684\u673a\u5236\uff0c\u53ef\u4ee5\u6709\u6548\u7684\u63d0\u9ad8\u8bbe\u5907\u4e4b\u95f4\u94fe\u8def\u7684\u53ef\u9760\u6027\u3002\u6bcf\u4e2a\u805a\u5408\u7ec4\u552f\u4e00\u5bf9\u5e94\u7740\u4e00\u4e2a\u903b\u8f91\u63a5\u53e3\uff0c\u8fd9\u4e2a\u903b\u8f91\u63a5\u53e3\u79f0\u4e4b\u4e3a\u94fe\u8def\u805a\u5408\u63a5\u53e3\u6216Eth-Trunk\u63a5\u53e3\u3002\u94fe\u8def\u805a\u5408\u63a5\u53e3\u53ef\u4ee5\u4f5c\u4e3a\u666e\u901a\u7684\u4ee5\u592a\u7f51\u63a5\u53e3\u6765\u4f7f\u7528\uff0c\u4e0e\u666e\u901a\u4ee5\u592a\u7f51\u63a5\u53e3\u7684\u5dee\u522b\u5728\u4e8e\uff1a\u8f6c\u53d1\u7684\u65f6\u5019\u94fe\u8def\u805a\u5408\u7ec4\u9700\u8981\u4ece\u6210\u5458\u63a5\u53e3\u4e2d\u9009\u62e9\u4e00\u4e2a\u6216\u591a\u4e2a\u63a5\u53e3\u6765\u8fdb\u884c\u6570\u636e\u8f6c\u53d1\u3002</p> <p> Eth-Trunk\u94fe\u8def\u4e0eEth-Trunk\u63a5\u53e3\u3001\u6210\u5458\u63a5\u53e3\u548c\u6210\u5458\u94fe\u8def\u7684\u5173\u7cfb\u793a\u610f\u56fe</p> <p>Eth-Trunk\u4f4d\u4e8eMAC\u4e0eLLC\u5b50\u5c42\u4e4b\u95f4\uff0c\u5c5e\u4e8e\u6570\u636e\u94fe\u8def\u5c42\u3002Eth-Trunk\u6a21\u5757\u5185\u90e8\u7ef4\u62a4\u4e00\u5f20\u8f6c\u53d1\u8868\uff0c\u4e3b\u8981\u7531\u4ee5\u4e0b\u4e24\u4e2a\u7ec4\u6210\uff1a</p> <ul> <li> <p>HASH-KEY\u503c\uff1a\u6839\u636e\u6570\u636e\u5305\u7684MAC\u5730\u5740\u6216IP\u5730\u5740\u7b49\uff0c\u7ecfHASH\u7b97\u6cd5\u8ba1\u7b97\u5f97\u51fa\u3002</p> </li> <li> <p>\u63a5\u53e3\u53f7\uff1aEth-Trunk\u8f6c\u53d1\u8868\u8868\u9879\u5206\u5e03\u548c\u8bbe\u5907\u6bcf\u4e2aEth-Trunk\u652f\u6301\u52a0\u5165\u7684\u6210\u5458\u63a5\u53e3\u6570\u91cf\u76f8\u5173\uff0c\u4e0d\u540c\u7684HASH-KEY\u503c\u5bf9\u5e94\u4e0d\u540c\u7684\u51fa\u63a5\u53e3\u3002</p> </li> </ul> <p>Eth-Trunk\u6a21\u5757\u6839\u636e\u8f6c\u53d1\u8868\u8f6c\u53d1\u6570\u636e\u5e27\u7684\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <ul> <li>Eth-Trunk\u6a21\u5757\u4eceMAC\u5b50\u5c42\u63a5\u6536\u5230\u4e00\u4e2a\u6570\u636e\u5e27\u540e\uff0c\u6839\u636e\u8d1f\u8f7d\u5206\u62c5\u65b9\u5f0f\u63d0\u53d6\u6570\u636e\u5e27\u7684\u6e90MAC\u5730\u5740/IP\u5730\u5740\u6216\u76ee\u7684MAC\u5730\u5740/IP\u5730\u5740\u3002</li> <li>\u6839\u636eHASH\u7b97\u6cd5\u8fdb\u884c\u8ba1\u7b97\uff0c\u5f97\u5230HASH-KEY\u503c\u3002</li> <li>Eth-Trunk\u6a21\u5757\u6839\u636eHASH-KEY\u503c\u5728\u8f6c\u53d1\u8868\u4e2d\u67e5\u627e\u5bf9\u5e94\u7684\u63a5\u53e3\uff0c\u628a\u6570\u636e\u5e27\u4ece\u8be5\u63a5\u53e3\u53d1\u9001\u51fa\u53bb\u3002</li> </ul>","tags":["Eth-trunk","LAG"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/002%20%E4%BB%80%E4%B9%88%E6%98%AFEth-trunk/#2-eth-trunk","title":"2. Eth-trunk\u7684\u4f18\u52bf","text":"<p>Eth-Trunk\u4e3b\u8981\u6709\u4ee5\u4e0b\u4f18\u52bf\uff1a</p> <ul> <li>\u589e\u52a0\u5e26\u5bbd\uff1a\u94fe\u8def\u805a\u5408\u63a5\u53e3\u7684\u6700\u5927\u5e26\u5bbd\u53ef\u4ee5\u8fbe\u5230\u5404\u6210\u5458\u63a5\u53e3\u5e26\u5bbd\u4e4b\u548c\u3002</li> <li>\u63d0\u9ad8\u53ef\u9760\u6027\uff1a\u5f53\u67d0\u6761\u6d3b\u52a8\u94fe\u8def\u51fa\u73b0\u6545\u969c\u65f6\uff0c\u6d41\u91cf\u53ef\u4ee5\u5207\u6362\u5230\u5176\u4ed6\u53ef\u7528\u7684\u6210\u5458\u94fe\u8def\u4e0a\uff0c\u4ece\u800c\u63d0\u9ad8\u94fe\u8def\u805a\u5408\u63a5\u53e3\u7684\u53ef\u9760\u6027\u3002</li> <li>\u8d1f\u8f7d\u5206\u62c5\uff1a\u5728\u4e00\u4e2a\u94fe\u8def\u805a\u5408\u7ec4\u5185\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5728\u5404\u6210\u5458\u6d3b\u52a8\u94fe\u8def\u4e0a\u7684\u8d1f\u8f7d\u5206\u62c5\u3002</li> <li>\u5e94\u7528\u7b80\u5355\uff1aEth-trunk\u7684\u4f5c\u7528\u57df\u4ec5\u5728\u76f8\u90bb\u8bbe\u5907\u4e4b\u95f4\uff0c\u548c\u6574\u4e2a\u7f51\u7edc\u7ed3\u6784\u65e0\u5173\uff0c\u5e94\u7528\u66f4\u7b80\u5355\u3002</li> </ul> <p>  Eth-Trunk\u793a\u610f\u56fe</p>","tags":["Eth-trunk","LAG"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/002%20%E4%BB%80%E4%B9%88%E6%98%AFEth-trunk/#3-eth-trunk","title":"3. Eth-trunk\u6709\u54ea\u4e9b\u6a21\u5f0f","text":"<p>\u6839\u636e\u662f\u5426\u542f\u7528[\u94fe\u8def\u805a\u5408]\u5236\u534f\u8bae[LACP]\uff08Link Aggregation Control Protocol\uff09\uff0cEth-trunk\u7684\u6a21\u5f0f\u5206\u4e3a\u624b\u5de5\u6a21\u5f0f\u548cLACP\u6a21\u5f0f\u3002</p> <ul> <li> <p>\u624b\u5de5\u6a21\u5f0fEth-Trunk</p> <p>\u624b\u5de5\u6a21\u5f0fEth-Trunk\uff0cEth-Trunk\u7684\u5efa\u7acb\u3001\u6210\u5458\u63a5\u53e3\u7684\u52a0\u5165\u7531\u624b\u5de5\u914d\u7f6e\uff0c\u6ca1\u6709\u94fe\u8def\u805a\u5408\u63a7\u5236\u534f\u8baeLACP\u7684\u53c2\u4e0e\u3002\u5982\u679c\u67d0\u6761\u6d3b\u52a8\u94fe\u8def\u6545\u969c\uff0c\u94fe\u8def\u805a\u5408\u7ec4\u81ea\u52a8\u5728\u5269\u4f59\u7684\u6d3b\u52a8\u94fe\u8def\u4e2d\u5e73\u5747\u5206\u62c5\u6d41\u91cf\u3002\u5f53\u9700\u8981\u5728\u4e24\u4e2a\u76f4\u8fde\u8bbe\u5907\u4e4b\u95f4\u63d0\u4f9b\u4e00\u4e2a\u8f83\u5927\u7684\u94fe\u8def\u5e26\u5bbd\uff0c\u800c\u5176\u4e2d\u4e00\u7aef\u6216\u4e24\u7aef\u8bbe\u5907\u90fd\u4e0d\u652f\u6301LACP\u534f\u8bae\u65f6\uff0c\u53ef\u4ee5\u914d\u7f6e\u624b\u5de5\u6a21\u5f0fEth-Trunk\u3002</p> <p>DeviceA\u4e0eDeviceB\u4e4b\u95f4\u521b\u5efaEth-Trunk\uff0c\u624b\u5de5\u6a21\u5f0f\u4e0b\u4e09\u6761\u6d3b\u52a8\u94fe\u8def\u90fd\u53c2\u4e0e\u6570\u636e\u8f6c\u53d1\u5e76\u5206\u62c5\u6d41\u91cf\u3002\u5f53\u4e00\u6761\u94fe\u8def\u6545\u969c\u65f6\uff0c\u6545\u969c\u94fe\u8def\u65e0\u6cd5\u8f6c\u53d1\u6570\u636e\uff0c\u94fe\u8def\u805a\u5408\u7ec4\u81ea\u52a8\u5728\u5269\u4f59\u7684\u4e24\u6761\u6d3b\u52a8\u94fe\u8def\u4e2d\u5206\u62c5\u6d41\u91cf\u3002</p> <p> \u624b\u5de5\u6a21\u5f0fEth-Trunk</p> </li> <li> <p>LACP\u6a21\u5f0fEth-Trunk</p> <p>LACP\u662f\u57fa\u4e8eIEEE802.3ad\u6807\u51c6\u7684\u4e00\u79cd\u5b9e\u73b0\u94fe\u8def\u52a8\u6001\u805a\u5408\u4e0e\u89e3\u805a\u5408\u7684\u534f\u8bae\uff0c\u4ee5\u4f9b\u8bbe\u5907\u6839\u636e\u81ea\u8eab\u914d\u7f6e\u81ea\u52a8\u5f62\u6210\u805a\u5408\u94fe\u8def\u5e76\u542f\u52a8\u805a\u5408\u94fe\u8def\u6536\u53d1\u6570\u636e\uff0cLACP\u6a21\u5f0f\u5c31\u662f\u91c7\u7528LACP\u7684\u4e00\u79cd\u94fe\u8def\u805a\u5408\u6a21\u5f0f\u3002\u805a\u5408\u94fe\u8def\u5f62\u6210\u4ee5\u540e\uff0cLACP\u8d1f\u8d23\u7ef4\u62a4\u94fe\u8def\u72b6\u6001\uff0c\u5728\u805a\u5408\u6761\u4ef6\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u81ea\u52a8\u8c03\u6574\u94fe\u8def\u805a\u5408\u3002</p> <p>DeviceA\u4e0eDeviceB\u4e4b\u95f4\u521b\u5efaEth-Trunk\uff0c\u9700\u8981\u5c06DeviceA\u4e0a\u7684\u56db\u4e2a\u63a5\u53e3\u4e0eDeviceB\u6346\u7ed1\u6210\u4e00\u4e2aEth-Trunk\u3002\u7531\u4e8e\u9519\u5c06DeviceA\u4e0a\u7684\u4e00\u4e2a\u63a5\u53e3\u4e0eDeviceC\u76f8\u8fde\uff0c\u8fd9\u5c06\u4f1a\u5bfc\u81f4DeviceA\u5411DeviceB\u4f20\u8f93\u6570\u636e\u65f6\u53ef\u80fd\u4f1a\u5c06\u672c\u5e94\u8be5\u53d1\u5230DeviceB\u7684\u6570\u636e\u53d1\u9001\u5230DeviceC\u4e0a\u3002\u800c\u624b\u5de5\u6a21\u5f0f\u7684Eth-Trunk\u4e0d\u80fd\u53ca\u65f6\u68c0\u6d4b\u5230\u6b64\u6545\u969c\u3002</p> <p>\u5982\u679c\u5728DeviceA\u548cDeviceB\u4e0a\u90fd\u542f\u7528LACP\u534f\u8bae\uff0c\u7ecf\u8fc7\u534f\u5546\u540e\uff0cEth-Trunk\u5c31\u4f1a\u9009\u62e9\u6b63\u786e\u8fde\u63a5\u7684\u94fe\u8def\u4f5c\u4e3a\u6d3b\u52a8\u94fe\u8def\u6765\u8f6c\u53d1\u6570\u636e\uff0c\u4ece\u800cDeviceA\u53d1\u9001\u7684\u6570\u636e\u80fd\u591f\u6b63\u786e\u5230\u8fbeDeviceB\u3002</p> <p> Eth-Trunk\u9519\u8fde\u793a\u610f\u56fe</p> </li> </ul> <p>\u624b\u5de5\u6a21\u5f0fEth-Trunk\u548cLACP\u6a21\u5f0fEth-Trunk\u7684\u533a\u522b\u5982\u4e0b\u6240\u793a\u3002</p> <p>\u88681-1\u00a0\u94fe\u8def\u805a\u5408\u6a21\u5f0f\u6bd4\u8f83</p> \u7ef4\u5ea6 \u624b\u5de5\u6a21\u5f0f LACP\u6a21\u5f0f Eth-Trunk\u7684\u5efa\u7acb\u65b9\u5f0f Eth-Trunk\u63a5\u53e3\u7684\u521b\u5efa\u3001\u6210\u5458\u63a5\u53e3\u7684\u52a0\u5165\u7531\u624b\u5de5\u914d\u7f6e\uff0c\u6ca1\u6709\u94fe\u8def\u805a\u5408\u63a7\u5236\u534f\u8bae\u7684\u53c2\u4e0e\u3002 Eth-Trunk\u63a5\u53e3\u7684\u521b\u5efa\u3001\u6210\u5458\u63a5\u53e3\u7684\u52a0\u5165\u7531\u624b\u5de5\u914d\u7f6e\uff0cLACP\u534f\u8bae\u53c2\u4e0e\u94fe\u8def\u52a8\u6001\u8c03\u6574\uff0c\u8d1f\u8d23\u94fe\u8def\u72b6\u6001\u7ef4\u62a4\u3002\u5728\u805a\u5408\u6761\u4ef6\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u81ea\u52a8\u8c03\u6574\u6216\u89e3\u6563\u94fe\u8def\u805a\u5408\u3002 \u8bbe\u5907\u662f\u5426\u9700\u8981\u652f\u6301LACP\u534f\u8bae \u4e0d\u9700\u8981 \u9700\u8981 \u6570\u636e\u8f6c\u53d1 \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u94fe\u8def\u90fd\u662f\u6d3b\u52a8\u94fe\u8def\u3002\u6240\u6709\u6d3b\u52a8\u94fe\u8def\u5747\u53c2\u4e0e\u6570\u636e\u8f6c\u53d1\u3002\u5982\u679c\u67d0\u6761\u6d3b\u52a8\u94fe\u8def\u6545\u969c\uff0c\u94fe\u8def\u805a\u5408\u7ec4\u81ea\u52a8\u5728\u5269\u4f59\u7684\u6d3b\u52a8\u94fe\u8def\u4e2d\u5206\u62c5\u6d41\u91cf\u3002 \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u90e8\u5206\u94fe\u8def\u662f\u6d3b\u52a8\u94fe\u8def\u3002\u6240\u6709\u6d3b\u52a8\u94fe\u8def\u5747\u53c2\u4e0e\u6570\u636e\u8f6c\u53d1\u3002\u5982\u679c\u67d0\u6761\u6d3b\u52a8\u94fe\u8def\u6545\u969c\uff0c\u94fe\u8def\u805a\u5408\u7ec4\u81ea\u52a8\u5728\u975e\u6d3b\u52a8\u94fe\u8def\u4e2d\u9009\u62e9\u4e00\u6761\u94fe\u8def\u4f5c\u4e3a\u6d3b\u52a8\u94fe\u8def\uff0c\u53c2\u4e0e\u6570\u636e\u8f6c\u53d1\u7684\u94fe\u8def\u6570\u76ee\u4e0d\u53d8\u3002 \u68c0\u6d4b\u6545\u969c \u53ea\u80fd\u68c0\u6d4b\u5230\u540c\u4e00\u805a\u5408\u7ec4\u5185\u7684\u6210\u5458\u94fe\u8def\u6709\u65ad\u8def\u7b49\u6545\u969c\uff0c\u65e0\u6cd5\u68c0\u6d4b\u5230\u94fe\u8def\u65ad\u8fde\u3001\u9519\u8fde\u7b49\u6545\u969c\u3002 \u4e0d\u4ec5\u80fd\u591f\u68c0\u6d4b\u5230\u540c\u4e00\u805a\u5408\u7ec4\u5185\u7684\u6210\u5458\u94fe\u8def\u6709\u65ad\u8def\u7b49\u6545\u969c\uff0c\u8fd8\u53ef\u4ee5\u68c0\u6d4b\u5230\u94fe\u8def\u6545\u969c\u3001\u94fe\u8def\u9519\u8fde\u7b49\u6545\u969c\u3002","tags":["Eth-trunk","LAG"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/002%20%E4%BB%80%E4%B9%88%E6%98%AFEth-trunk/#4-eth-trunk","title":"4. Eth-trunk\u7684\u5e94\u7528\u573a\u666f","text":"<p>\u6570\u636e\u4e2d\u5fc3\u7684\u63a5\u5165\u5c42\u4ea4\u6362\u673aDeviceB\u548cDeviceC\u63a5\u5165\u5230\u6838\u5fc3\u5c42\u4ea4\u6362\u673aDeviceA\uff0c\u4e14DeviceB\u548cDeviceC\u8fde\u63a5\u5f88\u591a\u7528\u6237\uff0cDeviceA\u7ecf\u51fa\u53e3\u8def\u7531\u5668\u4e0e\u6570\u636e\u4e2d\u5fc3\u5916\u90e8\u7f51\u7edc\u4e92\u901a\u3002\u968f\u7740\u7528\u6237\u89c4\u6a21\u7684\u4e0d\u65ad\u6269\u5927\uff0c\u7528\u6237\u4e4b\u95f4\u7684\u4e92\u8bbf\u66f4\u4e3a\u9891\u7e41\uff0cDeviceA\u548cDeviceB\u3001DeviceA\u548cDeviceC\u4e4b\u95f4\u7684\u94fe\u8def\u8981\u6709\u8db3\u591f\u7684\u5e26\u5bbd\u6765\u627f\u8f7d\u4e0d\u540c\u7528\u6237\u7684\u4e92\u8bbf\uff0c\u5e76\u4e14\u94fe\u8def\u8981\u5177\u5907\u4e00\u5b9a\u7684\u53ef\u9760\u6027\u3002\u4e3a\u4fdd\u8bc1DeviceA\u548cDeviceB\u3001DeviceA\u548cDeviceC\u4e4b\u95f4\u7684\u94fe\u8def\u5e26\u5bbd\u53ca\u53ef\u9760\u6027\uff0c\u53ef\u4ee5\u5728\u5b83\u4eec\u4e4b\u95f4\u5206\u522b\u5efa\u7acbEth-Trunk1\u548cEth-Trunk2\u3002</p> <p> \u94fe\u8def\u805a\u5408\u7ec4\u7ec4\u7f51\u56fe</p> <p>Eth-Trunk\u7684\u5de5\u4f5c\u6a21\u5f0f\u6839\u636e\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u9009\u62e9\uff1a</p> <ul> <li> <p>\u5982\u679c\u4e24\u7aef\u8bbe\u5907\u5747\u652f\u6301LACP\u534f\u8bae\uff0c\u63a8\u8350\u4f7f\u7528LACP\u6a21\u5f0f\u94fe\u8def\u805a\u5408\u3002</p> </li> <li> <p>\u5982\u679c\u5bf9\u7aef\u8bbe\u5907\u4e0d\u652f\u6301LACP\u534f\u8bae\uff0c\u4f7f\u7528\u624b\u5de5\u8d1f\u8f7d\u5206\u62c5\u6a21\u5f0f\u94fe\u8def\u805a\u5408\u3002</p> </li> </ul> <p>\u53c2\u8003\u8d44\u6e90</p> <p>1\u4ee5\u592a\u7f51\u94fe\u8def\u805a\u5408\u914d\u7f6e\uff08CloudEngine\u7cfb\u5217\u4ea4\u6362\u673a\uff09</p> <p>2\u4ee5\u592a\u7f51\u94fe\u8def\u805a\u5408\u914d\u7f6e\uff08S\u7cfb\u5217\u4ea4\u6362\u673a\uff09</p>","tags":["Eth-trunk","LAG"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/003%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86%E5%8F%A0/","title":"\u4ec0\u4e48\u662f\u5806\u53e0","text":"<p>\u5806\u53e0\u662f\u6307\u5c06\u591a\u53f0\u652f\u6301\u5806\u53e0\u7279\u6027\u7684\u4ea4\u6362\u673a\u901a\u8fc7\u5806\u53e0\u7ebf\u7f06\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u4ece\u903b\u8f91\u4e0a\u865a\u62df\u6210\u4e00\u53f0\u4ea4\u6362\u8bbe\u5907\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u53c2\u4e0e\u6570\u636e\u8f6c\u53d1\u3002\u5806\u53e0\u662f\u76ee\u524d\u5e7f\u6cdb\u5e94\u7528\u7684\u4e00\u79cd\u6a2a\u5411\u865a\u62df\u5316\u6280\u672f\uff0c\u5177\u6709\u63d0\u9ad8\u53ef\u9760\u6027\u3001\u6269\u5c55\u7aef\u53e3\u6570\u91cf\u3001\u589e\u5927\u5e26\u5bbd\u3001\u7b80\u5316\u7ec4\u7f51\u7b49\u4f5c\u7528\u3002</p>","tags":["\u5806\u53e0"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/003%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86%E5%8F%A0/#1","title":"1. \u4e3a\u4ec0\u4e48\u9700\u8981\u5806\u53e0\uff1f","text":"<p>\u4f20\u7edf\u7684\u56ed\u533a\u7f51\u7edc\u91c7\u7528\u8bbe\u5907\u548c\u94fe\u8def\u5197\u4f59\u6765\u4fdd\u8bc1\u9ad8\u53ef\u9760\u6027\uff0c\u4f46\u5176\u94fe\u8def\u5229\u7528\u7387\u4f4e\u3001\u7f51\u7edc\u7ef4\u62a4\u6210\u672c\u9ad8\uff0c\u5806\u53e0\u6280\u672f\u5c06\u591a\u53f0\u4ea4\u6362\u673a\u865a\u62df\u6210\u4e00\u53f0\u4ea4\u6362\u673a\uff0c\u8fbe\u5230\u7b80\u5316\u7f51\u7edc\u90e8\u7f72\u548c\u964d\u4f4e\u7f51\u7edc\u7ef4\u62a4\u5de5\u4f5c\u91cf\u7684\u76ee\u7684\u3002\u5806\u53e0\u5177\u6709\u8bf8\u591a\u4f18\u52bf\uff1a</p> <ul> <li> <p>\u63d0\u9ad8\u53ef\u9760\u6027</p> <p>\u5806\u53e0\u7cfb\u7edf\u591a\u53f0\u6210\u5458\u4ea4\u6362\u673a\u4e4b\u95f4\u5f62\u6210\u5197\u4f59\u5907\u4efd\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0cSwitchA\u548cSwitchB\u7ec4\u6210\u5806\u53e0\u7cfb\u7edf\uff0cSwitchA\u548cSwitchB\u76f8\u4e92\u5907\u4efd\uff0cSwitchA\u6545\u969c\u65f6\uff0cSwitchB\u53ef\u4ee5\u63a5\u66ffSwitchA\u4fdd\u8bc1\u7cfb\u7edf\u7684\u6b63\u5e38\u8fd0\u884c\u3002\u53e6\u5916\uff0c\u5806\u53e0\u7cfb\u7edf\u652f\u6301\u8de8\u8bbe\u5907\u7684\u94fe\u8def\u805a\u5408\u529f\u80fd\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u94fe\u8def\u7684\u5197\u4f59\u5907\u4efd\u3002</p> <p> </p> <p>\u5806\u53e0\u793a\u610f\u56fe</p> </li> <li> <p>\u6269\u5c55\u7aef\u53e3\u6570\u91cf</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5f53\u63a5\u5165\u7684\u7528\u6237\u6570\u589e\u52a0\u5230\u539f\u4ea4\u6362\u673a\u7aef\u53e3\u5bc6\u5ea6\u4e0d\u80fd\u6ee1\u8db3\u63a5\u5165\u9700\u6c42\u65f6\uff0c\u53ef\u4ee5\u589e\u52a0\u65b0\u4ea4\u6362\u673a\u4e0e\u539f\u4ea4\u6362\u673a\u7ec4\u6210\u5806\u53e0\u7cfb\u7edf\u6269\u5c55\u7aef\u53e3\u6570\u91cf\u3002</p> <p> </p> <p>\u6269\u5c55\u7aef\u53e3\u6570\u91cf\u793a\u610f\u56fe</p> </li> <li> <p>\u589e\u5927\u5e26\u5bbd</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5f53\u9700\u8981\u589e\u5927\u4ea4\u6362\u673a\u4e0a\u884c\u5e26\u5bbd\u65f6\uff0c\u53ef\u4ee5\u589e\u52a0\u65b0\u4ea4\u6362\u673a\u4e0e\u539f\u4ea4\u6362\u673a\u7ec4\u6210\u5806\u53e0\u7cfb\u7edf\uff0c\u5c06\u6210\u5458\u4ea4\u6362\u673a\u7684\u591a\u6761\u7269\u7406\u94fe\u8def\u914d\u7f6e\u6210\u4e00\u4e2a\u805a\u5408\u7ec4\uff0c\u63d0\u9ad8\u4ea4\u6362\u673a\u7684\u4e0a\u884c\u5e26\u5bbd\u3002</p> <p> </p> <p>\u589e\u5927\u5e26\u5bbd\u793a\u610f\u56fe</p> </li> <li> <p>\u7b80\u5316\u7ec4\u7f51</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u7f51\u7edc\u4e2d\u7684\u591a\u53f0\u8bbe\u5907\u7ec4\u6210\u5806\u53e0\uff0c\u865a\u62df\u6210\u5355\u4e00\u7684\u903b\u8f91\u8bbe\u5907\u3002\u7b80\u5316\u540e\u7684\u7ec4\u7f51\u4e0d\u518d\u9700\u8981\u4f7f\u7528MSTP\u7b49\u7834\u73af\u534f\u8bae\uff0c\u7b80\u5316\u4e86\u7f51\u7edc\u914d\u7f6e\uff0c\u540c\u65f6\u4f9d\u9760\u8de8\u8bbe\u5907\u7684\u94fe\u8def\u805a\u5408\uff0c\u5b9e\u73b0\u5355\u8bbe\u5907\u6545\u969c\u65f6\u7684\u5feb\u901f\u5207\u6362\uff0c\u63d0\u9ad8\u53ef\u9760\u6027\u3002</p> <p> </p> <p>\u7b80\u5316\u7ec4\u7f51\u793a\u610f\u56fe</p> </li> <li> <p>\u957f\u8ddd\u79bb\u5806\u53e0</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u6bcf\u4e2a\u697c\u5c42\u7684\u7528\u6237\u901a\u8fc7\u697c\u9053\u4ea4\u6362\u673a\u63a5\u5165\u5916\u90e8\u7f51\u7edc\uff0c\u73b0\u5c06\u5404\u76f8\u8ddd\u8f83\u8fdc\u7684\u697c\u9053\u4ea4\u6362\u673a\u8fde\u63a5\u8d77\u6765\u7ec4\u6210\u5806\u53e0\uff0c\u8fd9\u76f8\u5f53\u4e8e\u6bcf\u680b\u697c\u53ea\u6709\u4e00\u4e2a\u63a5\u5165\u8bbe\u5907\uff0c\u7f51\u7edc\u7ed3\u6784\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u3002\u6bcf\u680b\u697c\u6709\u591a\u6761\u94fe\u8def\u5230\u8fbe\u6838\u5fc3\u7f51\u7edc\uff0c\u7f51\u7edc\u53d8\u5f97\u66f4\u52a0\u5065\u58ee\u3001\u53ef\u9760\u3002\u5bf9\u591a\u53f0\u697c\u9053\u4ea4\u6362\u673a\u7684\u914d\u7f6e\u7b80\u5316\u6210\u5bf9\u5806\u53e0\u7cfb\u7edf\u7684\u914d\u7f6e\uff0c\u964d\u4f4e\u4e86\u7ba1\u7406\u548c\u7ef4\u62a4\u7684\u6210\u672c\u3002</p> <p> </p> <p>\u957f\u8ddd\u79bb\u5806\u53e0\u793a\u610f\u56fe</p> </li> </ul>","tags":["\u5806\u53e0"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/003%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86%E5%8F%A0/#2","title":"2. \u534e\u4e3a\u6709\u54ea\u4e9b\u8bbe\u5907\u53ef\u4ee5\u5806\u53e0\uff1f","text":"<p>\u534e\u4e3aS\u7cfb\u5217\u56ed\u533a\u4ea4\u6362\u673a\u3001CloudEngine\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\u90fd\u6709\u6b3e\u578b\u652f\u6301\u5806\u53e0\u3002</p> <ul> <li>\u5bf9\u4e8eS\u7cfb\u5217\u56ed\u533a\u4ea4\u6362\u673a\uff0c\u4ec5\u76d2\u5f0f\u4ea4\u6362\u673a\u6709\u6b3e\u578b\u652f\u6301\u5806\u53e0\uff1b\u4e24\u53f0\u6846\u5f0f\u4ea4\u6362\u673a\u7ec4\u5efa\u5728\u4e00\u8d77\u53eb\u96c6\u7fa4\u3002</li> <li>\u5bf9\u4e8eCloudEngine\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\uff0c\u6846\u5f0f\u4ea4\u6362\u673a\u548c\u76d2\u5f0f\u4ea4\u6362\u673a\u90fd\u6709\u6b3e\u578b\u652f\u6301\u5806\u53e0\uff0c\u4e24\u8005\u7684\u5dee\u5f02\u5728\u4e8e\u6846\u5f0f\u4ea4\u6362\u673a\u4ec5\u652f\u6301\u4e24\u53f0\u8bbe\u5907\u7ec4\u5efa\u5806\u53e0\u3002</li> </ul> <p>\u5177\u4f53\u54ea\u4e9b\u8bbe\u5907\u53ef\u4ee5\u652f\u6301\u5806\u53e0\uff0cS\u7cfb\u5217\u56ed\u533a\u76d2\u5f0f\u4ea4\u6362\u673a\u8bf7\u53c2\u8003\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\u3002</p>","tags":["\u5806\u53e0"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/003%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86%E5%8F%A0/#3","title":"3. \u5982\u4f55\u5efa\u7acb\u5806\u53e0\uff1f","text":"<p>\u5728\u4ecb\u7ecd\u5806\u53e0\u662f\u5982\u4f55\u5efa\u7acb\u4e4b\u524d\uff0c\u5148\u4ecb\u7ecd\u4e0b\u5806\u53e0\u5efa\u7acb\u8fc7\u7a0b\u4e2d\u7528\u5230\u7684\u76f8\u5173\u6982\u5ff5\u3002</p>","tags":["\u5806\u53e0"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/003%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86%E5%8F%A0/#31","title":"3.1. \u4e3b\u4ea4\u6362\u673a\u3001\u5907\u4ea4\u6362\u673a\u548c\u4ece\u4ea4\u6362\u673a","text":"<p>\u5806\u53e0\u7cfb\u7edf\u4e2d\u6240\u6709\u7684\u5355\u53f0\u4ea4\u6362\u673a\u90fd\u79f0\u4e3a\u6210\u5458\u4ea4\u6362\u673a\uff0c\u6309\u7167\u529f\u80fd\u4e0d\u540c\uff0c\u53ef\u4ee5\u5206\u4e3a\u4e09\u79cd\u89d2\u8272\uff1a</p> <ul> <li> <p>\u4e3b\u4ea4\u6362\u673a\uff08Master\uff09</p> <p>\u4e3b\u4ea4\u6362\u673a\u8d1f\u8d23\u7ba1\u7406\u6574\u4e2a\u5806\u53e0\u3002\u5806\u53e0\u7cfb\u7edf\u4e2d\u53ea\u6709\u4e00\u53f0\u4e3b\u4ea4\u6362\u673a\u3002</p> </li> <li> <p>\u5907\u4ea4\u6362\u673a\uff08Standby\uff09</p> <p>\u5907\u4ea4\u6362\u673a\u662f\u4e3b\u4ea4\u6362\u673a\u7684\u5907\u4efd\u4ea4\u6362\u673a\u3002\u5806\u53e0\u7cfb\u7edf\u4e2d\u53ea\u6709\u4e00\u53f0\u5907\u4ea4\u6362\u673a\u3002\u5f53\u4e3b\u4ea4\u6362\u673a\u6545\u969c\u65f6\uff0c\u5907\u4ea4\u6362\u673a\u4f1a\u63a5\u66ff\u539f\u4e3b\u4ea4\u6362\u673a\u7684\u6240\u6709\u4e1a\u52a1\u3002</p> </li> <li> <p>\u4ece\u4ea4\u6362\u673a\uff08Slave\uff09</p> <p>\u4ece\u4ea4\u6362\u673a\u7528\u4e8e\u4e1a\u52a1\u8f6c\u53d1\uff0c\u5806\u53e0\u7cfb\u7edf\u4e2d\u53ef\u4ee5\u6709\u591a\u53f0\u4ece\u4ea4\u6362\u673a\u3002\u4ece\u4ea4\u6362\u673a\u6570\u91cf\u8d8a\u591a\uff0c\u5806\u53e0\u7cfb\u7edf\u7684\u8f6c\u53d1\u5e26\u5bbd\u8d8a\u5927\u3002</p> <p>\u9664\u4e3b\u4ea4\u6362\u673a\u548c\u5907\u4ea4\u6362\u673a\u5916\uff0c\u5806\u53e0\u4e2d\u5176\u4ed6\u6240\u6709\u7684\u6210\u5458\u4ea4\u6362\u673a\u90fd\u662f\u4ece\u4ea4\u6362\u673a\u3002\u5f53\u5907\u4ea4\u6362\u673a\u4e0d\u53ef\u7528\u65f6\uff0c\u4ece\u4ea4\u6362\u673a\u627f\u62c5\u5907\u4ea4\u6362\u673a\u7684\u89d2\u8272\u3002</p> </li> </ul> <p>\u4e3b\u4ea4\u6362\u673a\u3001\u5907\u4ea4\u6362\u673a\u548c\u4ece\u4ea4\u6362\u673a\u90fd\u53ef\u4ee5\u8fdb\u884c\u4e1a\u52a1\u6d41\u91cf\u7684\u8f6c\u53d1\u3002\u6dfb\u52a0\u3001\u79fb\u9664\u6216\u66ff\u6362\u5806\u53e0\u6210\u5458\u4ea4\u6362\u673a\uff0c\u90fd\u53ef\u80fd\u5bfc\u81f4\u5806\u53e0\u6210\u5458\u89d2\u8272\u7684\u53d8\u5316\u3002</p>","tags":["\u5806\u53e0"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/003%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86%E5%8F%A0/#32-id","title":"3.2. \u5806\u53e0ID","text":"<p>\u5806\u53e0ID\u7528\u6765\u6807\u8bc6\u5806\u53e0\u6210\u5458\u4ea4\u6362\u673a\uff0c\u662f\u6210\u5458\u4ea4\u6362\u673a\u7684\u69fd\u4f4d\u53f7\u3002\u6bcf\u4e2a\u5806\u53e0\u6210\u5458\u4ea4\u6362\u673a\u5728\u5806\u53e0\u7cfb\u7edf\u4e2d\u5177\u6709\u552f\u4e00\u7684\u5806\u53e0ID\u3002</p>","tags":["\u5806\u53e0"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/003%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86%E5%8F%A0/#33","title":"3.3. \u5806\u53e0\u4f18\u5148\u7ea7","text":"<p>\u5806\u53e0\u4f18\u5148\u7ea7\u662f\u6210\u5458\u4ea4\u6362\u673a\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u4e3b\u8981\u7528\u4e8e\u89d2\u8272\u9009\u4e3e\u8fc7\u7a0b\u4e2d\u786e\u5b9a\u6210\u5458\u4ea4\u6362\u673a\u7684\u89d2\u8272\uff0c\u4f18\u5148\u7ea7\u503c\u8d8a\u5927\u8868\u793a\u4f18\u5148\u7ea7\u8d8a\u9ad8\uff0c\u4f18\u5148\u7ea7\u8d8a\u9ad8\u5f53\u9009\u4e3a\u4e3b\u4ea4\u6362\u673a\u7684\u53ef\u80fd\u6027\u8d8a\u5927\u3002</p>","tags":["\u5806\u53e0"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/003%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86%E5%8F%A0/#34","title":"3.4. \u5806\u53e0\u7684\u5efa\u7acb\u8fc7\u7a0b","text":"<p>\u5806\u53e0\u5efa\u7acb\u7684\u8fc7\u7a0b\u5305\u62ec\u4ee5\u4e0b\u56db\u4e2a\u9636\u6bb5\uff1a</p> <ol> <li> <p>\u6839\u636e\u7f51\u7edc\u9700\u6c42\uff0c\u9009\u62e9\u5806\u53e0\u7ebf\u7f06\u3001\u8fde\u63a5\u65b9\u5f0f\u3002</p> <p>\u4e0d\u540c\u4ea7\u54c1\u652f\u6301\u7684\u7269\u7406\u8fde\u63a5\u65b9\u5f0f\u6709\u5dee\u5f02\u3002</p> <ul> <li>\u5bf9\u4e8eS\u7cfb\u5217\u56ed\u533a\u76d2\u5f0f\u4ea4\u6362\u673a\u548cCloudEngine\u6570\u636e\u4e2d\u5fc3\u76d2\u5f0f\u4ea4\u6362\u673a\uff0c\u652f\u6301\u94fe\u5f62\u548c\u73af\u5f62\u4e24\u79cd\u8fde\u63a5\u62d3\u6251\u3002\u5173\u4e8e\u7269\u7406\u8fde\u63a5\u65b9\u5f0f\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0cS\u7cfb\u5217\u56ed\u533a\u76d2\u5f0f\u4ea4\u6362\u673a\u8bf7\u53c2\u8003\u5806\u53e0\u8fde\u63a5\u65b9\u5f0f\uff08CloudEngine\u6570\u636e\u4e2d\u5fc3\u76d2\u5f0f\u4ea4\u6362\u673a\uff09\u3002</li> <li>\u5bf9\u4e8eCloudEngine\u6570\u636e\u4e2d\u5fc3\u6846\u5f0f\u4ea4\u6362\u673a\uff0c\u652f\u6301SIP\u53e3\u8fde\u63a5\u548c\u4e1a\u52a1\u53e3\u8fde\u63a5\u4e24\u79cd\u65b9\u5f0f\u3002\u5173\u4e8e\u7269\u7406\u8fde\u63a5\u65b9\u5f0f\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003\u5806\u53e0\u8fde\u63a5\u65b9\u5f0f\uff08CloudEngine\u6570\u636e\u4e2d\u5fc3\u6846\u5f0f\u4ea4\u6362\u673a\uff09\u3002</li> <li>\u9009\u4e3e\u4e3b\u4ea4\u6362\u673a\u3002</li> </ul> <p>\u6240\u6709\u6210\u5458\u4ea4\u6362\u673a\u4e0a\u7535\u540e\uff0c\u5806\u53e0\u7cfb\u7edf\u5f00\u59cb\u8fdb\u884c\u4e3b\u4ea4\u6362\u673a\u7684\u9009\u4e3e\u3002\u5728\u5806\u53e0\u7cfb\u7edf\u4e2d\u6bcf\u53f0\u6210\u5458\u4ea4\u6362\u673a\u90fd\u5177\u6709\u4e00\u4e2a\u786e\u5b9a\u7684\u89d2\u8272\uff0c\u5176\u4e2d\uff0c\u4e3b\u4ea4\u6362\u673a\u8d1f\u8d23\u7ba1\u7406\u6574\u4e2a\u5806\u53e0\u7cfb\u7edf\u3002</p> </li> <li> <p>\u5206\u914d\u5806\u53e0ID\u548c\u5907\u4ea4\u6362\u673a\u9009\u4e3e\u3002</p> <p>\u4e3b\u4ea4\u6362\u673a\u9009\u4e3e\u5b8c\u6210\u540e\uff0c\u4e3b\u4ea4\u6362\u673a\u4f1a\u6536\u96c6\u6240\u6709\u6210\u5458\u4ea4\u6362\u673a\u7684\u62d3\u6251\u4fe1\u606f\uff0c\u6839\u636e\u62d3\u6251\u4fe1\u606f\u8ba1\u7b97\u51fa\u5806\u53e0\u8f6c\u53d1\u8868\u9879\u4e0b\u53d1\u7ed9\u5806\u53e0\u4e2d\u7684\u6240\u6709\u6210\u5458\u4ea4\u6362\u673a\uff0c\u5e76\u5411\u6240\u6709\u6210\u5458\u4ea4\u6362\u673a\u5206\u914d\u5806\u53e0ID\u3002\u4e4b\u540e\u8fdb\u884c\u5907\u4ea4\u6362\u673a\u7684\u9009\u4e3e\uff0c\u4f5c\u4e3a\u4e3b\u4ea4\u6362\u673a\u7684\u5907\u4efd\u4ea4\u6362\u673a\u3002\u9664\u4e3b\u4ea4\u6362\u673a\u5916\u6700\u5148\u5b8c\u6210\u8bbe\u5907\u542f\u52a8\u7684\u4ea4\u6362\u673a\u4f18\u5148\u88ab\u9009\u4e3a\u5907\u4efd\u4ea4\u6362\u673a\u3002</p> </li> <li> <p>\u540c\u6b65\u8f6f\u4ef6\u7248\u672c\u548c\u914d\u7f6e\u6587\u4ef6\u3002</p> <p>\u89d2\u8272\u9009\u4e3e\u3001\u62d3\u6251\u6536\u96c6\u5b8c\u6210\u4e4b\u540e\uff0c\u6240\u6709\u6210\u5458\u4ea4\u6362\u673a\u4f1a\u81ea\u52a8\u540c\u6b65\u4e3b\u4ea4\u6362\u673a\u7684\u8f6f\u4ef6\u7248\u672c\u548c\u914d\u7f6e\u6587\u4ef6\u3002</p> <ul> <li>\u5806\u53e0\u7cfb\u7edf\u5177\u6709\u81ea\u52a8\u52a0\u8f7d\u7cfb\u7edf\u8f6f\u4ef6\u7684\u529f\u80fd\uff0c\u5f85\u7ec4\u6210\u5806\u53e0\u7684\u6210\u5458\u4ea4\u6362\u673a\u4e0d\u9700\u8981\u5177\u6709\u76f8\u540c\u8f6f\u4ef6\u7248\u672c\uff0c\u53ea\u9700\u8981\u7248\u672c\u95f4\u517c\u5bb9\u5373\u53ef\u3002\u5f53\u5907\u4ea4\u6362\u673a\u6216\u4ece\u4ea4\u6362\u673a\u4e0e\u4e3b\u4ea4\u6362\u673a\u7684\u8f6f\u4ef6\u7248\u672c\u4e0d\u4e00\u81f4\u65f6\uff0c\u5907\u4ea4\u6362\u673a\u6216\u4ece\u4ea4\u6362\u673a\u4f1a\u81ea\u52a8\u4ece\u4e3b\u4ea4\u6362\u673a\u4e0b\u8f7d\u7cfb\u7edf\u8f6f\u4ef6\uff0c\u7136\u540e\u4f7f\u7528\u65b0\u7cfb\u7edf\u8f6f\u4ef6\u91cd\u542f\uff0c\u5e76\u91cd\u65b0\u52a0\u5165\u5806\u53e0\u3002</li> <li>\u5806\u53e0\u7cfb\u7edf\u5177\u6709\u914d\u7f6e\u6587\u4ef6\u540c\u6b65\u673a\u5236\uff0c\u4e3b\u4ea4\u6362\u673a\u4fdd\u5b58\u6574\u4e2a\u5806\u53e0\u7cfb\u7edf\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u8fdb\u884c\u6574\u4e2a\u5806\u53e0\u7cfb\u7edf\u7684\u914d\u7f6e\u7ba1\u7406\u3002\u5907\u4ea4\u6362\u673a\u6216\u4ece\u4ea4\u6362\u673a\u4f1a\u5c06\u4e3b\u4ea4\u6362\u673a\u7684\u914d\u7f6e\u6587\u4ef6\u540c\u6b65\u5230\u672c\u4ea4\u6362\u673a\u5e76\u6267\u884c\uff0c\u4ee5\u4fdd\u8bc1\u5806\u53e0\u4e2d\u7684\u591a\u53f0\u8bbe\u5907\u80fd\u591f\u50cf\u4e00\u53f0\u8bbe\u5907\u4e00\u6837\u5728\u7f51\u7edc\u4e2d\u5de5\u4f5c\uff0c\u5e76\u4e14\u5728\u4e3b\u4ea4\u6362\u673a\u51fa\u73b0\u6545\u969c\u4e4b\u540e\uff0c\u5176\u4f59\u4ea4\u6362\u673a\u4ecd\u80fd\u591f\u6b63\u5e38\u6267\u884c\u5404\u9879\u529f\u80fd\u3002</li> </ul> </li> </ol> <p>\u4e0d\u540c\u4ea7\u54c1\u5728\u5806\u53e0\u7cfb\u7edf\u7684\u5efa\u7acb\u8fc7\u7a0b\u4e2d\u5b58\u5728\u8bf8\u591a\u5dee\u5f02\uff0c\u5173\u4e8e\u5806\u53e0\u5efa\u7acb\u8fc7\u7a0b\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0cS\u7cfb\u5217\u56ed\u533a\u76d2\u5f0f\u4ea4\u6362\u673a\u8bf7\u53c2\u8003\u5806\u53e0\u5efa\u7acb\uff08CloudEngine\u6570\u636e\u4e2d\u5fc3\u6846\u5f0f\u4ea4\u6362\u673a\uff09\u3002</p>","tags":["\u5806\u53e0"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/003%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86%E5%8F%A0/#4","title":"4. \u53c2\u8003\u8d44\u6e90","text":"<p>1S\u4ea4\u6362\u673a\u5806\u53e0\u6700\u4f73\u5b9e\u8df5\uff08S\u7cfb\u5217\u4ea4\u6362\u673a\uff09</p> <p>2\u9605\u8bfbTechnotes\uff1aS5700\u4fee\u6539\u5806\u53e0ID\u64cd\u4f5c\u6307\u5bfc</p> <p>3\u9605\u8bfbTechnotes\uff1a\u5982\u4f55\u4e3aS\u4ea4\u6362\u673a\u5806\u53e0\u7cfb\u7edf\u5b89\u88c5License</p> <p>4\u9605\u8bfbTechnotes\uff1aCloudEngine\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\u5982\u4f55\u914d\u7f6e\u5806\u53e0</p> <p>5\u9605\u8bfbTechnotes\uff1a\u5982\u4f55\u4ece\u5806\u53e0\u5207\u6362\u4e3aM-LAG</p> <p>6\u9605\u8bfbTechnotes\uff1a\u4ea4\u6362\u673a\u865a\u62df\u5316\u6280\u672f\u662f\u4ec0\u4e48\uff1f\u5806\u53e0\u3001M-LAG\u662f\u4ec0\u4e48\uff0c\u6709\u4ec0\u4e48\u533a\u522b\uff1f</p> <p>7\u5806\u53e0\u914d\u7f6e\uff08S\u7cfb\u5217\u4ea4\u6362\u673a\uff09</p> <p>8\u5806\u53e0\u914d\u7f6e\uff08CloudEngine\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\uff09</p>","tags":["\u5806\u53e0"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/","title":"\u4ec0\u4e48\u662fM-LAG","text":"<p>M-LAG\uff08Multichassis Link Aggregation Group\uff09\u63d0\u4f9b\u4e00\u79cd\u8de8\u8bbe\u5907\u94fe\u8def\u805a\u5408\u7684\u6280\u672f\u3002M-LAG\u901a\u8fc7\u5c06\u4e24\u53f0\u63a5\u5165\u4ea4\u6362\u673a\u4ee5\u540c\u4e00\u4e2a\u72b6\u6001\u548c\u7528\u6237\u4fa7\u8bbe\u5907\u6216\u670d\u52a1\u5668\u8fdb\u884c\u8de8\u8bbe\u5907\u7684\u94fe\u8def\u805a\u5408\uff0c\u628a\u94fe\u8def\u7684\u53ef\u9760\u6027\u4ece\u5355\u677f\u7ea7\u63d0\u5347\u5230\u8bbe\u5907\u7ea7\u3002\u540c\u65f6\uff0c\u7531\u4e8eM-LAG\u8bbe\u5907\u53ef\u4ee5\u5355\u72ec\u5347\u7ea7\uff0c\u4fdd\u8bc1\u4e86\u4e1a\u52a1\u6d41\u91cf\u7684\u7a33\u5b9a\u6027\uff0c\u4f7f\u5f97M-LAG\u6280\u672f\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u5e7f\u6cdb\u5e94\u7528\u3002</p>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#1-m-lag","title":"1. \u4e3a\u4ec0\u4e48\u9700\u8981M-LAG","text":"<p>\u8fd1\u51e0\u5e74\u6765\uff0cM-LAG\u4f5c\u4e3a\u4e00\u9879\u865a\u62df\u5316\u6280\u672f\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff0c\u7136\u800cM-LAG\u6280\u672f\u7684\u53d1\u5c55\u5e76\u975e\u4e00\u8e74\u800c\u5c31\u3002</p> <p>\u4f17\u6240\u5468\u77e5\uff0c\u4f20\u7edf\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u91c7\u7528\u8bbe\u5907\u548c\u94fe\u8def\u5197\u4f59\u4fdd\u8bc1\u9ad8\u53ef\u9760\u6027\u3002\u56e0\u5176\u94fe\u8def\u5229\u7528\u7387\u4f4e\u548c\u7f51\u7edc\u7ef4\u62a4\u6210\u672c\u9ad8\uff0c\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\u53c8\u63d0\u51fa\u4e86\u5806\u53e0\u6280\u672f\uff0c\u5c06\u591a\u53f0\u4ea4\u6362\u673a\u865a\u62df\u6210\u4e00\u53f0\u4ea4\u6362\u673a\uff0c\u8fbe\u5230\u7b80\u5316\u7f51\u7edc\u90e8\u7f72\u548c\u964d\u4f4e\u7f51\u7edc\u7ef4\u62a4\u7684\u76ee\u7684\u3002</p> <p>\u4e3a\u4e86\u6ee1\u8db3\u4e1a\u52a1\u91cf\u589e\u5927\u548c\u5bf9\u7f51\u7edc\u66f4\u9ad8\u53ef\u9760\u6027\u7684\u8981\u6c42\uff0c\u4e8e\u662f\u51fa\u73b0\u4e86M-LAG\u865a\u62df\u5316\u6280\u672f\uff0c\u901a\u8fc7\u591a\u53f0\u8bbe\u5907\u95f4\u7684\u94fe\u8def\u805a\u5408\u5c06\u94fe\u8def\u7684\u53ef\u9760\u6027\u4ece\u5355\u677f\u7ea7\u63d0\u9ad8\u5230\u8bbe\u5907\u7ea7\u3002</p>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#11-stpvrrp","title":"1.1. STP+VRRP\u6280\u672f","text":"<p>\u4f20\u7edf\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u91c7\u7528STP+VRRP\u534f\u8bae\u6765\u4fdd\u969c\u94fe\u8def\u5197\u4f59\uff0c\u6ee1\u8db3\u4e86\u57fa\u672c\u7684\u53ef\u9760\u6027\u9700\u6c42\u3002</p> <p> STP+VRRP\u6280\u672f\u793a\u610f\u56fe</p> <p>\u4f46STP+VRRP\u65b9\u6848\u5b58\u5728\u5982\u4e0b\u75db\u70b9\uff0c\u5df2\u65e0\u6cd5\u6ee1\u8db3\u6570\u636e\u4e2d\u5fc3\u6d41\u91cf\u548c\u89c4\u6a21\u7684\u5feb\u901f\u589e\u957f\u3002</p> <ul> <li>STP\u7684\u963b\u585e\u94fe\u8def\u673a\u5236\uff0c\u5bfc\u81f4\u4e8c\u5c42\u94fe\u8def\u5229\u7528\u7387\u4f4e\u3002</li> <li>VRRP\u7684\u4e3b\u5907\u5907\u4efd\u529f\u80fd\uff0c\u5bfc\u81f4\u4e09\u5c42\u94fe\u8def\u5229\u7528\u7387\u4f4e\u3002</li> <li>Server\u4ec5\u652f\u6301\u4ee5\u4e3b\u5907\u65b9\u5f0f\u63a5\u5165\u8bbe\u5907\u3002</li> </ul> <p>\u9488\u5bf9STP+VRRP\u65b9\u6848\u7684\u7f3a\u70b9\uff0c\u5148\u540e\u51fa\u73b0\u4e86\u5806\u53e0\u548cM-LAG\u865a\u62df\u5316\u6280\u672f\uff0c\u7528\u4e8e\u6ee1\u8db3\u4e1a\u52a1\u91cf\u589e\u5927\u548c\u5bf9\u7f51\u7edc\u66f4\u9ad8\u53ef\u9760\u6027\u7684\u8981\u6c42\u3002</p>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#12-m-lag","title":"1.2. \u5806\u53e0\u548cM-LAG\u865a\u62df\u5316\u6280\u672f","text":"<p>\u5806\u53e0\u548cM-LAG\u5b9e\u73b0\u8de8\u8bbe\u5907\u94fe\u8def\u805a\u5408\u63d0\u9ad8\u4e8c\u5c42\u94fe\u8def\u5229\u7528\u7387\uff0cM-LAG\u7684\u53cc\u6d3b\u7f51\u5173\u6280\u672f\u63d0\u9ad8\u4e86\u4e09\u5c42\u94fe\u8def\u5229\u7528\u7387\uff0c\u4e14\u670d\u52a1\u5668\u53ef\u4ee5\u901a\u8fc7\u94fe\u8def\u805a\u5408\u5b9e\u73b0\u53cc\u6d3b\u63a5\u5165\u8bbe\u5907\u3002</p> <p> \u5806\u53e0\u548cM-LAG\u865a\u62df\u5316\u6280\u672f\u793a\u610f\u56fe</p> <p>M-LAG\u548c\u5806\u53e0\u90fd\u53ef\u4ee5\u89e3\u51b3\u4f20\u7edf\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7684\u95ee\u9898\uff0c\u4f46\u4ece\u4e1a\u52a1\u7a33\u5b9a\u6027\u8003\u8651\uff0c\u901a\u5e38\u9009\u62e9M-LAG\u3002</p> <p>\u5806\u53e0\u548cM-LAG\u4f5c\u4e3a\u5e7f\u6cdb\u8fd0\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u63a5\u5165\u5c42\u7684\u4e24\u79cd\u6a2a\u5411\u865a\u62df\u5316\u6280\u672f\uff0c\u4ed6\u4eec\u90fd\u53ef\u5b9e\u73b0\u7ec8\u7aef\u7684\u5197\u4f59\u63a5\u5165\uff0c\u5b9e\u73b0\u94fe\u8def\u5197\u4f59\u5907\u4efd\uff0c\u63d0\u9ad8\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7684\u53ef\u9760\u6027\u548c\u53ef\u6269\u5c55\u6027\u3002\u7136\u800c\uff0c\u4e0e\u5806\u53e0\u6280\u672f\u76f8\u6bd4\uff0cM-LAG\u5b58\u5728\u66f4\u9ad8\u7684\u53ef\u9760\u6027\u548c\u72ec\u7acb\u5347\u7ea7\u7684\u4f18\u52bf\u3002</p> <p>\u5bf9\u6bd4\u4e86\u5806\u53e0\u548cM-LAG\u7684\u4f18\u52a3\u3002\u9488\u5bf9\u5347\u7ea7\u8fc7\u7a0b\u4e1a\u52a1\u4e2d\u65ad\u65f6\u95f4\u8981\u6c42\u9ad8\u3001\u5bf9\u7ec4\u7f51\u53ef\u9760\u6027\u8981\u6c42\u9ad8\u7684\u573a\u666f\uff0c\u6211\u4eec\u63a8\u8350\u7528\u6237\u4f7f\u7528M-LAG\u6280\u672f\uff0c\u7528\u4f5c\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7ec8\u7aef\u63a5\u5165\u6280\u672f\u3002</p> \u5bf9\u6bd4\u7ef4\u5ea6 \u5806\u53e0 M-LAG\uff08\u63a8\u8350\uff09 \u53ef\u9760\u6027 \u4e00\u822c\uff1a- \u63a7\u5236\u9762\u96c6\u4e2d\uff0c\u6545\u969c\u53ef\u80fd\u5728\u6210\u5458\u8bbe\u5907\u4e0a\u6269\u6563- \u8bbe\u5907\u7ea7\u3001\u5355\u677f\u7ea7\u3001\u94fe\u8def\u7ea7\u7b49\u90fd\u5177\u5907\u9ad8\u53ef\u9760\u6027 \u66f4\u9ad8\uff1a- \u63a7\u5236\u9762\u72ec\u7acb\uff0c\u6545\u969c\u57df\u9694\u79bb- \u8bbe\u5907\u7ea7\u3001\u5355\u677f\u7ea7\u3001\u94fe\u8def\u7ea7\u7b49\u90fd\u5177\u5907\u9ad8\u53ef\u9760\u6027 \u914d\u7f6e\u590d\u6742\u5ea6 \u7b80\u5355\uff1a\u903b\u8f91\u4e0a\u662f\u4e00\u53f0\u8bbe\u5907 \u7b80\u5355\uff1a\u4e24\u53f0\u8bbe\u5907\u72ec\u7acb\u914d\u7f6e \u6210\u672c \u4e00\u822c\uff1a\u9700\u8981\u90e8\u7f72\u5806\u53e0\u7ebf\u7f06 \u4e00\u822c\uff1a\u9700\u8981\u90e8\u7f72Peer-link\u8fde\u7ebf \u6027\u80fd \u4e00\u822c\uff1a\u4e3b\u4ea4\u6362\u673a\u63a7\u5236\u9762\u8981\u63a7\u5236\u6240\u6709\u5806\u53e0\u6210\u5458\u7684\u8f6c\u53d1\u9762\uff0cCPU\u8d1f\u8f7d\u52a0\u91cd \u9ad8\uff1a\u6210\u5458\u4ea4\u6362\u673a\u72ec\u7acb\u8f6c\u53d1\uff0cCPU\u8d1f\u8f7d\u4fdd\u6301\u4e0d\u53d8 \u5347\u7ea7\u590d\u6742\u5ea6 \u9ad8\uff1a\u901a\u8fc7\u5806\u53e0\u5feb\u901f\u5347\u7ea7\u53ef\u4ee5\u964d\u4f4e\u4e1a\u52a1\u4e2d\u65ad\u65f6\u95f4\uff0c\u4f46\u5347\u7ea7\u64cd\u4f5c\u65f6\u95f4\u53d8\u957f\uff0c\u5347\u7ea7\u98ce\u9669\u53d8\u9ad8 \u4f4e\uff1a\u4e24\u53f0\u8bbe\u5907\u53ef\u5206\u522b\u5355\u72ec\u5347\u7ea7\uff0c\u5347\u7ea7\u64cd\u4f5c\u7b80\u5355\uff0c\u98ce\u9669\u4f4e \u5347\u7ea7\u4e2d\u65ad\u65f6\u95f4 \u76f8\u5bf9\u8f83\u957f\uff1a\u901a\u8fc7\u5806\u53e0\u5feb\u901f\u5347\u7ea7\uff0c\u5178\u578b\u914d\u7f6e\u7ec4\u7f51\u4e0b\uff0c\u4e1a\u52a1\u4e2d\u65ad\u65f6\u95f4\u572820\u79d2~1\u5206\u949f\u5de6\u53f3\uff0c\u4e0e\u4e1a\u52a1\u91cf\u5f3a\u76f8\u5173 \u77ed\uff1a\u6d41\u91cf\u79d2\u7ea7\u4e2d\u65ad \u7f51\u7edc\u8bbe\u8ba1 \u76f8\u5bf9\u7b80\u5355\uff1a\u5806\u53e0\u8bbe\u5907\u903b\u8f91\u4e0a\u4e3a\u4e00\u53f0\u8bbe\u5907\uff0c\u7f51\u7edc\u7ed3\u6784\u8f83\u7b80\u5355 \u76f8\u5bf9\u590d\u6742\uff1aM-LAG\u8bbe\u5907\u903b\u8f91\u4e0a\u4ecd\u7136\u662f\u4e24\u53f0\u8bbe\u5907\uff0c\u7f51\u7edc\u7ed3\u6784\u8f83\u590d\u6742 \u9002\u7528\u573a\u666f - \u5bf9\u8f6f\u4ef6\u7248\u672c\u5347\u7ea7\u4e2d\u65ad\u65f6\u95f4\u65e0\u8981\u6c42- \u5e0c\u671b\u7f51\u7edc\u7ef4\u62a4\u7b80\u5355 - \u5bf9\u8f6f\u4ef6\u7248\u672c\u5347\u7ea7\u65f6\u4e1a\u52a1\u4e2d\u65ad\u65f6\u95f4\u8981\u6c42\u8f83\u9ad8- \u5bf9\u7f51\u7edc\u53ef\u9760\u6027\u8981\u6c42\u66f4\u9ad8- \u53ef\u63a5\u53d7\u589e\u52a0\u4e00\u5b9a\u7a0b\u5ea6\u7684\u7ef4\u62a4\u590d\u6742\u5ea6 \u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#2-m-lag","title":"2. \u5982\u4f55\u5b9e\u73b0M-LAG\u7ec4\u7f51","text":"<p>\u5728M-LAG\u7cfb\u7edf\u4e2d\uff0cServerA\u3001DeviceA\u548cDeviceB\u8fdb\u884c\u8de8\u8bbe\u5907\u94fe\u8def\u805a\u5408\u3002DeviceA\u548cDeviceB\u901a\u8fc7\u52a8\u6001\u4ea4\u6362\u670d\u52a1\u7ec4DFS Group\uff08Dynamic Fabric Service Group\uff09\u5b8c\u6210M-LAG\u8bbe\u5907\u4e4b\u95f4\u7684\u914d\u5bf9\uff0c\u5f53DeviceA\u548cDeviceB\u914d\u5bf9\u6210\u529f\u540e\u4f1a\u534f\u5546\u51fa\u4e3b\u5907\u5173\u7cfb\u3002\u5728M-LAG\u6b63\u5e38\u5de5\u4f5c\u540e\uff0cDeviceA\u548cDeviceB\u4e4b\u95f4\u901a\u8fc7peer-link\u94fe\u8def\u5b9e\u65f6\u540c\u6b65\u5bf9\u7aef\u4fe1\u606f\u3002\u800cM-LAG\u7684\u6545\u969c\u68c0\u6d4b\u5219\u4e3b\u8981\u4f9d\u8d56\u4e8e\u53cc\u4e3b\u68c0\u6d4b\u94fe\u8def\uff08DAD link\uff0cDual-Active Detection link\uff09\uff0c\u8bbe\u5907\u901a\u8fc7\u53cc\u4e3b\u68c0\u6d4b\u94fe\u8def\u5b9a\u671f\u4e92\u53d1\u5fc3\u8df3\u62a5\u6587\u3002</p> <p> M-LAG\u7ec4\u7f51\u793a\u610f\u56fe</p> <p>M-LAG\u7ec4\u7f51\u8be6\u7ec6\u7684\u5b9e\u73b0\u6d41\u7a0b\u5305\u62ec\u4ee5\u4e0b\u4e94\u6b65\uff1aDFS Group\u914d\u5bf9\u3001DFS Group\u534f\u5546\u4e3b\u5907\u3001M-LAG\u6210\u5458\u53e3\u534f\u5546\u4e3b\u5907\u3001\u53cc\u4e3b\u68c0\u6d4b\u548cM-LAG\u4fe1\u606f\u540c\u6b65\u3002</p> <p> M-LAG\u7ec4\u7f51\u5b9e\u73b0\u8fc7\u7a0b</p>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#3-m-lag","title":"3. M-LAG\u662f\u5982\u4f55\u5de5\u4f5c\u7684","text":"","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#31-m-lag","title":"3.1. M-LAG\u6b63\u5e38\u5de5\u4f5c\u573a\u666f","text":"<ul> <li> <p>\u5df2\u77e5\u5355\u64ad\u6d41\u91cf\u8f6c\u53d1</p> <p>\u5f53M-LAG\u6b63\u5e38\u5de5\u4f5c\u65f6\uff0c\u81ea\u7528\u6237\u4fa7\u53d1\u5f80\u7f51\u7edc\u4fa7\u7684\u5df2\u77e5\u5355\u64ad\u6d41\u91cf\uff08\u56fe\u4e2d\u7eff\u8272\u6d41\u91cf\uff09\u7531M-LAG\u4e3b\u5907\u8bbe\u5907\u5f62\u6210\u9010\u6d41\u8d1f\u8f7d\u5206\u62c5\uff0c\u5171\u540c\u8fdb\u884c\u6d41\u91cf\u7684\u8f6c\u53d1\u3002\u53cd\u4e4b\uff0c\u81ea\u7f51\u7edc\u4fa7\u53d1\u5f80\u7528\u6237\u4fa7\u7684\u5df2\u77e5\u5355\u64ad\u6d41\u91cf\uff08\u56fe\u4e2d\u9ec4\u8272\u6d41\u91cf\uff09\u540c\u6837\u7531M-LAG\u4e3b\u5907\u8bbe\u5907\u5f62\u6210\u9010\u6d41\u8d1f\u8f7d\u5206\u62c5\uff0c\u5171\u540c\u8fdb\u884c\u6d41\u91cf\u7684\u8f6c\u53d1\u3002</p> <p> </p> <p>M-LAG\u5df2\u77e5\u5355\u64ad\u6d41\u91cf\u8f6c\u53d1\u793a\u610f\u56fe</p> </li> <li> <p>\u7ec4\u64ad\u3001\u5e7f\u64ad\u548c\u672a\u77e5\u5355\u64ad\u6d41\u91cf\u8f6c\u53d1</p> <p>\u5f53M-LAG\u6b63\u5e38\u5de5\u4f5c\u65f6\uff0c\u81ea\u7528\u6237\u4fa7\u53d1\u5f80\u7f51\u7edc\u4fa7\u7684\u7ec4\u64ad\u3001\u5e7f\u64ad\u548c\u672a\u77e5\u5355\u64ad\u6d41\u91cf\uff08\u56fe\u4e2d\u9ec4\u8272\u6d41\u91cf\uff09\u5728\u8bbe\u5907\u95f4\u6cdb\u6d2a\u6269\u6563\u3002\u5bf9\u4e8e\u53ef\u80fd\u9020\u6210\u7684\u73af\u8def\uff08\u56fe\u4e2d\u7ea2\u8272\uff09\uff0c\u5219\u5229\u7528M-LAG\u7684\u5355\u5411\u9694\u79bb\u673a\u5236\u9694\u7edd\u7531peer-link\u53d1\u5f80M-LAG\u6210\u5458\u53e3\u7684\u6d41\u91cf\u3002\u53cd\u4e4b\uff0c\u5f53\u7f51\u7edc\u4fa7\u53d1\u5f80\u7528\u6237\u4fa7\u7684\u7ec4\u64ad\u3001\u5e7f\u64ad\u548c\u672a\u77e5\u5355\u64ad\u6d41\u91cf\uff08\u56fe\u4e2d\u7eff\u8272\u6d41\u91cf\uff09\u5728\u8bbe\u5907\u95f4\u6cdb\u6d2a\u6269\u6563\u65f6\uff0c\u540c\u6837\u5229\u7528\u5355\u5411\u9694\u79bb\u673a\u5236\u9694\u7edd\u7531peer-link\u53d1\u5f80M-LAG\u6210\u5458\u53e3\u7684\u6d41\u91cf\u3002</p> <p> M-LAG\u7ec4\u64ad\u3001\u5e7f\u64ad\u548c\u672a\u77e5\u5355\u64ad\u6d41\u91cf\u8f6c\u53d1\u793a\u610f\u56fe</p> </li> </ul>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#32-m-lag","title":"3.2. M-LAG\u6545\u969c\u5de5\u4f5c\u573a\u666f","text":"<ul> <li> <p>\u4e0a\u884c\u94fe\u8def\u6545\u969c</p> <p>M-LAG\u63a5\u5165\u666e\u901a\u4ee5\u592a\u7f51\u573a\u666f\uff0c\u7531\u4e8eM-LAG\u4e3b\u8bbe\u5907\u7684\u4e0a\u884c\u94fe\u8def\u6545\u969c\uff0c\u901a\u8fc7M-LAG\u4e3b\u8bbe\u5907\u7684\u6d41\u91cf\u5747\u7ecf\u8fc7peer-link\u94fe\u8def\u8fdb\u884c\u8f6c\u53d1\u3002M-LAG\u63a5\u5165\u4e09\u5c42\u7f51\u7edc\u573a\u666f\u4e0b\uff0c\u9700\u8981\u5728M-LAG\u4e3b\u5907\u8bbe\u5907\u95f4\u914d\u7f6e\u4e09\u5c42\u9003\u751f\u94fe\u8def\uff0c\u4f7f\u5f97\u5230\u8fbeM-LAG\u4e3b\u8bbe\u5907\u7684\u4e0a\u884c\u6d41\u91cf\u901a\u8fc7\u4e09\u5c42\u9003\u751f\u94fe\u8def\u5230\u8fbeM-LAG\u5907\u8bbe\u5907\u3002</p> <p>\u5f53\u6545\u969c\u7684\u4e0a\u884c\u94fe\u8def\u6070\u597d\u4e3a\u53cc\u4e3b\u68c0\u6d4b\u94fe\u8def\uff0c\u6b64\u65f6\u5bf9\u4e8eM-LAG\u6b63\u5e38\u5de5\u4f5c\u6ca1\u6709\u5f71\u54cd\u3002\u4e00\u65e6peer-link\u4e5f\u53d1\u751f\u6545\u969c\uff0cM-LAG\u51fa\u73b0\u53cc\u4e3b\u51b2\u7a81\uff0c\u53cc\u4e3b\u68c0\u6d4b\u53c8\u65e0\u6cd5\u8fdb\u884c\uff0c\u6b64\u65f6\u7528\u6237\u4fa7\u53d1\u5f80Master\u7684\u6d41\u91cf\u4f1a\u56e0\u4e3a\u6ca1\u6709\u4e0a\u884c\u53e3\u800c\u88ab\u4e22\u5f03\u3002\u9488\u5bf9\u8fd9\u4e2a\u95ee\u9898\u6211\u4eec\u53ef\u4ee5\u7528\u7ba1\u7406\u53e3\u4f5c\u4e3a\u53cc\u4e3b\u68c0\u6d4b\u94fe\u8def\uff1b\u4e5f\u53ef\u4ee5\u914d\u7f6eMonitor-link\u529f\u80fd\uff0c\u5c06M-LAG\u6210\u5458\u53e3\u548c\u4e0a\u884c\u53e3\u5173\u8054\uff0c\u4e00\u65e6\u4e0a\u884c\u94fe\u8def\u6545\u969c\u4f1a\u8054\u52a8M-LAG\u6210\u5458\u53e3\u6545\u969c\uff0c\u8fd9\u6837\u5c31\u9632\u6b62\u4e86\u6d41\u91cf\u7684\u4e22\u5931\u3002</p> <p>  \u4e0a\u884c\u94fe\u8def\u6545\u969c\u793a\u610f\u56fe</p> </li> <li> <p>M-LAG\u6210\u5458\u53e3\u6545\u969c</p> <p>\u5f53M-LAG\u6210\u5458\u53e3\u6545\u969c\u65f6\uff0c\u7528\u6237\u4fa7\u53d1\u5f80\u7f51\u7edc\u4fa7\u7684\u6d41\u91cf\uff08\u56fe\u4e2d\u7eff\u8272\u6d41\u91cf\uff09\u7531\u6b63\u5e38\u94fe\u8def\u8d1f\u8f7d\u5206\u62c5\u8f6c\u53d1\uff0c\u7f51\u7edc\u4fa7\u4e0d\u611f\u77e5\u6545\u969c\uff0c\u6d41\u91cf\u4f9d\u7136\u53d1\u9001\u7ed9\u53cc\u5f52\u8bbe\u5907\u3002\u7531\u4e8eM-LAG\u6210\u5458\u53e3\u6545\u969c\uff0c\u53cc\u5f52\u573a\u666f\u53d8\u4e3a\u5355\u5f52\u573a\u666f\uff0c\u6b64\u65f6\u7aef\u53e3\u9694\u79bb\u673a\u5236\u653e\u5f00\u3002\u5f53M-LAG\u6210\u5458\u53e3\u6545\u969c\u8bbe\u5907\u6536\u5230\u4ece\u7f51\u7edc\u4fa7\u53d1\u5f80\u7528\u6237\u4fa7\u6d41\u91cf\uff08\u56fe\u4e2d\u9ec4\u8272\u6d41\u91cf\uff09\uff0c\u4f1a\u901a\u8fc7peer-link\u5c06\u6d41\u91cf\u4ea4\u7ed9\u6b63\u5e38\u5de5\u4f5c\u7684M-LAG\u8bbe\u5907\u8f6c\u53d1\u5230\u7528\u6237\u4fa7\u3002</p> <p>\u5f53M-LAG\u6210\u5458\u53e3\u6545\u969c\u6062\u590d\u540e\uff0cM-LAG\u6210\u5458\u53e3UP\u4f1a\u89e6\u53d1\u4e00\u6b21M-LAG\u7cfb\u7edf\u7684MAC\u8868\u9879\u540c\u6b65\uff0c\u5355\u5f52\u573a\u666f\u6062\u590d\u4e3a\u53cc\u5f52\u573a\u666f\uff0c\u6d41\u91cf\u6062\u590d\u8d1f\u8f7d\u5206\u62c5\u8f6c\u53d1\u3002</p> <p>  M-LAG\u6210\u5458\u6545\u969c\u793a\u610f\u56fe</p> </li> <li> <p>peer-link\u6545\u969c</p> <p>M-LAG\u53cc\u5f52\u63a5\u5165\u8bbe\u5907\u4e00\u65e6\u611f\u77e5peer-link\u94fe\u8def\u72b6\u6001\u4e3aDown\uff0c\u4f1a\u7acb\u5373\u901a\u8fc7DAD\u94fe\u8def\u53d1\u8d77\u4e00\u6b21\u53cc\u4e3b\u68c0\u6d4b\u3002\u5982\u679c\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u672a\u6536\u5230\u5bf9\u7aef\u53d1\u5e03\u7684\u53cc\u4e3b\u68c0\u6d4b\u62a5\u6587\uff0c\u5219\u8ba4\u4e3a\u5bf9\u7aef\u8bbe\u5907\u6545\u969c\u3002\u5982\u679c\u6536\u5230\u5bf9\u7aef\u53d1\u9001\u7684\u53cc\u4e3b\u68c0\u6d4b\u62a5\u6587\uff0c\u5219\u8ba4\u4e3apeer-link\u6545\u969c\u3002</p> <p>Peer-link\u6545\u969c\u65f6\uff0c\u4e24\u53f0M-LAG\u8bbe\u5907\u4e0d\u80fd\u540c\u65f6\u8f6c\u53d1\u6d41\u91cf\uff0c\u82e5\u540c\u65f6\u8f6c\u53d1\u6d41\u91cf\u4f1a\u51fa\u73b0\u5e7f\u64ad\u98ce\u66b4\u3001MAC\u6f02\u79fb\u7b49\u95ee\u9898\u3002\u56e0\u6b64M-LAG\u5907\u8bbe\u5907\u4f1a\u5c06\u9664peer-link\u53e3\u3001\u5806\u53e0\u53e3\u548c\u7ba1\u7406\u7f51\u53e3\u4e4b\u5916\u7684\u6240\u6709\u7269\u7406\u63a5\u53e3Error-down\u3002\u6b64\u65f6\uff0c\u6d41\u91cf\u90fd\u53ea\u4f1a\u4eceM-LAG\u4e3b\u8bbe\u5907\u8f6c\u53d1\u3002</p> <p>Peer-link\u6545\u969c\u6062\u590d\u540e\uff0cpeer-link\u63a5\u53e3UP\uff0cM-LAG\u7cfb\u7edf\u5c06\u91cd\u65b0\u534f\u5546\u3002\u534f\u5546\u5b8c\u6210\u540e\uff0c\u4e3a\u4fdd\u969cM-LAG\u7684\u7aef\u53e3\u9694\u79bb\u673a\u5236\u751f\u6548\uff0c\u9664M-LAG\u6210\u5458\u53e3\u4ee5\u5916\u7684\u5176\u4ed6\u53e3\u6062\u590dUP\u72b6\u6001\uff0c\u800cM-LAG\u6210\u5458\u53e3\u57284\u5206\u949f\u540e\u6062\u590dUP\u72b6\u6001\u3002</p> <p>  peer-link\u6545\u969c\u793a\u610f\u56fe</p> </li> <li> <p>M-LAG\u8bbe\u5907\u6545\u969c</p> <p>M-LAG\u4e3b\u8bbe\u5907\u6545\u969c\uff0cM-LAG\u5907\u8bbe\u5907\u5c06\u5347\u7ea7\u4e3a\u4e3b\uff0c\u5176\u8bbe\u5907\u4fa7Eth-Trunk\u94fe\u8def\u72b6\u6001\u4ecd\u4e3aUP\uff0c\u6d41\u91cf\u8f6c\u53d1\u72b6\u6001\u4e0d\u53d8\uff0c\u7ee7\u7eed\u8f6c\u53d1\u6d41\u91cf\u3002M-LAG\u4e3b\u8bbe\u5907\u4fa7Eth-Trunk\u94fe\u8def\u72b6\u6001\u53d8\u4e3aDown\uff0c\u53cc\u5f52\u573a\u666f\u53d8\u4e3a\u5355\u5f52\u573a\u666f\u3002</p> <p>\u5982\u679c\u662fM-LAG\u5907\u8bbe\u5907\u53d1\u751f\u6545\u969c\uff0cM-LAG\u7684\u4e3b\u5907\u72b6\u6001\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\uff0cM-LAG\u5907\u8bbe\u5907\u4fa7Eth-Trunk\u94fe\u8def\u72b6\u6001\u53d8\u4e3aDown\u3002M-LAG\u4e3b\u8bbe\u5907\u4fa7Eth-Trunk\u94fe\u8def\u72b6\u6001\u4ecd\u4e3aUP\uff0c\u6d41\u91cf\u8f6c\u53d1\u72b6\u6001\u4e0d\u53d8\uff0c\u7ee7\u7eed\u8f6c\u53d1\u6d41\u91cf\uff0c\u53cc\u5f52\u573a\u666f\u53d8\u4e3a\u5355\u5f52\u573a\u666f\u3002</p> <p>M-LAG\u8bbe\u5907\u6545\u969c\u6062\u590d\u65f6\uff0cpeer-link\u5148UP\uff0cDFS\u72b6\u6001\u91cd\u65b0\u534f\u5546\uff0cM-LAG\u6210\u5458\u53e3\u6062\u590dUP\uff0c\u6d41\u91cf\u6062\u590d\u8d1f\u8f7d\u5206\u62c5\u3002M-LAG\u4e3b\u8bbe\u5907\u6062\u590d\u540e\u8bbe\u5907\u72b6\u6001\u4ecd\u7136\u4e3a\u4e3b\uff0cM-LAG\u5907\u8bbe\u5907\u6062\u590d\u540e\u8bbe\u5907\u72b6\u6001\u4ecd\u7136\u4e3a\u5907\u3002</p> <p>  M-LAG\u8bbe\u5907\u6545\u969c\u793a\u610f\u56fe</p> </li> </ul>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#4-m-lag","title":"4. \u5982\u4f55\u5e94\u7528M-LAG\u6280\u672f","text":"<p>\u901a\u8fc7\u4e0a\u6587\u6211\u4eec\u4e86\u89e3\u5230M-LAG\u6709\u8d1f\u8f7d\u5206\u62c5\u6d41\u91cf\u548c\u5907\u4efd\u4fdd\u62a4\u7684\u4f5c\u7528\uff0c\u90a3\u4e48\u4e0b\u9762\u6211\u4eec\u4ecb\u7ecdM-LAG\u7684\u5e94\u7528\u573a\u666f\u3002</p> <p>M-LAG\u4e3b\u8981\u5e94\u7528\u4e8e\u5c06\u670d\u52a1\u5668\u6216\u4ea4\u6362\u673a\u53cc\u5f52\u63a5\u5165\u4e8c\u5c42\u7f51\u7edc\u3001VXLAN\u7f51\u7edc\u548c\u4e09\u5c42\u7f51\u7edc\uff0c\u4ee5\u53ca\u591a\u7ea7M-LAG\u3002</p>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#41-m-lag","title":"4.1. M-LAG\u53cc\u5f52\u63a5\u5165\u4e8c\u5c42\u7f51\u7edc","text":"<p>M-LAG\u53cc\u5f52\u63a5\u5165\u4e8c\u5c42\u7f51\u7edc\u65f6\uff0c\u9700\u8981\u5c06\u4e24\u53f0M-LAG\u8bbe\u5907\u6a21\u62df\u6210\u540c\u4e00\u4e2aSTP\u903b\u8f91\u8282\u70b9\uff0c\u8fbe\u5230\u4e0eSTP\u5bf9\u63a5\u7834\u73af\u7684\u76ee\u7684\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u624b\u52a8\u914d\u7f6e\u53cc\u5f52\u8bbe\u5907\u4e3aSTP\u7f51\u7edc\u6839\u6865\u6216\u914d\u7f6eVSTP\u534f\u8bae\uff0c\u5c06M-LAG\u4e24\u4e2a\u8bbe\u5907\u6a21\u62df\u6210\u4e00\u4e2aSTP\u8282\u70b9\u3002\u5176\u4e2d\uff0cVSTP\u534f\u8bae\u7684\u4f5c\u7528\u4e3b\u8981\u662f\u5728\u53cc\u5f52\u8bbe\u5907\u4e4b\u95f4\u540c\u6b65STP\u534f\u8bae\u72b6\u6001\uff0c\u5c06\u4e24\u53f0\u8bbe\u5907\u4ee5\u540c\u4e00\u4e2a\u72b6\u6001\u5bf9\u5916\u8fdb\u884cSTP\u534f\u5546\u3002</p> <p> M-LAG\u53cc\u5f52\u63a5\u5165\u4e8c\u5c42\u7f51\u7edc\u793a\u610f\u56fe</p>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#42-m-lagvxlan","title":"4.2. M-LAG\u53cc\u5f52\u63a5\u5165VXLAN\u7f51\u7edc","text":"<p>M-LAG\u53cc\u5f52\u63a5\u5165VXLAN\u7f51\u7edc\u65f6\uff0c\u9700\u8981\u5c06\u4e24\u53f0M-LAG\u8bbe\u5907\u865a\u62df\u6210\u4e00\u4e2aVTEP\u3002\u65e0\u8bba\u662f\u624b\u5de5\u5efa\u7acb\u96a7\u9053\u8fd8\u662f\u901a\u8fc7MP-BGP\u81ea\u52a8\u5efa\u7acb\u96a7\u9053\uff0cDeviceA\u548cDeviceB\u5747\u7528\u8fd9\u4e2a\u865a\u62df\u7684VTEP\u7684IP\u548c\u5916\u754c\u5efa\u7acbVXLAN\u96a7\u9053\u3002</p> <p> M-LAG\u53cc\u5f52\u63a5\u5165VXLAN\u7f51\u7edc\u793a\u610f\u56fe</p>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#43-m-lag","title":"4.3. M-LAG\u53cc\u5f52\u63a5\u5165\u4e09\u5c42\u7f51\u7edc","text":"<p>M-LAG\u53cc\u5f52\u63a5\u5165\u4e09\u5c42\u7f51\u7edc\u65f6\uff0cM-LAG\u53cc\u5f52\u8bbe\u5907\u6210\u4e3a\u4e8c\u5c42\u7f51\u7edc\u548c\u4e09\u5c42\u7f51\u7edc\u7684\u5206\u754c\u70b9\uff0c\u5373\u627f\u62c5\u7f51\u5173\u7684\u4f5c\u7528\u3002\u7531\u4e8e\u662f\u4e24\u53f0\u8bbe\u5907\u505a\u7f51\u5173\uff0c\u4ed6\u4eec\u5bf9\u7f51\u7edc\u4fa7\u9700\u8981\u5c55\u793a\u76f8\u540c\u7684\u7f51\u5173IP\u548cMAC\u3002\u5728DeviceA\u548cDeviceB\u4e0a\u914d\u7f6e\u76f8\u540cIP\u5730\u5740\u548c\u865a\u62dfMAC\u5730\u5740\uff0c\u8fbe\u5230\u76f8\u540c\u7f51\u5173\u7684\u76ee\u7684\u3002</p> <p> M-LAG\u53cc\u5f52\u63a5\u5165\u4e09\u5c42\u7f51\u7edc\u793a\u610f\u56fe</p>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#44-m-lag","title":"4.4. \u591a\u7ea7M-LAG","text":"<p>\u5728\u7f51\u7edc\u89c4\u6a21\u8f83\u5927\u573a\u666f\u4e0b\uff0c\u53ef\u4ee5\u5728Spine\u548cLeaf\u540c\u65f6\u90e8\u7f72M-LAG\u6765\u4fdd\u8bc1\u94fe\u8def\u53ef\u9760\u6027\u3002\u56fe\u4e2d\u7070\u8272\u5e95\u7eb9\u4e2d\u7684\u4e24\u53f0\u8bbe\u5907\u7ec4\u6210M-LAG\u3002</p> <p>\u591a\u7ea7M-LAG\u5e94\u7528\u573a\u666f\uff0c\u4e0d\u80fd\u4f7f\u7528\u624b\u52a8\u914d\u7f6e\u6839\u6865\u7684\u65b9\u5f0f\u6765\u8fdb\u884cSTP\u7834\u73af\uff0c\u9700\u8981\u901a\u8fc7VSTP\u534f\u8bae\u6765\u540c\u6b65M-LAG\u53cc\u5f52\u8bbe\u5907\u7684STP\u534f\u8bae\u72b6\u6001\u4fe1\u606f\u3002</p> <p>  \u591a\u7ea7M-LAG\u7f51\u7edc\u793a\u610f\u56fe</p>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"09%20%E5%8F%AF%E9%9D%A0%E6%80%A7/004%20%E4%BB%80%E4%B9%88%E6%98%AFM-LAG/#_1","title":"\u53c2\u8003\u8d44\u6e90","text":"<ol> <li> <p>M-LAG\u914d\u7f6e\u6307\u5357\uff08CloudEngine\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\uff09</p> </li> <li> <p>M-LAG\u6280\u672f\u767d\u76ae\u4e66\uff08CloudEngine\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\uff09</p> </li> <li> <p>M-LAG\u6700\u4f73\u5b9e\u8df5\uff08CloudEngine\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\uff09</p> </li> <li> <p>\u9605\u8bfbTechnotes\uff1a\u5982\u4f55\u4ece\u5806\u53e0\u5207\u6362\u4e3aM-LAG</p> </li> </ol>","tags":["M-LAG","\u5806\u53e0vsM-LAG","\u5806\u53e0\u548cM-LAG\u7684\u5bf9\u6bd4"]},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/01%20%E5%BB%BA%E8%AE%BE%E8%A7%84%E8%8C%83/05%20%E8%AE%A4%E8%AF%81%E5%89%8D%E5%9F%9F/","title":"05 \u8ba4\u8bc1\u524d\u57df","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/","title":"\u90e8\u7f72\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#1","title":"1. \u901a\u7528\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#11","title":"1.1. \u7528\u6237\u63a5\u5165\u4fa7\u573a\u666f\u4e0b\u9700\u8981\u914d\u7f6e\u5197\u4f59\u5907\u4efd","text":"<p>\u7528\u6237\u63a5\u5165\u4fa7\u573a\u666f\u4e0b\uff0c\u5fc5\u987b\u914d\u7f6e\u53ef\u9760\u6027\u90e8\u7f72\u65b9\u6848\u3002\u5982\u679c\u4e0d\u914d\u7f6e\uff0c\u5f53\u63a5\u5165\u4fa7\u7684\u94fe\u8def\uff08\u5305\u542b\u5149\u6a21\u5757\u3001\u5149\u7ea4\u7b49\uff09\u3001\u63a5\u53e3\u3001\u5355\u677f\u3001\u8bbe\u5907\u7b49\u53d1\u751f\u6545\u969c\uff0c\u4f1a\u5bfc\u81f4\u4e1a\u52a1\u7531\u4e8e\u6ca1\u6709\u5907\u4efd\u800c\u4e2d\u65ad\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#111","title":"1.1.1. \u5e94\u7528\u573a\u666f","text":"<p>\u5728\u7528\u6237\u63a5\u5165\u4fa7\u7684\u5197\u4f59\u5907\u4efd\u573a\u666f\u4e2d\uff0c\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u4e09\u79cd\u573a\u666f\uff1a\u8de8\u677fEth-trunk\u70ed\u5907\u4efd\u3001\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd\u3001RUI\u591a\u673a\u70ed\u5907\u4efd\u7b49\u3002\u5355\u53f0\u8bbe\u5907\u5fc5\u987b\u90e8\u7f72\u8de8\u677fEth-trunk\u6216\u8005\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd\uff0c\u8bbe\u5907\u4e4b\u95f4\u5907\u4efd\u65f6\u53ef\u4f7f\u7528RUI\u591a\u673a\u70ed\u5907\u6216\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd\uff0c\u91cd\u8981\u8282\u70b9\u8bbe\u5907\u5fc5\u987b\u4f7f\u7528\u8bbe\u5907\u95f4\u5907\u4efd\u3002</p> <ul> <li> <p>**\u8de8\u677fEth-Trunk\u70ed\u5907\u4efd**\u662f\u5229\u7528Eth-Trunk\u4e0b\u6210\u5458\u53e3\u5206\u5c5e\u4e0d\u540c\u7684\u6210\u5458\u677f\u7684\u7279\u70b9\uff0c\u80fd\u591f\u907f\u514d\u7531\u4e8eEth-Trunk\u6210\u5458\u63a5\u53e3\u6216\u94fe\u8def\u4ee5\u53ca\u6210\u5458\u53e3\u6240\u5728\u5355\u677f\u7b49\u6545\u969c\u9020\u6210\u7684\u6d41\u91cf\u4e2d\u65ad\u7b49\u7f51\u7edc\u4e8b\u6545\uff0c\u63d0\u5347\u7528\u6237\u63a5\u5165\u4e1a\u52a1\u7684\u53ef\u9760\u6027\u3002</p> <p>\u56fe1\u00a0\u8de8\u677fEth-Trunk\u70ed\u5907\u4efd\u573a\u666f\u7ec4\u7f51\u56fe </p> </li> <li> <p>**\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd**\u662f\u6307\u901a\u8fc7\u5728BAS\u63a5\u53e3\u914d\u7f6e\u4e0d\u540c\u7684\u7528\u6237\u63a5\u5165\u54cd\u5e94\u65f6\u5ef6\u7b56\u7565\uff0c\u8bbe\u5907\u6309\u7167\u914d\u7f6e\u7b56\u7565\u5ef6\u957f\u4ece\u6b64\u63a5\u53e3\u4e0a\u7ebf\u7528\u6237\u7684\u9996\u5305\u62a5\u6587\u54cd\u5e94\u65f6\u95f4\uff0c\u540c\u65f6\u9700\u8981\u4e0b\u6e38\u63a5\u5165\u8bbe\u5907\u7684\u591a\u4e2a\u63a5\u53e3\u5bf9\u7528\u6237\u63a5\u5165\u62a5\u6587\u8fdb\u884c\u5e7f\u64ad\u3002\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd\u6309\u90e8\u7f72\u573a\u666f\u53ef\u5206\u4e3a\u5355\u677f\u7ea7\u548c\u8bbe\u5907\u7ea7\u51b7\u5907\u4efd\u3002</p> <p>\u56fe2\u00a0\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd\u573a\u666f\u7ec4\u7f51\u56fe </p> </li> <li> <p>**RUI\u591a\u673a\u70ed\u5907\u4efd**\u662f\u901a\u8fc7\u8bbe\u5907\u95f4\u7684\u7528\u6237\u4fe1\u606f\u5b9e\u65f6\u5907\u4efd\u8fbe\u5230\u8bbe\u5907\u7ea7\u70ed\u5907\u4efd\uff0c\u907f\u514d\u94fe\u8def\u3001\u5355\u677f\u6216\u8bbe\u5907\u6545\u969c\u65f6\u9020\u6210\u7684\u7528\u6237\u4e0b\u7ebf\u6216\u4e1a\u52a1\u4e2d\u65ad\u7684\u60c5\u51b5\u3002\u5177\u4f53\u8bf7\u53c2\u8003\u4ea7\u54c1\u6587\u6863\u4e2d\u201c\u914d\u7f6eBRAS\u7528\u6237\u4fe1\u606f\u591a\u673a\u5907\u4efd\u201d\u7ae0\u8282\u3002</p> <p>\u56fe3\u00a0RUI\u591a\u673a\u70ed\u5907\u4efd\u573a\u666f\u7ec4\u7f51\u56fe </p> </li> </ul>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#112","title":"1.1.2. \u914d\u7f6e\u89c4\u8303","text":"<ul> <li> <p>\u8de8\u677fEth-Trunk\u70ed\u5907\u4efd</p> <p>\u5728\u914d\u7f6e\u7528\u6237\u63a5\u5165\u4fa7\u63a5\u53e3\u65f6\uff0c\u5fc5\u987b\u8981\u4f7f\u7528\u8de8\u677f\u7684Eth-Trunk\u63a5\u53e3\uff0c\u5e94\u81f3\u5c11\u5305\u542b\u4e24\u4e2a\u4e0d\u540c\u6210\u5458\u677f\u7684\u6210\u5458\u63a5\u53e3\uff0c\u80fd\u591f\u907f\u514d\u7531\u4e8eEth-Trunk\u6210\u5458\u63a5\u53e3\u6216\u94fe\u8def\u4ee5\u53ca\u6210\u5458\u53e3\u6240\u5728\u5355\u677f\u7b49\u6545\u969c\u9020\u6210\u7684\u6d41\u91cf\u4e2d\u65ad\u7b49\u7f51\u7edc\u4e8b\u6545\uff0c\u63d0\u5347\u7528\u6237\u63a5\u5165\u4e1a\u52a1\u7684\u53ef\u9760\u6027\u3002\u540c\u65f6\u4e5f\u53ef\u4ee5\u652f\u6301\u7528\u6237\u6d41\u91cf\u5728Eth-Trunk\u7684\u6210\u5458\u677f\u4e4b\u95f4\u7684\u8d1f\u8f7d\u5206\u62c5\u3002\u5177\u4f53\u8bf7\u53c2\u8003\u4ea7\u54c1\u6587\u6863\u4e2d\u201c\u914d\u7f6e\u8de8\u677f\u7aef\u53e3\u5907\u4efd\u6a21\u5f0fEth-Trunk\u63a5\u53e3\u201d\u7ae0\u8282\u3002</p> </li> <li> <p>\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd</p> <p>\u8de8\u677f\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd\u4ece\u7ec4\u7f51\u4e0a\u5212\u5206\u4e3a\u5355\u677f\u7ea7\u548c\u8bbe\u5907\u7ea7\u7684\u51b7\u5907\u4efd\u3002\u4e3b\u8981\u662f\u5728\u4e24\u4e2a\u4e92\u4e3a\u5907\u4efd\u7684\u5355\u677f\u6216\u8bbe\u5907\u7684BAS\u63a5\u53e3\u4e0a\u914d\u7f6e\u7528\u6237\u63a5\u5165\u54cd\u5e94\u5ef6\u65f6\u7b56\u7565\u547d\u4ee4**access-delay**\u00a0delay-time\u00a0[\u00a0circuit-id-include access-node-id\u00a0|\u00a0even-mac\u00a0|\u00a0odd-mac\u00a0]\u3002</p> <p>\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>[HUAWEI] interface GigabitEthernet 1/0/9.1 \n[HUAWEI-GigabitEthernet 1/0/9] user-vlan 55\n[HUAWEI-GigabitEthernet 1/0/9-vlan-55-55] bas \n[HUAWEI-GigabitEthernet 1/0/9-bas] access-type layer2-subscriber\n[HUAWEI-GigabitEthernet 1/0/9-bas] authentication-method ppp\n[HUAWEI-GigabitEthernet 1/0/9-bas] access-delay 500 odd-mac \n[HUAWEI-GigabitEthernet 1/0/9-bas] quit \n[HUAWEI] interface GigabitEthernet 2/1/4.1\n[HUAWEI-GigabitEthernet 2/1/4] user-vlan 55\n[HUAWEI-GigabitEthernet 2/1/4-vlan-55-55] bas\n[HUAWEI-GigabitEthernet 2/1/4-bas] access-type layer2-subscriber\n[HUAWEI-GigabitEthernet 2/1/4-bas] authentication-method ppp\n[HUAWEI-GigabitEthernet 1/0/9-bas] access-delay 500 even-mac \n[HUAWEI-GigabitEthernet 2/1/4-bas] quit \n</code></pre> </li> <li> <p>RUI\u591a\u673a\u70ed\u5907\u4efd</p> <p>\u5728\u8bbe\u5907\u4e0a\u914d\u7f6e\u8fdc\u7aef\u5907\u4efd\u670d\u52a1\u548c\u8fdc\u7aef\u5907\u4efd\u6a21\u677f\u7b49RUI\u591a\u673a\u5907\u4efd\u90e8\u7f72\u7684\u76f8\u5173\u914d\u7f6e\uff0c\u5e76\u5728\u7528\u6237\u63a5\u5165\u63a5\u53e3\u4e0b\u7ed1\u5b9a\u8fdc\u7aef\u5907\u4efd\u6a21\u677f\uff0c\u5177\u4f53\u914d\u7f6e\u65b9\u6cd5\u8bf7\u53c2\u8003\u4ea7\u54c1\u6587\u6863\u4e2d\u201c\u914d\u7f6eBRAS\u7528\u6237\u4fe1\u606f\u591a\u673a\u5907\u4efd\u201d\u548c\u591a\u673a\u5907\u4efd\u914d\u7f6e\u4e3e\u4f8b\u7b49\u7ae0\u8282\u3002</p> </li> </ul>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#113","title":"1.1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u5f71\u54cd","text":"<ul> <li> <p>\u8de8\u677fEth-Trunk\u70ed\u5907\u4efd</p> <p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53\u7528\u6237\u63a5\u5165\u4fa7\u63a5\u53e3\u4e0d\u662f\u8de8\u677f\u7684Eth-Trunk\u63a5\u53e3\u65f6\uff0c\u5982\u679c\u53d1\u751f\u6210\u5458\u63a5\u53e3\u6216\u94fe\u8def\u4ee5\u53ca\u6210\u5458\u53e3\u6240\u5728\u5355\u677f\u7b49\u6545\u969c\uff0c\u56e0\u6ca1\u6709\u53ef\u9760\u6027\u5197\u4f59\u5907\u4efd\uff0c\u4f1a\u5bfc\u81f4\u7528\u6237\u6389\u7ebf\uff0c\u6d41\u91cf\u4e2d\u65ad\u7b49\u60c5\u51b5\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ul> <li> <p>\u5982\u679c\u63a5\u5165\u4fa7\u63a5\u53e3\u4e3a\u666e\u901aGE\u63a5\u53e3\u6216\u5b50\u63a5\u53e3\uff0c\u5219\u9700\u8981\u6839\u636e\u914d\u7f6e\u89c4\u8303\u8fdb\u884c\u6574\u6539\u3002</p> </li> <li> <p>\u5982\u679c\u63a5\u5165\u4fa7\u63a5\u53e3\u4e3aEth-Trunk\u63a5\u53e3\uff0c\u4f46\u4e0d\u662f\u8de8\u5355\u677f\u7684\u60c5\u51b5\uff0c\u4e5f\u9700\u8981\u6839\u636e\u914d\u7f6e\u89c4\u8303\u8fdb\u884c\u6574\u6539\u3002</p> <p>\u53ef\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u67e5\u770b\uff1a</p> <pre><code>[HUAWEI] display eth-trunk\nEth-Trunk10's state information is:\nWorkingMode: NORMAL         Hash arithmetic: According to flow\nLeast Active-linknumber: 1  Max Bandwidth-affected-linknumber: 16 \nOperate status: up          Number Of Up Port In Trunk: 1  \n--------------------------------------------------------------------------------\n  PortName                  Status      Weight\n  GigabitEthernet1/1/1          Up          1  \n</code></pre> </li> </ul> </li> <li> <p>\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd</p> <p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53\u7ec4\u7f51\u4e2d\u6ca1\u6709\u5907\u4efd\u7684\u5355\u677f\u6216\u8bbe\u5907\u65f6\uff0c\u5982\u679c\u5f53\u524d\u7528\u6237\u63a5\u5165\u7684\u63a5\u53e3\u3001\u5355\u677f\u6216\u6574\u673a\u53d1\u751f\u6545\u969c\uff0c\u5219\u6ca1\u6709\u5907\u4efd\u94fe\u8def\u8ba9\u7528\u6237\u4e0a\u7ebf\uff0c\u5bfc\u81f4\u7528\u6237\u6389\u7ebf\u540e\u4e1a\u52a1\u4e0d\u80fd\u53ca\u65f6\u6062\u590d\uff0c\u6d41\u91cf\u4e2d\u65ad\u7684\u60c5\u51b5\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ul> <li>\u9996\u5148\u9700\u8981\u786e\u5b9a\u7f51\u7edc\u4e2d\u63a5\u5165\u4fa7\u662f\u5426\u6ee1\u8db3\u201c\u5ef6\u65f6\u54cd\u5e94\u51b7\u5907\u4efd\u573a\u666f\u7ec4\u7f51\u56fe\u201d\u4e2d\u7684\u7ec4\u7f51\u6761\u4ef6\uff0c\u5177\u4f53\u65b9\u6cd5\u8bf7\u53c2\u8003\u7f51\u7edc\u62d3\u6251\u3002</li> <li>\u7136\u540e\u67e5\u770b\u5907\u4efd\u7684\u5355\u677f\u6216\u8bbe\u5907\u7684BAS\u63a5\u53e3\u4e0a\u662f\u5426\u914d\u7f6e\u4e86\u5ef6\u65f6\u63a5\u5165\u54cd\u5e94\u7b56\u7565\u547d\u4ee4**access-delay**\u00a0delay-time\u00a0[\u00a0circuit-id-include access-node-id\u00a0|\u00a0even-mac\u00a0|\u00a0odd-mac\u00a0]\u3002</li> </ul> </li> <li> <p>RUI\u591a\u673a\u70ed\u5907\u4efd</p> <p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53BRAS A\u7684\u63a5\u5165\u4fa7\u94fe\u8def\u3001\u7f51\u7edc\u4fa7\u94fe\u8def\u3001\u5355\u677f\u53ca\u8bbe\u5907\u6574\u673a\u53d1\u751f\u6545\u969c\u65f6\uff0c\u7528\u6237\u4fe1\u606f\u6ca1\u6709\u5907\u4efd\u5230BRAS B\u8bbe\u5907\uff0c\u5bfc\u81f4\u7528\u6237\u6389\u7ebf\uff0c\u8bbf\u95ee\u7f51\u7edc\u4e0d\u901a\u7b49\u60c5\u51b5\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ul> <li>\u9996\u5148\u9700\u8981\u786e\u8ba4\u8bbe\u5907\u4e0a\u662f\u5426\u914d\u7f6e\u4e86\u8fdc\u7aef\u5907\u4efd\u670d\u52a1\u548c\u8fdc\u7aef\u5907\u4efd\u6a21\u677f\u7b49\u591a\u673a\u5907\u4efd\u76f8\u5173\u7684\u914d\u7f6e\u3002</li> <li> <p>\u901a\u8fc7**display remote-backup-profile**\u548c**display remote-backup-service**\u547d\u4ee4\u67e5\u770b\u8bbe\u5907\u7684\u5907\u4efd\u7b56\u7565\u548c\u670d\u52a1\u914d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u7528\u6237\u4e0a\u7ebf\u540e\u6709\u65e0\u5907\u4efd\u7528\u6237\u4fe1\u606f\u3002</p> <p>\u5f53\u8fdc\u7aef\u4fe1\u606f\u5907\u4efd\u7b56\u7565\u914d\u7f6e\u6210\u529f\u65f6\uff0c\u53ef\u4ee5\u770b\u5230\u914d\u7f6e\u7684\u5907\u4efd\u4e1a\u52a1\u7c7b\u578b\u4e3a**bras**\uff0c\u6b64\u5907\u4efd\u7b56\u7565profile1\u7ed1\u5b9a\u5728\u7528\u6237\u4e0a\u7ebf\u63a5\u53e3**GigabitEthernet1/0/0.1**\u4e0b\uff0c\u5e76\u4e14\u8bbe\u5907A\u72b6\u6001\u4e3a**Master**\u3002</p> <pre><code>&lt;HUAWEI-A&gt; **display remote-backup-profile profile1** \n-----------------------------------------------\n Profile-Index        : 0x802\n Profile-Name         : profile1\n Service              : **bras**\n Remote-backup-service: service1\n Backup-ID            : 10\n track protocol       : VRRP\n VRRP-ID              : 1\n VRRP-Interface       : GigabitEthernet1/0/0.2\n Access-Control       : **Even\uff0dMac**\n State                : **Master**\n Peer-state           : **Slave**\n VRRP-ID              : 2\n VRRP-Interface       : GigabitEthernet1/0/0.3\n Access-Control       : **Odd\uff0dMac**\n State                : **Slave**\n Peer-state           : **Master**\n Interface            :\n                        **GigabitEthernet1/0/0.1**\n Backup mode          : hot\n Slot-Number          : 1\n Card-Number          : 0\n Port-Number          : 0\n Nas logic-port       : Gigabitethernet 1/0/0\n Nas logic-ip         : 10.2.3.4\n Nas logic-sysname    : huawei\n Traffic interval     : 10(minutes)\n</code></pre> <p>\u5f53\u8fdc\u7aef\u5907\u4efd\u670d\u52a1\u914d\u7f6e\u6210\u529f\u65f6\uff0c\u53ef\u4ee5\u770b\u5230TCP\u8fde\u63a5\u7684\u72b6\u6001\u4e3a**Connected**\u3002</p> <pre><code>&lt;HUAWEI-A&gt; **display remote-backup-service service1** \n----------------------------------------------------------\n Service-Index    : 0\n Service-Name     : service1\n TCP-State        : **Connected**\n Peer-ip          : 10.88.88.88\n Source-ip        : 10.22.22.22\n TCP-Port         : 2046\n Track-BFD        : --\n Track-interface0 : GigabitEthernet2/0/0\n Track-interface1 : --\n----------------------------------------------------------\n</code></pre> <p>\u5f85\u7528\u6237\u4e0a\u7ebf\u540e\uff0c\u53ef\u4ee5\u67e5\u770b\u5907\u4efd\u7528\u6237\u7684\u4fe1\u606f\u3002</p> <pre><code>&lt;HUAWEI&gt; **display backup-user**\nRemote-backup-service: service1\nTotal Users Numer: 10\n------------------------------------------------------------------------\n100     101     102     103     104     105     106     107     108     109\n------------------------------------------------------------------------\n</code></pre> </li> </ul> </li> </ul> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u540c\u914d\u7f6e\u89c4\u8303\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#12","title":"1.2. \u7f51\u7edc\u4fa7\u94fe\u8def\u9700\u8981\u914d\u7f6e\u5197\u4f59\u5907\u4efd","text":"<p>\u7f51\u7edc\u4fa7\u94fe\u8def\u5fc5\u987b\u914d\u7f6e\u4e3aGE\u63a5\u53e3\u7684\u8de8\u677f\u591a\u4e0a\u884c\u94fe\u8def\u6216Eth-Trunk\u8de8\u677f\u4e0a\u884c\u94fe\u8def\u7b49\u53ef\u9760\u6027\u90e8\u7f72\u65b9\u6848\uff0c\u5982\u679c\u4e0d\u914d\u7f6e\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u7531\u4e8e\u63a5\u53e3\u3001\u94fe\u8def\u6216\u5355\u677f\u6545\u969c\u5bfc\u81f4\u4e1a\u52a1\u4e2d\u65ad\u7684\u60c5\u51b5\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#121","title":"1.2.1. \u5e94\u7528\u573a\u666f","text":"<p>\u5bf9\u7f51\u7edc\u4fa7\u94fe\u8def\u8fdb\u884c\u53ef\u9760\u6027\u90e8\u7f72\uff0c\u4ece\u63a5\u53e3\u90e8\u7f72\u65b9\u5f0f\u4e0a\u53ef\u4ee5\u5206\u4e3aGE\u63a5\u53e3\u548cEth-Trunk\u63a5\u53e3\uff1b\u4ece\u8bbe\u5907\u4e92\u8fde\u65b9\u5f0f\u4e0a\u53ef\u4ee5\u5206\u4e3a\u5355\u4e0a\u884c\u548c\u591a\u4e0a\u884c\u573a\u666f\u3002\u4e3b\u8981\u76ee\u7684\u662f\u5efa\u7acb\u8def\u7531\u8f6c\u53d1\u7684\u5907\u4efd\u573a\u666f\uff0c\u786e\u4fdd\u7528\u6237\u4fa7\u5230\u7f51\u7edc\u4fa7\u7684\u4e1a\u52a1\u4e0d\u4e2d\u65ad\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#122","title":"1.2.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u7f51\u7edc\u4fa7\u94fe\u8def\u5907\u4efd\u914d\u7f6e\u4e3aGE\u63a5\u53e3\u7684\u8de8\u677f\u591a\u4e0a\u884c\u94fe\u8def\u6216Eth-Trunk\u8de8\u677f\u4e0a\u884c\u94fe\u8def\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#123","title":"1.2.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u5f71\u54cd","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u7f51\u7edc\u4fa7\u65e0\u5907\u4efd\u94fe\u8def\u65f6\uff0c\u5f53\u63a5\u53e3\u3001\u94fe\u8def\u6216\u5355\u677f\u53d1\u751f\u6545\u969c\u540e\uff0c\u4f1a\u9020\u6210\u7528\u6237\u7684\u4e1a\u52a1\u6d41\u91cf\u4e2d\u65ad\u7b49\u60c5\u51b5\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ol> <li>\u6267\u884c\u547d\u4ee4**display ip routing-table**\uff0c\u67e5\u770b\u7f3a\u7701\u8def\u7531\u6216\u7f51\u7edc\u4fa7\u7684\u660e\u7ec6\u8def\u7531\u7684\u8def\u7531\u8868\u4fe1\u606f\u9700\u8981\u81f3\u5c11\u5b58\u57282\u4e2a\u51fa\u63a5\u53e3\u3002</li> <li>\u67e5\u770b\u662f\u5426\u5b58\u5728\u591a\u4e2a\u8def\u7531\u51fa\u63a5\u53e3\u4e14\u5206\u5e03\u5728\u4e0d\u540c\u5355\u677f\u4e0a\u3002</li> </ol> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u540c\u914d\u7f6e\u89c4\u8303\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#13","title":"1.3. \u548c\u5468\u8fb9\u670d\u52a1\u5668\u5bf9\u63a5\u573a\u666f\u4e0b\u9700\u8981\u914d\u7f6e\u5197\u4f59\u5907\u4efd","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#131","title":"1.3.1. \u5e94\u7528\u573a\u666f","text":"<p>\u8def\u7531\u5668\u548c\u5468\u8fb9\u670d\u52a1\u5668\uff08\u5982DHCP\u3001Radius\u3001Web\u3001Diameter\u3001DNS\u7b49\uff09\u5bf9\u63a5\u65f6\uff0c\u9700\u8981\u6709\u670d\u52a1\u5668\u7684\u5197\u4f59\u5907\u4efd\u65b9\u6848\uff0c\u4ee5\u786e\u4fdd\u5f53\u670d\u52a1\u5668\u53d1\u751f\u6545\u969c\u6216\u670d\u52a1\u5668\u4e0d\u53ef\u8fbe\u65f6\uff0c\u8def\u7531\u5668\u7684\u5bf9\u63a5\u4e1a\u52a1\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#132","title":"1.3.2. \u914d\u7f6e\u89c4\u8303","text":"<ul> <li>\u670d\u52a1\u5668\u81ea\u8eab\u9700\u8981\u6709\u5197\u4f59\u5907\u4efd\u90e8\u7f72\uff0c\u5e94\u90e8\u7f72\u591a\u53f0\u670d\u52a1\u5668\u6216\u670d\u52a1\u5668\u5185\u90e8\u4e3a\u8d1f\u8f7d\u5747\u8861\u7b49\u5907\u4efd\u65b9\u5f0f\u3002</li> <li>\u8def\u7531\u5668\u4e0a\u9488\u5bf9\u5bf9\u63a5\u7684\u5404\u7c7b\u670d\u52a1\u5668\uff0c\u5e94\u914d\u7f6e\u591a\u4e2a\u670d\u52a1\u5668IP\u5730\u5740\uff0c\u901a\u8fc7\u4e3b\u5907\u6216\u8d1f\u8f7d\u5206\u62c5\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u5197\u4f59\u5907\u4efd\u3002</li> </ul>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#133","title":"1.3.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u5f71\u54cd","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53\u670d\u52a1\u5668\u81ea\u8eab\u5197\u4f59\u5907\u4efd\u672a\u90e8\u7f72\u4e14\u8def\u7531\u5668\u548c\u670d\u52a1\u5668\u4e0d\u80fd\u6b63\u5e38\u901a\u4fe1\u65f6\uff0c\u4f1a\u9020\u6210\u4e1a\u52a1\u53d7\u635f\u3002</p> <p>\u5f53\u8def\u7531\u5668\u672a\u914d\u7f6e\u4e3b\u5907\u6216\u8d1f\u8f7d\u5206\u62c5\u6a21\u5f0f\u7684\u670d\u52a1\u5668\u4e14\u8def\u7531\u5668\u548c\u670d\u52a1\u5668\u901a\u4fe1\u6545\u969c\u65f6\uff0c\u8def\u7531\u5668\u4e0d\u80fd\u81ea\u52a8\u8fdb\u884c\u4e1a\u52a1\u5207\u6362\uff0c\u4f1a\u9020\u6210\u4e1a\u52a1\u53d7\u635f\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u67e5\u770b\u8def\u7531\u5668\u4e0a\u7684\u670d\u52a1\u5668\u76f8\u5173\u914d\u7f6e\u662f\u5426\u914d\u7f6e\u4e86\u591a\u4e2aIP\u5730\u5740\uff0c\u5177\u4f53\u65b9\u6cd5\u8bf7\u53c2\u8003\u4ea7\u54c1\u6587\u6863\u201c\u914d\u7f6eRADIUS\u8ba4\u8bc1/\u8ba1\u8d39\u670d\u52a1\u5668\u201d\u548c\u201c\u914d\u7f6eDHCPv4\u670d\u52a1\u5668\u7ec4\u201d\u7b49\u7ae0\u8282\u3002</p> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u540c\u914d\u7f6e\u89c4\u8303\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#2-ne40e80e","title":"2. NE40E&amp;80E\u90e8\u7f72\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#21-gre","title":"2.1. GRE\u9700\u8981\u914d\u7f6e\u5197\u4f59\u5907\u4efd","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#211","title":"2.1.1. \u5e94\u7528\u573a\u666f","text":"<p>\u4f7f\u7528GRE\u96a7\u9053\u7684\u573a\u666f\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#212","title":"2.1.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u5f53\u8bbe\u5907\u4e0a\u914d\u7f6e\u591a\u5757\u96a7\u9053\u4e1a\u52a1\u677f\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4target-board slot-number backup slot-numer2 \u53c2\u6570\u6307\u5b9a\u5907\u4efd\u96a7\u9053\u4e1a\u52a1\u677f\u914d\u7f6eGRE\u96a7\u9053\u76841\uff1a1\u4fdd\u62a4\u529f\u80fd\uff0c\u589e\u5f3aGRE\u4e1a\u52a1\u7684\u53ef\u9760\u6027\u3002\u914d\u7f6eGRE\u96a7\u9053\u76841\uff1a1\u4fdd\u62a4\u529f\u80fd\u540e\uff0c\u5fc5\u987b\u5728\u4e3b\u7528\u548c\u5907\u7528\u96a7\u9053\u4e1a\u52a1\u677f\u4e0a\u914d\u7f6e\u4e24\u6761\u540c\u6e90\u540c\u5bbf\u7684GRE\u96a7\u9053\u3002\u5f53\u4e3b\u677f\u4e0a\u7684\u96a7\u9053\u5de5\u4f5c\u65f6\uff0c\u5907\u677f\u4e0a\u7684\u96a7\u9053\u4e0d\u5de5\u4f5c\uff0c\u5f53\u4e3b\u7528\u96a7\u9053\u4e1a\u52a1\u677f\u6545\u969c\u65f6\uff0c\u4e1a\u52a1\u5207\u6362\u5230\u5907\u7528\u96a7\u9053\u4e1a\u52a1\u677f\u4e0a\u7684GRE\u96a7\u9053\u3002\u5177\u4f53\u914d\u7f6e\u65b9\u6cd5\u8bf7\u53c2\u8003\uff1aGRE\u534f\u8bae\u914d\u7f6e\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/02%20%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/#213","title":"2.1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u5f71\u54cd","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53\u914d\u7f6eGRE\u4e1a\u52a1\u7684\u5355\u677f\u53d1\u751f\u6545\u969c\u65e0\u6cd5\u4f7f\u7528\u65f6\uff0c\u8be5\u5355\u677f\u627f\u8f7d\u7684GRE\u4e1a\u52a1\u65e0\u6cd5\u8bbf\u95ee\u7f51\u7edc\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u901a\u8fc7 display tunnel gre backup\u547d\u4ee4\u67e5\u770bGRE\u7684\u5907\u4efd\u7ed1\u5b9a\u4fe1\u606f\u3002\u5982\u679c\u6ca1\u6709\u201cTunnel binding slave slot\u201d\u4fe1\u606f\uff0c\u5219\u8bf4\u660e\u6ca1\u6709\u914d\u7f6eGRE\u5907\u4efd\u677f\u3002</p> <pre><code>&lt;HUAWEI&gt; **display tunnel gre backup**\nGRE tunnel backup binding information:\nTunnel binding master slot:  1\nTunnel binding slave slot:   2\nTunnel processing slot:      1\n</code></pre> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u540c\u914d\u7f6e\u89c4\u8303\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/01%20%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/","title":"\u914d\u7f6e\u7528\u6237\u767b\u5f55\u7684\u914d\u7f6e\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/01%20%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#1-sshssh20","title":"1. \u8bbe\u5907\u4f5c\u4e3aSSH\u5ba2\u6237\u7aef\u4fdd\u5b58SSH\u516c\u94a5\u6570\u5e94\u5c11\u4e8e20\u4e2a","text":"<p>\u5f53\u8bbe\u5907\u4fdd\u5b58\u7684SSH\u516c\u94a5\u6570\u8fbe\u523020\u4e2a\uff0c\u8bbe\u5907\u4f5c\u4e3aSSH\u5ba2\u6237\u7aef\u65e0\u6cd5\u767b\u5f55\u65b0\u7684\u670d\u52a1\u5668\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/01%20%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#11","title":"1.1. \u5e94\u7528\u573a\u666f","text":"<p>\u8bbe\u5907\u4f5c\u4e3aSSH\u5ba2\u6237\u7aef\u767b\u5f55SSH\u670d\u52a1\u5668\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/01%20%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#12","title":"1.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u8bbe\u5907\u4f5c\u4e3aSSH\u5ba2\u6237\u7aef\uff0c\u4fdd\u5b58\u7684SSH\u516c\u94a5\u6570\u9700\u8981\u5c11\u4e8e20\u4e2a\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/01%20%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#13","title":"1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u8bbe\u5907\u4fdd\u5b58\u7684SSH\u516c\u94a5\u6570\u8fbe\u523020\u4e2a\u65f6\uff0c\u901a\u8fc7stelnet\u547d\u4ee4\u65e0\u6cd5\u767b\u5f55\u5230\u65b0\u7684SSH\u670d\u52a1\u5668\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c**display current-configuration**\u00a0_| include assign rsa-key_\u547d\u4ee4\uff0c\u67e5\u770b\u5ba2\u6237\u7aef\u516c\u94a5\u6570\u662f\u5426\u8fbe\u523020\u4e2a\u3002</p> <p>\u4ece\u663e\u793a\u4fe1\u606f\u53ef\u4ee5\u770b\u51fa\uff0c\u5982\u4e0b\u5ba2\u6237\u7aef\u516c\u94a5\u6570\u5df2\u8fbe\u523020\u4e2a\u3002</p> <pre><code>&lt;HUAWEI&gt; display current-configuration | include assign rsa-key\n#\nssh client 1.1.1.1 assign rsa-key 1.1.1.1\nssh client 2.2.2.2 assign rsa-key 2.2.2.2\nssh client 3.3.3.3 assign rsa-key 3.3.3.3\nssh client 4.4.4.4 assign rsa-key 4.4.4.4\nssh client 5.5.5.5 assign rsa-key 5.5.5.5\nssh client 6.6.6.6 assign rsa-key 6.6.6.6\nssh client 7.7.7.7 assign rsa-key 7.7.7.7\nssh client 8.8.8.8 assign rsa-key 8.8.8.8\nssh client 9.9.9.9 assign rsa-key 9.9.9.9 \nssh client 1.1.2.1 assign rsa-key 1.1.2.1\nssh client 1.1.3.1 assign rsa-key 1.1.3.1\nssh client 1.1.4.1 assign rsa-key 1.1.4.1\nssh client 1.1.5.1 assign rsa-key 1.1.5.1\nssh client 1.1.6.1 assign rsa-key 1.1.6.1\nssh client 1.1.7.1 assign rsa-key 1.1.7.1\nssh client 1.1.8.1 assign rsa-key 1.1.8.1\nssh client 1.1.9.1 assign rsa-key 1.1.9.1\nssh client 1.1.10.1 assign rsa-key 1.1.10.1\nssh client 1.1.11.1 assign rsa-key 1.1.11.1\nssh client 1.1.12.1 assign rsa-key 1.1.12.1\n#\n</code></pre> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u5220\u9664\u4e0d\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u516c\u94a5\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] undo ssh client 1.1.1.2 assign rsa-key\n</code></pre>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/01%20%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#2-vtyacl","title":"2. VTY\u901a\u9053\u914d\u7f6eACL\u7684\u914d\u7f6e\u89c4\u8303","text":"<p>\u5f53VTY\u4e0b\u4e0d\u914d\u7f6eACL\u65f6\u53ef\u80fd\u53d7\u5230\u5916\u90e8\u653b\u51fb\uff0c\u9020\u6210CPU\u4f7f\u7528\u7387\u9ad8\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/01%20%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#21","title":"2.1. \u5e94\u7528\u573a\u666f","text":"<p>\u7528\u6237\u901a\u8fc7Telnet\u6216\u8005SSH\u65b9\u5f0f\u767b\u5f55\u8bbe\u5907\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/01%20%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#22","title":"2.2. \u914d\u7f6e\u89c4\u8303","text":"<p>VTY\u901a\u9053\u4e2d\u901a\u8fc7\u914d\u7f6eACL\u8bbe\u7f6e\u547c\u5165\u547c\u51fa\u6743\u9650\u9650\u5236\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/01%20%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#23","title":"2.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>VTY\u901a\u9053\u4e0b\u672a\u914d\u7f6eACL\uff0c\u8bbe\u5907\u53d7\u5230\u5916\u90e8\u62a5\u6587\u653b\u51fb\u65f6\uff0c\u8bbe\u5907CPU\u4f7f\u7528\u7387\u9ad8\uff0c\u4e25\u91cd\u65f6\u4f1a\u5f71\u54cd\u4e1a\u52a1\u8fd0\u884c\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\u6267\u884c**display current-configuration**\u547d\u4ee4\uff0c\u67e5\u770bVTY\u4e0b\u9762\u662f\u5426\u6240\u6709\u901a\u9053\u90fd\u914d\u7f6e\u4e86**acl** acl-number inbound\u00a0|\u00a0outbound\u3002</p> <p>\u4ece\u663e\u793a\u4fe1\u606f\u53ef\u4ee5\u770b\u51fa\uff0cVTY 16-20\u672a\u914d\u7f6e**acl**\u00a0acl-number inbound\u00a0|\u00a0outbound\u3002 <pre><code>&lt;HUAWEI&gt; display current-configuration configuration\n#\nuser-interface vty 0 14\n acl 3100 inbound\n authentication-mode aaa\n protocol inbound ssh\nuser-interface vty 16 20 \n authentication-mode aaa\n protocol inbound ssh\n#\n</code></pre></p> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u8bf7\u6309\u7167\u914d\u7f6e\u89c4\u8303\u8fdb\u884c\u914d\u7f6e\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NQA/","title":"NQA","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NQA/#1-nqa","title":"1. NQA\u63a2\u6d4b\u5468\u671f\u914d\u7f6e\u89c4\u8303","text":"<p>NQA\u6d4b\u8bd5\u4f8b\u5468\u671f\u914d\u7f6e\u8fc7\u77ed\uff0c\u5728\u6d4b\u8bd5\u4f8b\u4e00\u8f6e\u63a2\u6d4b\u5c1a\u672a\u6267\u884c\u7ed3\u675f\uff0c\u4e0b\u4e00\u8f6e\u5c31\u5f00\u59cb\u4e86\uff0c\u5bfc\u81f4\u6d4b\u8bd5\u7ed3\u679c\u4e3ano result\uff0c\u5f71\u54cd\u5176\u4ed6\u8054\u52a8\u534f\u8bae\uff0c\u5b58\u5728\u5176\u4ed6\u534f\u8bae\u8054\u52a8NQA\u5931\u6548\u7684\u98ce\u9669\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NQA/#11","title":"1.1. \u5e94\u7528\u573a\u666f","text":"<p>NQA\u63a2\u6d4b\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NQA/#12","title":"1.2. \u914d\u7f6e\u89c4\u8303","text":"<ol> <li>\u5728NQA\u89c6\u56fe\u4e0b\uff0c\u6267\u884c stop \u547d\u4ee4\uff0c\u505c\u6b62\u6d4b\u8bd5\u4f8b\u6267\u884c\u3002</li> <li>\u5728NQA\u89c6\u56fe\u4e0b\uff0c\u6267\u884c frequency interval \u547d\u4ee4\uff0c\u914d\u7f6eNQA\u63a2\u6d4b\u5468\u671f\u3002\u9700\u786e\u4fdd\uff1a\u63a2\u6d4b\u5468\u671f&gt;\uff08\u63a2\u6d4b\u6b21\u6570-1\uff09* \u63a2\u6d4b\u95f4\u9694 + \u63a2\u6d4b\u8d85\u65f6\u65f6\u95f4\u3002</li> <li>\u5728NQA\u89c6\u56fe\u4e0b\uff0c\u6267\u884c start now \u547d\u4ee4\uff0c\u5f00\u59cb\u6267\u884c\u6d4b\u8bd5\u4f8b\u3002</li> </ol>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NQA/#13","title":"1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5728NQA\u89c6\u56fe\u4e0b\uff0c\u6267\u884c frequency interval \u547d\u4ee4\u914d\u7f6eNQA\u6d4b\u8bd5\u4f8b\u7684\u63a2\u6d4b\u5468\u671f\uff0c\u5982\u679c\u914d\u7f6e\u7684\u63a2\u6d4b\u5468\u671f&lt;\uff08\u63a2\u6d4b\u6b21\u6570-1\uff09*\u63a2\u6d4b\u95f4\u9694+\u63a2\u6d4b\u8d85\u65f6\u65f6\u95f4\uff0c\u5219\u53d1\u751f\u95ee\u9898\u65f6\u5355\u677f\u91cd\u542f\uff0cNQA\u8054\u52a8\u7684\u5176\u4ed6\u4e1a\u52a1\uff0c\u5982\u8def\u7531\u534f\u8bae\u3001VRRP\u7b49\uff0c\u4f1a\u51fa\u73b0\u8054\u52a8\u529f\u80fd\u5931\u6548\uff0c\u4ece\u800c\u5f71\u54cd\u5230\u4e1a\u52a1\u8f6c\u53d1\u3002</p> <p>\u4e1a\u52a1\u73b0\u8c61\u5982\u4e0b\uff1a</p> <p>NQA\u6d4b\u8bd5\u7ed3\u679c\u4e3ano result\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display current-configuration configuration nqa \u547d\u4ee4\u67e5\u770bNQA\u6d4b\u8bd5\u4f8b\u914d\u7f6e\u3002</p> <p>\u4ece\u663e\u793a\u4fe1\u606f\u53ef\u4ee5\u770b\u51fa\uff0cNQA\u6d4b\u8bd5\u4f8b\u7684\u63a2\u6d4b\u5468\u671f\u4e3a20\u79d2\uff0c\u63a2\u6d4b\u6b21\u6570\u4e3a5\uff0c\u63a2\u6d4b\u95f4\u9694\u4e3a6\u79d2\uff0c\u63a2\u6d4b\u8d85\u65f6\u65f6\u95f4\u4e3a4\u79d2\u3002\u63a2\u6d4b\u5468\u671f&lt; \uff08\u63a2\u6d4b\u6b21\u6570-1\uff09* \u63a2\u6d4b\u95f4\u9694 + \u63a2\u6d4b\u8d85\u65f6\u65f6\u95f4\u3002\u56e0\u6b64\u8be5\u6d4b\u8bd5\u4f8b\u63a2\u6d4b\u7ed3\u679c\u4e3a\u201cno result\u201d\u3002</p> <pre><code>&lt;HUAWEI&gt; display current-configuration configuration nqa\n#\nnqa test-instance 1 1\n test-type icmp\n destination-address ipv4 127.0.0.1\n frequency 20\n interval seconds 6\n timeout 4\n probe-count 5\n start now\n#\n</code></pre> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u8bf7\u6309\u7167\u914d\u7f6e\u89c4\u8303\u8fdb\u884c\u914d\u7f6e\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NTP/","title":"NTP","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NTP/#1-ntppreference","title":"1. NTP\u9700\u8981\u914d\u7f6epreference\u53c2\u6570\u8bbe\u7f6e\u4f18\u5148\u9009\u62e9\u7684\u670d\u52a1\u5668","text":"<p>\u901a\u8fc7 ntp-service unicast-server server-ip \u547d\u4ee4\u6307\u5b9a\u591a\u4e2a\u4e0d\u540c\u7684NTP\u670d\u52a1\u5668\u65f6\uff0c\u8981\u4e3a\u5176\u4e2d\u4e00\u4e2aNTP\u670d\u52a1\u5668\u589e\u52a0preference\u53c2\u6570\uff0c\u5c06\u5176\u8bbe\u7f6e\u4e3a\u4f18\u9009\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u907f\u514d\u672c\u8bbe\u5907\u5728\u4e0d\u540c\u7684NTP\u670d\u52a1\u5668\u4e4b\u95f4\u53cd\u590d\u9707\u8361\u5207\u6362\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NTP/#11","title":"1.1. \u5e94\u7528\u573a\u666f","text":"<p>\u5728\u7cfb\u7edf\u89c6\u56fe\u4e0b\uff0c\u6267\u884c ntp-service unicast-server server-ip \u547d\u4ee4\u6307\u5b9a\u591a\u4e2a\u4e0d\u540c\u7684NTP\u8fdc\u7aef\u670d\u52a1\u5668\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NTP/#12","title":"1.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u5728\u7cfb\u7edf\u89c6\u56fe\u4e0b\u6267\u884c ntp-service unicast-server server-ip preference \u547d\u4ee4\uff0c\u5c06\u5176\u4e2d\u4e00\u4e2a\u670d\u52a1\u5668\u8bbe\u7f6e\u4e3a\u4f18\u9009\u670d\u52a1\u5668\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NTP/#13","title":"1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53\u5728\u8fdc\u7aef\u670d\u52a1\u5668\u4e0a\u6267\u884c ntp-service unicast-server server-ip \u547d\u4ee4\uff0c\u672a\u914d\u7f6e preference \u53c2\u6570\u65f6\uff0cNTP\u5ba2\u6237\u7aef\u4f1a\u5728\u591a\u4e2a\u8fdc\u7aef\u670d\u52a1\u5668\u4e4b\u95f4\u53cd\u590d\u5207\u6362\uff0c\u5bfc\u81f4NTP\u5ba2\u6237\u7aef\u65f6\u95f4\u9891\u7e41\u53d8\u5316\uff0c\u5e76\u8bb0\u5f55\u5927\u91cf\u65e5\u5fd7\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display current-configuration configuration ntp \u547d\u4ee4\u67e5\u8be2NTP\u5ba2\u6237\u7aef\u7684\u914d\u7f6e\u3002</p> <p>\u4ece\u663e\u793a\u4fe1\u606f\u53ef\u4ee5\u770b\u51fa\uff0c\u6307\u5b9a\u7684\u8fdc\u7aef\u670d\u52a1\u5668\u4e2a\u6570\u8d85\u8fc71\u4e2a\u5e76\u4e14\u90fd\u6ca1\u6709\u914d\u7f6e preference \u53c2\u6570\u3002</p> <pre><code>&lt;HUAWEI&gt; display current-configuration configuration ntp\n#\nntp-service unicast-server 10.1.1.1\nntp-service unicast-server 10.1.1.2\n#\n</code></pre> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u8bf7\u6309\u7167\u914d\u7f6e\u89c4\u8303\u8fdb\u884c\u914d\u7f6e\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NTP/#2-ntp-md5sha56","title":"2. NTP MD5/SHA56\u8ba4\u8bc1\u914d\u7f6e\u89c4\u8303","text":"<p>NTP\u8bbe\u7f6eMD5/SHA56\u8ba4\u8bc1\u65b9\u5f0f\u5e76\u4e14\u914d\u7f6e ntp-service authentication enable \u547d\u4ee4\u540e\u5fc5\u987b\u540c\u65f6\u914d\u7f6e\u591a\u6761\u547d\u4ee4\uff0c\u5426\u5219\u65e0\u6cd5\u548cNTP\u670d\u52a1\u5668\u8fdb\u884c\u65f6\u949f\u540c\u6b65\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NTP/#21","title":"2.1. \u5e94\u7528\u573a\u666f","text":"<p>\u8bbe\u5907\u4f5c\u4e3aNTP\u5ba2\u6237\u7aef\uff0c\u5728\u7cfb\u7edf\u89c6\u56fe\u4e0b\u914d\u7f6e\u4e86 ntp-service authentication enable \u547d\u4ee4\uff0c\u4f7f\u80fdNTP\u9a8c\u8bc1\u529f\u80fd\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NTP/#22","title":"2.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u5728\u7cfb\u7edf\u89c6\u56fe\u4e0b\uff0c\u5982\u4e0b\u547d\u4ee4\u5fc5\u987b\u540c\u65f6\u914d\u7f6e\uff0c\u624d\u80fd\u4fdd\u8bc1NTP\u5ba2\u6237\u7aef\u548cNTP\u670d\u52a1\u5668\u8fdb\u884c\u65f6\u949f\u540c\u6b65\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] ntp-service authentication enable \n[HUAWEI] ntp-service reliable authentication-keyid 169 \n[HUAWEI] ntp-service unicast-server 172.0.0.1 authentication-keyid 169\n[HUAWEI] ntp-service authentication-keyid 169 authentication-mode md5 cipher Root@123\n</code></pre>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/02%20%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/NTP/#23","title":"2.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u7f3a\u5c11\u4ee5\u4e0b\u4e00\u6761\u6216\u591a\u6761\u914d\u7f6e\u65f6\uff0cNTP\u5ba2\u6237\u7aef\u65e0\u6cd5\u548c\u670d\u52a1\u5668\u8fdb\u884c\u65f6\u949f\u540c\u6b65\u3002</p> <ul> <li>ntp-service authentication-keyid key-id authentication-mode mode cipher password</li> <li>ntp-service reliable authentication-keyid key-id key-id</li> <li>ntp-service unicast-server server-ip authentication-keyid key-id\uff08\u8be5\u547d\u4ee4\u4ec5\u5ba2\u6237\u7aef\u6d89\u53ca\uff0c\u670d\u52a1\u5668\u7aef\u4e0d\u6d89\u53ca\uff09</li> </ul> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display current-configuration configuration ntp \u547d\u4ee4\u67e5\u8be2NTP\u5ba2\u6237\u7aef\u7684\u914d\u7f6e\u3002</p> <p>\u4ece\u663e\u793a\u4fe1\u606f\u53ef\u4ee5\u770b\u51fa\uff0c\u8bbe\u5907\u542f\u7528\u4e86NTP\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\uff0c\u7f3a\u5c11\u5bc6\u94a5\u7684\u914d\u7f6e\u3002</p> <pre><code>&lt;HUAWEI&gt; display current-configuration configuration ntp\n#\nntp-service authentication enable\n#\n</code></pre> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u8bf7\u6309\u7167\u914d\u7f6e\u89c4\u8303\u8fdb\u884c\u914d\u7f6e\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/","title":"BFD\u7684\u914d\u7f6e\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#1-bfd-for-lsplsp","title":"1. BFD for LSP\u4f1a\u8bdd\u62a5\u6587\u6765\u56de\u8def\u5f84\u9700\u8981\u4e00\u81f4\u624d\u80fd\u4fdd\u8bc1LSP\u8def\u5f84\u6b63\u5e38\u5207\u6362","text":"<p>\u914d\u7f6eBFD for LSP\u4f1a\u8bdd\u68c0\u6d4b\u65f6\uff0c\u4ece\u6e90\u7aef\u8bbe\u5907\u5230\u5bbf\u7aef\u8bbe\u5907\u7684LSP\u8def\u5f84\u4e0e\u56de\u7a0b\u7684LSP\u6216\u8005IP\u8def\u5f84\u4e0d\u4e00\u81f4\u3002\u56de\u7a0bLSP\u6216\u8005IP\u8def\u5f84\u6545\u969c\u65f6\uff0cBFD\u4f1a\u8bddDown\uff0c\u5bfc\u81f4LSP\u8def\u5f84\u8bef\u5207\u6362\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#11","title":"1.1. \u5e94\u7528\u573a\u666f","text":"<p>\u5982 \u56fe1-1 \u6240\u793a\uff0cRouterA\u4e0eRouterB\u4e4b\u95f4\u5b58\u5728\u4e24\u6761\u8def\u5f84\uff0c\u8def\u5f841\u548c\u8def\u5f842\u3002</p> <p>\u56fe1-1 BFD for LSP\u4f1a\u8bdd\u62a5\u6587\u6765\u56de\u8def\u5f84\u4e0d\u4e00\u81f4\u5bfc\u81f4LSP\u8def\u5f84\u8bef\u5207\u6362\u7ec4\u7f51\u56fe </p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#12","title":"1.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u5728\u7f51\u7edc\u90e8\u7f72BFD for LSP\u4f1a\u8bdd\u68c0\u6d4b\u65f6\uff1a</p> <ol> <li>\u52a8\u6001BFD for LSP\u4f1a\u8bdd\uff0c\u53ef\u4ee5\u8003\u8651\u914d\u7f6e\u8def\u7531\u7ea6\u675f\u65b9\u5f0f\uff0c\u4fdd\u8bc1\u6765\u56de\u8def\u5f84\u4e00\u81f4\uff0c\u4f8b\u5982\u4f7f\u7528\u9ad8\u4f18\u5148\u7ea7\u7684\u9759\u6001\u8def\u7531\u3002</li> <li>\u9759\u6001BFD for LSP\u4f1a\u8bdd\uff08\u4e0d\u5305\u62ecBFD for TE-LSP\uff09\uff0c\u53ef\u4ee5\u8003\u8651\u914d\u7f6e\u8def\u7531\u7ea6\u675f\u65b9\u5f0f\uff0c\u4fdd\u8bc1\u6765\u56de\u8def\u5f84\u4e00\u81f4\uff0c\u4f8b\u5982\u4f7f\u7528\u9ad8\u4f18\u5148\u7ea7\u7684\u9759\u6001\u8def\u7531\u3002</li> <li>\u9759\u6001BFD for TE-LSP\u4f1a\u8bdd\uff0c\u901a\u8fc7\u4e25\u683c\u663e\u5f0f\u8def\u5f84\u7ea6\u675fLSP\u6765\u56de\u8def\u5f84\uff0c\u4e14\u6765\u56de\u8def\u5f84\u5747\u914d\u7f6eBFD for TE-LSP\u7c7b\u578b\u4f1a\u8bdd\uff0c\u4fdd\u8bc1\u6765\u56de\u8def\u5f84\u4e00\u81f4\u3002</li> </ol>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#13","title":"1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <ol> <li>\u914d\u7f6e\u52a8\u6001BFD for LSP\u4f1a\u8bdd\u68c0\u6d4b\uff0c\u53bb\u7a0b\u8def\u5f841\u4e3aLSP\u8def\u5f84\uff0c\u56de\u7a0b\u8def\u5f842\u4e3aIP\u8def\u5f84\u3002</li> <li>\u914d\u7f6e\u9759\u6001BFD for LSP\u4f1a\u8bdd\uff08\u4e0d\u5305\u62ecBFD for TE-LSP\uff09\uff0c\u56de\u7a0b\u8def\u5f842\u4e3aLSP\u8def\u5f84\uff0c\u4e14\u4e0eRouterA\u5230RouterB\u7684LSP\u8def\u5f84\u4e0d\u5171\u8def\u3002</li> <li>\u8def\u5f841\u548c\u8def\u5f842\u90fd\u914d\u7f6eBFD for TE-LSP\u4f1a\u8bdd\uff0cRouterA\u548cRouterB\u7684\u7684TE-LSP\u6ca1\u6709\u914d\u7f6e\u4e25\u683c\u7684\u663e\u5f0f\u8def\u5f84\u3002</li> </ol> <p>\u5f53\u6ee1\u8db3\u4e0a\u8ff0\u4efb\u610f\u4e00\u4e2a\u6761\u4ef6\u65f6\uff0cBFD\u4f1a\u8bdd\u53bb\u7a0b\u548c\u56de\u7a0b\u8def\u5f84\u4e0d\u4e00\u81f4\uff0c\u56de\u7a0b\u8def\u5f84\u6545\u969c\u65f6\uff0c\u53ef\u80fd\u5bfc\u81f4\u53bb\u7a0bLSP\u8def\u5f84\u8bef\u5207\u6362\u3002</p> <p>\u4e1a\u52a1\u73b0\u8c61\u5982\u4e0b\uff1a</p> <p>BFD\u4f1a\u8bdd\u672c\u610f\u7528\u6765\u68c0\u6d4b\u8def\u5f841\uff0c\u4f46\u662f\u5f53\u8def\u5f842\u6545\u969c\u65f6\uff0c\u7531\u4e8eBFD\u56de\u7a0b\u8def\u5f84\u4e0d\u901a\uff0c\u4f1a\u8bddDown\uff0c\u89e6\u53d1\u8def\u5f841\u4e0a\u7684LSP\u8bef\u5207\u6362\u5230\u6545\u969c\u8def\u5f842\u4e0a\uff0c\u5bfc\u81f4\u4e1a\u52a1\u6d41\u91cf\u4e22\u5931\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ol> <li> <p>\u4e0b\u9762\u4ee5\u52a8\u6001BFD\u4f1a\u8bdd\u53bb\u7a0b\u4e3aLSP\u8def\u5f84\uff0c\u56de\u7a0b\u4e3aIP\u8def\u7531\u4e3a\u4f8b\u3002\u5176\u5b83\u60c5\u51b5\u7684\u5224\u65ad\u65b9\u6cd5\u8bf7\u6839\u636e\u5b9e\u9645\u7ec4\u7f51\u60c5\u51b5\u800c\u5b9a\uff0c\u5fc5\u987b\u786e\u4fddBFD\u4f1a\u8bdd\u62a5\u6587\u7684\u53bb\u7a0b\u548c\u56de\u7a0b\u8def\u5f84\u4e00\u81f4\u3002</p> </li> <li> <p>\u5728RouterA\u67e5\u8be2BFD\u4f1a\u8bdd\u90bb\u5c45\u4fe1\u606f\u3002</p> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display bfd session all verbose \u547d\u4ee4\u67e5\u770bRouterA\u5230RouterB\u7684BFD\u90bb\u5c45\u4fe1\u606f\u3002\u52a0\u7c97\u5b57\u4f53\u4e3aRouterA\u5230RouterB\u7684BFD\u4f1a\u8bdd\u7684\u90bb\u5c45\u548c\u4e0b\u4e00\u8df3\u3002</p> <pre><code>&lt;HUAWEI&gt; display bfd session all verbose\n--------------------------------------------------------------------------------\n   State : Up                    Name : dyn_16396\n--------------------------------------------------------------------------------\n   Local Discriminator    : 16396            Remote Discriminator   : 16392 \n   Session Detect Mode    : Asynchronous Mode Without Echo Function\n   BFD Bind Type          : TE_LSP \n   Bind Session Type      : Dynamic  \n   Bind Peer IP Address   : 2.2.2.2  \n   NextHop Ip Address     : 10.1.1.2        \n   ......\n</code></pre> </li> <li> <p>\u5728RouterB\u67e5\u8be2BFD\u4f1a\u8bdd\u7684\u90bb\u5c45\u4fe1\u606f\u3002</p> <p># \u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display bfd session all verbose \u547d\u4ee4\u67e5\u770bRouterB\u5230RouterA\u7684BFD\u90bb\u5c45\u4fe1\u606f\u3002\u52a0\u7c97\u5b57\u4f53\u4e3aRouterB\u5230RouterA\u7684BFD\u4f1a\u8bdd\u7684\u90bb\u5c45\u3002</p> <pre><code>&lt;HUAWEI&gt; display bfd session all verbose \n--------------------------------------------------------------------------------\n    (Multi Hop) State : Up                    Name : dyn_16392\n--------------------------------------------------------------------------------\n    Local Discriminator    : 16392            Remote Discriminator   : 16396 \n    Session Detect Mode    : Asynchronous Mode Without Echo Function\n    BFD Bind Type          : Peer IP Address  \n    Bind Session Type      : Entire_Dynamic  \n    Bind Peer IP Address   : 1.1.1.1             \n    ......\n</code></pre> </li> <li> <p>\u5728RouterB\u67e5\u8be2\u5230RouterA\u7684\u8def\u7531\u4fe1\u606f\u3002</p> <p># \u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display ip routing-table ip-address mask verbose \u547d\u4ee4\u67e5\u8be2RouterB\u5230RouterA\u7684\u8def\u7531\u4fe1\u606f\u3002\u52a0\u7c97\u5b57\u4f53\u4e3aRouterB\u5230RouterA\u7684\u8def\u7531\u4e0b\u4e00\u8df3\u3002BFD\u4f1a\u8bdd\u4eceRouterA\u5230RouterB\u7684\u4e0b\u4e00\u8df3\u4e3a10.1.1.2\uff0c\u800c\u4eceRouterB\u5230RouterA\u7684\u4e0b\u4e00\u8df3\u4e3a10.2.1.2\uff0cBFD\u4f1a\u8bdd\u62a5\u6587\u6765\u56de\u8def\u5f84\u4e0d\u4e00\u81f4\u3002</p> <pre><code>&lt;HUAWEI&gt; display ip routing-table 1.1.1.1 32 verbose\nRoute Flags: R - relay, D - download to fib, T - to vpn-instance, B - black hole route\n------------------------------------------------------------------------------\nRouting Table : _public_\nSummary Count : 1\nDestination: 1.1.1.1/32          \n    Protocol: ISIS-L2         Process ID: 1              \n    Preference: 15                    Cost: 10             \n    NextHop: 10.2.1.2         Neighbour: 0.0.0.0        \n    State: Inactive Adv           Age: 1d04h15m09s         \n        Tag: 0                 Priority: high           \n    Label: NULL               QoSInfo: 0x0           \n    IndirectID: 0xE600087A    \nRelayNextHop: 0.0.0.0          Interface: GigabitEthernet0/5/5\n    TunnelID: 0x0                  Flags:   \n</code></pre> </li> </ol> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u8bf7\u6309\u7167\u914d\u7f6e\u89c4\u8303\u8fdb\u884c\u914d\u7f6e\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#2-bfd","title":"2. \u9759\u6001BFD\u4e24\u7aef\u8bbe\u5907\u914d\u7f6e\u5bf9\u79f0\u5b9e\u73b0\u6d41\u91cf\u4e0d\u4e2d\u65ad","text":"<p>\u914d\u7f6e\u9759\u6001BFD\u4f1a\u8bdd\u68c0\u6d4b\uff0c\u4e24\u7aef\u8bbe\u5907\u914d\u7f6e\u4e0d\u5bf9\u79f0\u5bfc\u81f4\u4e1a\u52a1\u5207\u6362\u884c\u4e3a\u4e0d\u4e00\u81f4\uff0c\u6d41\u91cf\u4e2d\u65ad\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#21","title":"2.1. \u5e94\u7528\u573a\u666f","text":"<p>\u5982 \u56fe1-2 \u6240\u793a\uff0c\u914d\u7f6e\u9759\u6001BFD\u4f1a\u8bdd\u68c0\u6d4bRouterA\u548cRouterB\u4e4b\u95f4\u7684\u94fe\u8def\u3002</p> <p>\u56fe1-2 \u9759\u6001BFD\u4e24\u7aef\u8bbe\u5907\u914d\u7f6e\u4e0d\u5bf9\u79f0\u5bfc\u81f4\u6d41\u91cf\u4e2d\u65ad\u7ec4\u7f51\u56fe </p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#22","title":"2.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u5728\u5bf9\u79f0\u7684\u9759\u6001BFD\u4f1a\u8bdd\u4e0a\u914d\u7f6e\u5bf9\u79f0\u7684\u672c\u5730\u884c\u4e3a\u53c2\u6570\uff1a</p> <ul> <li>\u4e24\u7aef\u8bbe\u5907\u5206\u522b\u5728BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\u6267\u884c wtr wtr-value \u547d\u4ee4\u914d\u7f6e\u76f8\u540c\u7684\u7b49\u5f85\u6062\u590d\u65f6\u95f4\u3002</li> <li>\u4e24\u7aef\u8bbe\u5907\u5206\u522b\u5728BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\u6267\u884c process-interface-status \u547d\u4ee4\u914d\u7f6e\u5f53\u524dBFD\u4f1a\u8bdd\u4e0e\u5176\u7ed1\u5b9a\u7684\u63a5\u53e3\u8fdb\u884c\u72b6\u6001\u8054\u52a8\u3002</li> <li>\u4e24\u7aef\u8bbe\u5907\u5206\u522b\u5728BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\u6267\u884c process-pst \u547d\u4ee4\u914d\u7f6e\u5141\u8bb8BFD\u4f1a\u8bdd\u4fee\u6539\u7aef\u53e3\u72b6\u6001\u8868PST\u3002</li> </ul>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#23","title":"2.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53\u4e0d\u6ee1\u8db3\u914d\u7f6e\u89c4\u8303\u7684\u4efb\u610f\u4e00\u4e2a\u6761\u4ef6\u65f6\uff0c\u4e24\u7aef\u4e1a\u52a1\u5207\u6362\u884c\u4e3a\u4e0d\u4e00\u81f4\uff0c\u6d41\u91cf\u4e2d\u65ad\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ol> <li> <p>\u67e5\u8be2\u9759\u6001BFD\u4f1a\u8bdd\u7684**wtr** *wtr-value*\u4fe1\u606f\u3002</p> <p># \u5728RouterA\u7684BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display this \u547d\u4ee4\u8fdb\u884c\u67e5\u8be2\u3002 discriminator local \u5fc5\u987b\u8981\u6c42\u4e0eRouterB\u4e0a\u8fdc\u7aef\u63cf\u8ff0\u7b26\u5339\u914d\u3002RouterA\u914d\u7f6e\u4e86wtr\u4e14\u65f6\u95f4\u4e3a2\u5206\u949f\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd session a\n[HUAWEI-bfd-session-a] display this\n#\nbfd a bind peer-ip 10.1.1.2\n    discriminator local 1  \n    discriminator remote 2\n    wtr 2 \n    commit\n#\nreturn\n</code></pre> <p># \u5728RouterB\u7684BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display this \u547d\u4ee4\u8fdb\u884c\u67e5\u8be2\u3002 discriminator local \u5fc5\u987b\u4e0eRouterA\u4e0a\u8fdc\u7aef\u63cf\u8ff0\u7b26\u5339\u914d\u3002RouterB\u6ca1\u6709\u914d\u7f6ewtr\uff0c\u4e0eRouterA\u914d\u7f6e\u4e0d\u4e00\u81f4\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd session a\n[HUAWEI-bfd-session-a] display this\n#\nbfd a bind peer-ip 10.1.1.1\n    discriminator local 2\n    discriminator remote 1  \n    commit\n#\nreturn\n</code></pre> </li> <li> <p>\u67e5\u8be2\u9759\u6001\u7ec4\u64adBFD\u4f1a\u8bdd\u7684\u4e24\u7aef\u8bbe\u5907 process-interface-status \u4fe1\u606f\u3002</p> <p># \u5728RouterA\u7684BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display this \u547d\u4ee4\u8fdb\u884c\u67e5\u8be2\u3002 discriminator local \u5fc5\u987b\u4e0eRouterB\u4e0a\u8fdc\u7aef\u63cf\u8ff0\u7b26\u76f8\u5339\u914d\u3002RouterA\u914d\u7f6e\u4e86\u7aef\u53e3\u8054\u52a8\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd session a\n[HUAWEI-bfd-session-a] display this\n#\nbfd a bind peer-ip default-ip interface GigabitEthernet1/0/0\n    discriminator local 11  \n    discriminator remote 12\n    process-interface-status  \n    commit\n#\nreturn\n</code></pre> <p># \u5728RouterB\u7684BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display this \u547d\u4ee4\u8fdb\u884c\u67e5\u8be2\u3002 discriminator local \u5fc5\u987b\u4e0eRouterA\u4e0a\u8fdc\u7aef\u63cf\u8ff0\u7b26\u76f8\u5339\u914d\u3002RouterB\u6ca1\u6709\u914d\u7f6e\u7aef\u53e3\u8054\u52a8\uff0c\u4e0eRouterA\u914d\u7f6e\u4e0d\u4e00\u81f4\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd session a\n[HUAWEI-bfd-session-a] display this\n#\nbfd a bind peer-ip default-ip interface GigabitEthernet1/0/0\n    discriminator local 12\n    discriminator remote 11  \n    commit\n#\nreturn\n</code></pre> </li> <li> <p>\u67e5\u8be2\u7684\u9759\u6001BFD\u4f1a\u8bdd\u7684\u4e24\u7aef**process-pst**\u4fe1\u606f\u3002</p> <p># \u5728RouterA\u7684BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display this \u547d\u4ee4\u8fdb\u884c\u67e5\u8be2\u3002 discriminator local \u5fc5\u987b\u4e0eRouterB\u4e0a\u8fdc\u7aef\u63cf\u8ff0\u7b26\u76f8\u5339\u914d\u3002RouterA\u914d\u7f6e\u4e86pst\u8054\u52a8\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd session a\n[HUAWEI-bfd-session-a] display this\n#\nbfd a bind peer-ip 10.1.1.2 interface GigabitEthernet1/0/0\n    discriminator local 11  \n    discriminator remote 12\n    process-pst \n    commit\n#\nreturn\n</code></pre> <p># \u5728RouterB\u7684BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display this \u547d\u4ee4\u8fdb\u884c\u67e5\u8be2\u3002**discriminator local**\u5fc5\u987b\u4e0eRouterA\u4e0a\u8fdc\u7aef\u63cf\u8ff0\u7b26\u76f8\u5339\u914d\u3002RouterB\u6ca1\u6709\u914d\u7f6epst\u8054\u52a8\uff0c\u4e0eRouterA\u914d\u7f6e\u4e0d\u4e00\u81f4\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd session a\n[HUAWEI-bfd-session-a] display this\n#\nbfd a bind peer-ip 10.1.1.1 interface GigabitEthernet1/0/0\n    discriminator local 12\n    discriminator remote 11 \n    commit\n#\nreturn\n</code></pre> </li> </ol> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u8bf7\u6309\u7167\u914d\u7f6e\u89c4\u8303\u8fdb\u884c\u914d\u7f6e\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#3-bfd","title":"3. BFD\u63cf\u8ff0\u7b26\u914d\u7f6e\u89c4\u8303","text":"<p>\u914d\u7f6e\u9759\u6001BFD\u4f1a\u8bdd\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u8def\u7531\u76f8\u4e92\u53ef\u8fbe\u7684\u7f51\u7edc\u8bbe\u5907\u4e0a\u5f88\u53ef\u80fd\u51fa\u73b0\u914d\u7f6e\u7684BFD\u4f1a\u8bdd\u8fdc\u7aef\u63cf\u8ff0\u7b26\u51b2\u7a81\uff0c\u5bfc\u81f4BFD\u4f1a\u8bdd\u9707\u8361\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#31","title":"3.1. \u5e94\u7528\u573a\u666f","text":"<p>\u5982 \u56fe1-3 \u6240\u793a\uff0c\u914d\u7f6e\u9759\u6001BFD\u4f1a\u8bdd\u68c0\u6d4b\u7f51\u7edc\u4e0a\u4e24\u4e2a\u7f51\u7edc\u8282\u70b9RouterA\u548cRouterB\u95f4\u94fe\u8def\u3002</p> <p>\u56fe1-3 BFD\u63cf\u8ff0\u7b26\u914d\u7f6e\u51b2\u7a81\u5bfc\u81f4BFD\u4f1a\u8bdd\u5468\u671f\u6027\u9707\u8361\u7ec4\u7f51\u56fe </p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#32","title":"3.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u5728\u90e8\u7f72\u7f51\u7edcBFD\u4f1a\u8bdd\u68c0\u6d4b\u65f6\uff0c\u63cf\u8ff0\u7b26\u9700\u8981\u7edf\u4e00\u89c4\u5212\uff0c\u907f\u514d\u51b2\u7a81\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#33","title":"3.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <ol> <li>RouterB\u914d\u7f6e\u9759\u6001BFD\u548cRouterA\u5efa\u7acb\u4f1a\u8bdd\uff0c\u5e76\u5728BFD\u89c6\u56fe\u4e0b\u6267\u884c**discriminator** local discr-value \u547d\u4ee4\u914d\u7f6e\u672c\u5730\u63cf\u8ff0\u7b26\u4e3aa\uff1b</li> <li>RouterC\u4e0a\u914d\u7f6e\u4e00\u4e2a\u9759\u6001BFD\u4f1a\u8bdd\uff0c\u5e76\u5728BFD\u89c6\u56fe\u4e0b\u6267\u884c**discriminator** remote discr-value \u547d\u4ee4\u914d\u7f6e\u5176\u8fdc\u7aef\u63cf\u8ff0\u7b26\u4e5f\u4e3aa\u3002</li> </ol> <p>\u5f53\u6ee1\u8db3\u4e0a\u8ff0\u6761\u4ef6\u65f6\uff0cBFD\u4f1a\u8bdd\u5468\u671f\u6027\u9707\u8361\uff0c\u5f15\u8d77\u7ed1\u5b9aBFD\u4f1a\u8bdd\u7684\u4e1a\u52a1\u9707\u8361\u3002</p> <p>\u4e1a\u52a1\u73b0\u8c61\u5982\u4e0b\uff1a</p> <p>BFD\u4f1a\u8bdd\u4f1a\u5468\u671f\u6027\u9707\u8361\uff0c\u4e14\u67e5\u770b\u4e24\u7aef\u8bbe\u5907\u4e2dBFD\u4f1a\u8bddDown\u7684\u539f\u56e0\u90fd\u662f\u56e0\u4e3a\u90bb\u5c45Down\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ol> <li> <p>\u67e5\u8be2\u5df2\u7ecf\u914d\u7f6e\u7684\u9759\u6001BFD\u4f1a\u8bdd\u7684\u4e24\u7aef\u914d\u7f6e\u4fe1\u606f\u3002</p> <p># \u5728RouterB\u7684BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\uff0c\u6267\u884c**display this**\u547d\u4ee4\u3002discriminator local \u5fc5\u987b\u4e0eRouterA\u4e0a\u8fdc\u7aef\u63cf\u8ff0\u7b26\u76f8\u5339\u914d\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd session a\n[HUAWEI-bfd-session-a] display this\n#\nbfd a bind peer-ip 10.1.1.2\n    discriminator local 1  \n    discriminator remote 2\n    commit\n#\nreturn\n</code></pre> <p># \u5728RouterA\u7684BFD\u4f1a\u8bdd\u89c6\u56fe\u4e0b\uff0c\u6267\u884c**display this**\u547d\u4ee4\u3002discriminator local \u5fc5\u987b\u4e0eRouterB\u4e0a\u8fdc\u7aef\u63cf\u8ff0\u7b26\u76f8\u5339\u914d\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd session a\n[HUAWEI-bfd-session-a] display this\n#\nbfd a bind peer-ip 10.1.1.1\n    discriminator local 2\n    discriminator remote 1  \n    commit\n#\nreturn\n</code></pre> </li> <li> <p>\u67e5\u8be2BFD\u4f1a\u8bdd\u7684\u8be6\u7ec6\u4fe1\u606f\u3002</p> <p># \u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c**display bfd session all verbose** \u547d\u4ee4\u67e5\u8be2RouterA\u7684\u4f1a\u8bdd\u8be6\u7ec6\u4fe1\u606f\u3002BFD\u4f1a\u8bdd\u90bb\u5c45\u72b6\u6001\u4e3aDown\u3002</p> <pre><code>&lt;HUAWEI&gt; display bfd session all verbose \n--------------------------------------------------------------------------------\n    (Multi Hop) State : Down                  Name : a\n--------------------------------------------------------------------------------\n    Local Discriminator    : 1                Remote Discriminator   : 2 \n    Session Detect Mode    : Asynchronous Mode Without Echo Function\n    BFD Bind Type          : Peer IP Address  \n\n\n    Active Multi           : -                  \n    Last Local Diagnostic  : Neighbor Signaled Session Down\n    \u2026\u2026\n</code></pre> <p># \u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c**display bfd session all verbose** \u547d\u4ee4\u67e5\u8be2RouterB\u7684\u4f1a\u8bdd\u8be6\u7ec6\u4fe1\u606f\u3002BFD\u4f1a\u8bdd\u90bb\u5c45\u72b6\u6001\u4e3aDown\u3002</p> <pre><code>&lt;HUAWEI&gt; display bfd session all verbose \n--------------------------------------------------------------------------------\n    (Multi Hop) State : Down                  Name : a\n--------------------------------------------------------------------------------\n    Local Discriminator    : 2                Remote Discriminator   : 1 \n    Session Detect Mode    : Asynchronous Mode Without Echo Function\n    BFD Bind Type          : Peer IP Address  \n\n\n    Active Multi           : -                  \n    Last Local Diagnostic  : Neighbor Signaled Session Down\n\u2026\u2026\n</code></pre> </li> <li> <p>\u67e5\u8be2\u7f51\u7edc\u4e2d\u5176\u4ed6\u8bbe\u5907\u4e0a\u7684BFD\u4f1a\u8bdd\u914d\u7f6e\u3002</p> <p># \u7f51\u7edc\u4e2d\u4e0eRouterA\u548cRouterB\u6709\u8def\u7531\u8fde\u63a5\u7684\u5176\u4ed6\u8bbe\u5907\uff08RouterC\uff09\u4e0a\uff0c\u5728\u7528\u6237\u89c6\u56fe\u4e0b\u6267\u884c**display current-configuration configuration bfd-session**\u547d\u4ee4\u67e5\u8be2\u7f51\u7edc\u4e2d\u7684\u5176\u4ed6\u8bbe\u5907\u4e0a\u662f\u5426\u5b58\u5728\u672c\u5730\u63cf\u8ff0\u7b26\u51b2\u7a81\u7684BFD\u4f1a\u8bdd\u3002**discriminator remote**\u4e0eB\u8bbe\u5907\u4e0a\u8fdc\u7aef\u63cf\u8ff0\u7b26\u51b2\u7a81\u3002</p> <pre><code>&lt;HUAWEI&gt; display current-configuration configuration bfd-session \n#\nbfd a bind peer-ip 20.1.1.1\n    discriminator local 5\n    discriminator remote 1  \n    commit\n#\nreturn\n</code></pre> </li> </ol> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u4fee\u6539RouterC\u4e0a\u7684BFD\u4f1a\u8bdd\u7684\u8fdc\u7aef\u63cf\u8ff0\u7b26\u4e3a\u5176\u4ed6\u503c\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#4-bfd-for-cr-lsp","title":"4. \u9759\u6001BFD for CR-LSP\u96a7\u9053\u5f80\u8fd4\u8def\u5f84\u9700\u8981\u4fdd\u6301\u4e00\u81f4\u624d\u80fd\u5b9e\u73b0\u4e1a\u52a1\u6b63\u5e38\u5207\u6362","text":"<p>\u9759\u6001BFD\u68c0\u6d4bCR-LSP\u65f6\uff0c\u5982\u679c\u5f80\u8fd4\u8def\u5f84\u4e0d\u4e00\u81f4\uff0c\u53ef\u80fd\u5bfc\u81f4BFD\u68c0\u6d4bDown\uff0c\u89e6\u53d1\u4e1a\u52a1\u8bef\u5207\u6362\uff0c\u53ef\u80fd\u5bfc\u81f4\u4e1a\u52a1\u4e2d\u65ad\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#41","title":"4.1. \u5e94\u7528\u573a\u666f","text":"<p>\u914d\u7f6e\u9759\u6001BFD for CR-LSP\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#42","title":"4.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u914d\u7f6e\u9759\u6001BFD for CR-LSP\u65f6\uff0c\u914d\u7f6e\u5f80\u8fd4TE\u96a7\u9053\u7684\u663e\u793a\u8def\u5f84\u4e00\u81f4\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#43","title":"4.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53\u9759\u6001BFD\u68c0\u6d4b\u7684CR-LSP\u5f80\u8fd4\u8def\u5f84\u4e0d\u4e00\u81f4\u65f6\uff0cBFD\u68c0\u6d4b\u53ef\u80fdDown\uff0c\u68c0\u6d4b\u7ed3\u679c\u4e0d\u80fd\u53cd\u6620\u5b9e\u9645\u7684CR-LSP\u7684\u8fde\u901a\u6027\u3002</p> <p>\u4e1a\u52a1\u73b0\u8c61\u5982\u4e0b\uff1a</p> <p>BFD\u68c0\u6d4bDown\uff0c\u89e6\u53d1\u4e1a\u52a1\u8bef\u5207\u6362\uff0c\u53ef\u80fd\u5bfc\u81f4\u4e1a\u52a1\u4e2d\u65ad\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ol> <li> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c**display current-configuration** **bfd-session**\u547d\u4ee4\uff0c\u67e5\u770bBFD\u914d\u7f6e\u3002</p> <p>\u7531\u663e\u793a\u4fe1\u606f\u53ef\u4ee5\u770b\u51fa\uff0cTunnel0/0/27\u7684\u4e3bLSP\u672c\u5730\u6807\u8bc6\u7b26\u4e3alocal1\uff0c\u8fdc\u7aef\u6807\u8bc6\u7b26\u4e3aremote2\uff1bTunnel0/0/27\u7684\u5907LSP\u672c\u5730\u6807\u8bc6\u7b26\u4e3alocal3\uff0c\u8fdc\u7aef\u6807\u8bc6\u7b26\u4e3aremote4\u3002</p> <pre><code>&lt;HUAWEI&gt; display current-configuration configuration bfd-session\n#\nbfd tunnel1 bind mpls-te interface Tunnel0/0/27 te-lsp   \n    discriminator local 1\n    discriminator remote 2 \n    process-pst\n    commit\n#\nbfd tunnel1-back bind mpls-te interface Tunnel0/0/27 te-lsp backup \n    discriminator local 3 \n    discriminator remote 4\n    process-pst\n    commit\n#\nreturn\n</code></pre> </li> <li> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c**display current-configuration** **interface Tunnel**\u547d\u4ee4\uff0c\u67e5\u770bTE\u96a7\u9053\u914d\u7f6e\u3002</p> <p>\u7531\u663e\u793a\u4fe1\u606f\u53ef\u4ee5\u770b\u51fa\uff0c\u96a7\u9053\u76ee\u7684\u5730\u5740\u4e3a**192.168.1.1**\uff0c\u4e3bLSP\u7684\u663e\u793a\u8def\u5f84\u4e3a**main-to-devicea**\uff0c\u5907LSP\u7684\u663e\u793a\u8def\u5f84\u4e3a**backup-to-devicea**\u3002</p> <pre><code>&lt;HUAWEI&gt; display current-configuration interface Tunnel 0/0/27\n#\ninterface Tunnel0/0/27\n    description huawei\n    mtu 1600\n    ip address unnumbered interface LoopBack1\n    tunnel-protocol mpls te\n    destination 192.168.1.1 \n    mpls te tunnel-id 27\n    mpls te record-route label\n    mpls te path explicit-path main-to-devicea\n    mpls te path explicit-path backup-to-devicea secondary\n    mpls te backup hot-standby mode revertive wtr 60 \n    mpls te backup ordinary best-effort \n    mpls te igp shortcut\n    mpls te igp metric absolute 10\n    mpls te commit\n    isis enable 100\n    statistic enable #\nreturn\n</code></pre> </li> <li> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c**display mpls te tunnel-interface** *tunnel-name*\u547d\u4ee4\uff0c\u67e5\u770b\u96a7\u9053\u7684\u4e09\u5143\u7ec4\u4fe1\u606f\u3002</p> <p>\u7531\u663e\u793a\u4fe1\u606f\u53ef\u4ee5\u770b\u51fa\uff0cTunnel 0/0/27\u7684Session ID\u4e3a27\uff0cIngress LSR ID\u4e3a192.168.1.2\uff0c\u4e3bLSP ID\u4e3a3\uff0c\u5907LSP ID\u4e3a32772\u3002</p> <pre><code>&lt;HUAWEI&gt; display mpls te tunnel-interface Tunnel 0/0/27\n----------------------------------------------------------------\n                        Tunnel0/0/27\n----------------------------------------------------------------\n    Tunnel State Desc   :  UP\n    Active LSP          :  Primary LSP\n    Session ID          :  27 \n    Ingress LSR ID    :  192.168.1.2    Egress LSR ID:  192.168.1.1\n    Admin State         :  UP               Oper State   :  UP\n    Primary LSP State      : UP\n    Main LSP State       : READY               LSP ID  : 3 \n    Hot-Standby LSP State  : UP\n    Main LSP State       : READY               LSP ID  : 32772 \n</code></pre> </li> <li> <p>\u67e5\u8be2\u96a7\u9053\u5b9e\u9645\u7ecf\u8fc7\u7684\u8def\u5f84\u3002\u67e5\u8be2\u5230\u7684\u8def\u5f84\u7528\u4e8e\u540e\u9762\u548c\u5bf9\u7aef\u8bbe\u5907\u67e5\u8be2\u7684\u8def\u5f84\u8fdb\u884c\u6bd4\u8f83\u3002</p> <p>\u6267\u884c**display current-configuration** interface tunnel 0/0/27**\u547d\u4ee4\uff0c\u67e5\u770b\u662f\u5426\u914d\u7f6e\u4e86**mpls te record-route\uff08\u6216**mpls te record-route label**\uff09\uff0c\u5982\u679c\u914d\u7f6e\u4e86\uff0c\u6267\u884c**display mpls te tunnel path** lsp-id ingress-lsr-id session-id *local-lsp-id*\u547d\u4ee4\uff0c\u67e5\u8be2\u96a7\u9053\u5b9e\u9645\u7ecf\u8fc7\u7684\u8def\u5f84\u3002</p> <p>\u5426\u5219\uff0c\u6267\u884c**tracert lsp te** **tunnel***interface-number* \u547d\u4ee4\u67e5\u8be2\u3002</p> <pre><code>&lt;HUAWEI&gt; display mpls te tunnel path lsp-id 192.168.1.2 27 3\n    Tunnel Interface Name : Tunnel0/0/27\n    Lsp ID : 192.168.1.2 :27 :3 \n    Hop Information \n    Hop 0   192.168.1.2 \n    Hop 1   100.0.2.7 \n    Hop 2   100.0.2.8 \n    Hop 3   192.168.1.1\n\n&lt;HUAWEI&gt; tracert lsp te Tunnel 0/0/27\n    LSP Trace Route FEC: TE TUNNEL IPV4 SESSION QUERY Tunnel0/0/1, press CTRL_C to break.\n    TTL   Replier            Time    Type      Downstream \n    0                                Ingress   192.168.1.2/[3 ]\n    1     192.168.1.1       32 ms   Egress \n</code></pre> </li> <li> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u4f7f\u7528\u547d\u4ee4\u884c**display explicit-path** path-name\uff0c\u67e5\u770b\u96a7\u9053\u7684\u663e\u5f0f\u8def\u5f84\u914d\u7f6e\u3002</p> <ul> <li>\u5982\u679c\u8bbe\u5907\u4e0a\u6ca1\u6709\u914d\u7f6e\u663e\u5f0f\u8def\u5f84\u6216\u96a7\u9053\u914d\u7f6e\u4e2d\u6ca1\u6709\u4f7f\u7528\u663e\u5f0f\u8def\u5f84\uff0c\u5efa\u8bae\u914d\u7f6e\u4e25\u683c\u663e\u5f0f\u8def\u5f84\u5e76\u5728\u96a7\u9053\u4e0b\u914d\u7f6e\u4f7f\u7528\u3002</li> <li>\u5982\u679c\u914d\u7f6e\u7684\u663e\u5f0f\u8def\u5f84\u4e0e\u96a7\u9053\u5b9e\u9645\u7ecf\u8fc7\u7684\u8def\u5f84\u76f8\u6bd4\uff0c\u7f3a\u5c11\u67d0\u4e9b\u8df3\uff0c\u5efa\u8bae\u4fee\u6539\u663e\u5f0f\u8def\u5f84\u7684\u914d\u7f6e\uff0c\u5c06\u5176\u8865\u5145\u5b8c\u6574\u3002</li> <li>\u5982\u679c\u663e\u5f0f\u8def\u5f84\u914d\u7f6e\u4e3a\u677e\u6563\u6a21\u5f0f\uff0c\u5efa\u8bae\u4fee\u6539\u4e3a\u4e25\u683c\u6a21\u5f0f\uff0c\u5e76\u5c06\u8def\u5f84\u8865\u5145\u5b8c\u6574\u3002</li> </ul> <pre><code>&lt;HUAWEI&gt; display explicit-path main-to-devicea\n1      62.231.253.26       Strict      Include                       \n2      62.231.253.166      Strict      Include                       \n3      62.231.253.77       Strict      Include\n4      62.231.253.133      Strict      Include                       \n5      62.231.253.53       Strict      Include \n\n&lt;HUAWEI&gt; display explicit-path backup-to-devicea\n1      62.231.253.162      Strict      Include                       \n2      62.231.253.73       Strict      Include                       \n3      62.231.253.129      Strict      Include \n</code></pre> </li> <li> <p>\u6839\u636eTE\u96a7\u9053\u76ee\u7684\u5730\u5740\uff08192.168.1.1\uff09\uff0c\u627e\u5230TE\u96a7\u9053\u5c3e\u8282\u70b9\u7684\u8bbe\u5907\u3002\u5728TE\u96a7\u9053\u5c3e\u8282\u70b9\u8bbe\u5907\u4e0a\uff0c\u6839\u636e\u5934\u8282\u70b9\u9759\u6001BFD for CR-LSP\u7684\u6807\u793a\u7b26\uff0c\u627e\u5230\u9759\u6001BFD for CR-LSP\u4fe1\u606f\u3002</p> <p>\u7528\u6237\u89c6\u56fe\u4e0b\u6267\u884c**display bfd configuration** discriminator local-discr-value **verbose**\u547d\u4ee4\uff0c\u5176\u4e2d\u53c2\u6570*local-discr-value*\u6307\u5b9a\u5934\u8282\u70b9\u9759\u6001BFD for CR-LSP\u4f1a\u8bdd\u4e2dRemote Discriminator\u7684\u503c\uff082\uff09\uff0c\u627e\u5230\u5bf9\u5e94TE\u96a7\u9053(Tunnel0/0/28)\u3002</p> <pre><code>&lt;HUAWEI&gt; display bfd configuration discriminator 2 verbose\n--------------------------------------------------------------------------------\n    BFD Session Configuration Name : to_3           \n--------------------------------------------------------------------------------\n    Local Discriminator    : 2              Remote Discriminator   : 1       \n    BFD Bind Type          : TE_LSP                                              \n    Bind Session Type      : Static                                              \n    Bind Interface         : Tunnel0/0/28    TE LSP Type            : Primary   \n    TOS-EXP                : 7                Local Detect Multi     : 3         \n    Min Tx Interval (ms)   : 10              Min Rx Interval (ms)   : 10       \n    WTR Interval (ms)      : -                Process PST            : Enable    \n    Proc Interface Status  : Disable                                             \n    Bind Application       : LSPM | L2VPN \n    Session Description    : -                                                   \n--------------------------------------------------------------------------------    \n</code></pre> </li> <li> <p>\u5728TE\u96a7\u9053\u5c3e\u8282\u70b9\u8bbe\u5907\u4e0a\uff0c\u9488\u5bf9\u4e0a\u4e00\u6b65\u83b7\u53d6\u5230\u7684\u96a7\u9053\u540d\u79f0\uff08\u5982\u4f8b\u5b50\u4e2d\u7684Tunnel0/0/28\uff09\uff0c\u6839\u636e\u4e0a\u8ff0\u6b65\u9aa4\uff0c\u627e\u51fa\u8be5\u96a7\u9053\u5b9e\u9645\u7ecf\u8fc7\u7684\u8def\u5f84\uff0c\u5e76\u4e0e\u67e5\u5230Tunnel0/0/28\u8def\u5f84\u8fdb\u884c\u6bd4\u8f83\u3002</p> </li> </ol> <p>\u5982\u679c\u4e00\u81f4\uff08\u65b9\u5411\u76f8\u53cd\uff09\uff0c\u5219\u4e0d\u5b58\u5728\u95ee\u9898\u3002\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5219\u8bf4\u660e\u5f80\u8fd4\u8def\u5f84\u4e0d\u4e00\u81f4\u3002</p> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u4fee\u6539\u663e\u5f0f\u8def\u5f84\uff0c\u5c06\u96a7\u9053\u5b9e\u9645\u7ecf\u8fc7\u7684\u8def\u5f84\u8c03\u6574\u4e3a\u4e0eTE\u96a7\u9053\u5934\u8282\u70b9\u4e0a\u5bf9\u5e94\u96a7\u9053\u7684\u8def\u5f84\u4e00\u81f4\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#5-bfd","title":"5. \u5185\u5c42\u94fe\u8def\u7684BFD\u68c0\u6d4b\u95f4\u9694\u5e94\u5c0f\u4e8e\u5916\u5c42\u94fe\u8def\u7684\u68c0\u6d4b\u95f4\u9694","text":"<p>\u591a\u5c42\u4fdd\u62a4\u573a\u666f\u4e0b\uff0c\u5982\u679c\u5185\u5c42\u94fe\u8def\u7684BFD\u68c0\u6d4b\u95f4\u9694\u5927\u4e8e\u5916\u5c42\u94fe\u8def\u7684\u68c0\u6d4b\u95f4\u9694\uff0c\u5f53\u5916\u5c42\u94fe\u8def\u611f\u77e5\u6545\u969c\u65f6\uff0c\u5185\u5c42\u4fdd\u62a4\u5c1a\u672a\u5207\u6362\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#51","title":"5.1. \u5e94\u7528\u573a\u666f","text":"<p>\u914d\u7f6e\u4e86\u591a\u5c42\u4fdd\u62a4\u7684\u573a\u666f\u3002\u4f8b\u5982\uff0c\u914d\u7f6eBFD for RSVP\u3001BFD for CR-LSP\u6216BFD for TE\u7684\u573a\u666f\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#52","title":"5.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u5728\u7f51\u7edc\u90e8\u7f72BFD\u4f1a\u8bdd\u68c0\u6d4b\u65f6\uff0c\u5b58\u5728\u591a\u5c42\u4fdd\u62a4\u573a\u666f\u60c5\u51b5\u4e0b\uff0c\u5bf9BFD\u68c0\u6d4b\u95f4\u9694\u7684\u914d\u7f6e\u9075\u5faa\u5185\u5c42\u5c0f\u5916\u5c42\u5927\u7684\u539f\u5219\u3002</p> <p>\u4e0d\u540c\u573a\u666f\u4e0b\uff0cBFD\u68c0\u6d4b\u95f4\u9694\u7684\u914d\u7f6e\u4e0d\u540c\u3002\u4f8b\u5982\uff1a</p> <ul> <li>BFD for RSVP\u573a\u666f\uff1a\u8bf7\u53c2\u89c1\uff08\u53ef\u9009\uff09\u8c03\u6574BFD\u68c0\u6d4b\u53c2\u6570\u3002</li> <li>\u9759\u6001BFD for CR-LSP\u573a\u666f\uff1a\u8bf7\u53c2\u89c1\u914d\u7f6e\u5165\u8282\u70b9BFD\u53c2\u6570\u548c\u914d\u7f6e\u51fa\u8282\u70b9BFD\u53c2\u6570\u3002</li> <li>\u52a8\u6001BFD for CR-LSP\u573a\u666f\uff1a\u8bf7\u53c2\u89c1\uff08\u53ef\u9009\uff09\u8c03\u6574\u5165\u8282\u70b9\u7684BFD\u68c0\u6d4b\u53c2\u6570\u3002</li> <li>BFD for TE\u573a\u666f\uff1a\u8bf7\u53c2\u89c1\u914d\u7f6e\u5165\u8282\u70b9BFD\u53c2\u6570\u548c\u914d\u7f6e\u51fa\u8282\u70b9BFD\u53c2\u6570\u3002</li> </ul>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#53","title":"5.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u591a\u5c42\u4fdd\u62a4\u573a\u666f\u4e0b\uff0c\u5185\u5c42\u94fe\u8def\u7684BFD\u68c0\u6d4b\u95f4\u9694\u5927\u4e8e\u5916\u5c42\u94fe\u8def\u7684\u68c0\u6d4b\u95f4\u9694\uff0c\u5f53Tunnel\u51fa\u73b0\u6545\u969c\u65f6\uff0c\u68c0\u6d4b\u5916\u5c42Tunnel\u7684BFD\u4f1a\u8bdd\u7531\u4e8e\u68c0\u6d4b\u95f4\u9694\u5c0f\uff0c\u5219\u5148\u611f\u77e5\u5230\u94fe\u8def\u6545\u969c\uff0c\u901a\u77e5Tunnel\u4e1a\u52a1\u505a\u4fdd\u62a4\u5207\u6362\uff0c\u56e0\u6b64\u6d6a\u8d39\u4e86\u5185\u5c42\u7684\u68c0\u6d4bLSP\u7684\u4fdd\u62a4\u5207\u6362\u3002</p> <p>\u5185\u5c42\u4fdd\u62a4\u673a\u5236\u6d6a\u8d39\u3001\u6574\u4f53\u5207\u6362\u65b9\u6848\u9000\u5316\u4e3a\u53ea\u5269\u5916\u5c42\u5197\u4f59\u4fdd\u62a4\uff0c\u5207\u6362\u6027\u80fd\u4e5f\u968f\u4e4b\u9000\u5316\u3002</p> <p>\u4e1a\u52a1\u73b0\u8c61\u5982\u4e0b\uff1a</p> <p>\u5916\u5c42\u94fe\u8def\u5df2\u7ecf\u611f\u77e5\u6545\u969c\uff0c\u800c\u5185\u5c42\u4fdd\u62a4\u5c1a\u672a\u5207\u6362\uff0c\u5982\u679c\u5916\u5c42\u94fe\u8def\u914d\u7f6e\u4e86\u4fdd\u62a4\u8def\u5f84\uff0c\u5219\u53ef\u80fd\u51fa\u73b0\u4fdd\u62a4\u5207\u6362\u9000\u5316\u4e3a\u5916\u5c42\u4fdd\u62a4\uff0c\u56e0\u6b64\u6d6a\u8d39\u4e86\u5185\u5c42\u7684\u4fdd\u62a4\u5207\u6362\u7b56\u7565\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u5982\u4e0b\u5224\u65ad\u65b9\u6cd5\u9002\u7528\u5185\u5c42\u4e3a\u52a8\u6001BFD for CR-LSP\uff0c\u5916\u5c42\u4e3a\u9759\u6001BFD for TE\uff0c\u4e14BFD for CR-LSP\u548cBFD for TE\u7ed1\u5b9a\u540c\u4e00\u4e2aTunnel\u63a5\u53e3\u7684\u573a\u666f\u3002\u5176\u5b83\u573a\u666f\u4e0b\uff0c\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u6765\u8fdb\u884c\u5224\u65ad\u3002</p> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c**display bfd session all verbose**\u547d\u4ee4\u67e5\u770bBFD\u7684\u68c0\u6d4b\u95f4\u9694\u3002</p> <p>\u4ece\u663e\u793a\u4fe1\u606f\u53ef\u4ee5\u770b\u51fa\uff0c\u68c0\u6d4b\u5185\u5c42\u94fe\u8def\u7684BFD Bind Type\u4e3aTE_LSP\u7684\u4f1a\u8bdd\u7684\u68c0\u6d4b\u95f4\u9694Detect Interval (ms)\u4e3a2664\uff0c\u800c\u68c0\u6d4b\u5916\u5c42\u94fe\u8def\u7684BFD Bind Type\u4e3aTE_TUNNEL\u7684\u4f1a\u8bdd\u7684\u68c0\u6d4b\u95f4\u9694Detect Interval (ms)\u4e3a300\uff0c\u5373\u5185\u5c42\u94fe\u8def\u7684BFD\u68c0\u6d4b\u95f4\u9694\u5927\u4e8e\u5916\u5c42\u94fe\u8def\u7684\u68c0\u6d4b\u95f4\u9694\u3002</p> <pre><code>&lt;HUAWEI&gt; display bfd session all verbose\n--------------------------------------------------------------------------------\n  State : Up                    Name : dyn_16393\n--------------------------------------------------------------------------------\n  Local Discriminator    : 16393            Remote Discriminator   : 16402 \n  Session Detect Mode    : Asynchronous Mode Without Echo Function\n  BFD Bind Type          : TE_LSP \n  Bind Session Type      : Dynamic  \n  Bind Peer IP Address   : 2.2.2.2         \n  NextHop Ip Address     : 10.1.1.2 \n  Bind Interface         : Tunnel1          TE LSP Type            : Primary \n  Tunnel ID              : 33  \n  FSM Board Id           : 9                TOS-EXP                : 6\n  Min Tx Interval (ms)   : 999              Min Rx Interval (ms)   : 888 \n  Actual Tx Interval (ms): 999              Actual Rx Interval (ms): 888 \n  Local Detect Multi     : 48               Detect Interval (ms)   : 2664 \n  Echo Passive           : Disable          Acl Number             : - \n  Destination Port       : 3784             TTL                    : 1 \n  Proc Interface Status  : Disable          Process PST            : Enable     \n  WTR Interval (ms)      : -                Config PST             : Enable     \n  Active Multi           : 3   \n  Last Local Diagnostic  : No Diagnostic\n  Bind Application       : TE\n  Session TX TmrID       : -                Session Detect TmrID   : - \n  Session Init TmrID     : -                Session WTR TmrID      : - \n  Session Echo Tx TmrID  : -   \n  Session Description    : - \n--------------------------------------------------------------------------------\n\n--------------------------------------------------------------------------------\n  State : Up                    Name : te\n--------------------------------------------------------------------------------\n  Local Discriminator    : 111              Remote Discriminator   : 111 \n  Session Detect Mode    : Asynchronous Mode Without Echo Function\n  BFD Bind Type          : TE_TUNNEL \n  Bind Session Type      : Static  \n  Bind Peer IP Address   : 2.2.2.2         \n  NextHop Ip Address     : -.-.-.-  \n  Bind Interface         : Tunnel1                                           \n  Tunnel ID              : 33  \n  FSM Board Id           : 9                TOS-EXP                : 1\n  Min Tx Interval (ms)   : 100              Min Rx Interval (ms)   : 100 \n  Actual Tx Interval (ms): 100              Actual Rx Interval (ms): 100 \n  Local Detect Multi     : 3                Detect Interval (ms)   : 300 \n  Echo Passive           : Disable          Acl Number             : - \n  Destination Port       : 3784             TTL                    : 1 \n  Proc Interface Status  : Disable          Process PST            : Disable    \n  WTR Interval (ms)      : -                Config PST             : Disable    \n  Active Multi           : 3   \n  Last Local Diagnostic  : No Diagnostic\n  Bind Application       : No Application Bind\n  Session TX TmrID       : -                Session Detect TmrID   : - \n  Session Init TmrID     : -                Session WTR TmrID      : - \n  Session Echo Tx TmrID  : -   \n  Session Description    : - \n--------------------------------------------------------------------------------\n\nTotal UP/DOWN Session Number : 2/0\n</code></pre> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u8c03\u6574\u5185\u5c42\u4fdd\u62a4\u94fe\u8def\u7684BFD\u4f1a\u8bdd\u68c0\u6d4b\u95f4\u9694\u5c0f\u4e8e\u5916\u5c42\u94fe\u8def\u7684BFD\u4f1a\u8bdd\u7684\u68c0\u6d4b\u95f4\u9694\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#6-lspbfd","title":"6. \u53cc\u5411LSP\u573a\u666f\u4e0b\u4e24\u7aef\u8bbe\u5907\u7684BFD\u914d\u7f6e\u9700\u5bf9\u79f0","text":"<p>\u53cc\u5411LSP\u573a\u666f\u4e0b\uff0cBFD\u4e24\u7aef\u914d\u7f6e\u4e0d\u5bf9\u79f0\uff0c\u5bfc\u81f4LDP LSP\u72b6\u6001Down\uff0cLDP LSP\u627f\u8f7d\u7684\u4e1a\u52a1\u4e2d\u65ad\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#61","title":"6.1. \u5e94\u7528\u573a\u666f","text":"<p>\u5982 **\u56fe1-4 ** \u6240\u793a\uff0c\u4eceRouterA\u5230RouterB\u5b58\u5728LSP\uff0c\u4e14\u4eceRouterB\u5230RouterA\u4e5f\u5b58\u5728LSP\u3002RouterA\u914d\u7f6eBFD For Peer IP\uff0cRouterB\u914d\u7f6eBFD For TE-LSP\uff0c\u540c\u65f6RouterA\u5b58\u5728\u4e0ePeer IP\u5730\u5740\u76f8\u540c\u7684LDP LSP\uff0c\u5f53TE LSP\u6545\u969c\u540e\uff0cLDP LSP\u627f\u8f7d\u7684\u4e1a\u52a1\u4e2d\u65ad\u3002</p> <p>\u56fe1-4 BFD\u4e24\u7aef\u914d\u7f6e\u4e0d\u5bf9\u79f0\u5bfc\u81f4LDP LSP\u4e1a\u52a1\u4e2d\u65ad\u7ec4\u7f51\u56fe] </p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#62","title":"6.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u4e24\u7aef\u8bbe\u5907BFD\u68c0\u6d4b\u7c7b\u578b\u914d\u7f6e\u4fdd\u6301\u4e00\u81f4\uff0c\u5747\u4e3aBFD For TE-LSP\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/BFD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#63","title":"6.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>RouterB\u7684TE LSP\u6545\u969c\u540e\uff0cLDP LSP\u627f\u8f7d\u7684\u4e1a\u52a1\u4e2d\u65ad\u3002</p> <p>\u4e1a\u52a1\u73b0\u8c61\u5982\u4e0b\uff1a</p> <p>TE LSP\u6545\u969c\u540e\uff0cLDP LSP\u7684BFD\u72b6\u6001Down\u5bfc\u81f4\u4e1a\u52a1\u4e2d\u65ad\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ol> <li> <p>\u67e5\u770b\u4e24\u7aef\u7684BFD\u914d\u7f6e\u662f\u5426\u5bf9\u79f0\u3002</p> <p>\u5982\u4e0b\u663e\u793a\u4fe1\u606f\u8bf4\u660e\u4e24\u7aefBFD\u914d\u7f6e\u4e0d\u5bf9\u79f0\u3002RouterA\u914d\u7f6e\u7684\u662fBFD For Peer IP\uff0cRouterB\u914d\u7f6e\u7684\u662fBFD For TE-LSP\u3002</p> <p># \u5728RouterA\u4efb\u610f\u89c6\u56fe\u4e0b\u6267\u884c**display current-configuration configuration bfd**\u547d\u4ee4\u3002</p> <pre><code>&lt;HUAWEI&gt; display current-configuration configuration bfd\n#\nbfd ieclsptowac bind peer-ip 100.1.1.1\n    discriminator local 101\n    discriminator remote 302\n    min-tx-interval 50\n    min-rx-interval 50\n    commit\n#\n</code></pre> <p># \u5728RouterB\u4efb\u610f\u89c6\u56fe\u4e0b\u6267\u884c**display current-configuration configuration bfd**\u547d\u4ee4\u3002</p> <pre><code>&lt;HUAWEI&gt; display current-configuration configuration bfd\n#\nbfd ieclsptowac bind mpls-te interface Tunnel0/0/1 te-lsp\ndiscriminator local 302\n    discriminator remote 101\n    min-tx-interval 50\n    min-rx-interval 50\n    commit\n#\n</code></pre> </li> <li> <p>\u67e5\u8be2RouterA\u68c0\u6d4bPeer IP\u7684BFD\u4f1a\u8bdd\u7684\u72b6\u6001\u3002</p> <p># \u5728RouterA\u7684\u4efb\u610f\u56fe\u4e0b\u6267\u884c**display bfd session all**\u547d\u4ee4\uff0c\u53d1\u73b0BFD\u4f1a\u8bdd\u72b6\u6001\u4e3aDown\u3002</p> <pre><code>&lt;HUAWEI&gt; display bfd session all\n-----------------------------------------------------------------------\nLocal Remote     PeerIpAddr      State     Type        InterfaceName\n-----------------------------------------------------------------------\n5     6          100.1.1.1       Down      S_IP_PEER         -\n-----------------------------------------------------------------------     \nTotal UP/DOWN Session Number : 0/1\n</code></pre> <p># \u5728RouterB\u7684\u4efb\u610f\u89c6\u56fe\u4e0b\u6267\u884c**display mpls lsp** include ip-address mask-len **verbose**\u547d\u4ee4\uff0c\u53d1\u73b0LDP LSP\u7684BFD\u72b6\u6001\u4e3aDown\u3002</p> <pre><code>&lt;HUAWEI&gt; display mpls lsp include 100.1.1.1 32 verbose \n-------------------------------------------------------------------------------\n                    LSP Information: LDP LSP\n-------------------------------------------------------------------------------\n    No                  :  1\n    VrfIndex            :        \n    Fec                 :  100.1.1.1/32\n    Nexthop             :  100.2.1.1\n    In-Label            :  NULL\n    Out-Label           :  153468\n    In-Interface        :  ----------\n    Out-Interface       :  GigabitEthernet1/0/0\n    LspIndex            :  191839\n    Token               :  0x2001476\n    FrrToken            :  0x0\n    LsrType             :  Ingress\n    Outgoing token      :  0x0\n    Label Operation     :  PUSH\n    Mpls-Mtu            :  9000\n    TimeStamp           :  144908sec\n    Bfd-State           :  Down\nBGPKey              :  ------\n</code></pre> </li> </ol> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u7531\u4e8eLDP LSP\u5df2\u7ecf\u88abBFD \u7f6eDown\uff0c\u9700\u8981\u5728\u914d\u7f6eBFD For TE-LSP\u7684\u4e00\u7aef\u914d\u7f6eBFD For Peer IP\u5148\u8ba9BFD\u534f\u5546UP\uff0c\u518d\u5220\u9664BFD\u914d\u7f6e\uff0cLDP LSP\u7684\u8f6c\u53d1\u72b6\u6001\u5373\u53ef\u6062\u590d\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/VRRP%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/","title":"VRRP\u7684\u914d\u7f6e\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/VRRP%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#1-vrrpeth-trunk","title":"1. VRRP\u4e2d\u95f4\u94fe\u8def\u9700\u8981\u914d\u7f6eEth-Trunk\u4fdd\u62a4\u7684\u914d\u7f6e\u89c4\u8303","text":"<p>\u90e8\u7f72VRRP\u65f6\uff0c\u5982\u679c\u63a5\u5165\u8bbe\u5907\u7684\u4e0a\u884c\u7f51\u5173\u7684\u7aef\u53e3\u91c7\u7528\u4e86\u7aef\u53e3\u95f4\u7684\u5907\u4efd\uff0c\u5373\u65e0\u6545\u969c\u7684\u60c5\u51b5\u4e0b\u53ea\u6709\u4e00\u4e2a\u7aef\u53e3\u8f6c\u53d1\u6d41\u91cf\uff0c\u5728\u8f6c\u53d1\u6d41\u91cf\u7684\u7aef\u53e3\u53d1\u751f\u6545\u969c\u4e4b\u540e\u5907\u4efd\u7aef\u53e3\u5f00\u59cb\u8f6c\u53d1\u6d41\u91cf\u3002\u6b64\u65f6\uff0c\u5982\u679cVRRP\u7684\u4e2d\u95f4\u5fc3\u8df3\u4e22\u5931\u5219\u4f1a\u5bfc\u81f4VRRP\u51fa\u73b0\u53cc\u4e3b\u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u5f88\u6709\u53ef\u80fd\u5bfc\u81f4\u63a5\u5165\u8bbe\u5907\u4e0a\u7684\u6d41\u91cf\u4e2d\u65ad\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/VRRP%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#11","title":"1.1. \u5e94\u7528\u573a\u666f","text":"<p>\u5982 \u56fe1-5 \u6240\u793a\uff0cUMG\u4e0a\u884c\u7f51\u5173\u7684\u7aef\u53e3GE1/0/0\u548cGE1/0/1\u91c7\u7528\u7684\u7aef\u53e3\u95f4\u7684\u5907\u4efd\uff0c\u53ea\u6709\u4e00\u4e2a\u7aef\u53e3\u8f6c\u53d1\u529f\u80fd\u88ab\u5f00\u542f\u3002\u5728DeviceA\u548cDeviceB\u4e0a\u90e8\u7f72VRRP\u529f\u80fd\uff0c\u540c\u65f6\u5728VRRP\u4e2d\u95f4\u5fc3\u8df3\u94fe\u8def\u914d\u7f6eEth-Trunk\u4fdd\u62a4\u3002</p> <p>\u56fe1-5 VRRP\u4e2d\u95f4\u94fe\u8def\u914d\u7f6eEth-Trunk\u4fdd\u62a4\u7ec4\u7f51\u56fe </p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/VRRP%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#12","title":"1.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u5728DeviceA\u548cDeviceB\u4e0a\u914d\u7f6eVRRP\u5907\u4efd\u7ec4\u3002\u5728DeviceA\u4e0a\u914d\u7f6e\u8f83\u9ad8\u4f18\u5148\u7ea7\uff0c\u4f5c\u4e3aMaster\u8bbe\u5907\u627f\u62c5\u6d41\u91cf\uff1b\u5728DeviceB\u4e0a\u914d\u7f6e\u8f83\u4f4e\u4f18\u5148\u7ea7\uff0c\u4f5c\u4e3a\u5907\u7528\u8def\u7531\u5668\uff0c\u5b9e\u73b0\u5197\u4f59\u5907\u4efd\u3002</p> <p>\u5728DeviceA\u548cDeviceB\u4e0a\u5747\u9700\u914d\u7f6eEth-Trunk\u63a5\u53e3\uff0c\u5e76\u5c06\u4ee5\u592a\u7f51\u7269\u7406\u63a5\u53e3\u52a0\u5165Eth-Trunk\u63a5\u53e3\uff0c\u540c\u65f6\u6dfb\u52a0\u8de8\u677f\u6210\u5458\u53e3\uff0c\u786e\u4fdd\u4e00\u4e2a\u5355\u677f\u6545\u969c\u4e4b\u540eEth-Trunk\u4e2d\u4ecd\u6709\u72b6\u6001\u662fUp\u7684\u94fe\u8def\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/VRRP%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#13","title":"1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53Eth-Trunk\u7684\u6210\u5458\u53e3\u6240\u5728\u7684\u5fc3\u8df3\u94fe\u8def\u6545\u969c\u4e4b\u540e\uff0c\u540c\u65f6\u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6\u65f6\uff0cUMG\u7684\u4e1a\u52a1\u5927\u6982\u7387\u4e2d\u65ad\uff1a</p> <ul> <li>UMG\u7684\u4e0a\u884c\u7f51\u5173\u7684\u7aef\u53e3\u53ea\u652f\u6301\u7aef\u53e3\u95f4\u7684\u5907\u4efd\uff0c\u5373\u4e00\u822c\u53ea\u80fd\u6709\u4e00\u4e2a\u7aef\u53e3Up\uff1b</li> <li>DeviceA\u548cDeviceB\u7684VRRP\u5907\u4efd\u7ec4\u95f4\uff0c\u5fc3\u8df3\u94fe\u8def\u6240\u5728\u7684\u7aef\u53e3\u672a\u4f7f\u7528\u8de8\u677fTrunk\u65b9\u5f0f\u3002</li> </ul> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u8bf4\u660e\uff1a</p> <p>\u9700\u8981\u5728DeviceA\u548cDeviceB\u4e24\u53f0\u8bbe\u5907\u4e0a\u90fd\u8981\u6267\u884c\u6b64\u547d\u4ee4\u68c0\u67e5\u662f\u5426\u5b58\u5728\u8de8\u677f\u6210\u5458\u53e3\u3002</p> <ol> <li> <p>\u67e5\u770b\u5bf9\u5e94Eth-Trunk\u7684\u6210\u5458\u53e3\u662f\u5426\u662f\u8de8\u677f\u6210\u5458\u53e3\u3002</p> <pre><code>&lt;HUAWEI&gt; display interface eth-trunk 1\nEth-Trunk1 current state : UP\nLine protocol current state : UP\nLink quality grade : GOOD\nDescription:HUAWEI, Eth-Trunk1 Interface\nSwitch Port, TPID : 8100(Hex), Hash arithmetic : According to flow,Maximal BW: 2G, Current BW: 1G, The Maximum Transmit Unit is 1500\nIP Sending Frames' Format is PKTFMT_ETHNT_2, Hardware address is 0018-82d9-e71b\nPhysical is ETH_TRUNK\nCurrent system time: 2017-04-11 12:15:41\n    Last 300 seconds input rate 0 bits/sec, 0 packets/sec\n    Last 300 seconds output rate 0 bits/sec, 0 packets/sec\n    Realtime 2 seconds input rate 0 bits/sec, 0 packets/sec\n    Realtime 2 seconds output rate 0 bits/sec, 0 packets/sec\n    Input: 3 packets,939 bytes\n        0 unicast,0 broadcast,3 multicast\n        0 errors,0 drops\n    Output:3 packets,917 bytes\n        0 unicast,0 broadcast,3 multicast\n        0 errors,0 drops\n    Input bandwidth utilization  :    0%\n    Output bandwidth utilization :    0%\n-----------------------------------------------------\nPortName                      Status      Weight\n-----------------------------------------------------\nGigabitEthernet1/1/8          DOWN        1\nGigabitEthernet3/1/0          UP          1\n-----------------------------------------------------\nThe Number of Ports in Trunk : 2\nThe Number of UP Ports in Trunk : 1   \n</code></pre> </li> <li> <p>\u5982\u679c\u786e\u5b9aEth-Trunk\u5b58\u5728\u591a\u4e2a\u6210\u5458\u53e3\u5e76\u4e14\u6210\u5458\u53e3\u6765\u81ea\u4e0d\u540c\u5355\u677f\uff0c\u6bd4\u5982GigabitEthernet1/\u215b\u548cGigabitEthernet3/1/0\uff0c\u524d\u8005\u662f1\u53f7\u5355\u677f\u7aef\u53e3\uff0c\u540e\u8005\u662f3\u53f7\u5355\u677f\u7aef\u53e3\uff0c\u5219\u6b64\u65f6\u4e0d\u5b58\u5728\u8be5\u98ce\u9669\uff1b\u5426\u5219\u5982\u679c\u6210\u5458\u53e3\u90fd\u6765\u81ea\u540c\u4e00\u4e2a\u5355\u677f\uff0c\u5219\u5b58\u5728\u98ce\u9669\u3002</p> </li> </ol> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u5728DeviceA\u548cDeviceB\u4e0a\u5747\u9700\u914d\u7f6eEth-Trunk\u63a5\u53e3\uff0c\u5e76\u5c06\u4ee5\u592a\u7f51\u7269\u7406\u63a5\u53e3\u52a0\u5165Eth-Trunk\u63a5\u53e3\uff0c\u540c\u65f6\u6dfb\u52a0\u8de8\u677f\u6210\u5458\u53e3\uff0c\u786e\u4fdd\u4e00\u4e2a\u5355\u677f\u6545\u969c\u4e4b\u540eEth-Trunk\u4e2d\u4ecd\u6709\u72b6\u6001\u662fUp\u7684\u94fe\u8def\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/VRRP%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#2-te-tunnel","title":"2. TE Tunnel\u6ca1\u6709\u914d\u7f6e\u8bef\u7801\u5012\u6362\u5bfc\u81f4\u4e1a\u52a1\u53d7\u635f","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/VRRP%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#21","title":"2.1. \u5e94\u7528\u573a\u666f","text":"<p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5728IPRAN\u573a\u666f\u4e2d\uff0cASG\u548cRSG\u4e4b\u95f4\u90e8\u7f72TE hot-standby\u3002</p> img"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/VRRP%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#22","title":"2.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u5728ASG\u7684Tunnel\u53e3\u4e0a\uff0c\u901a\u8fc7\u547d\u4ee4\u884c mpls te bit-error-detection \u914d\u7f6eRSVP-TE\u96a7\u9053\u7684\u8bef\u7801\u5012\u6362\u529f\u80fd\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/VRRP%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#23","title":"2.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53\u672a\u914d\u7f6e\u8bef\u7801\u5012\u6362\u529f\u80fd\u65f6\uff0c\u7531\u4e8eASG\u548cRSG\u4e4b\u95f4\u7684\u4f20\u8f93\u8bbe\u5907\u5b58\u5728\u8bef\u7801\uff0c\u4f1a\u5bfc\u81f4ASG\u4e0b\u6302\u7684\u57fa\u7ad9\u4ea7\u751f\u4e2d\u65ad\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u67e5\u770bASG\u4e0a\u7684Tunnel\u914d\u7f6e\uff0c\u770b\u662f\u5426\u5df2\u7ecf\u914d\u7f6e\u4e86\u8bef\u7801\u5012\u6362\u3002</p> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u540c\u914d\u7f6e\u89c4\u8303\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/%E5%A4%9A%E6%9C%BA%E5%A4%87%E4%BB%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/","title":"\u591a\u673a\u5907\u4efd\u7684\u914d\u7f6e\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/%E5%A4%9A%E6%9C%BA%E5%A4%87%E4%BB%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#1","title":"1. \u53cc\u673a\u70ed\u5907\u573a\u666f\u4e0b\u90e8\u7f72\u5171\u4eab\u5730\u5740\u6c60\u65f6\u9700\u8981\u914d\u7f6e\u4fdd\u62a4\u96a7\u9053","text":"<p>\u53cc\u673a\u70ed\u5907\u573a\u666f\u4e0b\u90e8\u7f72\u5171\u4eab\u5730\u5740\u6c60\u65f6\u9700\u8981\u914d\u7f6e\u4fdd\u62a4\u96a7\u9053\uff0c\u5982\u679c\u4e0d\u914d\u7f6e\uff0c\u53ef\u80fd\u5bfc\u81f4\u5f53\u4e3b\u8bbe\u5907\u7684\u7528\u6237\u4fa7\u94fe\u8def\u6545\u969c\u65f6\uff0c\u4e0b\u884c\u6d41\u91cf\u65e0\u6cd5\u5165\u4fdd\u62a4\u96a7\u9053\u5230\u8fbe\u7528\u6237\uff0c\u6d41\u91cf\u6d41\u5931\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/%E5%A4%9A%E6%9C%BA%E5%A4%87%E4%BB%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#11","title":"1.1. \u5e94\u7528\u573a\u666f","text":"<p>\u53cc\u673a\u70ed\u5907\u573a\u666f\u4e0b\u90e8\u7f72\u5171\u4eab\u5730\u5740\u6c60\uff0c\u7ec4\u7f51\u5982\u4e0b\u56fe\u6240\u793a\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/%E5%A4%9A%E6%9C%BA%E5%A4%87%E4%BB%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#12","title":"1.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u8be6\u60c5\u8bf7\u53c2\u8003\uff1a\u914d\u7f6e\u5171\u4eab\u5730\u5740\u6c60\u65b9\u5f0f\u4e0b\u7684\u7528\u6237\u4fe1\u606f\u5907\u4efd\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/%E5%A4%9A%E6%9C%BA%E5%A4%87%E4%BB%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#13","title":"1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u6309\u7167\u73b0\u5728\u53cc\u673a\u70ed\u5907\u4efd\u7684\u90e8\u7f72\uff0c\u5bf9\u4e8e\u5171\u4eab\u5730\u5740\u6c60\u7684\u90e8\u7f72\u65b9\u5f0f\uff0c\u5f53\u4e3b\u8bbe\u5907\u7684\u7528\u6237\u4fa7\u94fe\u8def\u53d1\u751f\u6545\u969c\u65f6\uff0c\u5230\u8fbe\u4e3b\u8bbe\u5907\u7684\u4e0b\u884c\u6d41\u91cf\u901a\u8fc7\u5165\u4fdd\u62a4\u96a7\u9053\u5f62\u5f0f\u5230\u8fbe\u5907\u7528\u8bbe\u5907\u6700\u540e\u5230\u8fbe\u7528\u6237\uff0c\u5982\u679c\u672a\u8bbe\u7f6e\u4fdd\u62a4\u96a7\u9053\uff0c\u5219\u4e0b\u884c\u6d41\u91cf\u65e0\u6cd5\u987a\u5229\u5230\u8fbe\u7528\u6237\uff0c\u5bfc\u81f4\u4e0b\u884c\u6d41\u91cf\u4e22\u5931\u6545\u969c\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ul> <li> <p>\u901a\u8fc7 display remote-backup-service service-name  \u547d\u4ee4\uff0c\u67e5\u770b\u6240\u6709\u7684RBS\u4fe1\u606f\u3002</p> </li> <li> <p>\u5224\u65adRBS\u662f\u5426\u7ed1\u5b9a\u4e86\u5171\u4eab\u5730\u5740\u6c60\uff1a</p> <p>\u67e5\u770b\u56de\u663e\u4e2d\u7684\u201cip pool\u201d\u5b57\u6bb5\u4e0b\u662f\u5426\u6709\u5730\u5740\u6c60\u540d\u79f0\u3002</p> <p>\u5982\u6709\uff0c\u8bf4\u660eRBS\u4e0b\u7ed1\u5b9a\u4e86\u5171\u4eab\u5730\u5740\u6c60\uff0c\u7ee7\u7eed\u5224\u65ad\u3002</p> <p>\u5982\u679c\u6ca1\u6709\uff0c\u8bf4\u660e\u6b64\u53cc\u673a\u70ed\u5907\u573a\u666f\u4e0d\u662f\u5171\u4eab\u5730\u5740\u6c60\uff0c\u4e0d\u6d89\u53ca\u672c\u914d\u7f6e\u89c4\u8303\u3002</p> </li> <li> <p>\u5224\u65adRBS\u662f\u5426\u914d\u7f6e\u4e86\u4fdd\u62a4\u96a7\u9053\uff1a</p> <p>\u67e5\u770b\u56de\u663e\u4e2d\u662f\u5426\u6709\u4fdd\u62a4\u96a7\u9053\u7c7b\u578b\uff0c\u67e5\u770b\u662f\u5426\u6709\u51fa\u63a5\u53e3\uff0c\u56de\u663e\u4e2d\u7684\u201cProtect-type\u201d\u548c\u201cOut-interface\u201d\u5b57\u6bb5\u3002</p> </li> </ul> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u540c\u914d\u7f6e\u89c4\u8303\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/%E5%A4%9A%E6%9C%BA%E5%A4%87%E4%BB%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#2-urpf","title":"2. \u53cc\u673a\u70ed\u5907\u573a\u666f\u4e0b\u90e8\u7f72\u5171\u4eab\u5730\u5740\u6c60\u65f6\u7f51\u7edc\u4fa7\u63a5\u53e3\u9700\u8981\u53bb\u4f7f\u80fdURPF","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/%E5%A4%9A%E6%9C%BA%E5%A4%87%E4%BB%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#21","title":"2.1. \u5e94\u7528\u573a\u666f","text":"<p>\u53cc\u673a\u70ed\u5907\u573a\u666f\u4e0b\u90e8\u7f72\u5171\u4eab\u5730\u5740\u6c60\uff0c\u7ec4\u7f51\u5982\u4e0b\u56fe\u6240\u793a\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/%E5%A4%9A%E6%9C%BA%E5%A4%87%E4%BB%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#22","title":"2.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u7f51\u7edc\u4fa7\u63a5\u53e3\u9700\u8981\u53bb\u4f7f\u80fdURPF\uff0c\u5373\u914d\u7f6e**undo ip urpf**\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/03%20%E5%8F%AF%E9%9D%A0%E6%80%A7/%E5%A4%9A%E6%9C%BA%E5%A4%87%E4%BB%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#23","title":"2.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5728\u53cc\u673a\u70ed\u5907\u8bbe\u5907\u4e0a\u914d\u7f6e\u5171\u4eab\u5730\u5740\u6c60\u65f6\uff0c\u5f53\u4e3b\u8bbe\u5907\u7684\u7528\u6237\u4fa7\u94fe\u8def\u53d1\u751f\u6545\u969c\u65f6\uff0c\u6d41\u91cf\u4f1a\u7ecf\u8fc7\u4fdd\u62a4\u96a7\u9053\u8fc2\u56de\u5230\u7528\u6237\uff0c\u5982\u679c\u7f51\u7edc\u4fa7\u63a5\u53e3\u4e0b\u914d\u7f6eURPF\uff0c\u4f1a\u6982\u7387\u5bfc\u81f4\u4e0b\u884c\u6d41\u91cf\u65e0\u6cd5\u5165\u4fdd\u62a4\u96a7\u9053\u5230\u8fbe\u7528\u6237\uff0c\u6d41\u91cf\u6d41\u5931\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ul> <li> <p>\u901a\u8fc7 display remote-backup-service service-name \u547d\u4ee4\uff0c\u67e5\u770b\u6240\u6709\u7684RBS\u4fe1\u606f\u3002</p> </li> <li> <p>\u5224\u65adRBS\u662f\u5426\u7ed1\u5b9a\u4e86\u5171\u4eab\u5730\u5740\u6c60\uff1a</p> <p>\u67e5\u770b\u56de\u663e\u4e2d\u7684\u201cip pool\u201d\u5b57\u6bb5\u4e0b\u662f\u5426\u6709\u5730\u5740\u6c60\u540d\u79f0\u3002</p> <p>\u5982\u6709\uff0c\u8bf4\u660eRBS\u4e0b\u7ed1\u5b9a\u4e86\u5171\u4eab\u5730\u5740\u6c60\uff0c\u7ee7\u7eed\u5224\u65ad\u3002</p> <p>\u5982\u679c\u6ca1\u6709\uff0c\u8bf4\u660e\u6b64\u53cc\u673a\u70ed\u5907\u573a\u666f\u4e0d\u662f\u5171\u4eab\u5730\u5740\u6c60\uff0c\u4e0d\u6d89\u53ca\u672c\u914d\u7f6e\u89c4\u8303\u3002</p> </li> <li> <p>\u5224\u65adRBS\u662f\u5426\u914d\u7f6e\u4e86\u4fdd\u62a4\u96a7\u9053\uff1a</p> <p>\u67e5\u770b\u56de\u663e\u4e2d\u662f\u5426\u6709\u4fdd\u62a4\u96a7\u9053\u7c7b\u578b\uff0c\u67e5\u770b\u662f\u5426\u6709\u51fa\u63a5\u53e3\uff0c\u56de\u663e\u4e2d\u7684\u201cProtect-type\u201d\u548c\u201cOut-interface\u201d\u5b57\u6bb5\u3002</p> <pre><code>[HUAWEI] display remote-backup-service rbs\n----------------------------------------------------------                                                                          \nService-Index    : 2                                                                                                               \nService-Name     : rbs                                                                                                             \nTCP-State        : Initial                                                                                                         \nPeer-ip          : 28.1.1.1                                                                                                        \nSource-ip        : 6.6.6.3                                                                                                         \nTCP-Port         : 6002                                                                                                            \nTrack-BFD        : --                                                                                                              \nUplink state     : 2 (1:DOWN 2:UP)                                                                                                 \nDomain-map-list  : --                                                                                                              \n----------------------------------------------------------                                                                          \n\nip pool:                                                                                                                           \n        zw metric 20                                                                                                               \nipv6 pool:                                                                                                                         \nFailure ratio    : 100%                                                                                                            \nFailure duration : 0 min                                                                                                           \n----------------------------------------------------------                                                                          \nRbs-ID         : 2                                                                                                                 \nProtect-type   : ip-redirect                                                                                                       \nNext-hop       : 115.1.1.2                                                                                                         \nVlanid         : 0                                                                                                                 \nPeer-ip        : 115.1.1.2                                                                                                         \nVrfid          : 0                                                                                                                 \nTunnel-state   : UP                                                                                                                \nTunnel-OperFlag: NORMAL                                                                                                            \nSpec-interface : GigabitEthernet1/0/2                                                                                              \nTotal users    : 0                                                                                                                 \nPath 1:                                                                                                                            \n    Tunnel-index   : 0x0                                                                                                           \n    Tunnel-index-v6: 0x0                                                                                                           \n    Out-interface  : GigabitEthernet1/0/2                                                                                          \n    Vc-lable       : 4294967295                                                                                                    \n    Vc-lable-v6    : 4294967295                                                                                                    \n    User-number    : 0                                                                                                             \n    Public-Lsp-Load: FALSE                                                                                                         \n\n----------------------------------------------------------                                                                          \nRbs-ID         : 2                                                                                                                 \nProtect-type   : public(LSP)                                                                                                       \nPeer-ip        : 17.17.17.17                                                                                                       \nVrfid          : 4091                                                                                                              \nTunnel-state   : UP                                                                                                                \nTunnel-OperFlag: NORMAL                                                                                                            \nSpec-interface : Null                                                                                                              \nTotal users    : 0                                                                                                                 \nPath 1:                                                                                                                            \n    Tunnel-index   : 0x400000f                                                                                                     \n    Tunnel-index-v6: 0x0                                                                                                           \n    Out-interface  : GigabitEthernet2/0/1                                                                                          \n    Vc-lable       : 4294967295                                                                                                    \n    Vc-lable-v6    : 4294967295                                                                                                    \n    User-number    : 0                                                                                                             \n    Public-Lsp-Load: TRUE   \n</code></pre> </li> <li> <p>\u5728\u7f51\u7edc\u4fa7\u63a5\u53e3\u89c6\u56fe\u4e0b\uff0c\u6267\u884c display this \uff0c\u67e5\u770b\u662f\u5426\u914d\u7f6e\u4e86URPF\u3002</p> <pre><code>[HUAWEI -GigabitEthernet2/0/1] display this                                                                                                      \n#                                                                                                                                   \ninterface GigabitEthernet2/0/1                                                                                                      \ndescription ith                                                                                                                    \nundo shutdown                                                                                                                      \nipv6 enable                                                                                                                        \nip address 186.0.0.17 255.255.255.0                                                                                                \nipv6 address 13:16::2/64                                                                                                           \nmpls                                                                                                                               \nmpls ldp                                                                                                                           \nundo dcn\nip urpf strict   \nipv6 urpf strict                                                                                                                       \n#        \n</code></pre> </li> </ul> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u540c\u914d\u7f6e\u89c4\u8303\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/04%20%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/","title":"\u63a5\u53e3\u7ba1\u7406\u7684\u914d\u7f6e\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/04%20%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#1","title":"1. \u7269\u7406\u63a5\u53e3\u9700\u8981\u914d\u7f6e\u63a5\u53e3\u5ef6\u8fdf\u53d1\u51fa\u4fe1\u53f7","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/04%20%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#11","title":"1.1. \u5e94\u7528\u573a\u666f","text":"<ol> <li>\u5f53\u8bbe\u5907\u53cc\u5f52\u63a5\u5165\u5176\u4ed6\u5382\u5546\u7684\u8bbe\u5907\u65f6\uff0c\u8bbe\u5907\u65e0\u6cd5\u63a7\u5236\u5176\u4ed6\u5382\u5546\u8bbe\u5907\u7684\u63a5\u53e3\u6d41\u91cf\u5207\u6362\u3002</li> <li>\u5f53\u8bbe\u5907\u4e0e\u5176\u4ed6\u5382\u5546\u8bbe\u5907\u76f4\u8fde\u65f6\uff0c\u8bbe\u5907\u88ab\u4e0b\u7535\u91cd\u542f\u4f46\u914d\u7f6e\u6062\u590d\u6ca1\u6709\u5b8c\u6210\u3002</li> </ol>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/04%20%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#12","title":"1.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u9700\u8981\u6267\u884c\u547d\u4ee4 port-tx-enabling-delay port-tx-delay-time\uff0c\u914d\u7f6e\u63a5\u53e3\u5ef6\u8fdf\u53d1\u51fa\u4fe1\u53f7\u529f\u80fd\uff0c\u63a5\u53e3\u521d\u59cb\u5316\u540e\u4e0d\u7acb\u5373\u53d1\u9001\u4fe1\u53f7\uff0c\u800c\u662f\u5230\u8fbe\u7528\u6237\u914d\u7f6e\u7684\u5ef6\u8fdf\u65f6\u95f4\u540e\u624d\u5f00\u59cb\u53d1\u51fa\u4fe1\u53f7\uff0c\u53ef\u6709\u6548\u907f\u514d\u56e0\u94fe\u8def\u4e0d\u80fd\u540c\u6b65\u5207\u6362\u6216\u8bbe\u5907\u672a\u5b8c\u6210\u914d\u7f6e\u6062\u590d\u5bfc\u81f4\u7684\u6570\u636e\u4e22\u5931\u3002\u914d\u7f6e\u65b9\u6cd5\u8be6\u89c1\uff1a\u914d\u7f6e\u63a5\u53e3\u5ef6\u8fdf\u53d1\u51fa\u4fe1\u53f7\u3002</p> img <p>\u8bf4\u660e\uff1a</p> <p>\u914d\u7f6e\u63a5\u53e3\u5ef6\u8fdf\u53d1\u51fa\u4fe1\u53f7\u7684\u5ef6\u8fdf\u65f6\u95f4\u65f6\u9700\u8981\u7efc\u5408\u8003\u8651\u8be5\u8bbe\u5907\u4e0a\u914d\u7f6e\u7684\u5176\u4ed6\u4e1a\u52a1\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/04%20%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#13","title":"1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u5f71\u54cd","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5f53\u8bbe\u5907\u53cc\u5f52\u63a5\u5165\u5176\u4ed6\u5382\u5546\u7684\u8bbe\u5907\u65f6\uff0c\u8bbe\u5907\u65e0\u6cd5\u63a7\u5236\u5176\u4ed6\u5382\u5546\u8bbe\u5907\u7684\u63a5\u53e3\u6d41\u91cf\u5207\u6362\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8bbe\u5907\u4e0e\u5176\u4ed6\u5382\u5546\u8bbe\u5907\u4e0d\u80fd\u4fdd\u8bc1\u540c\u6b65\u5b8c\u6210\u94fe\u8def\u5207\u6362\uff0c\u82e5\u63a5\u53e3\u521d\u59cb\u5316\u540e\u7acb\u5373\u53d1\u9001\u4fe1\u53f7\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u90e8\u5206\u6570\u636e\u4e22\u5931\u3002</p> <p>\u5f53\u8bbe\u5907\u4e0e\u5176\u4ed6\u5382\u5546\u8bbe\u5907\u76f4\u8fde\u65f6\uff0c\u8bbe\u5907\u88ab\u4e0b\u7535\u91cd\u542f\u4f46\u914d\u7f6e\u6062\u590d\u6ca1\u6709\u5b8c\u6210\uff0c\u82e5\u63a5\u53e3\u521d\u59cb\u5316\u540e\u7acb\u5373\u53d1\u9001\u4fe1\u53f7\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u90e8\u5206\u6570\u636e\u4e22\u5931\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c\u547d\u4ee4 display port-tx-enabling-delay\uff0c\u67e5\u770b\u63a5\u53e3\u5ef6\u8fdf\u53d1\u5149\u7684\u914d\u7f6e\u53c2\u6570\u4ee5\u53ca\u5f53\u524d\u5ef6\u65f6\u72b6\u6001\u4fe1\u606f\u3002\u4ee5GE\u63a5\u53e3\u4e3a\u4f8b\uff0c\u67e5\u770b port-tx-enabling delay time \u540e\u7684\u53c2\u6570\u662f\u5426\u4e3a\u201c0\u201d\uff1a</p> <pre><code>&lt;HUAWEI&gt; display port-tx-enabling-delay interface gigabitethernet 1/0/0\n  GigabitEthernet 1/0/0 setted port-tx-enabling delay time is: 100 ms\n  GigabitEthernet 1/0/0 remanent time of enabling port-tx is: 20 ms\n</code></pre> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u540c\u914d\u7f6e\u89c4\u8303\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/04%20%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#2-down","title":"2. \u7269\u7406\u63a5\u53e3\u9700\u8981\u914d\u7f6e\u63a5\u53e3\u5ef6\u8fdfDown\u6216\u5ef6\u8fdf\u544a\u8b66\u529f\u80fd","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/04%20%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#21","title":"2.1. \u5e94\u7528\u573a\u666f","text":"<p>\u8bbe\u5907\u548c\u6ce2\u5206\u3001\u4f20\u8f93\u8bbe\u5907\u7269\u7406\u63a5\u53e3\u5bf9\u63a5\u573a\u666f\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/04%20%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#22","title":"2.2. \u914d\u7f6e\u89c4\u8303","text":"<ul> <li>Ethernet/GE/10G LAN/40GE/100GE</li> </ul> <p>\u6267\u884c\u547d\u4ee4 carrier down-hold-time interval\uff0c\u8bbe\u7f6e\u63a5\u53e3\u72b6\u6001\u8f6c\u4e3aDown\u540e\uff0c\u7cfb\u7edf\u7684\u54cd\u5e94\u6291\u5236\u65f6\u95f4\u3002\u8be6\u89c1\uff1a\u914d\u7f6e\u63a5\u53e3Up/Down\u54cd\u5e94\u6291\u5236\u65f6\u95f4\u3002</p> <ul> <li>\u5176\u4ed6\u63a5\u53e3</li> </ul> <p>\u6267\u884c\u547d\u4ee4 transmission-alarm holdoff-timer holdoff-time\uff0c\u4f7f\u80fd\u8bbe\u5907\u7ba1\u7406\u6a21\u5757\u8fc7\u6ee4\u63a5\u53e3\u72b6\u6001\u53d8\u4e3aDown\u7684\u544a\u8b66\u4fe1\u606f\u7684\u529f\u80fd\uff0c\u5e76\u8bbe\u7f6e\u8fc7\u6ee4\u65f6\u95f4\u95f4\u9694\u3002\u8be6\u89c1\uff1a\u8bbe\u7f6e\u4f20\u8f93\u544a\u8b66\u7684\u8fc7\u6ee4\u65f6\u95f4\u95f4\u9694\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/04%20%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#23","title":"2.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u5f71\u54cd","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u6ce2\u5206\u3001\u4f20\u8f93\u8bbe\u5907\u5012\u6362\u5bfc\u81f4\u8bbe\u5907\u63a5\u53e3\u72b6\u6001\u9891\u7e41\u53d8\u5316\u5f15\u8d77\u9707\u8361\uff0c\u4ece\u800c\u5bfc\u81f4\u63a5\u53e3\u4e0a\u627f\u8f7d\u7684\u4e1a\u52a1\u4e2d\u65ad\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c\u547d\u4ee4 display current-configuration [ interface [ interface-type [ interface-number ] ] ]\uff0c\u67e5\u770b\u63a5\u53e3\u7684Up/Down\u54cd\u5e94\u6291\u5236\u65f6\u95f4\u3002\u4ee5GE\u63a5\u53e3\u4e3a\u4f8b\uff0c\u67e5\u770b carrier down-hold-time \u540e\u7684\u53c2\u6570\u662f\u5426\u4e3a\u201c0\u201d\uff1a</p> <pre><code>&lt;HUAWEI&gt; display current-configuration interface GigabitEthernet 1/0/0\ninterface GigabitEthernet1/0/0\ncarrier down-hold-time 100\ncarrier up-hold-time 10\n</code></pre> <p>\u5728\u7528\u6237\u89c6\u56fe\u4e0b\uff0c\u6267\u884c\u547d\u4ee4 display transmission-alarm configuration [ interface-type interface-number ]\uff0c\u67e5\u770b\u6307\u5b9a\u63a5\u53e3\u7684\u544a\u8b66\u5b9a\u5236\u4e0e\u6291\u5236\u914d\u7f6e\u3002\u4ee5GE\u63a5\u53e3\u4e3a\u4f8b\uff0c\u67e5\u770b Holdtime \u540e\u7684\u53c2\u6570\u662f\u5426\u4e3a\u201c0\u201d\uff1a</p> <pre><code>&lt;HUAWEI&gt; display transmission-alarm configuration gigabitethernet 1/2/0\nInterface: GigabitEthernet1/2/0\nFilter function: enabled (Holdtime is 55)\nDamping function: enabled\nSuppress value: 999\nCeiling value: 6000\nReuse value: 500\nOK half decay value: 500\nNG half decay value: 1000 \n</code></pre> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u540c\u914d\u7f6e\u89c4\u8303\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/","title":"Eth Trunk\u7684\u914d\u7f6e\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#1-e-trunk","title":"1. \u90e8\u7f72E-Trunk\u7684\u4e24\u53f0\u8bbe\u5907\u5168\u5c40\u914d\u7f6e\u9700\u5b8c\u5168\u4e00\u81f4","text":"<p>\u5bf9\u4e8eEth-Trunk\u914d\u7f6e\u9759\u6001LACP\u3001Eth-Trunk\u52a0\u5165E-Trunk\u573a\u666f\uff0c\u8981\u6c42\u90e8\u7f72E-Trunk\u7684\u4e24\u53f0\u8bbe\u5907\u5168\u5c40\u914d\u7f6e**lacp e-trunk system-id** system-id*\u548c**lacp e-trunk priority* *priority*\u547d\u4ee4\u5e76\u4e14\u914d\u7f6e\u5b8c\u5168\u4e00\u81f4\uff0c\u5426\u5219\u5b58\u5728E-Trunk\u6210\u5458\u53e3Eth-Trunk\u72b6\u6001\u548c\u9884\u671f\u4e0d\u4e00\u81f4\u7684\u98ce\u9669\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#11","title":"1.1. \u5e94\u7528\u573a\u666f","text":"<p>\u5982 \u56fe1-6 \u6240\u793a\uff0cEth-Trunk\u914d\u7f6e\u9759\u6001LACP\u6a21\u5f0f\uff0c\u5e76\u4e14\u52a0\u5165E-Trunk\u3002</p> <p>\u56fe1-6 LACP E-Trunk\u5168\u5c40\u914d\u7f6e\u4e0d\u5bf9\u79f0\u5bfc\u81f4Eth-Trunk\u72b6\u6001\u9519\u8bef\u7ec4\u7f51\u56fe</p> img <p>\u9759\u6001LACP\u6a21\u5f0f\u7684Eth-Trunk\u63a5\u53e3\u573a\u666f\u8bf7\u53c2\u89c1NE40E&amp;NE80E\u652f\u6301\u7684Eth-Trunk\u63a5\u53e3\u7279\u6027\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#12","title":"1.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u914d\u7f6e\u9759\u6001LACP\u6a21\u5f0f\u7684Eth-Trunk\u63a5\u53e3\uff0c\u5e76\u4e14\u5c06Eth-Trunk\u63a5\u53e3\u52a0\u5165E-Trunk\u540e\uff0c\u90e8\u7f72E-Trunk\u7684PE1\u548cPE2\u8bbe\u5907\u7cfb\u7edf\u89c6\u56fe\u4e0b\u5747\u914d\u7f6e**lacp e-trunk system-id** system-id*\u548c**lacp e-trunk priority* *priority*\u547d\u4ee4\uff0c\u4e14\u4e24\u53f0\u8bbe\u5907\u7684*system-id*\u548c*priority*\u53c2\u6570\u53d6\u503c\u4e00\u81f4\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#13","title":"1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u90e8\u7f72E-Trunk\u7684PE1\u548cPE2\u8bbe\u5907\u7684**System ID**\u548c**System Priority**\u4fe1\u606f\u4e0d\u4e00\u81f4\uff0c\u4f1a\u5bfc\u81f4E-Trunk\u6210\u5458\u53e3Eth-Trunk\u72b6\u6001\u548c\u9884\u671f\u4e3b\u5907\u4e0d\u4e00\u81f4\u7684\u98ce\u9669\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>Eth-Trunk\u7684\u4e24\u7aef\u8bbe\u5907\u4e0a\uff0c\u4efb\u610f\u89c6\u56fe\u4e0b\u6267\u884c**display eth-trunk** *eth-trunk-id*\u547d\u4ee4\u67e5\u770b**System ID**\u548c**System Priority**\u56de\u663e\u4fe1\u606f\u3002</p> <p>\u5982\u4e0b\u56de\u663e\u4fe1\u606f\u8bf4\u660ePE1\u548cPE2\u8bbe\u5907\u4e0a\uff0c\u7cfb\u7edfID **System ID**\u4e00\u81f4\uff0c\u4f46\u662f\u7cfb\u7edf\u4f18\u5148\u7ea7**System Priority**\u4e0d\u4e00\u81f4\u3002</p> <p># \u67e5\u770bPE1\u8bbe\u5907\uff0c\u53d1\u73b0Eth-Trunk1\u52a0\u5165\u4e86E-Trunk1\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] interface eth-trunk 1\n[HUAWEI-Eth-Trunk1] display this\n#\ninterface Eth-Trunk1\n mode lacp-static\n e-trunk 1  \n#\n[HUAWEI] display eth-trunk 1\nEth-Trunk1's state information is:\nLocal:\nLAG ID: 1                   WorkingMode: STATIC                               \nPreempt Delay: Disabled     Hash arithmetic: According to flow                \nSystem Priority: 100        System ID: 0001-0001-0001                         \nLeast Active-linknumber: 1  Max Active-linknumber: 16                         \nOperate status: down        Number Of Up Port In Trunk: 0                     \n--------------------------------------------------------------------------------\nActorPortName          Status   PortType PortPri PortNo PortKey PortState Weight\n\nPartner:\n--------------------------------------------------------------------------------\nActorPortName          SysPri   SystemID        PortPri PortNo PortKey PortState\n</code></pre> <p># \u67e5\u770bPE2\u8bbe\u5907\uff0c\u53d1\u73b0Eth-Trunk1\u52a0\u5165\u4e86E-Trunk1\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] interface eth-trunk 1\n[HUAWEI-Eth-Trunk1] display this \n#\ninterface Eth-Trunk1\n mode lacp-static\n e-trunk 1  \n#\n[HUAWEI] display eth-trunk 1\nEth-Trunk1's state information is:\nLocal:\nLAG ID: 1                   WorkingMode: STATIC                               \nPreempt Delay: Disabled     Hash arithmetic: According to flow                \nSystem Priority: 101        System ID: 0001-0001-0001                         \nLeast Active-linknumber: 1  Max Active-linknumber: 16                         \nOperate status: up        Number Of Up Port In Trunk: 0                     \n--------------------------------------------------------------------------------\nActorPortName          Status   PortType PortPri PortNo PortKey PortState Weight\n\nPartner:\n--------------------------------------------------------------------------------\nActorPortName          SysPri   SystemID        PortPri PortNo PortKey PortState\n</code></pre> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u95ee\u9898\u53d1\u751f\u540e\uff0cPE1\u548cPE2\u8bbe\u5907\u5206\u522b\u6267\u884c**lacp e-trunk system-id** system-id*\u548c**lacp e-trunk priority* *priority*\u547d\u4ee4\uff0c\u4fee\u6539\u4e24\u53f0\u8bbe\u5907\u7684*system-id*\u548c*priority*\u53c2\u6570\u53d6\u503c\u4fee\u6539\u4e3a\u4e00\u81f4\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#2-eth-trunklacpbfd","title":"2. Eth-Trunk\u9700\u914d\u7f6eLACP\u6a21\u5f0f\u6216\u6210\u5458\u63a5\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd","text":"<p>\u5728Eth-Trunk\u63a5\u53e3\u4e0b\u5b58\u5728\u6210\u5458\u63a5\u53e3\u6ca1\u6709\u7ed1\u5b9aBFD\u4f1a\u8bdd\uff0c\u4e14\u8be5Eth-Trunk\u63a5\u53e3\u7684\u5de5\u4f5c\u6a21\u5f0f\u4e0d\u662f\u9759\u6001LACP\u6a21\u5f0f\uff0c\u94fe\u8def\u51fa\u73b0\u6545\u969c\u65e0\u6cd5\u53ca\u65f6\u53d1\u73b0\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#21","title":"2.1. \u5e94\u7528\u573a\u666f","text":"<p>\u8bbe\u5907\u914d\u7f6eEth-Trunk\u63a5\u53e3\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#22","title":"2.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u914d\u7f6eEth-Trunk\u63a5\u53e3\u4e3a\u9759\u6001LACP\u6a21\u5f0f\uff0c\u6216\u8005\u914d\u7f6eEth-Trunk\u6210\u5458\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd\u3002</p> <ul> <li>\u5f53\u91c7\u7528\u914d\u7f6eEth-Trunk\u63a5\u53e3\u4e3a\u9759\u6001LACP\u6a21\u5f0f\u65f6\uff0c\u5efa\u8baeLACP\u8d85\u65f6\u65f6\u95f4\u8bbe\u4e3a\u9ed8\u8ba4\u503c(3s)\u3002</li> <li>\u5f53\u91c7\u7528\u914d\u7f6eEth-Trunk\u6210\u5458\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u9700\u8981\u5c06\u6240\u6709\u7684Eth-Trunk\u6210\u5458\u53e3\u90fd\u7ed1\u5b9aBFD\u4f1a\u8bdd\uff0c\u540c\u65f6\u5efa\u8bae\u914d\u7f6eBFD\u56de\u5207\u5ef6\u65f6(WTR)\u3002</li> </ul>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#23","title":"2.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>Eth-Trunk\u672a\u914d\u7f6e\u4e3aLACP\u6a21\u5f0f\u4e14\u6210\u5458\u63a5\u53e3\u6ca1\u6709\u7ed1\u5b9aBFD\u4f1a\u8bdd\uff0cEth-Trunk\u6210\u5458\u53e3\u53d1\u751f\u94fe\u8def\u6545\u969c\u65f6\u4e0d\u80fd\u53ca\u65f6\u53d1\u73b0\uff0c\u4e1a\u52a1\u4e0d\u80fd\u53ca\u65f6\u5207\u6362\u3002\u5982\u679cEth-Trunk\u6210\u5458\u63a5\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd\u65f6\uff0c\u5efa\u8bae\u4f7f\u80fdBFD\u56de\u5207\u5ef6\u65f6\uff08WTR\uff09\u529f\u80fd\uff0c\u907f\u514d\u56e0BFD\u4f1a\u8bdd\u9891\u7e41\u9707\u8361\uff0c\u5bfc\u81f4Eth-Trunk\u6210\u5458\u63a5\u53e3\u9891\u7e41\u9707\u8361\uff0c\u5f71\u54cd\u4e1a\u52a1\u6536\u655b\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ol> <li> <p>\u67e5\u770bEth-Trunk\u63a5\u53e3\u662f\u5426\u914d\u7f6e\u4e86\u9759\u6001LACP\u6a21\u5f0f\u3002</p> <p>\u5982\u4e0b\u56de\u663e\u8868\u793aEth-Trunk1\u914d\u7f6e\u4e86\u9759\u6001LACP\u6a21\u5f0f\uff0c\u800cEth-Trunk2\u3001Eth-Trunk3\u672a\u914d\u7f6e\u9759\u6001LACP\u6a21\u5f0f\uff0cEth-Trunk2\u3001Eth-Trunk3\u53ef\u80fd\u5b58\u5728\u672c\u6848\u4f8b\u63cf\u8ff0\u7684\u95ee\u9898\uff0c\u9700\u8981\u67e5\u770bEth-Trunk2\u3001Eth-Trunk3\u7684\u6210\u5458\u53e3\u662f\u5426\u7ed1\u5b9a\u4e86BFD\u4f1a\u8bdd\u3002</p> <pre><code>&lt;HUAWEI&gt; display current-configuration interface Eth-Trunk\n\u2026\u2026\n#\ninterface Eth-Trunk1\nmode lacp-static\n#\ninterface Eth-Trunk2\n#\ninterface Eth-Trunk3\n#\n</code></pre> </li> <li> <p>\u67e5\u770bEth-Trunk\u6210\u5458\u53e3\u662f\u5426\u7ed1\u5b9aBFD\u4f1a\u8bdd\u3002</p> <p>\u5982\u4e0b\u56de\u663e\u8868\u793aEth-Trunk2\u7684\u6210\u5458\u53e3GigabitEthernet1/0/0\u7ed1\u5b9a\u4e86BFD\u4f1a\u8bdd\uff0c\u800c\u5176\u6210\u5458\u53e3GigabitEthernet3/0/0\u672a\u7ed1\u5b9a\u4e86BFD\u4f1a\u8bdd\uff1bEth-Trunk3\u7684\u4e24\u4e2a\u6210\u5458\u53e3\u867d\u7136\u7ed1\u5b9a\u4e86BFD\u4f1a\u8bdd\uff0c\u4f46\u672a\u914d\u7f6eBFD\u56de\u5207\u5ef6\u65f6\u3002</p> <p>\u56e0\u6b64\uff0cEth-Trunk2\u3001Eth-Trunk3\u90fd\u5b58\u5728\u672c\u6848\u4f8b\u63cf\u8ff0\u7684\u95ee\u9898\u3002</p> <p># \u67e5\u770bEth-Trunk\u7684\u6210\u5458\u53e3\u3002</p> <pre><code>&lt;HUAWEI&gt; display eth-trunk 2\nEth-Trunk2's state information is: \nWorkingMode: NORMAL         Hash arithmetic: According to flow                 \nLeast Active-linknumber: 1  Max Bandwidth-affected-linknumber: 16              \nOperate status: up          Number Of Up Port In Trunk: 2                      \n-------------------------------------------------------------------------------- \nPortName                      Status      Weight  \nGigabitEthernet1/0/0             Up          1   \nGigabitEthernet3/0/0             Up          1   \n</code></pre> <pre><code>&lt;HUAWEI&gt; display eth-trunk 3\nEth-Trunk3's state information is: \nWorkingMode: NORMAL         Hash arithmetic: According to flow                 \nLeast Active-linknumber: 1  Max Bandwidth-affected-linknumber: 16              \nOperate status: up          Number Of Up Port In Trunk: 2                      \n-------------------------------------------------------------------------------- \nPortName                      Status      Weight  \nGigabitEthernet2/0/0             Up          1    \nGigabitEthernet4/0/0             Up          1   \n</code></pre> <p># \u67e5\u770bEth-Trunk\u6240\u6709\u6210\u5458\u53e3\u662f\u5426\u7ed1\u5b9aBFD\u4f1a\u8bdd</p> <pre><code>&lt;HUAWEI&gt; display current-configuration configuration bfd-session\n#\nbfd eth-trunk2-1 bind peer-ip default-ip interface GigabitEthernet1/0/0\ndiscriminator local 6013\ndiscriminator remote 6213\nwtr 10\nprocess-interface-status\ncommit\n//\u6210\u5458\u53e3GigabitEthernet3/0/0\u672a\u7ed1\u5b9aBFD\n#\nbfd eth-trunk3-1 bind peer-ip default-ip interface GigabitEthernet2/0/0 \ndiscriminator local 6013 \ndiscriminator remote 6213 \nprocess-interface-status \ncommit \n//BFD\u672a\u914d\u7f6e\u56de\u5207\u5ef6\u65f6\n#\nbfd eth-trunk3-2 bind peer-ip default-ip interface GigabitEthernet4/0/0 \ndiscriminator local 6013 \ndiscriminator remote 6213 \nprocess-interface-status \ncommit \n//BFD\u672a\u914d\u7f6e\u56de\u5207\u5ef6\u65f6\n#\n</code></pre> </li> </ol> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u914d\u7f6eEth-Trunk 1\u3001Eth-Trunk 2\u3001Eth-Trunk 3\u63a5\u53e3\u4e3a\u9759\u6001LACP\u6a21\u5f0f\uff0c\u6216\u8005\u914d\u7f6eEth-Trunk 2\u3001Eth-Trunk 3\u6210\u5458\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd\u3002</p> <ul> <li> <p>\u914d\u7f6eEth-Trunk\u63a5\u53e3\u4e3aLACP\u6a21\u5f0f\u3002</p> <p># \u914d\u7f6eEth-Trunk 1\u63a5\u53e3\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] interface eth-trunk 1\n[HUAWEI-Eth-Trunk1] mode lacp-static\n[HUAWEI-Eth-Trunk1] quit\n</code></pre> <p># \u914d\u7f6eEth-Trunk 2\u63a5\u53e3\u3002</p> <pre><code>[HUAWEI] interface eth-trunk 2\n[HUAWEI-Eth-Trunk2] mode lacp-static\n[HUAWEI-Eth-Trunk2] quit\n</code></pre> <p># \u914d\u7f6eEth-Trunk 3\u63a5\u53e3\u3002</p> <pre><code>[HUAWEI] interface eth-trunk 3\n[HUAWEI-Eth-Trunk3] mode lacp-static\n</code></pre> </li> <li> <p>\u914d\u7f6eEth-Trunk\u6210\u5458\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd\u3002</p> <p># \u914d\u7f6eEth-Trunk 2\u63a5\u53e3\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd eth-trunk2-1 bind peer-ip default-ip interface GigabitEthernet1/0/0\n[HUAWEI-bfd-session-eth-trunk2-1] wtr 10\n[HUAWEI-bfd-session-eth-trunk2-1] process-interface-status\n[HUAWEI-bfd-session-eth-trunk2-1] quit\n[HUAWEI] bfd eth-trunk2-2 bind peer-ip default-ip interface GigabitEthernet3/0/0\n[HUAWEI-bfd-session-eth-trunk2-2] wtr 10 \n[HUAWEI-bfd-session-eth-trunk2-2] process-interface-status\n</code></pre> <p># \u914d\u7f6eEth-Trunk 3\u63a5\u53e3\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd reth-trunk3-1 bind peer-ip default-ip interface GigabitEthernet2/0/0\n[HUAWEI-bfd-session-eth-trunk3-1] wtr 10\n[HUAWEI-bfd-session-eth-trunk3-1] process-interface-status\n[HUAWEI-bfd-session-eth-trunk3-1] quit\n[HUAWEI] bfd eth-trunk3-2 bind peer-ip default-ip interface GigabitEthernet4/0/0\n[HUAWEI-bfd-session-eth-trunk3-2] wtr 10 \n[HUAWEI-bfd-session-eth-trunk3-2] process-interface-status\n</code></pre> </li> </ul>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#3-eth-trunk","title":"3. \u4e00\u7aef\u672a\u52a0\u5165Eth-Trunk\u5bfc\u81f4\u6d41\u91cf\u4e0d\u901a","text":"<p>\u5f53\u94fe\u8def\u4e00\u7aef\u8bbe\u5907\u7684\u63a5\u53e3\u52a0\u5165\u5230Eth-Trunk\u4e2d\uff0c\u53e6\u4e00\u7aef\u8bbe\u5907\u7684\u63a5\u53e3\u672a\u52a0\u5165Eth-Trunk\u65f6\uff0c\u4f1a\u5bfc\u81f4\u6d41\u91cf\u4e0d\u901a\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#31","title":"3.1. \u5e94\u7528\u573a\u666f","text":"<p>\u4e24\u53f0\u8def\u7531\u5668\u901a\u8fc73\u4e2aGE\u63a5\u53e3\u76f4\u8fde\uff0c\u5c06\u8fd93\u4e2aGE\u63a5\u53e3\u6346\u7ed1\uff0c\u5f62\u6210\u4e00\u4e2aEth-Trunk\u63a5\u53e3\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u589e\u52a0\u5e26\u5bbd\u548c\u63d0\u9ad8\u53ef\u9760\u6027\u7684\u76ee\u7684\u3002</p> <p>\u56fe1-7 Eth-Trunk\u4f7f\u7528\u573a\u666f\u56fe</p> img"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#32","title":"3.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u5bf9\u63a5Eth-Trunk\u7684\u4e24\u53f0\u8bbe\u5907\uff0c\u4e24\u53f0\u8bbe\u5907\u4e0a\u7684\u5bf9\u63a5\u63a5\u53e3\u9700\u8981\u5168\u90e8\u52a0\u5165\u5230Eth-Trunk\u4e2d\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/Eth-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#33","title":"3.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u5982\u679c\u51fa\u73b0\u94fe\u8def\u4e00\u7aef\u63a5\u53e3\u52a0\u5165\u5230Eth-Trunk\u4e2d\uff0c\u4f46\u662f\u53e6\u4e00\u7aef\u6ca1\u6709\u52a0\u5165\uff0c\u6570\u636e\u6d41\u91cf\u8d70\u5230\u8be5\u94fe\u8def\u4e0a\u7684\u8bdd\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6d41\u91cf\u4e0d\u901a\u3002</p> <p>\u4e1a\u52a1\u73b0\u8c61\u5982\u4e0b\uff1a</p> <p>\u63a5\u53e3\u5747\u52a0\u5165\u5230Eth-Trunk\u7684\u8bbe\u5907\u5728\u8f6c\u53d1\u6d41\u91cf\u65f6\u4f1a\u5c06\u62a5\u6587\u5206\u62c5\u5230\u5168\u90e8\u63a5\u53e3\u4e0a\uff0c\u4f46\u662f\u5bf9\u7aef\u5b58\u5728\u63a5\u53e3\u6ca1\u6709\u52a0\u5165\u5230Eth-Trunk\uff0c\u90a3\u4e48\u5bf9\u7aef\u672a\u52a0\u5165\u5230Eth-Trunk\u7684\u63a5\u53e3\u65e0\u6cd5\u63a5\u6536\u3001\u8f6c\u53d1\u6d41\u91cf\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <p>\u5728\u4e24\u4fa7\u8bbe\u5907\u4e0a\u67e5\u770b\u662f\u5426\u5bf9\u63a5\u7684\u63a5\u53e3\u90fd\u52a0\u5165\u5230\u4e86Eth-Trunk\u4e2d\u3002</p> <pre><code>&lt;Device1&gt; display eth-trunk 10\nEth-Trunk10's state information is:                                                                                                 \nWorkingMode: NORMAL         Hash arithmetic: According to flow                                                                      \nLeast Active-linknumber: 1  Max Bandwidth-affected-linknumber: 16                                                                   \nOperate status: up          Number Of Up Port In Trunk: 3                                                                           \n--------------------------------------------------------------------------------                                                    \nPortName                      Status      Weight                                                                                    \nGigabitEthernet1/0/0          Up          1                                                                                         \nGigabitEthernet1/0/1          Up          1                                                                                         \nGigabitEthernet2/0/0          Up          1\n&lt;Device2&gt; display eth-trunk 10\nEth-Trunk10's state information is:                                                                                                 \nWorkingMode: NORMAL         Hash arithmetic: According to flow                                                                      \nLeast Active-linknumber: 1  Max Bandwidth-affected-linknumber: 16                                                                   \nOperate status: up          Number Of Up Port In Trunk: 1                                                                           \n--------------------------------------------------------------------------------                                                    \nPortName                      Status      Weight                                                                                    \nGigabitEthernet1/0/0          Up          1\n</code></pre> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u5c06\u5bf9\u63a5\u63a5\u53e3\u52a0\u5165\u5230Eth-Trunk\u4e2d\u3002</p> <pre><code>&lt;Device2&gt; system-view\n[Device2] interface GigabitEthernet1/0/1\n[Device2-GigabitEthernet1/0/1] eth-trunk 10\n[Device2-GigabitEthernet1/0/1] quit\n[Device2] interface GigabitEthernet2/0/0\n[Device2-GigabitEthernet2/0/0] eth-trunk 10\n[Device2-GigabitEthernet2/0/0] quit\n</code></pre>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/IP-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/","title":"IP Trunk\u7684\u914d\u7f6e\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/IP-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#1-ip-trunkbfd","title":"1. IP-Trunk\u9700\u914d\u7f6e\u6210\u5458\u63a5\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd","text":"<p>\u5728IP-Trunk\u63a5\u53e3\u4e0b\u5b58\u5728\u6210\u5458\u63a5\u53e3\u6ca1\u6709\u7ed1\u5b9aBFD\u4f1a\u8bdd\uff0c\u94fe\u8def\u51fa\u73b0\u6545\u969c\u65e0\u6cd5\u53ca\u65f6\u53d1\u73b0\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/IP-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#11","title":"1.1. \u5e94\u7528\u573a\u666f","text":"<p>\u8bbe\u5907\u914d\u7f6eIP-Trunk\u63a5\u53e3\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/IP-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#12","title":"1.2. \u914d\u7f6e\u89c4\u8303","text":"<p>\u914d\u7f6eIP-Trunk\u6210\u5458\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd\u3002</p> <ul> <li>\u5f53\u91c7\u7528\u914d\u7f6eIP-Trunk\u6210\u5458\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u9700\u8981\u5c06\u6b64IP-Trunk\u7684\u6240\u6709\u6210\u5458\u53e3\u90fd\u7ed1\u5b9aBFD\u4f1a\u8bdd\u3002</li> </ul> <p>\u8bf4\u660e\uff1a</p> <p>\u5efa\u8bae\u914d\u7f6eBFD\u4f1a\u8bdd\u7684\u7b49\u5f85\u6062\u590d\u65f6\u95f4(WTR)\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/IP-Trunk%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#13","title":"1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>IP-Trunk\u6210\u5458\u63a5\u53e3\u6ca1\u6709\u7ed1\u5b9aBFD\u4f1a\u8bdd\uff0cIP-Trunk\u6210\u5458\u53e3\u53d1\u751f\u94fe\u8def\u6545\u969c\u65f6\u4e0d\u80fd\u53ca\u65f6\u53d1\u73b0\uff0c\u4e1a\u52a1\u4e0d\u80fd\u53ca\u65f6\u5207\u6362\u3002</p> <p>\u5982\u679cIP-Trunk\u6210\u5458\u63a5\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd\u65f6\uff0c\u5efa\u8bae\u4f7f\u80fdBFD\u4f1a\u8bdd\u7684\u7b49\u5f85\u6062\u590d\u65f6\u95f4\uff08WTR\uff09\u529f\u80fd\uff0c\u907f\u514d\u56e0BFD\u4f1a\u8bdd\u9891\u7e41\u9707\u8361\uff0c\u5f71\u54cd\u4e1a\u52a1\u6536\u655b\u3002</p> <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ol> <li> <p>\u67e5\u770bIP-Trunk\u6210\u5458\u53e3\u662f\u5426\u7ed1\u5b9aBFD\u4f1a\u8bdd\u3002</p> <p>\u5982\u4e0b\u56de\u663e\u8868\u793a\uff1a</p> <ul> <li>IP-Trunk1\u7684\u6210\u5458\u53e3POS1/0/0\u7ed1\u5b9a\u4e86BFD\u4f1a\u8bdd\u4e14\u914d\u7f6e\u4e86WTR\u529f\u80fd</li> <li>IP-Trunk1\u7684\u6210\u5458\u53e3POS1/0/1\u7ed1\u5b9a\u4e86BFD\u4f1a\u8bdd\uff0c\u4f46\u672a\u914d\u7f6eWTR\u529f\u80fd\u3002</li> <li>IP-Trunk2\u7684\u4e24\u4e2a\u6210\u5458\u53e3\u5747\u672a\u7ed1\u5b9aBFD\u4f1a\u8bdd\u3002</li> </ul> <p>\u56e0\u6b64\uff0cIP-Trunk1\u3001IP-Trunk2\u90fd\u5b58\u5728\u672c\u6848\u4f8b\u63cf\u8ff0\u7684\u95ee\u9898\u3002</p> <p># \u67e5\u770bIP-Trunk\u7684\u6210\u5458\u53e3\u3002</p> <pre><code>&lt;HUAWEI&gt; display interface ip-trunk 1\nIp-Trunk1 current state : DOWN                                                  \nLine protocol current state : DOWN                                              \nLink quality grade : --                                                         \nDescription:HUAWEI, Ip-Trunk1 Interface                                         \nRoute Port,Hash arithmetic : According to flow,Maximal BW: 311M, Current BW: 0M,\nThe Maximum Transmit Unit is 4470                                              \nInternet protocol processing : disabled Link layer protocol is nonstandard HDLC \nPhysical is IP_TRUNK                                                            \nCurrent system time: 2017-03-28 17:10:01-08:00                                  \n    Last 300 seconds input rate 0 bits/sec, 0 packets/sec                       \n    Last 300 seconds output rate 0 bits/sec, 0 packets/sec                      \n    Realtime 0 seconds input rate 0 bits/sec, 0 packets/sec                     \n    Realtime 0 seconds output rate 0 bits/sec, 0 packets/sec                    \n    Input: 0 packets,0 bytes                                                    \n        0 unicast,0 broadcast,0 multicast                                    \n        0 errors,0 unknownprotocol                                           \n    Output:0 packets,0 bytes                                                    \n        0 unicast,0 broadcast,0 multicast                                    \n        0 errors                                                             \n    Input bandwidth utilization  :    0%                                        \n    Output bandwidth utilization :    0%                                        \n-----------------------------------------------------                           \nPortName                      Status      Weight                                \n-----------------------------------------------------                           \nPos1/0/0                      DOWN        1                                     \nPos1/0/1                      DOWN        1                                     \n-----------------------------------------------------            \n&lt;HUAWEI&gt; display interface ip-trunk 2\nIp-Trunk2 current state : DOWN                                                  \nLine protocol current state : DOWN                                              \nLink quality grade : --                                                         \nDescription:HUAWEI, Ip-Trunk2 Interface                                         \nRoute Port,Hash arithmetic : According to flow,Maximal BW: 311M, Current BW: 0M,\nThe Maximum Transmit Unit is 4470                                              \nInternet protocol processing : disabled Link layer protocol is nonstandard HDLC \nPhysical is IP_TRUNK                                                            \nCurrent system time: 2017-03-28 17:15:51-08:00                                  \n    Last 300 seconds input rate 0 bits/sec, 0 packets/sec                       \n    Last 300 seconds output rate 0 bits/sec, 0 packets/sec                      \n    Realtime 99 seconds input rate 0 bits/sec, 0 packets/sec                    \n    Realtime 99 seconds output rate 0 bits/sec, 0 packets/sec                   \n    Input: 0 packets,0 bytes                                                    \n        0 unicast,0 broadcast,0 multicast                                    \n        0 errors,0 unknownprotocol                                           \n    Output:0 packets,0 bytes                                                    \n        0 unicast,0 broadcast,0 multicast                                    \n        0 errors                                                             \n    Input bandwidth utilization  :    0%                                        \n    Output bandwidth utilization :    0%                                        \n-----------------------------------------------------                           \nPortName                      Status      Weight                                \n-----------------------------------------------------                           \nPos1/0/2                      DOWN        1                                     \nPos1/0/3                      DOWN        1                                     \n-----------------------------------------------------                           \nThe Number of Ports in Trunk : 2                                                \nThe Number of UP Ports in Trunk : 0                                             \n</code></pre> <p># \u67e5\u770bIP-Trunk\u6240\u6709\u6210\u5458\u53e3\u662f\u5426\u7ed1\u5b9aBFD\u4f1a\u8bdd</p> <pre><code>&lt;HUAWEI&gt; display current-configuration configuration bfd-session\n#                                                                               \nbfd BFD-IPtrunk1-1 bind peer-ip default-ip interface Pos1/0/0                   \ndiscriminator local 6013                                                       \ndiscriminator remote 6213                                                      \nwtr 10                                                                         \nprocess-interface-status                                                       \ncommit                                                                         \n#                                                                               \n//IP-Trunk\u6210\u5458\u53e3Pos1/0/0\u7ed1\u5b9a\u4e86BFD\u4f1a\u8bdd\u4e14\u914d\u7f6e\u4e86BFD\u4f1a\u8bdd\u7684\u7b49\u5f85\u6062\u590d\u65f6\u95f4\nbfd BFD-IPtrunk1-2 bind peer-ip default-ip interface Pos1/0/1                   \ndiscriminator local 6010                                                       \ndiscriminator remote 6213                                                      \nprocess-interface-status                                                       \ncommit                                                                         \n#\n//IP-Trunk\u6210\u5458\u53e3Pos1/0/1\u672a\u914d\u7f6eBFD\u4f1a\u8bdd\u7684\u7b49\u5f85\u6062\u590d\u65f6\u95f4  \n//IP-trunk2\u7684\u6210\u5458Pos1/0/2\u3001Pos1/0/3\u672a\u7ed1\u5b9aBFD                                      \nreturn   \n</code></pre> </li> </ol> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u914d\u7f6eIP-Trunk\u6210\u5458\u53e3\u7ed1\u5b9aBFD\u4f1a\u8bdd\uff0c\u5e76\u914d\u7f6eBFD\u4f1a\u8bdd\u7684\u7b49\u5f85\u6062\u590d\u65f6\u95f4\u3002</p> <ul> <li> <p>IP-Trunk1\u7684\u6210\u5458\u53e3POS1/0/1\u914d\u7f6eBFD\u4f1a\u8bdd\u7684\u7b49\u5f85\u6062\u590d\u65f6\u95f4\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd BFD-IPtrunk1-2\n[HUAWEI-bfd-session-BFD-IPtrunk1-2] wtr 10\n</code></pre> </li> <li> <p>IP-Trunk2\u7684\u6210\u5458\u53e3POS1/0/2\u53caPOS1/0/3\u7ed1\u5b9aBFD\u4f1a\u8bdd\u4e14\u914d\u7f6eBFD\u4f1a\u8bdd\u7684\u7b49\u5f85\u6062\u590d\u65f6\u95f4\u3002</p> <pre><code>&lt;HUAWEI&gt; system-view\n[HUAWEI] bfd BFD-Iptrunk2-1 bind peer-ip default-ip interface Pos1/0/2\n[HUAWEI-bfd-session-BFD-Iptrunk2-1] discriminator local 6000\n[HUAWEI-bfd-session-BFD-Iptrunk2-1] discriminator remote 6001\n[HUAWEI-bfd-session-BFD-Iptrunk2-1] wtr 10\n[HUAWEI-bfd-session-BFD-Iptrunk2-1] process-interface-status\n[HUAWEI-bfd-session-BFD-Iptrunk2-1] commit\n[HUAWEI-bfd-session-BFD-Iptrunk2-1] quit\n[HUAWEI] bfd BFD-Iptrunk2-2 bind peer-ip default-ip interface Pos1/0/3\n[HUAWEI-bfd-session-BFD-Iptrunk2-2] discriminator local 6002\n[HUAWEI-bfd-session-BFD-Iptrunk2-2] discriminator remote 6003\n[HUAWEI-bfd-session-BFD-Iptrunk2-2] wtr 10\n[HUAWEI-bfd-session-BFD-Iptrunk2-2] process-interface-status\n[HUAWEI-bfd-session-BFD-Iptrunk2-2] commit\n</code></pre> </li> </ul>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/MAC%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/","title":"MAC\u7684\u914d\u7f6e\u89c4\u8303","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/MAC%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#1-macarp","title":"1. \u4e8c\u5c42\u8bbe\u5907\u4e0a\u884c\u6d41\u91cf\u5c11\u7684\u573a\u666f\u4e0bMAC\u8001\u5316\u65f6\u95f4\u9700\u8981\u914d\u7f6e\u5927\u4e8e\u6216\u63a5\u8fd1ARP\u8001\u5316\u65f6\u95f4","text":"<p>\u4e8c\u5c42\u8bbe\u5907\u4e0a\u884c\u6d41\u91cf\u5c11\u7684\u573a\u666f\u4e0bMAC\u8001\u5316\u65f6\u95f4\u9700\u8981\u914d\u7f6e\u5927\u4e8e\u6216\u63a5\u8fd1ARP\u8001\u5316\u65f6\u95f4</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/MAC%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#11","title":"1.1. \u5e94\u7528\u573a\u666f","text":"img <p>\u8bf4\u660e\uff1a</p> <p>\u6b64\u573a\u666f\u4ec5LPUF-50/LPUI-21-L/LPUF-50-L/LPUF-51/LPUI-51/LPUS-51/LPUF-101/LPUI-101/LPUS-101/LPUI-51-E/LPUF-51-E/LPUF-102/LPUF-102-E/LPUI-102-E/LPUF-120/LPUF-120-E/LPUI-120/LPUS-120/LPUF-240/LPUF-240-E/LPUI-240/LPUI-52-E/LPUI-120-E/LPUF-200-E\u5355\u677f\u6d89\u53ca\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0cDevice\u4e0b\u67093\u4e2a\u4e8c\u5c42\u8bbe\u5907Device A\u3001Device B\u3001Device C\uff0c\u7531GE1/0/0\u3001GE2/0/0\u3001GE3/0/0\u5206\u522b\u8fde\u63a5\uff0cGE1/0/0\u3001GE2/0/0\u3001GE3/0/0\u52a0\u5165VLANIF10\u3002GE1/0/0\u5b66\u5230Device A\u7684ARP\u548cMAC\u5730\u5740\u3002\u5982\u679c\u76ee\u7684IP\u4e3a10.0.0.1\u7684\u4e0b\u884c\u6d41\u91cf\u5230Device\uff0cDevice\u5c06\u9996\u5148\u6839\u636e\u76ee\u7684IP\u67e5\u8def\u7531\u8868\uff0c\u7136\u540e\u6839\u636e\u5f97\u5230\u7684\u4e0b\u4e00\u8df3IP\u5730\u5740\u67e5ARP\u8868\u9879\uff0c\u5f97\u5230VLAN\u548cMAC\u5730\u5740\uff0c\u6700\u540e\u6839\u636eVLAN+MAC\u8868\u67e5MAC\u8868\uff0c\u6839\u636eMAC\u8868\u7684\u51fa\u63a5\u53e3\uff0c\u5c06\u6d41\u91cf\u8f6c\u53d1\u5230GE1/0/0\u7ed9Device A\u3002</p> <p>\u5728\u8fd9\u79cd\u573a\u666f\u4e0b\uff0cDevice\u4e0a\u7684ARP\u8868\u9879\u3001MAC\u5730\u5740\u7684\u66f4\u65b0\u65b9\u5f0f\u67092\u79cd\uff1a</p> <ul> <li>\u7b2c\u4e00\u79cd\u662f\u6839\u636e\u7cfb\u7edf\u8bbe\u7f6e\u7684\u8001\u5316\u65f6\u95f4\uff0c\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u81ea\u52a8\u68c0\u6d4b</li> <li>\u7b2c\u4e8c\u79cd\u662f\u6839\u636e\u4e8c\u5c42\u8bbe\u5907\u7684\u4e0a\u884c\u6d41\u91cf\u8bfb\u53d6\u66f4\u65b0</li> </ul> <p>\u5982\u679cDevice A\u5f80Device\u7684\u4e0a\u884c\u6d41\u91cf\u5f88\u5c11\uff0c\u90a3Device\u4e0a\u7684ARP\u8868\u9879\u3001MAC\u5730\u5740\u7684\u66f4\u65b0\u5c31\u53ea\u80fd\u901a\u8fc7ARP\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u81ea\u52a8\u68c0\u6d4b\u3002</p> img"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/MAC%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#12","title":"1.2. \u914d\u7f6e\u89c4\u8303","text":"<ol> <li>\u67e5\u8be2\u5f53\u524d\u7684ARP\u8001\u5316\u65f6\u95f4\u3002\u8fdb\u5165\u5bf9\u5e94\u7684\u63a5\u53e3\u89c6\u56fe\uff0c\u6267\u884c\u547d\u4ee4 display this\uff0c\u67e5\u770b\u662f\u5426\u6709\u201carp expire-time\u201d\u7684\u914d\u7f6e\uff0c\u5982\u679c\u6ca1\u6709\uff0cARP\u8001\u5316\u65f6\u95f4\u662f\u9ed8\u8ba4\u503c1200\u79d2\uff0820\u5206\u949f\uff09\uff0c\u5982\u679c\u6709\u914d\u7f6e\uff0c\u4ee5\u914d\u7f6e\u7684\u503c\u4e3a\u51c6\u3002</li> <li>\u8bbe\u7f6eMAC\u8001\u5316\u65f6\u95f4\u3002\u8fdb\u5165\u7cfb\u7edf\u89c6\u56fe\uff0c\u6267\u884c\u547d\u4ee4 mac-address aging-time seconds\uff0c\u8bbe\u7f6e*seconds*\u5927\u4e8e\u7b49\u4e8e\u4e0a\u9762\u67e5\u8be2\u5230\u7684ARP\u8001\u5316\u65f6\u95f4\u3002*seconds*\u7684\u9ed8\u8ba4\u503c\u4e3a300\u79d2\uff085\u5206\u949f\uff09\u3002</li> </ol>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/03%20%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/05%20%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8E%E5%9F%8E%E5%9F%9F%E7%BD%91%E6%8E%A5%E5%85%A5/MAC%E7%9A%84%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#13","title":"1.3. \u975e\u89c4\u8303\u914d\u7f6e\u7684\u98ce\u9669","text":"<p>\u98ce\u9669\u63cf\u8ff0</p> <p>\u7531\u4e8eDevice A\u5f80Device\u7684\u4e0a\u884c\u6d41\u91cf\u5f88\u5c11\uff0c\u90a3Device\u4e0a\u7684ARP\u8868\u9879\u3001MAC\u5730\u5740\u7684\u66f4\u65b0\u5c31\u53ea\u80fd\u901a\u8fc7ARP\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u81ea\u52a8\u68c0\u6d4b\u3002\u8fd9\u65f6\uff0c\u5982\u679cDevice\u7684MAC\u8001\u5316\u65f6\u95f4\u6bd4ARP\u8001\u5316\u65f6\u95f4\u77ed\uff0cDevice A\u7684MAC\u5730\u5740\u4f1a\u88ab\u8001\u5316\u6389\uff0c\u4f46\u662fARP\u5730\u5740\u8fd8\u5728\u3002\u6b64\u65f6Device\u6536\u5230\u53d1\u5f80Device A\u7684\u6d41\u91cf\u65f6\uff0c\u8f6c\u53d1\u65f6\u4f1a\u67e5\u4e0d\u5230MAC\u8868\uff0c\u4ece\u800c\u5728VLAN 10\u5185\u5e7f\u64ad\uff0cDevice B\u548cDevice C\u8bbe\u5907\u90fd\u4f1a\u6536\u5230 \u53d1\u5f80Device A\u7684\u6d41\u91cf\uff0c\u5bfc\u81f4Device B\u3001Device C\u8bbe\u5907\u7684\u6b63\u5e38\u4e1a\u52a1\u53d7\u5230\u5f71\u54cd\u3002</p> img <p>\u98ce\u9669\u7684\u5224\u65ad\u65b9\u6cd5</p> <ol> <li> <p>\u67e5\u8be2\u5f53\u524d\u7684ARP\u8001\u5316\u65f6\u95f4\u3002\u8fdb\u5165\u5bf9\u5e94\u7684\u63a5\u53e3\u89c6\u56fe\uff0c\u6267\u884c\u547d\u4ee4**display this**\uff0c\u67e5\u770b\u662f\u5426\u6709\u201carp expire-time\u201d\u7684\u914d\u7f6e\uff0c\u5982\u679c\u6ca1\u6709\uff0cARP\u8001\u5316\u65f6\u95f4\u662f\u9ed8\u8ba4\u503c1200\u79d2\uff0820\u5206\u949f\uff09\uff0c\u5982\u679c\u6709\u914d\u7f6e\uff0c\u4ee5\u914d\u7f6e\u7684\u503c\u4e3a\u51c6\u3002</p> <p>\u4f8b\u5982\uff0c\u4e0b\u8ff0\u4e3e\u4f8b\u4e2d\uff0c\u6ca1\u6709\u201carp expire-time\u201d\u7684\u914d\u7f6e\uff0c\u6240\u4ee5ARP\u8001\u5316\u65f6\u95f4\u662f\u9ed8\u8ba4\u503c1200\u79d2\uff0820\u5206\u949f\uff09\u3002</p> <pre><code>[HUAWEI-GigabitEthernet1/0/0] display this\n#\ninterface GigabitEthernet1/0/0\nportswitch \nundo shutdown \nport link-type access \nport default vlan 10\n#\nreturn\n</code></pre> </li> <li> <p>\u67e5\u8be2MAC\u8001\u5316\u65f6\u95f4\uff0c\u5982\u679cMAC\u8001\u5316\u65f6\u95f4\u4f4e\u4e8e\u4e0a\u8ff0\u67e5\u8be2\u5230\u7684ARP\u8001\u5316\u65f6\u95f4\uff0c\u5219\u5b58\u5728\u98ce\u9669\u3002\u8fdb\u5165\u7cfb\u7edf\u89c6\u56fe\uff0c\u6267\u884c\u547d\u4ee4**display mac-address aging-time**\uff0c\u67e5\u770b\u5b57\u6bb5\u201cAging time\u201d\u7684\u663e\u793a\u6570\u503c\u3002\u4f8b\u5982\uff0c\u4e0b\u8ff0\u56de\u663e\u663e\u793a\uff0c\u7cfb\u7edf\u7684MAC\u8001\u5316\u65f6\u95f4\u4e3a300\u79d2\u3002</p> <pre><code>&lt;HUAWEI&gt; display mac-address aging-time\nAging time: 300 second(s)\n</code></pre> </li> </ol> <p>\u98ce\u9669\u7684\u6062\u590d\u65b9\u6848</p> <p>\u540c\u914d\u7f6e\u89c4\u8303\u3002</p>"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/SLA/01%20%E7%BD%91%E7%BB%9CSLA%E4%BF%9D%E9%9A%9C/","title":"01 \u7f51\u7edcSLA\u4fdd\u969c","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/SLA/01%20%E7%BD%91%E7%BB%9CSLA%E4%BF%9D%E9%9A%9C/#_1","title":"\u544a\u8b66","text":"\u8d44\u6e90\u672a\u8986\u76d6"},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/SLA/01%20%E7%BD%91%E7%BB%9CSLA%E4%BF%9D%E9%9A%9C/#_2","title":"\u4e13\u7ebf","text":""},{"location":"11%20%E7%BD%91%E7%BB%9CSOP/SLA/01%20%E7%BD%91%E7%BB%9CSLA%E4%BF%9D%E9%9A%9C/#_3","title":"\u6807\u51c6\u4e91\u4e13\u7ebf\uff08\u9759\u6001\u4e13\u7ebf\uff09","text":"\u4e13\u7ebf\u5f00\u901a \u4e13\u7ebf\u6269\u5bb9 \u4e13\u7ebf\u7f29\u5bb9 \u4e13\u7ebf\u9000\u8ba2 \u8d44\u6e90\u8986\u76d6  \uff08\u6307\u79fb\u52a8\u63a5\u5165\u4fa7\u7f51\u7edc\u8d44\u6e90\u5df2\u5230\u8fbe\u5ba2\u6237\u4fa7\u7ad9\u70b9\u5efa\u7b51\u7ea2\u7ebf\u5185\uff09 6-9\u4e2a\u5de5\u4f5c\u65e5 6-9\u4e2a\u5de5\u4f5c\u65e5\u4e13\u7ebf\u5de5\u5355\u5f52\u6863\u540e\u6b21\u65e5\u5f00\u59cb\u53d8\u66f4\u8ba1\u8d39 3\u4e2a\u5de5\u4f5c\u65e5\uff08\u5e73\u53f0\u4e0a\u9000\u8ba2\u64cd\u4f5c\u540e\uff0c\u6b21\u65e5\u505c\u6b62\u8ba1\u8d39\uff09 \u8d44\u6e90\u672a\u8986\u76d6 BGP\u6539\u9020\u7684\u4e91\u4e13\u7ebf\u9000\u8ba2\uff0c\u5e73\u53f0\u9000\u8ba2\u64cd\u4f5c\u540e\uff0c\u9700\u540c\u6b65\u544a\u77e5\u79fb\u52a8\u4fa7\u5bf9\u63a5\u4eba ## \u975e\u6807\u5efa\u8bbe\uff08BGP\u6539\u9020\u7684\u4e91\u4e13\u7ebf\uff09"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B7%A1%E6%A3%80%E8%A7%84%E8%8C%83/","title":"01 \u64cd\u4f5c\u7cfb\u7edf\u5de1\u68c0\u89c4\u8303","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B7%A1%E6%A3%80%E8%A7%84%E8%8C%83/#1","title":"1. \u603b \u5219","text":"<ol> <li>\u4e3a\u52a0\u5f3aXXXXXX\u516c\u53f8\u670d\u52a1\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u7684\u8fd0\u7ef4\u7ba1\u7406\uff0c\u89c4\u8303\u670d\u52a1\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u5de1\u56de\u68c0\u67e5\uff08\u4ee5\u4e0b\u7b80\u79f0\u5de1\u68c0\uff09\u5de5\u4f5c\u8981\u6c42\u548c\u884c\u4e3a\uff0c\u4fdd\u8bc1\u5e94\u7528\u7cfb\u7edf\u5b89\u5168\u8fd0\u884c\uff0c\u7279\u5236\u5b9a\u672c\u89c4\u8303\u3002</li> <li>\u672c\u7ec6\u5219\u9002\u7528\u4e8eXXXXXX\u516c\u53f8XXXXXX\u56e2\u961fXXXXXX\u8fd0\u7ef4\u7ec4\u5168\u4f53\u5458\u5de5\u3002</li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B7%A1%E6%A3%80%E8%A7%84%E8%8C%83/#2","title":"2. \u5de1\u68c0\u65b9\u5f0f","text":"<ol> <li>\u5b9a\u65f6\u5de1\u68c0\uff1a\u662f\u6307\u6570\u5b57\u5316\u652f\u6491\u56e2\u961f\u7cfb\u7edf\u8fd0\u7ef4\u7ec4\u6309\u89c4\u5b9a\u7684\u65f6\u95f4\u5bf9\u8fd0\u7ef4\u7ba1\u7406\u8303\u56f4\u5185\u7684\u670d\u52a1\u5668\u786c\u4ef6\u548c\u64cd\u4f5c\u7cfb\u7edf\u5e73\u53f0\u8fdb\u884c\u68c0\u67e5\u3002</li> <li>\u4e0d\u5b9a\u65f6\u5de1\u68c0\uff1a\u662f\u6307\u6839\u636e\u7cfb\u7edf\u5b58\u5728\u7684\u95ee\u9898\uff0c\u5728\u539f\u89c4\u5b9a\u7684\u65f6\u95f4\u5916\u76f8\u5e94\u589e\u52a0\u7684\u68c0\u67e5\u3002</li> <li>\u7279\u6b8a\u60c5\u51b5\u5de1\u68c0\uff1a\u662f\u6307\u8fd0\u7ef4\u7ba1\u7406\u8303\u56f4\u5185\u7684\u5404\u5927\u5e94\u7528\u7cfb\u7edf\u6709\u7a0b\u5e8f\u66f4\u65b0\u3001\u4e1a\u52a1\u53d8\u66f4\u3001\u5347\u7ea7\u3001\u4e1a\u52a1\u5207\u6362\u4ee5\u53ca\u5176\u5b83\u7279\u522b\u9700\u8981\u65f6\uff0c\u5bf9\u8fd0\u7ef4\u7ba1\u7406\u8303\u56f4\u5185\u8bbe\u5907\u548c\u7cfb\u7edf\u8fdb\u884c\u7684\u68c0\u67e5\u3002</li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B7%A1%E6%A3%80%E8%A7%84%E8%8C%83/#3","title":"3. \u5de1\u68c0\u5468\u671f","text":"<ol> <li>\u5de1\u68c0\u5468\u671f\u6307\u4e24\u6b21\u5de1\u68c0\u4e4b\u95f4\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u6570\u5b57\u5316\u652f\u6491\u56e2\u961f\u7cfb\u7edf\u8fd0\u7ef4\u7ec4\u5e94\u6839\u636e\u8fd0\u7ef4\u7ba1\u7406\u8303\u56f4\u5185\u5404\u5927\u5e94\u7528\u7cfb\u7edf\u7684\u7ef4\u62a4\u7b49\u7ea7\u3001\u590d\u6742\u7a0b\u5ea6\u3001\u7cfb\u7edf\u672c\u8eab\u8fd0\u884c\u60c5\u51b5\u3001\u4eba\u5458\u914d\u5907\u7b49\u8981\u7d20\u6765\u786e\u5b9a\u7ba1\u7406\u8303\u56f4\u5185\u5177\u4f53\u5e94\u7528\u7cfb\u7edf\u7684\u5de1\u68c0\u5468\u671f\u3002</li> <li>\u6309\u5468\u5de1\u68c0\u4e3b\u8981\u9488\u5bf9\u6838\u5fc3\u4e1a\u52a1\u7cfb\u7edf\u8fdb\u884c\u68c0\u67e5\u3002</li> <li>\u6309\u6708\u5de1\u68c0\u4e3b\u8981\u5bf9\u4e00\u822c\u4e1a\u52a1\u7cfb\u7edf\u548c\u5176\u4ed6\u5916\u56f4\u4e1a\u52a1\u7cfb\u7edf\u8fdb\u884c\u68c0\u67e5\u3002</li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B7%A1%E6%A3%80%E8%A7%84%E8%8C%83/#4","title":"4. \u5de1\u68c0\u5185\u5bb9","text":"<p>\u670d\u52a1\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u5de1\u68c0\u5185\u5bb9\u5305\u542b\uff08\u4e0d\u9650\u4e8e\uff09\u4ee5\u4e0b\u5185\u5bb9\uff08\u8be6\u89c1\u9644\u8868\u4e00\uff09: 1. CUP\u3001\u5185\u5b58\u3001\u786c\u76d8\u3001IO\u3001\u6587\u4ef6\u7cfb\u7edf\u7b49\u7684\u4f7f\u7528\u60c5\u51b5\uff1b 2. \u64cd\u4f5c\u7cfb\u7edf\u5b89\u5168\u57fa\u7ebf\u914d\u7f6e\uff1b 3. \u64cd\u4f5c\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u53ca\u6838\u5fc3\u53c2\u6570\u914d\u7f6e\u548c\u53d8\u5316\u7b49\uff1b 4. \u6838\u5fc3\u670d\u52a1\u7684\u8fd0\u884c\u72b6\u6001\uff1b 5. \u64cd\u4f5c\u7cfb\u7edf\u7cfb\u7edf\u65e5\u5fd7\u62a5\u9519\u3001\u7f51\u7edc\u8fde\u63a5\u6570\u7b49\uff1b 6. \u786c\u4ef6\u8bbe\u5907\u5065\u5eb7\u72b6\u51b5\u3002</p>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B7%A1%E6%A3%80%E8%A7%84%E8%8C%83/#5","title":"5. \u5de1\u68c0\u4eba\u5458\u8981\u6c42","text":"<ol> <li>\u5de1\u68c0\u4eba\u5458\u7ec4\u6210\u7531\u6570\u5b57\u5316\u652f\u6491\u56e2\u961f\u7cfb\u7edf\u8fd0\u7ef4\u7ec4\u7edf\u4e00\u5b89\u6392\uff0c\u81f3\u5c11\u7531\u4e24\u540d\u81ea\u6709\u7cfb\u7edf\u8fd0\u7ef4\u5de5\u7a0b\u5e08\u7ec4\u6210\uff0c\u6839\u636e\u60c5\u51b5\u53ef\u589e\u52a0\u5408\u4f5c\u65b9\u4eba\u5458\u53c2\u4e0e\u3002</li> <li>\u5de1\u68c0\u4eba\u5458\u5e94\u6309\u672c\u89c4\u7a0b\u7684\u8981\u6c42\uff0c\u6309\u89c4\u5b9a\u7684\u5de1\u68c0\u5468\u671f\u548c\u5de1\u68c0\u6d41\u7a0b\uff0c\u5bf9\u6240\u8d1f\u8d23\u7684\u5e94\u7528\u7cfb\u7edf\u8fdb\u884c\u5168\u9762\u7ec6\u81f4\u7684\u68c0\u67e5\uff0c\u4e0d\u9057\u6f0f\u9879\u76ee\uff0c\u5e76\u5bf9\u68c0\u67e5\u7684\u51c6\u786e\u6027\u8d1f\u8d23\u3002</li> <li>\u5de1\u68c0\u4eba\u5458\u5728\u5de1\u68c0\u8fc7\u7a0b\u4e2d\u9047\u6709\u7591\u95ee\uff0c\u4e0d\u5f97\u968f\u610f\u64cd\u4f5c\uff0c\u5fc5\u987b\u6309\u672c\u89c4\u7a0b\u89c4\u5b9a\u7684\u5de1\u68c0\u6d41\u7a0b\u8fdb\u884c\u5904\u7406\u3002</li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B7%A1%E6%A3%80%E8%A7%84%E8%8C%83/#6","title":"6. \u5de1\u68c0\u7ed3\u679c\u68c0\u67e5","text":"<ol> <li>\u5de1\u68c0\u4eba\u5458\u987b\u5bf9\u5de1\u68c0\u5185\u5bb9\u505a\u8bb0\u5f55\uff0c\u5f62\u6210\u7cfb\u7edf\u5206\u6790\uff0c\u5de1\u68c0\u8bb0\u5f55\u5e94\u5b58\u6863\u3002</li> <li>\u4e25\u7981\u5728\u5de1\u68c0\u8fc7\u7a0b\u4e2d\u5bf9\u73b0\u7f51\u505a\u53d8\u66f4\u64cd\u4f5c\uff0c\u9488\u5bf9\u5de1\u68c0\u7ed3\u679c\u4e2d\u7684\u95ee\u9898\u5e94\u53ca\u65f6\u7ec4\u7ec7\u8bc4\u5ba1\uff0c\u8f93\u51fa\u6574\u6539\u65b9\u6848\uff0c\u6309\u7167\u6d41\u7a0b\u5728\u4e0b\u4e00\u5de1\u68c0\u5468\u671f\u524d\u5b8c\u6210\u4f18\u5316\u6574\u6539\u3002</li> <li>\u5de1\u68c0\u8ba1\u5212\u5e94\u6bcf\u5e74\u5e74\u521d\u7531\u76f8\u5e94\u5de5\u7a0b\u5e08\u5236\u5b9a,\u5e76\u4e25\u683c\u6309\u7167\u5de1\u68c0\u8ba1\u5212\u6267\u884c\uff0c\u5982\u9700\u66f4\u6539\u5219\u9700\u8fdb\u884c\u5ba1\u6279\u3002</li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B7%A1%E6%A3%80%E8%A7%84%E8%8C%83/#7","title":"7. \u9644\u5219","text":"<ol> <li>\u672c\u7ba1\u7406\u529e\u6cd5\u81ea\u53d1\u5e03\u4e4b\u65e5\u8d77\u6267\u884c\u3002</li> <li>\u672c\u7ba1\u7406\u529e\u6cd5\u7531XXXXXX\u6bcf\u5e74\u56de\u987e\u4e00\u6b21\uff0c\u6839\u636e\u56de\u987e\u7ed3\u679c\u4fee\u8ba2\u672c\u7ba1\u7406\u529e\u6cd5\u3002</li> <li>\u5f53\u4e1a\u52a1\u73af\u5883\u548c\u5b89\u5168\u9700\u6c42\u53d1\u751f\u91cd\u5927\u53d8\u5316\u65f6\uff0c\u7531XXXXXX\u56e2\u961f\u8d1f\u8d23\u7ec4\u7ec7\u9488\u5bf9\u672c\u7ba1\u7406\u529e\u6cd5\u7684\u4fee\u8ba2\u3002</li> <li>\u672c\u7ba1\u7406\u529e\u6cd5\u7684\u89e3\u91ca\u6743\u5f52XXXXXX\u56e2\u961f\u6240\u6709\u3002</li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B7%A1%E6%A3%80%E8%A7%84%E8%8C%83/#8","title":"8. \u9644\u8868","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/","title":"\u64cd\u4f5c\u7cfb\u7edf\u65e5\u5e38\u5de1\u68c0\u624b\u518c","text":"","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#_1","title":"\u76ee\u7684","text":"<p>Linux \u670d\u52a1\u5668\u662f\u7cfb\u7edf\u91cd\u8981\u7684\u4e1a\u52a1\u8fd0\u884c\u5e73\u53f0\uff0c\u5bf9\u670d\u52a1\u5668\u8fdb\u884c\u5de1\u68c0\u80fd\u591f\u53ca\u65f6\u53d1\u73b0\u670d\u52a1\u5668\u7684\u9690\u60a3\uff0c\u4ee5\u4fbf\u4e8e\u6539\u5584\u548c\u4f18\u5316\u670d\u52a1\u5668\u7684\u6027\u80fd\u3002\u5728\u6b64\uff0c\u4e3a\u4e86\u4fbf\u4e8e\u7cfb\u7edf\u7406\u5458\u987a\u5229\u7684\u5b8c\u6210\u670d\u52a1\u5668\u5de1\u68c0\u5de5\u4f5c\uff0c\u7279\u7f16\u5199\u6b64\u6587\u6863\u4ee5\u6307\u5bfcLinux\u670d\u52a1\u5668\u7684\u5de1\u68c0\u5de5\u4f5c\u3002</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#_2","title":"\u8303\u56f4","text":"<p>\u672c\u89c4\u8303\u9002\u7528\u4e8e\u603b\u90e8\u3001\u5404\u5206\u516c\u53f8\u57fa\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u65e5\u5e38\u5de1\u68c0\u5de5\u4f5c\u3002</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#_3","title":"\u672f\u8bed\u3001\u5b9a\u4e49\u548c\u7f29\u7565\u8bed","text":"<p>\u672c\u89c4\u8303\u91c7\u7528\u4ee5\u4e0b\u7684\u672f\u8bed\u63cf\u8ff0\uff1a</p> <ul> <li> <p>\u3010\u5f3a\u5236\u3011\u5fc5\u987b\u9075\u4ece\u4f7f\u7528\u7684\u539f\u5219\u3002</p> </li> <li> <p>\u3010\u89c4\u5219\u3011\u5982\u65e0\u7279\u6b8a\u60c5\u51b5\uff0c\u5e94\u8be5\u9075\u5b88\u7684\u539f\u5219\u3002</p> </li> <li> <p>\u3010\u63a8\u8350\u3011\u5efa\u8bae\u9075\u5b88\u7684\u539f\u5219\u3002</p> </li> <li> <p>\u3010\u53c2\u8003\u3011\u8fd0\u7ef4\u4eba\u5458\u53c2\u8003\u4e86\u89e3\u7684\u539f\u5219\u3002</p> </li> </ul>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#_4","title":"\u8f6f\u4ef6\u4fe1\u606f","text":"<p>\u8f6f\u4ef6\u540d\u79f0                            \u7248\u672c\u53f7</p> <p>Centos\u64cd\u4f5c\u7cfb\u7edf                      7.2</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#_5","title":"\u5de1\u68c0\u5185\u5bb9","text":"","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#1","title":"1. \u6587\u4ef6\u7cfb\u7edf","text":"<p>df --h\u68c0\u67e5\u662f\u5426\u6709\u5229\u7528\u7387\u8d85\u8fc785%\u7684\u6587\u4ef6\u7cfb\u7edf\uff1b</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#2-cpu","title":"2. CPU\u5185\u5b58","text":"<p>Cpu\u5229\u7528\u7387\uff1a1%-50%(\u6b63\u5e38)\uff0c51%-90%(\u6b63\u5e38)\uff0c90%-98%(\u8fc7\u9ad8)\uff0c98%-100%(\u6545\u969c)</p> <p>{width=\"5.768055555555556in\" height=\"1.0125in\"}</p> <p>\u5185\u5b58\uff1atotal \u5185\u5b58\u603b\u6570\uff0cused \u5df2\u7ecf\u4f7f\u7528\u7684\u5185\u5b58\u6570\uff0cfree \u7a7a\u95f2\u7684\u5185\u5b58\u6570\uff0cBuffer \u7f13\u5b58\u5185\u5b58\u6570\uff0ccache \u7f13\u5b58\u5185\u5b58\u6570\uff0cbuffe/cache\u53cd\u6620\u7684\u662f\u53ef\u4ee5\u632a\u7528\u7684\u5185\u5b58\u603b\u6570\uff0c\u53ea\u8981\u4e0d\u51fa\u73b0swap\u88ab\u4f7f\u7528\uff0c\u8bf4\u660e\u5185\u5b58\u4f7f\u7528\u6b63\u5e38\u3002</p> <p>{width=\"5.768055555555556in\" height=\"0.5680555555555555in\"}</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#3","title":"3. \u7cfb\u7edf\u65e5\u5fd7","text":"<p>grep fail /var/log/messages</p> <p>grep error /var/log/messages</p> <p>grep warn /var/log/messages</p> <p>dmesg</p> <p>\u7528last\u547d\u4ee4\u67e5\u770b\u7528\u6237\u767b\u5f55\u4fe1\u606f\u3002</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#4","title":"4. \u6838\u5fc3\u53c2\u6570","text":"<ul> <li>limit.conf</li> </ul> <p>\u68c0\u67e5/etc/security/limits.conf\u662f\u5426\u5b58\u5728\u4ee5\u4e0b\u914d\u7f6e</p> <p>* soft nofile 65535</p> <p>* hard nofile 65536</p> <p>* hard core 0</p> <p>* soft core 0</p> <ul> <li>20-nproc.conf</li> </ul> <p>\u68c0\u67e5/etc/security/limits.d/20-nproc.conf\u662f\u5426\u5b58\u5728\u4ee5\u4e0b\u914d\u7f6e</p> <p>* soft nproc 65535</p> <p>* hard nproc 65535</p> <ul> <li>sysctl.conf</li> </ul> <p>\u68c0\u67e5/etc/sysctl.conf\u662f\u5426\u5b58\u5728\u4ee5\u4e0b\u914d\u7f6e</p> <p>net.ipv4.conf.all.accept_redirects=0</p> <p>net.ipv4.tcp_fin_timeout = 30</p> <p>net.core.netdev_max_backlog = 32768</p> <p>net.core.somaxconn = 32768</p> <p>net.ipv4.tcp_tw_reuse = 1</p> <p>net.ipv4.tcp_tw_recycle = 0</p> <p>net.ipv4.ip_local_port_range = 40000 60000</p> <p>net.ipv4.tcp_keepalive_time = 600</p> <p>net.ipv4.tcp_keepalive_intvl = 15</p> <p>net.ipv4.tcp_keepalive_probes = 5</p> <p>net.ipv6.conf.all.disable_ipv6 = 1</p> <p>\u6ce8\uff1a\u4ee5\u4e0a\u53c2\u6570\u4e3a\u63a8\u8350\u6807\u51c6\u8bbe\u7f6e\uff0c\u5982\u679c\u6709\u4e0d\u7b26\u5408\u7684\uff0c\u8981\u5177\u4f53\u5206\u6790\u4e3b\u673a\u4e1a\u52a1\uff0c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u5206\u6790\u662f\u8bbe\u7f6e\u9519\u8bef\uff0c\u8fd8\u662f\u4e1a\u52a1\u9700\u6c42\u3002</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#5","title":"5. \u5b89\u5168\u57fa\u7ebf","text":"<ul> <li>\u7cfb\u7edf\u8d26\u6237\u5b89\u5168\u68c0\u67e5</li> </ul> <p>\u67e5\u770b\u6587\u4ef6\u6743\u9650</p> <p>ls --l /etc/passwd</p> <p>-rw-r--r-- 1 root root 1743 Aug 4 18:43 /etc/passwd</p> <p>ls --l /etc/shadow</p> <p>-r-------- 1 root root 1107 Nov 3 19:09 /etc/shadow</p> <p>\u68c0\u67e5\u65e0\u5173\u7528\u6237\u662f\u5426\u5df2\u88ab\u9501\u5b9a</p> <p>cat /etc/passwd</p> <p>cat /etc/shadow</p> <p>\u6ce8\uff1a\u68c0\u6d4b\u7cfb\u7edf\u81ea\u5e26\u7684\u4e0e\u8bbe\u5907\u8fd0\u884c\u3001\u7ef4\u62a4\u7b49\u5de5\u4f5c\u65e0\u5173\u7684\u8d26\u53f7\u662f\u5426\u88ab\u5220\u9664\u6216\u9501\u5b9a\u3002</p> <ul> <li>\u68c0\u67e5root\u662f\u5426\u53ef\u4ee5\u76f4\u63a5\u767b\u5f55</li> </ul> <p>cat /etc/ssh/sshd_config|grep PermitRootLogin</p> <p>\u6ce8\uff1a\u5982\u679c\u8f93\u51fa\u7ed3\u679c\u4e3aPermitRootLogin no\uff0c\u4ee3\u8868\u4ee5\u5173\u95edroot\u76f4\u63a5ssh\u767b\u5f55</p> <ul> <li>\u6d4b\u8bd5telnet\u662f\u5426\u5173\u95ed</li> </ul> <p>systemctl status telnet.socket</p> <p>systemctl status xinetd.service</p> <ul> <li>\u68c0\u67e5\u662f\u5426\u8bbe\u7f6e\u5e10\u6237\u5b9a\u65f6\u81ea\u52a8\u767b\u51fa</li> </ul> <p>cat /etc/profile</p> <p>\u6ce8\uff1a\u8f93\u51fa\u7ed3\u679c\uff0c\u67e5\u770b\u4ee5\u4e0b\u5185\u5bb9</p> <p>TMOUT=180 # \u9700\u5c0f\u4e8e300\u79d2</p> <p>export TMOUT</p> <ul> <li>\u68c0\u6d4bumask\u8bbe\u7f6e</li> </ul> <p>cat /etc/profile|grep umask # \u67e5\u770b\u662f\u5426\u6709umask 027\u5185\u5bb9</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#6-ntpdns","title":"6. NTP\u548cDNS\u89e3\u6790","text":"<ul> <li>\u67e5\u770bNTP\u670d\u52a1\u8fd0\u884c\u72b6\u6001\uff0c\u4f7f\u7528systemctl status ntpd\u547d\u4ee4\u67e5\u770b\uff0c\u5177\u4f53\u5982\u4e0b\uff1a</li> </ul> <p>{width=\"5.768055555555556in\" height=\"1.8305555555555555in\"}</p> <p>\u6ce8\uff1a\u56fe\u4e2d\u7684\u8f93\u51faenabled\u4ee3\u8868\u670d\u52a1\u5df2\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\uff0cactive(running)\u4ee3\u8868\u670d\u52a1\u5f53\u524d\u8fd0\u884c\u6b63\u5e38\uff0cNTP\u670d\u52a1\u5fc5\u987b\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\uff0c\u5e76\u4e14\u8fd0\u884c\u6b63\u5e38\u3002</p> <ul> <li>\u67e5\u770bNTP\u8fde\u63a5\u72b6\u6001\uff0c\u4f7f\u7528ntpq -p\u547d\u4ee4\u67e5\u770b\uff0c\u5177\u4f53\u5982\u4e0b\uff1a</li> </ul> <p>root@ly-idc-core-nxrhkf-vm03:[/root]ntpq -p</p> <p>remote refid st t when poll reach delay offset jitter</p> <p>==============================================================================</p> <p>+192.168.136.43 79.98.105.18 3 u 60 1024 377 1.088 3.937 4.695</p> <p>*192.168.136.44 60.190.217.142 3 u 1038 1024 377 1.153 2.791 6.049</p> <p>\u6ce8\uff1a\u547d\u4ee4\u8f93\u51fa\u4e2d\uff0c192.168.136.43\u548c192.168.136.44\u4ee3\u8868\u914d\u7f6e\u7684ntp\u670d\u52a1\u5668\u7684IP\uff0c\u5982\u679cIP\u7684\u524d\u9762\u6709\"+\"\u548c\"*\"\u8868\u660e\u672c\u670d\u52a1\u5668\u5df2\u548cntp\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\uff0c\u53ef\u4ee5\u6b63\u5e38\u540c\u6b65\u65f6\u95f4\u3002</p> <ul> <li>\u67e5\u770bDNS\u914d\u7f6e\uff0c\u9700\u67e5\u770b/etc/resolv.conf\u6587\u4ef6\u7684\u8bbe\u7f6e\uff0c\u5177\u4f53\u5982\u4e0b\uff1a</li> </ul> <p>{width=\"5.768055555555556in\" height=\"1.586111111111111in\"}</p> <p>\u6ce8\uff1a\u6b64\u6587\u4ef6\u6709\u5982\u4e0a\u8f93\u51fa\uff0c\u4ee3\u8868\u5df2\u8bbe\u7f6eDNS\u3002</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#7","title":"7. \u6838\u5fc3\u670d\u52a1\u72b6\u6001","text":"<ul> <li>\u67e5\u770bsshd\u670d\u52a1\u662f\u5426\u8fd0\u884c\u6b63\u5e38</li> </ul> <p>systemctl status sshd</p> <ul> <li>\u67e5\u770bvsftp\u670d\u52a1\u662f\u5426\u8fd0\u884c\u6b63\u5e38</li> </ul> <p>systemctl status vsftpd</p> <ul> <li>\u67e5\u770b\u9632\u706b\u5899\u662f\u5426\u5173\u95ed</li> </ul> <p>systemctl status firewalld.service</p> <ul> <li>\u67e5\u770bselinux\u662f\u5426\u5173\u95ed</li> </ul> <p>getenforce</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#_6","title":"\u5de1\u68c0\u5468\u671f","text":"<p>\u5de1\u68c0\u9700\u8981\u6bcf\u6708\u8fdb\u884c\u4e00\u6b21</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/02%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%B7%A1%E6%A3%80%E6%89%8B%E5%86%8C/#_7","title":"\u5de1\u68c0\u62a5\u544a","text":"<p>\u5de1\u68c0\u540e\u6839\u636e\u7ed3\u679c\u8f93\u51fa\u5de1\u68c0\u62a5\u544a,\u7b26\u5408\u7684\u9879\u8868\u793a\u6b63\u5e38\uff0c\u4e0d\u7b26\u5408\u9879\u6807\u793a\u51fa\u6765\uff0c\u5728\u672c\u5de1\u68c0\u5468\u671f\u5185\u6574\u6539\u5b8c\u6bd5\uff0c\u4e0d\u5f97\u62d6\u5ef6\u81f3\u4e0b\u4e00\u5de1\u68c0\u5468\u671f\u3002</p>","tags":["\u7cfb\u7edf\u8fd0\u7ef4\uff0cLinux\uff0c\u5de1\u68c0"]},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/%E6%9C%AA%E5%91%BD%E5%90%8D/#_1","title":"\u8fd0\u7ef4\u89d2\u8272","text":"<p>\u7528\u6237\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u8fd0\u7ef4\u9700\u6c42\u8bbe\u7f6e\u8fd0\u7ef4\u89d2\u8272\u53ca\u5176\u4e3b\u8981\u804c\u8d23\uff0c\u5173\u952e\u8fd0\u7ef4\u89d2\u8272\u4e0e\u804c\u8d23\u5982\u88681-3\u6240\u793a\u3002</p> <p>\u88681-3\u00a0\u5173\u952e\u8fd0\u7ef4\u89d2\u8272\u548c\u804c\u8d23</p> \u8fd0\u7ef4\u89d2\u8272 \u4e3b\u8981\u804c\u8d23 \u7cfb\u7edf\u7ba1\u7406\u5458 \u4ece\u5168\u5c40\u51fa\u53d1\u5173\u6ce8\u6574\u4f53\u7684\u8fd0\u884c\u72b6\u6001\uff0c\u5305\u62ec\uff1a- \u5b9e\u65f6\u638c\u63e1\u6570\u636e\u4e2d\u5fc3\u5065\u5eb7\u72b6\u51b5\uff0c\u51fa\u73b0\u95ee\u9898\u540e\u7b2c\u4e00\u65f6\u95f4\u4e86\u89e3\u3002- \u638c\u63e1\u4e86\u89e3\u91cd\u5927\u95ee\u9898/\u6295\u8bc9\u5904\u7406\u8fdb\u5c55\u4e0e\u7ed3\u679c\u3002- \u5b9a\u671f\u67e5\u770b\u8fd0\u7ef4\u76f8\u5173\u62a5\u8868\u5e76\u8fdb\u884c\u8fd0\u8425\u5206\u6790\uff0c\u8f93\u51fa\u4e3b\u52a8\u4f18\u5316\u63aa\u65bd\u3002 \u76d1\u63a7\u4eba\u5458 \u8d1f\u8d23\u5bf9\u6570\u636e\u4e2d\u5fc3\u8fdb\u884c\u76d1\u63a7\uff0c\u53ca\u65f6\u53d1\u73b0\u95ee\u9898\u5e76\u63d0\u4ea4\u6280\u672f\u652f\u6301\u4eba\u5458\u5904\u7406\u3002\u5305\u62ec\uff1al\u00a0\u5feb\u901f\u3001\u53ca\u65f6\u53d1\u73b0\u6570\u636e\u4e2d\u5fc3\u7684\u95ee\u9898\u3002l\u00a0\u8ddf\u8e2a\u95ee\u9898\u7684\u5904\u7406\u8fc7\u7a0b\uff0c\u786e\u8ba4\u95ee\u9898\u5f97\u5230\u5904\u7406\u3002 \u6280\u672f\u652f\u6301\u4eba\u5458\uff08\u7ef4\u62a4\u4eba\u5458\uff09 \u4e3b\u8981\u804c\u8d23\u4e3a\u88ab\u52a8\u5904\u7406\u53d1\u73b0\u7684\u95ee\u9898\u3001\u6267\u884c\u65e5\u5e38\u7684\u8fd0\u7ef4\u4fdd\u969c\u6765\u786e\u4fdd\u6570\u636e\u4e2d\u5fc3\u8fd0\u884c\u7a33\u5b9a\uff1b\u4e3b\u52a8\u5bf9\u7cfb\u7edf\u8fdb\u884c\u4f18\u5316\u7684\u53d8\u66f4\u5b9e\u65bd\uff0c\u63d0\u9ad8\u6027\u80fd\u4e0e\u6548\u7387\u3002\u4e3b\u8981\u5305\u62ec\uff1al\u00a0\u6545\u969c\u5feb\u901f\u5904\u7406l\u00a0\u5de1\u68c0/\u5065\u5eb7\u68c0\u67e5l\u00a0\u5b9e\u65bd\u53d8\u66f4"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/%E6%9C%AA%E5%91%BD%E5%90%8D/#14","title":"1.4\u00a0\u6545\u969c\u5b9a\u754c","text":"<p>\u6545\u969c\u5b9a\u754c\u9002\u7528\u4e8e\u4e00\u7ebf\u670d\u52a1\u6216\u9a7b\u573a\u8fd0\u7ef4\u3001\u5ba2\u6237\u7684\u7cfb\u7edf\u7ba1\u7406\u4eba\u5458\uff0c\u9488\u5bf9\u4e91\u670d\u52a1\u53d1\u653e\u5931\u8d25\u3001\u4e91\u670d\u52a1\u5b9e\u4f8b\u64cd\u4f5c\u5931\u8d25\uff08\u5982\u6302\u8f7d\u4e91\u786c\u76d8\u5931\u8d25\u3001\u6302\u8f7d\u7f51\u5361\u5931\u8d25\uff09\u7b49\u73b0\u8c61\uff0c\u505a\u6545\u969c\u5b9a\u754c\u5206\u6790\u3002</p> <p>\u6545\u969c\u5b9a\u754c\u8bbe\u8ba1\u7684\u8fd0\u7ef4\u754c\u9762</p> <p>\u4e86\u89e3\u6545\u969c\u5b9a\u754c\u7684\u8fd0\u7ef4\u754c\u9762\u6709\u5229\u4e8e\u8fd0\u7ef4\u4eba\u5458\u5feb\u901f\u5b9a\u4f4d\u6545\u969c\uff0c\u6545\u969c\u5b9a\u754c\u8bbe\u8ba1\u7684\u8fd0\u7ef4\u754c\u9762\u5982\u56fe1-3\u6240\u793a\uff0c\u5404\u8fd0\u7ef4\u754c\u9762\u8bf4\u660e\u5982\u88681-4\u6240\u793a\u3002</p> <p>\u56fe1-3\u00a0\u6545\u969c\u5b9a\u4f4d\u8fd0\u7ef4\u754c\u9762</p> <p></p> <p>\u88681-4\u00a0\u5404\u8fd0\u7ef4\u754c\u9762\u8bf4\u660e</p> \u5e8f\u53f7 \u754c\u9762 \u5b9a\u4f4d\u4e0e\u529f\u80fd \u8f93\u5165\uff08\u524d\u63d0\u6761\u4ef6\uff0c\u9700\u8981\u51c6\u5907\u597d\u7684\u4fe1\u606f\uff09 \u8f93\u51fa\uff08\u4f7f\u7528\u5de5\u5177\u80fd\u83b7\u53d6\u7684\u4fe1\u606f\u6216\u7ed3\u679c\uff09 1 OC\u96c6\u4e2d\u544a\u8b66 \u5404\u90e8\u4ef6\u544a\u8b66\u90fd\u8981\u4e0a\u62a5\u81f3OC\uff0c\u5728OC\u4e0a\u901a\u8fc7\u67e5\u770b\u544a\u8b66\u5e76\u6309\u544a\u8b66\u5e2e\u52a9\u8fdb\u884c\u5904\u7406 \u4e3b\u52a8\u67e5\u770b \u544a\u8b66\u662f\u5426\u6062\u590d\u3001\u6545\u969c\u662f\u5426\u6d88\u9664 2 ServiceOM \u53ef\u96c6\u4e2d\u67e5\u8be2\u4e91\u670d\u52a1\u7684\u64cd\u4f5c\u65e5\u5fd7\uff0c\u4f5c\u7528\u5982\u4e0b\uff1a1\uff09\u7528\u4e8e\u6545\u969c\u5b9a\u754c\u65f6\u67e5\u8be2\u9519\u8bef\u7801\u4e0e\u9519\u8bef\u4fe1\u606f\u63cf\u8ff0\uff1b2\uff09\u67e5\u8be2Request ID\uff0c\u7528\u4e8e\u5728ELK\u67e5\u8be2\u548c\u5bfc\u51fa\u65e5\u5fd7 \u79df\u6237\u540d\u3001\u65f6\u95f4\u6bb5\u3001\u64cd\u4f5c\u7c7b\u578b \u9519\u8bef\u7801\u3001Request ID 3 ELK \u65e5\u5fd7\u96c6\u4e2d\u67e5\u8be2\uff1a\u6309\u5173\u952e\u5b57\u5982Request ID\u5c06\u5404\u90e8\u4ef6\u7684\u76f8\u5173\u8fd0\u884c\u65e5\u5fd7\u96c6\u4e2d\u67e5\u8be2\u51fa\u6765 Request ID \u67e5\u8be2\u51fa\u5305\u542bRequest ID\u7684\u76f8\u5173\u65e5\u5fd7\u8bb0\u5f55 4 FusionCare \u53ef\u5c06Fusionshpere openstack\u3001FusionStorage\u3001FusionAccess\u7684\u65e5\u5fd7\u6309\u8282\u70b9\u3001\u6a21\u677f/\u670d\u52a1\u3001\u573a\u666f\u5c06\u540e\u53f0\u8fd0\u884c\u65e5\u5fd7\u5bfc\u51fa \u6545\u969c\u8282\u70b9\u540d\u79f0\u3001\u6a21\u677f/\u670d\u52a1 \u8fd0\u884c\u65e5\u5fd7\u5bfc\u51fa\uff1a\u6574\u4e2a\u65e5\u5fd7\u6587\u4ef6 <p></p> <p>ELK\u4e0eFusionCare\u7684\u533a\u522b\uff1a</p> <p>ELK</p> <p>l\u00a0\u00a0\u65e5\u5fd7\u6536\u96c6\u65b9\u5f0f\uff1a\u5404\u90e8\u4ef6\u51c6\u5b9e\u65f6\u4e3b\u52a8\u4e0a\u62a5\u81f3ELK</p> <p>l\u00a0\u00a0\u8986\u76d6\u7684\u8303\u56f4\u6982\u8ff0\uff1a\u4e91\u670d\u52a1</p> <p>FusionCare</p> <p>l\u00a0\u00a0\u65e5\u5fd7\u6536\u96c6\u65b9\u5f0f\uff1a\u5404\u90e8\u4ef6\u4e0d\u4f1a\u4e3b\u52a8\u4e0a\u62a5\u65e5\u5fd7\u81f3FusionCare\uff0c\u6545\u969c\u89e6\u53d1\u4eceFusionCare\u81f3\u5404\u90e8\u4ef6\u8fdb\u884c\u65e5\u5fd7\u6536\u96c6</p> <p>l\u00a0\u00a0\u8986\u76d6\u7684\u8303\u56f4\u6982\u8ff0\uff1aOpenStack\u63a7\u5236\u8282\u70b9\u4e0e\u8ba1\u7b97\u8282\u70b9\u3001FusionStorage\uff0c\u4e0d\u652f\u6301\u6536\u96c6\u4e91\u670d\u52a1\u7684\u65e5\u5fd7</p> <p>\u901a\u7528\u6b65\u9aa4</p> <p>\u6545\u969c\u5b9a\u754c\u7684\u901a\u7528\u6b65\u9aa4\u5982\u56fe1-4\u6240\u793a\u3002</p> <p>\u56fe1-4\u00a0\u6545\u969c\u5b9a\u754c\u901a\u7528\u6b65\u9aa4</p> <p></p> <p>\u6d41\u7a0b\u63cf\u8ff0\u5982\u4e0b\uff1a</p> <p>1.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u63a5\u5230\u7528\u6237\u62a5\u969c\u540e\uff0c\u6536\u96c6\u5230\u4ee5\u4e0b\u4fe1\u606f\uff1a\u79df\u6237\u540d\u79f0\u3001\u64cd\u4f5c\u65f6\u95f4\u3001\u64cd\u4f5c\u7c7b\u578b\uff08\u54ea\u4e2a\u4e91\u670d\u52a1\u505a\u4ec0\u4e48\u52a8\u4f5c\uff09\u3002</p> <p>2.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u5148\u5230OC\u67e5\u770b\u662f\u5426\u6709\u4e91\u670d\u52a1\u7ec4\u4ef6\u5f02\u5e38\uff08\u8fdb\u7a0b\u72b6\u6001\u3001\u8fde\u901a\u6027\u3001\u4e3b\u5907\u5012\u6362\u3001CPU/\u5185\u5b58\u8d85\u8fc7\u9608\u503c\u3001\u786c\u4ef6\u8bbe\u5907\u4e0d\u53ef\u7528\u7b49\uff09\u7684\u6545\u969c\u544a\u8b66\uff0c\u5982\u6709\u5219\u6309\u544a\u8b66\u5e2e\u52a9\u8fdb\u884c\u81ea\u52a9\u5904\u7406\uff0c\u5904\u7406\u5b8c\u540e\u68c0\u67e5\u4e0b\u4e91\u670d\u52a1\u662f\u5426\u5df2\u6062\u590d\u6b63\u5e38\uff0c\u5982\u679c\u6545\u969c\u6ca1\u6709\u89e3\u51b3\u5c31\u63a5\u7740\u4e0b\u9762\u7684\u6b65\u9aa4\uff0c\u5982\u679c\u5df2\u89e3\u51b3\u5219\u53ef\u5173\u95ed\u6545\u969c\u3002</p> <p>3.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u6253\u5f00ServiceOM\u9875\u9762\uff0c\u901a\u8fc7\u4ee5\u4e0b\u4fe1\u606f\u201c\u79df\u6237\u540d\u79f0\u3001\u64cd\u4f5c\u65f6\u95f4\u3001\u64cd\u4f5c\u7c7b\u578b\u201d\u53ef\u67e5\u8be2\u5230\u5bf9\u5e94\u7684\u64cd\u4f5c\u65e5\u5fd7\uff0c\u64cd\u4f5c\u65e5\u5fd7\u4e2d\u53ef\u67e5\u9605\u5230\u9519\u8bef\u7801\u3001Request ID\uff1b\u67e5\u5230\u9519\u8bef\u7801\u540e\uff0c\u6309\u9519\u8bef\u7801\u5904\u7406\u6307\u5bfc\u8fdb\u884c\u81ea\u52a9\u5904\u7406\uff0c\u5904\u7406\u5b8c\u540e\u68c0\u67e5\u4e0b\u4e91\u670d\u52a1\u662f\u5426\u5df2\u6062\u590d\u6b63\u5e38\uff0c\u5982\u679c\u6545\u969c\u6ca1\u6709\u89e3\u51b3\u5c31\u63a5\u7740\u4e0b\u9762\u7684\u6b65\u9aa4\uff0c\u5982\u679c\u5df2\u89e3\u51b3\u5219\u53ef\u5173\u95ed\u6545\u969c\u00a0\u3002</p> <p>4.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u65e5\u5fd7\u67e5\u8be2\u4e0e\u5bfc\u51fa\uff08\u7b2c\u4e00\u6b21\u6536\u96c6\u65e5\u5fd7\uff09\uff1a</p> <p>a.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ELK--\u65e5\u5fd7\u67e5\u8be2\uff1a\u5728ELK\u4e0a\u901a\u8fc7Request ID\u5c06\u76f8\u5173\u7684\u65e5\u5fd7\u96c6\u4e2d\u67e5\u8be2\u51fa\u6765\u3002</p> <p>b.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ELK--\u65e5\u5fd7\u5bfc\u51fa\uff1a\u5728ELK\u4e0a\u901a\u8fc7Request ID\u6309\u65f6\u95f4\u6bb5\u6bcf1\u4e07\u6761\u5bfc\u51fa\u4e00\u4e2acsv\u6587\u4ef6\u3002</p> <p>c.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u5c06\u5bfc\u51fa\u7684\u4e00\u4e2a\u6216\u591a\u4e2acsv\u6587\u4ef6\u53d1\u9001\u7ed9\u7814\u53d1\u3002</p> <p>5.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u7814\u53d1\u6536\u5230\u670d\u52a1\u4e00\u7ebf\u6536\u96c6\u7684\u65e5\u5fd7\u540e\uff0c\u8fdb\u884c\u6545\u969c\u5b9a\u754c\u5b9a\u4f4d\u5206\u6790\u3002</p> <p>6.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u65e5\u5fd7\u5bfc\u51fa\uff08\u7b2c\u4e8c\u6b21\u6536\u96c6\u65e5\u5fd7\uff0c\u53ef\u9009\uff09\uff1a\u7814\u53d1\u5728\u5206\u6790\u4eceELK\u5bfc\u51fa\u7684\u65e5\u5fd7\u540e\uff0c\u5982\u679c\u8fd8\u9700\u8981\u6536\u96c6OpenStack\u7684\u65e5\u5fd7\uff0c\u5219\u4f1a\u8ba9\u670d\u52a1\u4e00\u7ebf\u5728\u73b0\u573a\u901a\u8fc7FusionCare\u6536\u96c6OpenStack\u7684\u540e\u53f0\u65e5\u5fd7\u3002</p> <p>7.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u7814\u53d1\u5b8c\u6210\u6545\u969c\u7684\u5b9a\u754c\u5b9a\u4f4d\u540e\uff0c\u5236\u8ba2\u6545\u969c\u6062\u590d\u5904\u7406\u65b9\u6848\u3002</p> <p>8.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u670d\u52a1\u4e00\u7ebf\u6267\u884c\u6545\u969c\u6062\u590d\u65b9\u6848\uff0c\u9a8c\u8bc1\u6545\u969c\u662f\u5426\u6062\u590d\uff0c\u5982\u679c\u6ca1\u6709\u6062\u590d\u5219\u53cd\u9988\u7ed9\u7814\u53d1\u91cd\u65b0\u5206\u6790\u3002</p> <p>9.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u4e91\u670d\u52a1\u6062\u590d\u6b63\u5e38\u540e\uff0c\u6545\u969c\u53ef\u5173\u95ed\u3002</p> <p>\u96441\uff1aService OM\u4f7f\u7528\u7b80\u8981\u8bf4\u660e</p> <p></p> <p>Service OM\u7684\u767b\u5f55\u65b9\u6cd5\u8bf7\u53c2\u89c1\u300aFusionCloud 6.0.0\u00a0\u4e1a\u52a1\u8c03\u6d4b\u6307\u5357\u300b\u00a0&gt;\u00a0\u8c03\u6d4b\u7f51\u7edc\u670d\u52a1\u00a0&gt;\u00a0\u8c03\u6d4bVPC&gt; FAQ &gt;\u00a0\u914d\u7f6eVPC\u8def\u7531\u76f4\u901a\uff08Region Type II\u00a0\uff09\u3002</p> <p>1.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u901a\u8fc7\u4ee5\u4e0b\u6761\u4ef6\u5c31\u53ef\u5feb\u901f\u67e5\u8be2\u5230\u79df\u6237\u64cd\u4f5c\u5bf9\u5e94\u7684\u64cd\u4f5c\u65e5\u5fd7\u3002</p> <p>\u2212\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u670d\u52a1\u540d\u79f0\uff1a\u901a\u8fc7\u4e0b\u62c9\u83dc\u5355\u53ef\u9009\u62e9\u76f8\u5e94\u7684\u4e91\u670d\u52a1\uff0c\u5982ECS/EVS</p> <p>\u2212\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u4e8b\u4ef6\u8bb0\u5f55\u65f6\u95f4\uff1a\u9009\u62e9\u79df\u6237\u7533\u8bf7\u4e91\u670d\u52a1\u7684\u65f6\u95f4</p> <p>\u2212\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u64cd\u4f5c\u7528\u6237\uff1a\u8f93\u5165\u79df\u6237\u540d\u79f0</p> <p>2.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u53ef\u4ee5\u70b9\u51fb\u8fdb\u53bb\u770b\u5230\u6bcf\u6761\u65e5\u5fd7\u7684\u8be6\u60c5\uff0c\u5728\u8be6\u60c5\u91cc\u9762\u53ef\u4ee5\u627e\u5230\u9519\u8bef\u7801\u3002</p> <p>3.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u67e5\u627eRequest ID\uff1a\u754c\u9762\u4e0a\u6bcf\u6761\u65e5\u5fd7\u8bb0\u5f55\u53ef\u4ee5\u76f4\u63a5\u770b\u5230Request ID\u3002</p> <p>\u96442\uff1aELK\u7684\u4f7f\u7528\u6307\u5bfc\u7b80\u8ff0</p> <p>1.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u767b\u9646ELK\u8fdb\u5165Log Search\uff0c\u5728keyword\u5f55\u5165Request ID\u5c06\u65e5\u5fd7\u67e5\u8be2\u51fa\u6765\u3002</p> <p></p> <p>ELK\u7684\u767b\u5f55\u65b9\u6cd5\u8bf7\u53c2\u89c1\u300aELK\u00a0\u5de5\u5177\u6307\u5bfc\u4e66\u300b\u3002</p> <p>2.\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u5c06\u65e5\u5fd7\u6309\u6bcf\u4e07\u6761\u5bfc\u51fa\u4e3aCSV\u6587\u4ef6\uff0c\u65e5\u5fd7\u67e5\u8be2\u51fa\u6765\u540e\u6309\u5c06\u65e5\u5fd7\u5bfc\u51fa\u3002</p> <p>ELK\u5bfc\u51fa\u65e5\u5fd7\u7684\u7ea6\u675f\uff1a\u6bcf\u6b21\u53ea\u80fd\u5bfc\u51fa\u4e00\u4e07\u6761\uff0c\u5bfc\u51fa\u4e4b\u524d\u8bf7\u68c0\u67e5\u4e0b\u65e5\u5fd7\u7684\u6570\u91cf\uff0c\u5982\u679c\u8d85\u51fa\u4e00\u4e07\u6761\u5c31\u9700\u8981\u6309\u65f6\u95f4\u6bb5\u5206\u6279\u5bfc\u51fa\u3002</p>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/","title":"\u6570\u636e\u5e93\u8d26\u53f7\u6743\u9650\u5206\u79bb\u89c4\u8303","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#1","title":"1. \u8d26\u53f7\u7ba1\u7406","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#11","title":"1.1. \u6570\u636e\u5e93\u8d26\u53f7\u5206\u7c7b","text":"<ol> <li> <p>\u666e\u901a\u8d26\u53f7\uff1a\u6307\u4e2a\u4eba\u7ef4\u62a4\u8d26\u53f7\uff0c\u5728\u6570\u636e\u5e93\u4e2d\u4e3a\u5176\u8bbe\u7f6e\u7edf\u4e00\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u4f8b\u5982PROFILE_WEIHU\uff09\uff0c\u5305\u62ec\u4e86XXX\u5458\u5de5\u53ca\u7b2c\u4e09\u65b9\u5408\u4f5c\u5355\u4f4d\u7684\u4e2a\u4eba\u7ef4\u62a4\u8d26\u53f7\u3002</p> </li> <li> <p>\u7a0b\u5e8f\u8d26\u53f7\uff1a\u6307\u5e94\u7528\u7a0b\u5e8f\u7528\u4e8e\u8fde\u63a5\u6570\u636e\u5e93\u7684\u8d26\u53f7\uff0c\u53ef\u4ee5\u6267\u884c\u76f8\u5e94\u7684\u67e5\u8be2\u3001\u63d2\u5165\u3001\u66f4\u65b0\u3001\u5220\u9664\u6570\u636e\u7b49\u64cd\u4f5c\uff0c\u7a0b\u5e8f\u8d26\u53f7\u5728\u6570\u636e\u5e93\u4e2d\u7edf\u4e00\u8bbe\u7f6e\u5176\u914d\u7f6e\u6587\u4ef6\u4e3aPROFILE_APP\u3002</p> </li> <li> <p>\u8d85\u7ea7\u8d26\u53f7\uff1a\u6307\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u80fd\u591f\u4ee5sysdba\u8eab\u4efd\u767b\u5f55\uff0c\u6216\u62e5\u6709dba\u89d2\u8272\u7b49\u540c\u6743\u9650\u7684\u6570\u636e\u5e93\u8d26\u53f7\u3002</p> </li> <li> <p>\u5185\u7f6e\u8d26\u53f7\uff1a\u6307\u4f7f\u7528dbca\u5de5\u5177\u521b\u5efa\u6570\u636e\u5e93\u65f6\uff0c\u7cfb\u7edf\u81ea\u52a8\u5efa\u7acb\u7684\u9ed8\u8ba4\u8d26\u53f7\uff0c\u6216\u91c7\u7528oracle\u81ea\u5e26\u811a\u672c\u5efa\u7acb\u7684\u8d26\u53f7\uff1b\u9664sys\u5916\uff0c\u5176\u4ed6\u8d26\u53f7\u4e00\u822c\u4e0d\u80fd\u4e3a\u4e2a\u4eba\u4f7f\u7528\u3002</p> </li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#12","title":"1.2. \u666e\u901a\u8d26\u53f7\u7ba1\u7406","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#121","title":"1.2.1. \u666e\u901a\u8d26\u53f7\u547d\u540d\u89c4\u5219","text":"\u8d26\u53f7\u7c7b\u578b \u9002\u7528\u8303\u56f4 \u8d26\u53f7\u5b50\u7c7b\u578b \u8d26\u53f7\u547d\u540d\u89c4\u5219 \u4e2a\u4eba\u7ef4\u62a4\u8d26\u53f7 \u6743\u9650\u76f8\u5bf9\u6bd4\u8f83\u4f4e\uff0c\u957f\u671f\u6388\u4e88\u6307\u5b9a\u7684\u4e2a\u4eba \u5458\u5de5\u8d26\u53f7\u90e8\u95e8\u62fc\u97f3\u7b80\u5199_\u4e2a\u4eba\u59d3\u540d\u5168\u62fc \u5408\u4f5c\u5355\u4f4d\u4e2a\u4eba\u7ef4\u62a4\u8d26\u53f7\u5408\u4f5c\u5355\u4f4d\u62fc\u97f3\u7b80\u5199_\u4e2a\u4eba\u59d3\u540d\u5168\u62fc <p>\u8d26\u53f7\u4f7f\u7528\u4eba\u5728\u7533\u8bf7\u65b0\u5efa\u8d26\u53f7\u524d\uff0c\u6309\u7167\u4ee5\u4e0a\u89c4\u5219\u786e\u5b9a\u8d26\u53f7\u540d\u3002</p>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#122","title":"1.2.2. \u666e\u901a\u8d26\u53f7\u53d8\u66f4\u6d41\u7a0b\uff08\u5305\u62ec\u8d26\u53f7\u7684\u65b0\u5efa\u3001\u4fee\u6539\u548c\u5220\u9664\uff09","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#13","title":"1.3. \u7a0b\u5e8f\u8d26\u53f7\u7ba1\u7406","text":"<ol> <li> <p>\u7a0b\u5e8f\u8d26\u53f7\u901a\u5e38\u4ee5\u914d\u7f6e\u6587\u4ef6\u6709\u65b9\u5f0f\u5199\u5165\u5230\u76f8\u5173\u7684\u7a0b\u5e8f\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u539f\u5219\u4e0a\u4e0d\u6388\u4e88\u4e2a\u4eba\u4f7f\u7528\uff0c\u5982\u56e0\u7279\u6b8a\u60c5\u51b5\uff0c\u5fc5\u987b\u4f7f\u7528\u7a0b\u5e8f\u8d26\u53f7\u624d\u80fd\u5b8c\u6210\u76f8\u5e94\u5de5\u4f5c\uff0c\u5219\u9700\u6839\u636e\u8d26\u53f7\u53d8\u66f4\u7ba1\u7406\u6d41\u7a0b\uff0c\u5411\u6240\u5728\u90e8\u95e8\u4e3b\u7ba1\u63d0\u51fa\u7533\u8bf7\uff0c\u7531\u7cfb\u7edf\u8d1f\u8d23\u4eba\u786e\u8ba4\u548c\u5ba1\u6279\u540e\uff0c\u624d\u7531\u8d26\u53f7\u7ba1\u7406\u5458\u4e34\u65f6\u6388\u4e88\u76f8\u5e94\u7a0b\u5e8f\u8d26\u53f7\u7684\u4f7f\u7528\u6743\u3002\u4f7f\u7528\u5b8c\u540e\u7531\u8d26\u53f7\u7ba1\u7406\u5458\u6839\u636e\u7533\u8bf7\u65f6\u9650\u8fdb\u884c\u6743\u9650\u56de\u6536\u3002</p> </li> <li> <p>\u7a0b\u5e8f\u8d26\u53f7\u7684\u4f7f\u7528\u7531\u5404\u7cfb\u7edf\u8d1f\u8d23\u4eba\u7ba1\u7406\uff0c\u5305\u62ec\u8d26\u53f7\u6743\u9650\u53d8\u66f4\u7ba1\u7406\u3001\u5b9a\u671f\u5ba1\u9605\u548c\u53e3\u4ee4\u7684\u7ef4\u62a4\u3002</p> </li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#14","title":"1.4. \u8d85\u7ea7\u8d26\u53f7\u7ba1\u7406","text":"<ol> <li> <p>\u5bf9\u7cfb\u7edf\u8d85\u7ea7\u7528\u6237\u7684\u8d26\u53f7\u7684\u4f7f\u7528\u4ec5\u9650\u4e8e\u7ecf\u6388\u6743\u7684\u7cfb\u7edf\u7ba1\u7406\u4eba\u5458\u3002\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u548c\u6570\u636e\u5e93\u5c42\u8d85\u7ea7\u7528\u6237\u8d26\u53f7\uff0c\u7531\u7cfb\u7edf\u7ba1\u7406\u5458\u6839\u636e\u4eba\u5458\u53d8\u52a8\u586b\u5199\u300a\u8d85\u7ea7\u7ba1\u7406\u5458\u8d26\u53f7\u6388\u6743\u5ba1\u6279\u8868\u300b\uff0c\u7531\u7cfb\u7edf\u4e3b\u7ba1\u90e8\u95e8\u8d1f\u8d23\u4eba\u5ba1\u6838\u786e\u8ba4\u540e\u65b9\u53ef\u6388\u6743\u3002\u5177\u4f53\u6d41\u7a0b\u53c2\u9605\u201c\u8d85\u7ea7\u7ba1\u7406\u5458\u8d26\u53f7\u6743\u9650\u53d8\u66f4\u7ba1\u7406\u6d41\u7a0b\u201d\u3002</p> </li> <li> <p>\u82e5\u7b2c\u4e09\u65b9\u5382\u5546\u4eba\u5458\u9700\u8981\u4f7f\u7528\u8d85\u7ea7\u7528\u6237\u8d26\u53f7\uff0c\u5e94\u548c\u7b2c\u4e09\u65b9\u5382\u5546\u7b7e\u8ba2\u76f8\u5173\u7684\u5b89\u5168\u4fdd\u5bc6\u534f\u8bae\uff0c\u4ee5\u5408\u7406\u786e\u4fdd\u7b2c\u4e09\u65b9\u5382\u5546\u80fd\u591f\u6267\u884cXXX\u516c\u53f8\u7684\u5b89\u5168\u7ba1\u7406\u8981\u6c42\u548c\u804c\u8d23\u4e0d\u76f8\u5bb9\u8981\u6c42\uff08\u5982\u7cfb\u7edf\u5f00\u53d1\u4eba\u5458\u548c\u7ef4\u62a4\u4eba\u5458\u7684\u804c\u8d23\u5206\u5de5\uff09\uff0c\u5e76\u6839\u636e\u8d26\u53f7\u53d8\u66f4\u7ba1\u7406\u6d41\u7a0b\u586b\u5199\u8868\u5355\uff0c\u5411\u6240\u5728\u90e8\u95e8\u4e3b\u7ba1\u63d0\u51fa\u7533\u8bf7\uff0c\u7531\u7cfb\u7edf\u8d1f\u8d23\u4eba\u786e\u8ba4\uff0c\u5e76\u901a\u8fc7\u7cfb\u7edf\u4e3b\u7ba1\u90e8\u95e8\u8d1f\u8d23\u4eba\u5ba1\u6838\u786e\u8ba4\u540e\u65b9\u53ef\u6388\u6743\u3002</p> </li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#15","title":"1.5. \u5185\u7f6e\u8d26\u53f7\u7ba1\u7406","text":"<ol> <li> <p>\u5bf9\u4e8e\u6570\u636e\u5e93\u8fd0\u884c\u65e0\u9700\u4f7f\u7528\u7684\u5185\u7f6e\u8d26\u53f7\u8fdb\u884c\u9501\u5b9a\uff0c\u4e0d\u5141\u8bb8\u4e2a\u4eba\u4f7f\u7528\u3002</p> </li> <li> <p>\u5bf9\u5185\u7f6e\u8d26\u53f7\u7684\u76ee\u5f55/\u6587\u4ef6\u8bbf\u95ee\u6743\u9650\u4e25\u683c\u9650\u5236\u5728\u8be5\u8d26\u53f7\u7684\u529f\u80fd\u8303\u56f4\u5185\u5e76\u5b9a\u671f\u68c0\u67e5\u3002\u5bf9\u8be5\u7c7b\u8d26\u53f7\u7684\u64cd\u4f5c\u8981\u4fdd\u7559\u65e5\u5fd7\u5e76\u5b9a\u671f\u5ba1\u9605\u3002</p> </li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#16","title":"1.6. \u53e3\u4ee4\u7ba1\u7406","text":"<ol> <li> <p>\u53ef\u4ee5\u63a5\u89e6\u5230\u53e3\u4ee4\u7684\u4eba\u7fa4\u5e94\u9650\u5236\u5728\u6700\u5c0f\u8303\u56f4\u4ee5\u5185\u3002\u7528\u6237\u6709\u8d23\u4efb\u4fdd\u62a4\u597d\u4e2a\u4eba\u8d26\u53f7\u53ca\u53e3\u4ee4\u7684\u5b89\u5168\uff0c\u5404\u7ea7\u53e3\u4ee4\u4e0d\u5f97\u4ee5\u4efb\u4f55\u5f62\u5f0f\u5b58\u653e\u4e8e\u53ef\u516c\u5171\u8bbf\u95ee\u7684\u8bbe\u5907\u4e2d\uff0c\u4e25\u7981\u5c06\u8d26\u53f7\u548c\u53e3\u4ee4\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4fdd\u5b58\u5728\u672c\u5730\u6216\u5176\u4ed6\u5a92\u4ecb\u3002</p> </li> <li> <p>\u5bc6\u7801\u5e94\u81f3\u5c11\u6bcf90\u5929\u8fdb\u884c\u66f4\u65b0\uff0c\u5bc6\u7801\u957f\u5ea6\u5e94\u81f3\u5c118\u4f4d\u6216\u4ee5\u4e0a\uff0c\u5bc6\u7801\u5e94\u7531\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u4ee5\u53ca\u7279\u6b8a\u7b26\u53f7\u81f3\u5c112\u79cd\u5b57\u7b26\u7ec4\u6210\uff0c\u4e14\u4e0d\u5e94\u4e3a\u4efb\u4f55\u6709\u610f\u4e49\u7684\u77ed\u8bed\uff08\u6c49\u8bed\u62fc\u97f3\u3001\u5e38\u7528\u5355\u8bcd\u3001\u5e38\u7528\u547d\u4ee4\u4ee5\u53ca\u4e2a\u4eba\u4fe1\u606f\u7b49\uff09\u3002\u5728\u6280\u672f\u53ef\u884c\u6216\u4e0d\u5f71\u54cd\u4e1a\u52a1\u751f\u4ea7\u7684\u60c5\u51b5\u4e0b\uff0c\u5e94\u9650\u5236\u4e0d\u5f97\u4f7f\u7528\u6700\u8fd15\u6b21\u4ee5\u5185\u91cd\u590d\u7684\u5bc6\u7801\uff0c\u4e14\u5bc6\u7801\u91cd\u590d\u5c1d\u8bd55\u6b21\u4ee5\u4e0a\u5e94\u6682\u505c\u8be5\u6570\u636e\u5e93\u8d26\u53f7\u767b\u5f55\u3002</p> </li> <li> <p>\u5bf9\u4e8e\u65e0\u6cd5\u8fdb\u884c\u5b9a\u671f\u4fee\u6539\u53e3\u4ee4\u7684\u7a0b\u5e8f\u8d26\u53f7\u7b49\uff0c\u5e94\u7531\u8d26\u53f7\u7ba1\u7406\u5458\u8d1f\u8d23\u7763\u4fc3\u843d\u5b9e\u53e3\u4ee4\u4fee\u6539\u5de5\u4f5c\u3002</p> </li> <li> <p>\u9700\u8981\u4fee\u6539\u53e3\u4ee4\u65f6\uff0c\u7533\u8bf7\u4eba\u9700\u63d0\u4ea4\u8d26\u53f7\u53d8\u66f4\u8868\u5355\uff0c\u7ecf\u8fc7\u76f8\u5173\u8d1f\u8d23\u4eba\u5ba1\u6279\u540e\uff0c\u7531\u8d26\u53f7\u7ba1\u7406\u5458\u5b8c\u6210\uff0c\u5e76\u4fdd\u7559\u4fee\u6539\u65e5\u5fd7\uff0c\u4ee5\u5907\u5ba1\u8ba1\u3002</p> </li> <li> <p>\u666e\u901a\u8d26\u53f7\u7531\u4f7f\u7528\u4eba\u81ea\u884c\u7ef4\u62a4\u5176\u53e3\u4ee4\uff0c\u5e76\u5728\u8d26\u53f7\u53e3\u4ee4\u8fc7\u671f\u4e4b\u524d\uff0890\u5929\u5185\uff09\u5b8c\u6210\u5176\u8d26\u53f7\u7684\u53e3\u4ee4\u7684\u4fee\u6539\u3002</p> </li> <li> <p>\u8d26\u53f7\u4f7f\u7528\u8005\u8fdd\u53cd\u4e86\u6709\u5173\u53e3\u4ee4\u7ba1\u7406\u89c4\u5b9a\u6216\u6709\u8ff9\u8c61\u8868\u660e\u53e3\u4ee4\u53ef\u80fd\u5df2\u7ecf\u6cc4\u9732\u65f6\uff0c\u5e94\u7acb\u5373\u9501\u5b9a\u8d26\u53f7\u6216\u8fdb\u884c\u53e3\u4ee4\u4fee\u6539\uff0c\u5e76\u767b\u8bb0\u5907\u6848\u3002</p> </li> <li> <p>\u5b89\u5168\u7ba1\u7406\u5458\u5e94\u5bf9\u7cfb\u7edf\u4e2d\u7684\u8d26\u53f7\u53e3\u4ee4\u7b56\u7565\u8fdb\u884c\u5b9a\u671f\u62bd\u67e5\uff0c\u5bf9\u4e0d\u7b26\u5408\u8981\u6c42\u7684\u53ca\u65f6\u7ec4\u7ec7\u6574\u6539\u3002</p> </li> <li> <p>\u638c\u63e1\u53e3\u4ee4\u7ba1\u7406\u5458\u79bb\u5f00\u5c97\u4f4d\u540e\uff0c\u76f8\u5173\u53e3\u4ee4\u5fc5\u987b\u7acb\u5373\u66f4\u6539\u3002</p> </li> <li> <p>\u6570\u636e\u5e93\u8d85\u7ea7\u8d26\u53f7\u53e3\u4ee4\u7531\u6570\u636e\u5e93\u7ba1\u7406\u5458\u8d1f\u8d23\u7ef4\u62a4\uff0c\u5e76\u5b9a\u671f\u66f4\u65b0\u3002\u4e25\u7981\u672a\u7ecf\u8d26\u53f7\u5ba1\u6279\u4eba\u5458\u7684\u8bb8\u53ef\u4f7f\u7528\u8d85\u7ea7\u8d26\u53f7\u53ca\u53e3\u4ee4\u3002\u5982\u53d1\u751f\u4e22\u5931\u6216\u9057\u5fd8\u53e3\u4ee4\u7684\u60c5\u51b5\uff0c\u8d85\u7ea7\u8d26\u53f7\u7ba1\u7406\u5458\u5e94\u7acb\u5373\u901a\u77e5\u8d26\u53f7\u5ba1\u6279\u4eba\u5458\u5bfb\u6c42\u89e3\u51b3\u529e\u6cd5\u3002</p> </li> <li> <p>\u7a0b\u5e8f\u8d26\u53f7\u53e3\u4ee4\u9700\u8981\u4fdd\u5b58\u5728\u67d0\u6587\u4ef6\u91cc\u9762\u60c5\u51b5\u4e0b\uff0c\u6539\u4e3a\u4e0d\u53ef\u8bfb\u6587\u4ef6\u3001\u5e76\u63a7\u5236\u6587\u4ef6\u53ea\u80fd\u662f\u5bf9\u5e94\u7a0b\u5e8f\u8bbf\u95ee\u3002\u7a0b\u5e8f\u8d26\u53f7\u53ca\u53e3\u4ee4\u4e0d\u80fd\u7528\u4e8e\u65e5\u5e38\u8fd0\u7ef4\u7ba1\u7406\uff0c\u4e0d\u80fd\u4f9b\u7528\u6237\u4f7f\u7528\uff0c\u4e25\u7981\u6269\u6563\u3002</p> </li> <li> <p>\u5185\u7f6e\u4e8e\u4e1a\u52a1\u7cfb\u7edf\u6e90\u4ee3\u7801\u4e2d\u7684\u6570\u636e\u5e93\u8c03\u7528\u4e2d\u7684\u7528\u6237\u540d\u3001\u660e\u6587\u5bc6\u7801\uff0c\u5e94\u5f53\u8fdb\u884c\u5e94\u7528\u7cfb\u7edf\u6539\u9020\u6216\u4f7f\u7528\u4e0d\u53ef\u8bfb\u7684\u914d\u7f6e\u6587\u4ef6\u6765\u5b9e\u73b0\u3002</p> </li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#17","title":"1.7. \u8d26\u53f7\u5ba1\u8ba1\u3001\u5ba1\u9605","text":"<ol> <li> <p>\u7531\u5b89\u5168\u5ba1\u8ba1\u5458\u8d1f\u8d23\u8d26\u53f7\u7684\u5ba1\u8ba1\u5de5\u4f5c\uff0c\u5b9a\u671f\u5b8c\u6210\u8d26\u53f7\u5ba1\u9605\u3002</p> </li> <li> <p>\u6bcf\u5b63\u5ea6\u5ba1\u8ba1\u7ba1\u7406\u5458\u6839\u636e\u8d85\u7ea7\u7ba1\u7406\u5458\u4ee5\u53ca\u7cfb\u7edf\u5e94\u7528\u5c42\u8d85\u7ea7\u7ba1\u7406\u5458\u7684\u6e05\u5355\uff0c\u7ed3\u5408\u7cfb\u7edf\u6743\u9650\u548c\u7528\u6237\u804c\u8d23\uff08\u6216\u7528\u6237\u89d2\u8272\uff09\u77e9\u9635\u8868\uff0c\u5bf9\u7528\u6237\u7684\u8bbf\u95ee\u6743\u9650\u8fdb\u884c\u5ba1\u8ba1\uff0c\u4ee5\u907f\u514d\u7528\u6237\u7684\u6743\u9650\u4e2d\u6709\u4e0d\u517c\u5bb9\u804c\u8d23\u7684\u5b58\u5728\uff0c\u6e05\u7406\u957f\u671f\u4e0d\u4f7f\u7528\u7684\u65e0\u6548\u5e10\u53f7\uff0c\u5b9a\u671f\u626b\u63cf\u6574\u6539\u5e10\u53f7\u5f31\u53e3\u4ee4\uff0c\u5b9a\u671f\u68b3\u7406\u5168\u90e8\u5e10\u53f7\uff0c\u786e\u4fdd\u5e10\u53f7\u7684\u5b8c\u6574\u6027\u548c\u51c6\u786e\u6027\u3002</p> </li> <li> <p>\u6bcf\u534a\u5e74\u53ca\u4e1a\u52a1\u6d41\u7a0b\u53d1\u751f\u91cd\u5927\u53d8\u66f4\u65f6\uff0c\u5ba1\u8ba1\u7ba1\u7406\u5458\u5bf9\u7cfb\u7edf\u666e\u901a\u8d26\u53f7\u7684\u6e05\u5355\uff0c\u7ed3\u5408\u7cfb\u7edf\u6743\u9650\u548c\u7528\u6237\u804c\u8d23\uff08\u6216\u7528\u6237\u89d2\u8272\uff09\u77e9\u9635\u8868\uff0c\u5bf9\u8bbf\u95ee\u6743\u9650\u8fdb\u884c\u5ba1\u8ba1\uff0c\u4ee5\u907f\u514d\u7528\u6237\u7684\u6743\u9650\u4e2d\u6709\u4e0d\u517c\u5bb9\u804c\u8d23\u7684\u5b58\u5728\uff0c\u5982\u53d1\u73b0\u591a\u4f59\u6216\u4e0d\u6070\u5f53\u7684\u5e10\u53f7\u6216\u6743\u9650\u5e94\u8fdb\u884c\u53ca\u65f6\u8c03\u6574\u3002</p> </li> <li> <p>\u5bf9\u4e8e\u90e8\u5206\u56e0\u7cfb\u7edf\u63a5\u53e3\u539f\u56e0\u5728\u7cfb\u7edf\u4e2d\u9884\u8bbe\u7684\u7528\u6237\u5e10\u53f7\uff0c\u5e94\u5bf9\u63a5\u53e3\u7a0b\u5e8f\u3001\u811a\u672c\u6216\u76f8\u5173\u8bbe\u7f6e\u8fdb\u884c\u52a0\u5bc6\u6216\u5b9e\u65bd\u8bbf\u95ee\u63a7\u5236\uff0c\u4ee5\u9632\u6b62\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\u3002\u5bf9\u5185\u7f6e\u5e10\u53f7\u7684\u76ee\u5f55/\u6587\u4ef6\u8bbf\u95ee\u6743\u9650\u4e25\u683c\u9650\u5236\u5728\u8be5\u5e10\u53f7\u7684\u529f\u80fd\u8303\u56f4\u5185\u5e76\u5b9a\u671f\u68c0\u67e5\u3002\u5728\u7cfb\u7edf\u4f5c\u5b9a\u671f\u7ef4\u62a4\u65f6\u5bf9\u5bc6\u7801\u4f5c\u66f4\u6539\uff0c\u5bf9\u8be5\u7c7b\u5e10\u53f7\u7684\u64cd\u4f5c\u8981\u4fdd\u7559\u65e5\u5fd7\u5e76\u5b9a\u671f\u5ba1\u9605\u3002</p> </li> <li> <p>\u8d26\u53f7\u7ba1\u7406\u5458\u4e0d\u5f97\u8d1f\u8d23\u6240\u8f96\u7cfb\u7edf\u7684\u6570\u636e\u5e93\u8d26\u53f7\u53ca\u53e3\u4ee4\u7684\u5ba1\u8ba1\u5de5\u4f5c\u3002</p> </li> </ol>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#2","title":"2. \u6743\u9650\u7ba1\u7406","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#21","title":"2.1. \u6743\u9650\u5206\u914d\u539f\u5219","text":"<p>\u6700\u5c0f\u5316\u539f\u5219\uff0c\u5b81\u5c11\u52ff\u6ee5\uff0c\u5c24\u5176\u5bf9any\u7cfb\u7edf\u6743\u9650\uff0c\u9700\u8981\u8c28\u614e\u63a7\u5236</p>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#22","title":"2.2. \u6743\u9650\u7b49\u7ea7","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#221-sysdba","title":"2.2.1. sysdba","text":"<p>\u6570\u636e\u5e93\u7cfb\u7edf\u7ba1\u7406\u5458\uff0csys\u7528\u6237\u9ed8\u8ba4\u5177\u6709sysdba\u6743\u9650\uff0c\u8be6\u7ec6\u6743\u9650\u5217\u8868\u5982\u4e0b\uff1a</p> <p>sys_dba_sys_privs.xls</p> <p>sys_dba_tab_privs.xls</p> <p>\u53ef\u4ee5\u8fdb\u884c\u5982\u4e0b\u7ba1\u7406\u6d3b\u52a8\uff1a - \u542f\u52a8\u548c\u5173\u95ed\u6570\u636e\u5e93 - \u6302\u8f7d\u3001\u6253\u5f00\u3001\u5907\u4efd\u6570\u636e\u5e93\uff0c\u5e76\u4e14\u4fee\u6539\u5b57\u7b26\u96c6 - \u521b\u5efa\u6570\u636e\u5e93 - \u5220\u9664\u6570\u636e\u5e93 - \u521b\u5efa\u670d\u52a1\u5668\u53c2\u6570\u6587\u4ef6 - \u66f4\u6539\u6570\u636e\u5e93\u5f52\u6863\u6a21\u5f0f - \u6267\u884c\u6570\u636e\u5e93\u6062\u590d\u64cd\u4f5c\uff0c\u5305\u62ec\u5b8c\u5168\u6062\u590d\u548c\u4e0d\u5b8c\u5168\u6062\u590d - \u542f\u7528\u9650\u5236\u4f1a\u8bdd\u6a21\u5f0f</p> <p>\u901a\u5e38\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u8ba4\u8bc1\uff0c\u662f\u6743\u9650\u6700\u9ad8\u7684oracle\u6570\u636e\u5e93\u7528\u6237\uff0c\u53ef\u4ee5\u8ba4\u4e3a\uff0csysdba\u7528\u6237\uff0c\u53ef\u4ee5\u5bf9\u6570\u636e\u5e93\u505a\u4efb\u4efb\u4f55\u4e8b\u60c5\u3002</p>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#222-dba","title":"2.2.2. dba","text":"<p>\u6570\u636e\u5e93\u7ba1\u7406\u5458\uff0csystem\u7528\u6237\u9ed8\u8ba4\u5177\u6709dba\u6743\u9650\uff0c\u8be6\u7ec6\u6743\u9650\u5217\u8868\u5982\u4e0b\uff1a</p> <p>dba_dba_sys_privs</p> <p>dba_role_sys_privs</p> <p>dba_role_role_privs</p> <p>dba_role_tab_privs</p> <p>dba\u7528\u6237\u53ef\u4ee5\u8fdb\u884c\u65e5\u5e38\u7684\u5927\u591a\u6570\u6570\u636e\u5e93\u7ef4\u62a4\u64cd\u4f5c\uff0c\u53ef\u521b\u5efa\u3001\u4fee\u6539\u3001\u5220\u9664\u4efb\u4f55\u5927\u591a\u6570\u6570\u636e\u5e93\u5bf9\u8c61\uff0c\u53ef\u521b\u5efa\u7528\u6237\uff0c\u53ef\u4fee\u6539\u7528\u6237\uff0c\u53ef\u4fee\u6539\u6570\u636e\u5e93\u3001\u6570\u636e\u5e93\u7cfb\u7edf\u914d\u7f6e\uff0c\u53ef\u5ba1\u8ba1\u3001\u8c03\u4f18\u6570\u636e\u5e93\uff0c\u53ef\u5efa\u7acb\u81ea\u5236\u4efb\u52a1\uff0c\u53ef\u5f71\u54cd\u4f1a\u8bdd\uff0c\u53ef\u5907\u4efd\u4efb\u4f55\u8868\u7b49\u7b49\uff0c\u6743\u9650\u7b49\u7ea7\u4ec5\u6b21\u4e8esysdba\u3002</p>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#223-schema","title":"2.2.3. schema\u6240\u6709\u8005","text":"<p>\u5728\u521b\u5efa\u67d0\u4e2a\u7528\u6237\uff0c\u5e76\u4e14\u8be5\u7528\u6237\u521b\u5efa\u4e86\u4e00\u4e9b\u6570\u636e\u5e93\u5bf9\u8c61\uff08\u5f53\u7136\uff0c\u524d\u63d0\u662f\u5177\u6709\u76f8\u5e94\u7684create\u6216\u8005create any \u7684\u6743\u9650\uff09\uff0coracle\u4f1a\u9ed8\u8ba4\u521b\u5efa\u5e76\u7ef4\u62a4\u4e00\u4e2aschema\uff0c\u5e76\u4e14\uff0c\u8be5\u7528\u6237\u5177\u6709\u5bf9\u6240\u521b\u5efa\u7528\u6237\u7684all\u6743\u9650\u3002</p> <p>\u901a\u5e38\uff0c\u67d0\u4e2a\u7528\u6237\u4f5c\u4e3a\u6570\u636e\u5e93\u4e3b\u8981\u7684\u5f00\u53d1\u7528\u6237\uff0c\u8d4b\u4e88\u8be5\u7528\u6237connect + resource\u89d2\u8272\u6743\u9650\u5373\u53ef\uff0cconnect\u89d2\u8272\u4e2d\u5305\u542bcreate session\u7cfb\u7edf\u6743\u9650\uff0cresource\u89d2\u8272\u6743\u9650\uff0c\u8be6\u7ec6\u53c2\u89c1</p> <p>resource_role_sys_privs</p> <p>\u5982\u679c\u8be5\u7528\u6237\u9700\u8981\u521b\u5efa\u7269\u5316\u89c6\u56fe\uff0c\u5219\u9700\u8981\u53e6\u5916\u8d4b\u4e88\u7cfb\u7edf\u6743\u9650\uff1a</p> <pre><code>CREATE MATERIALIZED VIEW\n</code></pre>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#224","title":"2.2.4. \u666e\u901a\u7528\u6237","text":"<p>\u5728\u521b\u5efa\u666e\u901a\u7528\u6237\u540e\uff0c\u5e94\u9996\u5148\u8d4b\u4e88create session\u7cfb\u7edf\u6743\u9650\uff0c\u6216\u8005connect\u89d2\u8272\u6743\u9650\uff0c\u5e76\u9650\u5b9a\u4f7f\u7528\u7684\u9ed8\u8ba4\u8868\u7a7a\u95f4\u53ca\u8868\u7a7a\u95f4\u914d\u989d\u3002\u666e\u901a\u7528\u6237\u9ed8\u8ba4\u5177\u6709public\u89d2\u8272\u6743\u9650\uff0cpublic\u89d2\u8272\u6743\u9650\u8be6\u7ec6\u53c2\u89c1\uff1a</p> <p>public_dba_tab_privs</p> <p>\u666e\u901a\u7528\u6237\u7684\u6743\u9650\u9700\u8981\u505a\u5230\u7ec6\u7c92\u5ea6\u63a7\u5236\uff1a\u9700\u8981\u7684\u65f6\u5019\u7ed9\uff0c\u4e0d\u9700\u8981\u7684\u65f6\u5019\u7acb\u5373\u53d6\u6d88\u6743\u9650\u3002\u5bf9\u8868\u7684\u8bbf\u95ee\uff0c\u53ef\u5efa\u7acb\u5408\u7406\u89c6\u56fe\uff0c\u518d\u8d4b\u4e88\u666e\u901a\u7528\u6237\u89c6\u56fe\u7684select\u6743\u9650\u3002</p> <p>\u5bf9\u4e8eprocedure\uff0c\u5207\u5fcc\u8d4b\u4e88execute any procedure\u6743\u9650\uff01\uff01\uff01 </p> <p>\u5bf9\u4e8e\u8868\u7684\u66f4\u6539\u3001\u63d2\u5165\u64cd\u4f5c\uff0c\u9700\u8981\u666e\u901a\u7528\u6237\u64cd\u4f5c\u7684\uff0c\u53ef\u4ee5\u5efa\u7acbprocedure\uff0c\u5e76\u8d4b\u4e88\u8be5\u666e\u901a\u7528\u6237execute\u6743\u9650\u3002\u6ce8\u610f\u5728procedure\u505a\u597d\u5ba1\u8ba1\u8bb0\u5f55\u3002</p>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#225-dba","title":"2.2.5. \u9650\u5236dba\u6743\u9650","text":"<p>dba\u5bf9\u4e1a\u52a1\u6570\u636e\u8bbf\u95ee\u7684\u6743\u9650\uff0c\u53ef\u4ee5\u662f\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ol> <li> <p>dba\u672c\u8eab\u5177\u6709SELECT ANY TABLE\u7684\u7cfb\u7edf\u6743\u9650\uff0c\u53ef\u4ee5\u8bbf\u95ee\u4e1a\u52a1\u6570\u636e\uff1b</p> </li> <li> <p>dba\u672c\u8eab\u5177\u6709GRANT ANY PRIVILEGE\u7684\u6743\u9650\uff0c\u53ef\u4ee5\u7ed9\u81ea\u5df1\u8d4b\u4e88SELECT ANY TABLE\u7684\u6743\u9650\uff0c\u4ece\u800c\u8bbf\u95ee\u4e1a\u52a1\u6570\u636e\uff1b</p> </li> <li> <p>dba\u672c\u8eab\u5177\u6709GRANT ANY OBJECT PRIVILEGE\u7684\u6743\u9650\uff0c\u53ef\u4ee5\u7ed9\u81ea\u5df1\u8d4b\u4e88\u5bf9\u76f8\u5e94\u4e1a\u52a1\u6570\u636e\u8868\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u4ee5\u5b9e\u73b0\u8bbf\u95ee\u76ee\u7684\uff1b</p> </li> <li> <p>dba\u672c\u8eab\u5177\u6709DATAPUMP_IMP_FULL_DATABASE\u3001OLAP_DBA\u7b49\u89d2\u8272\u6743\u9650\uff0c\u8fd9\u4e9b\u89d2\u8272\u6743\u9650\u4e2d\u5177\u6709select any table\u7684\u7cfb\u7edf\u6743\u9650\uff0c\u6216\u8005GRANT ANY PRIVILEGE\u3001GRANT ANY OBJECT PRIVILEGE\u7684\u6743\u9650\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u76f8\u5e94\u7684\u8d4b\u6743\uff0c\u83b7\u5f97\u5bf9\u4e1a\u52a1\u6570\u636e\u7684\u8bbf\u95ee\u3002</p> </li> <li> <p>dba\u672c\u8eab\u5177\u6709EXECUTE ANY PROCEDURE\u7684\u6743\u9650\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u7cfb\u7edf\u5305\u7684\u5b58\u50a8\u8fc7\u7a0b\uff0c\u5b9e\u73b0\u7ed9\u81ea\u5df1\u8d4b\u6743\uff0c\u4ece\u800c\u8bbf\u95ee\u4e1a\u52a1\u6570\u636e\u3002</p> </li> <li> <p>dba\u5177\u6709ALTER USER\u7684\u6743\u9650\uff0c\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u76f8\u5e94schema\u7528\u6237\u7684\u5bc6\u7801\uff0c\u7528shemale user\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u8bbf\u95ee\u4e1a\u52a1\u6570\u636e\u3002</p> </li> </ol> <p>\u8981\u9650\u5236dba\u5bf9\u4e1a\u52a1\u6570\u636e\u7684\u8bbf\u95ee\uff0c\u5c31\u8981\u5c06\u8fd9\u4e9b\u65b9\u9762\u675c\u7edd\u3002\u4e3a\u6b64\uff0c\u5efa\u8bae\u521b\u5efa\u65b0\u7684dba\u89d2\u8272\uff0c\u5c06\u654f\u611f\u7684\u3001\u4e0d\u9700\u8981\u7684\u6743\u9650\uff0c\u4ecedba\u89d2\u8272\u4e2d\u5254\u9664\uff0c\u518d\u5efa\u7acb\u65b0\u7684dba\u8d26\u6237\u65f6\uff0c\u8d4b\u4e88\u65b0\u7684dba\u89d2\u8272\uff0c\u4ee5\u8d77\u5230\u9650\u5236dba\u7684\u76ee\u7684\u3002</p> <p>\u6ce8\u610f\uff1a\u4e0d\u8981\u8bd5\u56fe\u76f4\u63a5\u4fee\u6539dba\u89d2\u8272\u7684\u6743\u9650\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u5f88\u5371\u9669\uff01\uff01\uff01</p>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#2251-dba","title":"2.2.5.1. \u6743\u9650\u5206\u79bb\u4e00\uff1a\u521b\u5efa\u65b0dba\u89d2\u8272","text":"<p>\u76f4\u63a5\u4fee\u6539\u6570\u636e\u5e93\u539f\u6709\u7684dba\u89d2\u8272\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u81ea\u5df1\u7684\u8fd0\u7ef4\u5de5\u4f5c\u521b\u5efa\u4fdd\u7559\u81ea\u8eab\u8981\u6c42\u7684dba\u89d2\u8272\u3002\u4ee5\u4e0b\u5305\u542b\u4e86\u9650\u5236dba\u9700\u8981\u7684sql\u811a\u672c\uff0c\u5305\u62ec\u83b7\u5f97dba\u89d2\u8272\u6743\u9650\u7684\u811a\u672c\uff0c\u5e94\u8be5\u8d4b\u4e88\u81ea\u5b9a\u4e49dba\u89d2\u8272\u6743\u9650\u7684\u811a\u672c\uff0c\u4ee5\u53ca\u53bb\u6389\u7684\u6743\u9650\uff0c\u4ec5\u4f9b\u53c2\u8003\uff1a</p> <ol> <li>\u521b\u5efa\u65b0dba\u7528\u6237\uff0c\u83b7\u5f97dba\u89d2\u8272\u6743\u9650\u7684\u811a\u672c\uff0c\u8d4b\u6743\u811a\u672c</li> </ol> <p>```sql    create user usr_dba identified by \"P@ss1234\" default tablespace users temporary tablespace temp;</p> <p>--\u83b7\u5f97dba\u89d2\u8272\u6743\u9650\u7684\u811a\u672c    --set echo off;    --set heading off;    --set pagesize 0;    --set feedback off;    --set termout off;    --set trimspool on;    --set trimout on;    --spool /tmp/dba_privs/dba_role_privs.txt;    --select 'grant '||GRANTED_ROLE||' to usr_dba;' from role_role_privs where role='DBA' ORDER BY GRANTED_ROLE;    --spool off;    --host cd /tmp    --exit;</p>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#dba","title":"\u8d4b\u4e88\u65b0dba\u7528\u6237\u89d2\u8272\u6743\u9650","text":"<p>grant DELETE_CATALOG_ROLE to usr_dba;    grant EXECUTE_CATALOG_ROLE to usr_dba;    grant GATHER_SYSTEM_STATISTICS to usr_dba;    grant JAVA_ADMIN to usr_dba;    grant JAVA_DEPLOY to usr_dba;    grant OLAP_XS_ADMIN to usr_dba;    grant SCHEDULER_ADMIN to usr_dba;    grant SELECT_CATALOG_ROLE to usr_dba;    grant WM_ADMIN_ROLE to usr_dba;    grant XDBADMIN to usr_dba;    grant XDB_SET_INVOKER to usr_dba;</p> <p>--\u83b7\u5f97db\u7cfb\u7edf\u6743\u9650\u7684\u811a\u672c    --set echo off;    --set heading off;    --set pagesize 0;    --set feedback off;    --set termout off;    --set trimspool on;    --set trimout on;    --spool /tmp/dba_privs/dba_sys_privs.txt;    --select 'grant '||PRIVILEGE||' to usr_dba;' from role_sys_privs where role='DBA' ORDER BY PRIVILEGE;    --spool off;    --host cd /tmp    --exit;</p> <p>--\u8d4b\u4e88\u65b0dba\u7528\u6237\u7cfb\u7edf\u6743\u9650    grant ADMINISTER ANY SQL TUNING SET to usr_dba;    grant ADMINISTER DATABASE TRIGGER to usr_dba;    grant ADMINISTER RESOURCE MANAGER to usr_dba;    grant ADMINISTER SQL MANAGEMENT OBJECT to usr_dba;    grant ADMINISTER SQL TUNING SET to usr_dba;    grant ADVISOR to usr_dba;    grant ALTER ANY ASSEMBLY to usr_dba;    grant ALTER ANY CLUSTER to usr_dba;    grant ALTER ANY CUBE to usr_dba;    grant ALTER ANY CUBE DIMENSION to usr_dba;    grant ALTER ANY DIMENSION to usr_dba;    grant ALTER ANY EDITION to usr_dba;    grant ALTER ANY EVALUATION CONTEXT to usr_dba;    grant ALTER ANY INDEX to usr_dba;    grant ALTER ANY INDEXTYPE to usr_dba;    grant ALTER ANY LIBRARY to usr_dba;    grant ALTER ANY MATERIALIZED VIEW to usr_dba;    grant ALTER ANY MINING MODEL to usr_dba;    grant ALTER ANY OPERATOR to usr_dba;    grant ALTER ANY OUTLINE to usr_dba;    grant ALTER ANY PROCEDURE to usr_dba;    grant ALTER ANY ROLE to usr_dba;    grant ALTER ANY RULE to usr_dba;    grant ALTER ANY RULE SET to usr_dba;    grant ALTER ANY SEQUENCE to usr_dba;    grant ALTER ANY SQL PROFILE to usr_dba;    grant ALTER ANY TABLE to usr_dba;    grant ALTER ANY TRIGGER to usr_dba;    grant ALTER ANY TYPE to usr_dba;    grant ALTER DATABASE to usr_dba;    grant ALTER PROFILE to usr_dba;    grant ALTER RESOURCE COST to usr_dba;    grant ALTER ROLLBACK SEGMENT to usr_dba;    grant ALTER SESSION to usr_dba;    grant ALTER SYSTEM to usr_dba;    grant ALTER TABLESPACE to usr_dba;    grant ALTER USER to usr_dba;    grant ANALYZE ANY to usr_dba;    grant ANALYZE ANY DICTIONARY to usr_dba;    grant AUDIT ANY to usr_dba;    grant AUDIT SYSTEM to usr_dba;    grant BACKUP ANY TABLE to usr_dba;    grant BECOME USER to usr_dba;    grant CHANGE NOTIFICATION to usr_dba;    grant COMMENT ANY MINING MODEL to usr_dba;</p> <p>grant CREATE ANY ASSEMBLY to usr_dba;    grant CREATE ANY CLUSTER to usr_dba;    grant CREATE ANY CONTEXT to usr_dba;    grant CREATE ANY CUBE to usr_dba;    grant CREATE ANY CUBE BUILD PROCESS to usr_dba;    grant CREATE ANY CUBE DIMENSION to usr_dba;    grant CREATE ANY DIMENSION to usr_dba;    grant CREATE ANY DIRECTORY to usr_dba;    grant CREATE ANY EDITION to usr_dba;    grant CREATE ANY EVALUATION CONTEXT to usr_dba;    grant CREATE ANY INDEX to usr_dba;    grant CREATE ANY INDEXTYPE to usr_dba;    grant CREATE ANY JOB to usr_dba;    grant CREATE ANY LIBRARY to usr_dba;    grant CREATE ANY MATERIALIZED VIEW to usr_dba;    grant CREATE ANY MEASURE FOLDER to usr_dba;    grant CREATE ANY MINING MODEL to usr_dba;    grant CREATE ANY OPERATOR to usr_dba;    grant CREATE ANY OUTLINE to usr_dba;    grant CREATE ANY PROCEDURE to usr_dba;    grant CREATE ANY RULE to usr_dba;    grant CREATE ANY RULE SET to usr_dba;    grant CREATE ANY SEQUENCE to usr_dba;    grant CREATE ANY SQL PROFILE to usr_dba;    grant CREATE ANY SYNONYM to usr_dba;</p> <p>grant CREATE ANY TRIGGER to usr_dba;    grant CREATE ANY TYPE to usr_dba;    grant CREATE ANY VIEW to usr_dba;    grant CREATE ASSEMBLY to usr_dba;    grant CREATE CLUSTER to usr_dba;    grant CREATE CUBE to usr_dba;    grant CREATE CUBE BUILD PROCESS to usr_dba;    grant CREATE CUBE DIMENSION to usr_dba;    grant CREATE DATABASE LINK to usr_dba;    grant CREATE DIMENSION to usr_dba;    grant CREATE EVALUATION CONTEXT to usr_dba;    grant CREATE EXTERNAL JOB to usr_dba;    grant CREATE INDEXTYPE to usr_dba;    grant CREATE JOB to usr_dba;    grant CREATE LIBRARY to usr_dba;    grant CREATE MATERIALIZED VIEW to usr_dba;    grant CREATE MEASURE FOLDER to usr_dba;    grant CREATE MINING MODEL to usr_dba;    grant CREATE OPERATOR to usr_dba;    grant CREATE PROCEDURE to usr_dba;    grant CREATE PROFILE to usr_dba;    grant CREATE PUBLIC DATABASE LINK to usr_dba;    grant CREATE PUBLIC SYNONYM to usr_dba;    grant CREATE ROLE to usr_dba;    grant CREATE ROLLBACK SEGMENT to usr_dba;    grant CREATE RULE to usr_dba;    grant CREATE RULE SET to usr_dba;    grant CREATE SEQUENCE to usr_dba;    grant CREATE SESSION to usr_dba;    grant CREATE SYNONYM to usr_dba;    grant CREATE TABLE to usr_dba;    grant CREATE TABLESPACE to usr_dba;    grant CREATE TRIGGER to usr_dba;    grant CREATE TYPE to usr_dba;    grant CREATE USER to usr_dba;    grant CREATE VIEW to usr_dba;    grant DEBUG ANY PROCEDURE to usr_dba;    grant DEBUG CONNECT SESSION to usr_dba;    grant DELETE ANY CUBE DIMENSION to usr_dba;    grant DELETE ANY MEASURE FOLDER to usr_dba;</p> <p>grant DEQUEUE ANY QUEUE to usr_dba;    grant DROP ANY ASSEMBLY to usr_dba;    grant DROP ANY CLUSTER to usr_dba;    grant DROP ANY CONTEXT to usr_dba;    grant DROP ANY CUBE to usr_dba;    grant DROP ANY CUBE BUILD PROCESS to usr_dba;    grant DROP ANY CUBE DIMENSION to usr_dba;    grant DROP ANY DIMENSION to usr_dba;    grant DROP ANY DIRECTORY to usr_dba;    grant DROP ANY EDITION to usr_dba;    grant DROP ANY EVALUATION CONTEXT to usr_dba;    grant DROP ANY INDEX to usr_dba;    grant DROP ANY INDEXTYPE to usr_dba;    grant DROP ANY LIBRARY to usr_dba;    grant DROP ANY MATERIALIZED VIEW to usr_dba;    grant DROP ANY MEASURE FOLDER to usr_dba;    grant DROP ANY MINING MODEL to usr_dba;    grant DROP ANY OPERATOR to usr_dba;    grant DROP ANY OUTLINE to usr_dba;    grant DROP ANY PROCEDURE to usr_dba;    grant DROP ANY ROLE to usr_dba;    grant DROP ANY RULE to usr_dba;    grant DROP ANY RULE SET to usr_dba;    grant DROP ANY SEQUENCE to usr_dba;    grant DROP ANY SQL PROFILE to usr_dba;    grant DROP ANY SYNONYM to usr_dba;</p> <p>grant DROP ANY TRIGGER to usr_dba;    grant DROP ANY TYPE to usr_dba;    grant DROP ANY VIEW to usr_dba;    grant DROP PROFILE to usr_dba;    grant DROP PUBLIC DATABASE LINK to usr_dba;    grant DROP PUBLIC SYNONYM to usr_dba;    grant DROP ROLLBACK SEGMENT to usr_dba;    grant DROP TABLESPACE to usr_dba;    grant DROP USER to usr_dba;    grant ENQUEUE ANY QUEUE to usr_dba;    grant EXECUTE ANY ASSEMBLY to usr_dba;    grant EXECUTE ANY CLASS to usr_dba;    grant EXECUTE ANY EVALUATION CONTEXT to usr_dba;    grant EXECUTE ANY INDEXTYPE to usr_dba;    grant EXECUTE ANY LIBRARY to usr_dba;    grant EXECUTE ANY OPERATOR to usr_dba;</p> <p>grant EXECUTE ANY PROGRAM to usr_dba;    grant EXECUTE ANY RULE to usr_dba;    grant EXECUTE ANY RULE SET to usr_dba;    grant EXECUTE ANY TYPE to usr_dba;    grant EXECUTE ASSEMBLY to usr_dba;    grant EXPORT FULL DATABASE to usr_dba;    grant FLASHBACK ANY TABLE to usr_dba;    grant FLASHBACK ARCHIVE ADMINISTER to usr_dba;    grant FORCE ANY TRANSACTION to usr_dba;    grant FORCE TRANSACTION to usr_dba;    grant GLOBAL QUERY REWRITE to usr_dba;</p> <p>grant IMPORT FULL DATABASE to usr_dba;    grant INSERT ANY CUBE DIMENSION to usr_dba;    grant INSERT ANY MEASURE FOLDER to usr_dba;</p> <p>grant MANAGE ANY FILE GROUP to usr_dba;    grant MANAGE ANY QUEUE to usr_dba;    grant MANAGE FILE GROUP to usr_dba;    grant MANAGE SCHEDULER to usr_dba;    grant MANAGE TABLESPACE to usr_dba;    grant MERGE ANY VIEW to usr_dba;    grant ON COMMIT REFRESH to usr_dba;    grant QUERY REWRITE to usr_dba;    grant READ ANY FILE GROUP to usr_dba;    grant RESTRICTED SESSION to usr_dba;    grant RESUMABLE to usr_dba;    grant SELECT ANY CUBE to usr_dba;    grant SELECT ANY CUBE DIMENSION to usr_dba;    grant SELECT ANY DICTIONARY to usr_dba;    grant SELECT ANY MINING MODEL to usr_dba;    grant SELECT ANY SEQUENCE to usr_dba;</p> <p>grant SELECT ANY TRANSACTION to usr_dba;</p> <p>grant UNDER ANY TYPE to usr_dba;    grant UNDER ANY VIEW to usr_dba;    grant UNLIMITED TABLESPACE to usr_dba;    grant UPDATE ANY CUBE to usr_dba;    grant UPDATE ANY CUBE BUILD PROCESS to usr_dba;    grant UPDATE ANY CUBE DIMENSION to usr_dba;</p> <p>--\u83b7\u5f97dba\u5bf9\u8c61\u6743\u9650\u7684\u811a\u672c    --set echo off;    --set heading off;    --set pagesize 0;    --set feedback off;    --set termout off;    --set trimspool on;    --set trimout on;    --spool /tmp/dba_privs/dba_tab_privs.txt;    --select 'grant '||PRIVILEGE||'  on '||owner||'.'||table_name||' to usr_dba;' from role_tab_privs where role='DBA' ORDER BY PRIVILEGE;    --spool off;    --host cd /tmp    --exit;</p> <p># \u8d4b\u4e88\u65b0dba\u7528\u6237\u5bf9\u8c61\u6743\u9650    grant ALTER  on SYS.AWSEQ$ to usr_dba;    grant ALTER  on SYS.MAP_OBJECT to usr_dba;    grant ALTER  on XDB.X\\(PT3H58H3B5UGUNUV0G751A5OKRT0 to usr_dba;    grant ALTER  on XDB.XDB\\)ACL to usr_dba;    grant ALTER  on XDB.XDB\\(CHECKOUTS to usr_dba;    grant ALTER  on XDB.XDB\\)CONFIG to usr_dba;    grant ALTER  on XDB.XDB\\(D_LINK to usr_dba;    grant ALTER  on XDB.XDB\\)H_INDEX to usr_dba;    grant ALTER  on XDB.XDB\\(H_LINK to usr_dba;    grant ALTER  on XDB.XDB\\)NLOCKS to usr_dba;    grant ALTER  on XDB.XDB\\(RESCONFIG to usr_dba;    grant ALTER  on XDB.XDB\\)RESOURCE to usr_dba;    grant ALTER  on XDB.XDB\\(WORKSPACE to usr_dba;    grant ALTER  on XDB.XS\\)DATA_SECURITY to usr_dba;    grant ALTER  on XDB.XS\\(PRINCIPALS to usr_dba;    grant ALTER  on XDB.XS\\)ROLESETS to usr_dba;    grant ALTER  on XDB.XS\\(SECURITYCLASS to usr_dba;    grant DEBUG  on SYS.AW\\) to usr_dba;    grant DEBUG  on SYS.AW_OBJ$ to usr_dba;    grant DEBUG  on SYS.AW_PROP$ to usr_dba;    grant DEBUG  on SYS.AW_TRACK$ to usr_dba;    grant DEBUG  on SYS.MAP_OBJECT to usr_dba;    grant DEBUG  on SYS.OLAP_TAB$ to usr_dba;    grant DEBUG  on SYS.OLAP_TAB_COL$ to usr_dba;    grant DEBUG  on SYS.OLAP_TAB_HIER$ to usr_dba;    grant DEBUG  on SYS.PS$ to usr_dba;    grant DEBUG  on XDB.X\\(PT3H58H3B5UGUNUV0G751A5OKRT0 to usr_dba;    grant DEBUG  on XDB.XDB\\)ACL to usr_dba;    grant DEBUG  on XDB.XDB\\(CHECKOUTS to usr_dba;    grant DEBUG  on XDB.XDB\\)CONFIG to usr_dba;    grant DEBUG  on XDB.XDB\\(D_LINK to usr_dba;    grant DEBUG  on XDB.XDB\\)H_INDEX to usr_dba;    grant DEBUG  on XDB.XDB\\(H_LINK to usr_dba;    grant DEBUG  on XDB.XDB\\)NLOCKS to usr_dba;    grant DEBUG  on XDB.XDB\\(RESCONFIG to usr_dba;    grant DEBUG  on XDB.XDB\\)RESOURCE to usr_dba;    grant DEBUG  on XDB.XDB\\(WORKSPACE to usr_dba;    grant DEBUG  on XDB.XS\\)DATA_SECURITY to usr_dba;    grant DEBUG  on XDB.XS\\(PRINCIPALS to usr_dba;    grant DEBUG  on XDB.XS\\)ROLESETS to usr_dba;    grant DEBUG  on XDB.XS\\(SECURITYCLASS to usr_dba;    grant DELETE  on SYS.MAP_OBJECT to usr_dba;    grant DELETE  on XDB.X\\)PT3H58H3B5UGUNUV0G751A5OKRT0 to usr_dba;    grant DELETE  on XDB.XDB\\(ACL to usr_dba;    grant DELETE  on XDB.XDB\\)CHECKOUTS to usr_dba;    grant DELETE  on XDB.XDB\\(CONFIG to usr_dba;    grant DELETE  on XDB.XDB\\)D_LINK to usr_dba;    grant DELETE  on XDB.XDB\\(H_INDEX to usr_dba;    grant DELETE  on XDB.XDB\\)H_LINK to usr_dba;    grant DELETE  on XDB.XDB\\(NLOCKS to usr_dba;    grant DELETE  on XDB.XDB\\)RESCONFIG to usr_dba;    grant DELETE  on XDB.XDB\\(RESOURCE to usr_dba;    grant DELETE  on XDB.XDB\\)WORKSPACE to usr_dba;    grant DELETE  on XDB.XS\\(DATA_SECURITY to usr_dba;    grant DELETE  on XDB.XS\\)PRINCIPALS to usr_dba;    grant DELETE  on XDB.XS\\(ROLESETS to usr_dba;    grant DELETE  on XDB.XS\\)SECURITYCLASS to usr_dba;    grant EXECUTE  on SYS.AS_REPLAY to usr_dba;    grant EXECUTE  on SYS.DBMS_AUTO_TASK_ADMIN to usr_dba;    grant EXECUTE  on SYS.DBMS_AUTO_TASK_IMMEDIATE to usr_dba;    grant EXECUTE  on SYS.DBMS_CACHEUTIL to usr_dba;    grant EXECUTE  on XDB.DBMS_CSX_ADMIN to usr_dba;    grant EXECUTE  on SYS.DBMS_DEFER_QUERY to usr_dba;    grant EXECUTE  on SYS.DBMS_DEFER_SYS to usr_dba;    grant EXECUTE  on SYS.DBMS_FEATURE_USAGE_REPORT to usr_dba;    grant EXECUTE  on SYS.DBMS_FLASHBACK to usr_dba;    grant EXECUTE  on SYS.DBMS_FLASHBACK_ARCHIVE to usr_dba;    grant EXECUTE  on SYS.DBMS_HM to usr_dba;    grant EXECUTE  on SYS.DBMS_IR to usr_dba;    grant EXECUTE  on SYS.DBMS_LOGSTDBY to usr_dba;    grant EXECUTE  on SYS.DBMS_MONITOR to usr_dba;    grant EXECUTE  on SYS.DBMS_NETWORK_ACL_ADMIN to usr_dba;    grant EXECUTE  on SYS.DBMS_RESULT_CACHE to usr_dba;    grant EXECUTE  on SYS.DBMS_RESUMABLE to usr_dba;    grant EXECUTE  on SYS.DBMS_SERVER_ALERT to usr_dba;    grant EXECUTE  on SYS.DBMS_SERVER_TRACE to usr_dba;    grant EXECUTE  on SYS.DBMS_SERVICE to usr_dba;    grant EXECUTE  on SYS.DBMS_STORAGE_MAP to usr_dba;    grant EXECUTE  on SYS.DBMS_TDB to usr_dba;    grant EXECUTE  on SYS.DBMS_UADV_ARR to usr_dba;    grant EXECUTE  on SYS.DBMS_UNDO_ADV to usr_dba;    grant EXECUTE  on SYS.DBMS_WLM to usr_dba;    grant EXECUTE  on SYS.DBMS_WORKLOAD_CAPTURE to usr_dba;    grant EXECUTE  on SYS.DBMS_WORKLOAD_REPLAY to usr_dba;    grant EXECUTE  on SYS.DBMS_WORKLOAD_REPOSITORY to usr_dba;    grant EXECUTE  on XDB.DBMS_XDB_ADMIN to usr_dba;    grant EXECUTE  on SYS.DBMS_XS_PRINCIPALS to usr_dba;    grant EXECUTE  on SYS.DBMS_XS_PRINCIPALS_INT to usr_dba;    grant EXECUTE  on SYS.HM_SQLTK_INTERNAL to usr_dba;    grant EXECUTE  on SYS.LOAD_UNDO_STAT to usr_dba;    grant EXECUTE  on SYS.OUTLN_EDIT_PKG to usr_dba;    grant EXECUTE  on SYS.OUTLN_PKG to usr_dba;    grant EXECUTE  on SYS.RESET_UNDO_STAT to usr_dba;    grant FLASHBACK  on SYS.MAP_OBJECT to usr_dba;    grant FLASHBACK  on XDB.X\\(PT3H58H3B5UGUNUV0G751A5OKRT0 to usr_dba;    grant FLASHBACK  on XDB.XDB\\)ACL to usr_dba;    grant FLASHBACK  on XDB.XDB\\(CHECKOUTS to usr_dba;    grant FLASHBACK  on XDB.XDB\\)CONFIG to usr_dba;    grant FLASHBACK  on XDB.XDB\\(D_LINK to usr_dba;    grant FLASHBACK  on XDB.XDB\\)H_INDEX to usr_dba;    grant FLASHBACK  on XDB.XDB\\(H_LINK to usr_dba;    grant FLASHBACK  on XDB.XDB\\)NLOCKS to usr_dba;    grant FLASHBACK  on XDB.XDB\\(RESCONFIG to usr_dba;    grant FLASHBACK  on XDB.XDB\\)RESOURCE to usr_dba;    grant FLASHBACK  on XDB.XDB\\(WORKSPACE to usr_dba;    grant FLASHBACK  on XDB.XS\\)DATA_SECURITY to usr_dba;    grant FLASHBACK  on XDB.XS\\(PRINCIPALS to usr_dba;    grant FLASHBACK  on XDB.XS\\)ROLESETS to usr_dba;    grant FLASHBACK  on XDB.XS\\(SECURITYCLASS to usr_dba;    grant INSERT  on SYS.MAP_OBJECT to usr_dba;    grant INSERT  on XDB.X\\)PT3H58H3B5UGUNUV0G751A5OKRT0 to usr_dba;    grant INSERT  on XDB.XDB\\(ACL to usr_dba;    grant INSERT  on XDB.XDB\\)CHECKOUTS to usr_dba;    grant INSERT  on XDB.XDB\\(CONFIG to usr_dba;    grant INSERT  on XDB.XDB\\)D_LINK to usr_dba;    grant INSERT  on XDB.XDB\\(H_INDEX to usr_dba;    grant INSERT  on XDB.XDB\\)H_LINK to usr_dba;    grant INSERT  on XDB.XDB\\(NLOCKS to usr_dba;    grant INSERT  on XDB.XDB\\)RESCONFIG to usr_dba;    grant INSERT  on XDB.XDB\\(RESOURCE to usr_dba;    grant INSERT  on XDB.XDB\\)WORKSPACE to usr_dba;    grant INSERT  on XDB.XS\\(DATA_SECURITY to usr_dba;    grant INSERT  on XDB.XS\\)PRINCIPALS to usr_dba;    grant INSERT  on XDB.XS\\(ROLESETS to usr_dba;    grant INSERT  on XDB.XS\\)SECURITYCLASS to usr_dba;    grant ON COMMIT REFRESH  on SYS.MAP_OBJECT to usr_dba;    grant ON COMMIT REFRESH  on XDB.X\\(PT3H58H3B5UGUNUV0G751A5OKRT0 to usr_dba;    grant ON COMMIT REFRESH  on XDB.XDB\\)ACL to usr_dba;    grant ON COMMIT REFRESH  on XDB.XDB\\(CHECKOUTS to usr_dba;    grant ON COMMIT REFRESH  on XDB.XDB\\)CONFIG to usr_dba;    grant ON COMMIT REFRESH  on XDB.XDB\\(D_LINK to usr_dba;    grant ON COMMIT REFRESH  on XDB.XDB\\)H_INDEX to usr_dba;    grant ON COMMIT REFRESH  on XDB.XDB\\(H_LINK to usr_dba;    grant ON COMMIT REFRESH  on XDB.XDB\\)NLOCKS to usr_dba;    grant ON COMMIT REFRESH  on XDB.XDB\\(RESCONFIG to usr_dba;    grant ON COMMIT REFRESH  on XDB.XDB\\)RESOURCE to usr_dba;    grant ON COMMIT REFRESH  on XDB.XDB\\(WORKSPACE to usr_dba;    grant ON COMMIT REFRESH  on XDB.XS\\)DATA_SECURITY to usr_dba;    grant ON COMMIT REFRESH  on XDB.XS\\(PRINCIPALS to usr_dba;    grant ON COMMIT REFRESH  on XDB.XS\\)ROLESETS to usr_dba;    grant ON COMMIT REFRESH  on XDB.XS$SECURITYCLASS to usr_dba;</p> <p>grant QUERY REWRITE  on SYS.MAP_OBJECT to usr_dba;    grant QUERY REWRITE  on XDB.X\\(PT3H58H3B5UGUNUV0G751A5OKRT0 to usr_dba;    grant QUERY REWRITE  on XDB.XDB\\)ACL to usr_dba;    grant QUERY REWRITE  on XDB.XDB\\(CHECKOUTS to usr_dba;    grant QUERY REWRITE  on XDB.XDB\\)CONFIG to usr_dba;    grant QUERY REWRITE  on XDB.XDB\\(D_LINK to usr_dba;    grant QUERY REWRITE  on XDB.XDB\\)H_INDEX to usr_dba;    grant QUERY REWRITE  on XDB.XDB\\(H_LINK to usr_dba;    grant QUERY REWRITE  on XDB.XDB\\)NLOCKS to usr_dba;    grant QUERY REWRITE  on XDB.XDB\\(RESCONFIG to usr_dba;    grant QUERY REWRITE  on XDB.XDB\\)RESOURCE to usr_dba;    grant QUERY REWRITE  on XDB.XDB\\(WORKSPACE to usr_dba;    grant QUERY REWRITE  on XDB.XS\\)DATA_SECURITY to usr_dba;    grant QUERY REWRITE  on XDB.XS\\(PRINCIPALS to usr_dba;    grant QUERY REWRITE  on XDB.XS\\)ROLESETS to usr_dba;    grant QUERY REWRITE  on XDB.XS$SECURITYCLASS to usr_dba;</p> <p>grant SELECT  on SYS.AW$ to usr_dba;    grant SELECT  on SYS.AWSEQ$ to usr_dba;    grant SELECT  on SYS.AW_OBJ$ to usr_dba;    grant SELECT  on SYS.AW_PROP$ to usr_dba;    grant SELECT  on SYS.AW_TRACK$ to usr_dba;    grant SELECT  on SYS.MAP_OBJECT to usr_dba;    grant SELECT  on SYS.OLAP_TAB$ to usr_dba;    grant SELECT  on SYS.OLAP_TAB_COL$ to usr_dba;    grant SELECT  on SYS.OLAP_TAB_HIER$ to usr_dba;    grant SELECT  on SYS.PS$ to usr_dba;    grant SELECT  on SYS.V\\(XS_SESSION to usr_dba;    grant SELECT  on SYS.V\\)XS_SESSION_ATTRIBUTE to usr_dba;    grant SELECT  on SYS.V\\(XS_SESSION_ROLE to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_ADR_CONTROL to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_ADR_INVALIDATION to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_ALERT_EXT to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_AMS_XACTION to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_DDE_USER_ACTION to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_DDE_USER_ACTION_DEF to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_DDE_USR_ACT_PARAM to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_DDE_USR_ACT_PARAM_DEF to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_DDE_USR_INC_ACT_MAP to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_DDE_USR_INC_TYPE to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_DIAGV_INCIDENT to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_DIR_EXT to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_EM_DIAG_JOB to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_EM_TARGET_INFO to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_EM_USER_ACTIVITY to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_HM_FDG_SET to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_HM_FINDING to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_HM_INFO to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_HM_MESSAGE to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_HM_RECOMMENDATION to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_HM_RUN to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_INCCKEY to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_INCIDENT to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_INCIDENT_FILE to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_INC_METER_CONFIG to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_INC_METER_IMPT_DEF to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_INC_METER_INFO to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_INC_METER_PK_IMPTS to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_INC_METER_SUMMARY to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_IPS_CONFIGURATION to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_IPS_FILE_COPY_LOG to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_IPS_FILE_METADATA to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_IPS_PACKAGE to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_IPS_PACKAGE_FILE to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_IPS_PACKAGE_HISTORY to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_IPS_PACKAGE_INCIDENT to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_IPS_PKG_UNPACK_HIST to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_IPS_REMOTE_PACKAGE to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_PICKLEERR to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_PROBLEM to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_RELMD_EXT to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_SWEEPERR to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VEM_USER_ACTLOG to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VEM_USER_ACTLOG1 to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VHM_RUN to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VIEW to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VIEWCOL to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VINCIDENT to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VINCIDENT_FILE to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VINC_METER_INFO to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VIPS_FILE_COPY_LOG to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VIPS_FILE_METADATA to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VIPS_PACKAGE_FILE to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VIPS_PACKAGE_HISTORY to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VIPS_PACKAGE_MAIN_INT to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VIPS_PACKAGE_SIZE to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VIPS_PKG_FILE to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VIPS_PKG_INC_CAND to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VIPS_PKG_INC_DTL to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VIPS_PKG_INC_DTL1 to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VIPS_PKG_MAIN_PROBLEM to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VNOT_EXIST_INCIDENT to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VPROBLEM to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VPROBLEM1 to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VPROBLEM2 to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VPROBLEM_BUCKET to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VPROBLEM_BUCKET1 to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VPROBLEM_BUCKET_COUNT to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VPROBLEM_INT to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VPROBLEM_LASTINC to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VSHOWCATVIEW to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VSHOWINCB to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_VSHOWINCB_I to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_VTEST_EXISTS to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_V_ACTINC to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_V_ACTPROB to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_V_INCCOUNT to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_V_INCFCOUNT to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_V_INC_METER_INFO_PROB to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_V_IPSPRBCNT to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_V_IPSPRBCNT1 to usr_dba;    grant SELECT  on SYS.V_\\(DIAG_V_NFCINC to usr_dba;    grant SELECT  on SYS.V_\\)DIAG_V_SWPERRCOUNT to usr_dba;    grant SELECT  on XDB.X\\(PT3H58H3B5UGUNUV0G751A5OKRT0 to usr_dba;    grant SELECT  on XDB.XDB\\)ACL to usr_dba;    grant SELECT  on XDB.XDB\\(CHECKOUTS to usr_dba;    grant SELECT  on XDB.XDB\\)CONFIG to usr_dba;    grant SELECT  on XDB.XDB\\(D_LINK to usr_dba;    grant SELECT  on XDB.XDB\\)H_INDEX to usr_dba;    grant SELECT  on XDB.XDB\\(H_LINK to usr_dba;    grant SELECT  on XDB.XDB\\)NLOCKS to usr_dba;    grant SELECT  on XDB.XDB\\(RESCONFIG to usr_dba;    grant SELECT  on XDB.XDB\\)RESOURCE to usr_dba;    grant SELECT  on XDB.XDB\\(WORKSPACE to usr_dba;    grant SELECT  on XDB.XS\\)DATA_SECURITY to usr_dba;    grant SELECT  on XDB.XS\\(PRINCIPALS to usr_dba;    grant SELECT  on XDB.XS\\)ROLESETS to usr_dba;    grant SELECT  on XDB.XS\\(SECURITYCLASS to usr_dba;    grant UPDATE  on SYS.MAP_OBJECT to usr_dba;    grant UPDATE  on XDB.X\\)PT3H58H3B5UGUNUV0G751A5OKRT0 to usr_dba;    grant UPDATE  on XDB.XDB\\(ACL to usr_dba;    grant UPDATE  on XDB.XDB\\)CHECKOUTS to usr_dba;    grant UPDATE  on XDB.XDB\\(CONFIG to usr_dba;    grant UPDATE  on XDB.XDB\\)D_LINK to usr_dba;    grant UPDATE  on XDB.XDB\\(H_INDEX to usr_dba;    grant UPDATE  on XDB.XDB\\)H_LINK to usr_dba;    grant UPDATE  on XDB.XDB\\(NLOCKS to usr_dba;    grant UPDATE  on XDB.XDB\\)RESCONFIG to usr_dba;    grant UPDATE  on XDB.XDB\\(RESOURCE to usr_dba;    grant UPDATE  on XDB.XDB\\)WORKSPACE to usr_dba;    grant UPDATE  on XDB.XS\\(DATA_SECURITY to usr_dba;    grant UPDATE  on XDB.XS\\)PRINCIPALS to usr_dba;    grant UPDATE  on XDB.XS\\(ROLESETS to usr_dba;    grant UPDATE  on XDB.XS\\)SECURITYCLASS to usr_dba;    ```</p> <ol> <li>\u53bb\u6389\u7684\u6743\u9650</li> </ol> <pre><code># \u53bb\u6389\u7684\u89d2\u8272\u6743\u9650\ngrant DATAPUMP_EXP_FULL_DATABASE to usr_dba;\ngrant DATAPUMP_IMP_FULL_DATABASE to usr_dba;\ngrant EXP_FULL_DATABASE to usr_dba;\ngrant IMP_FULL_DATABASE to usr_dba;\ngrant OLAP_DBA to usr_dba;\n\n# \u53bb\u6389\u7684\u7cfb\u7edf\u6743\u9650\ngrant COMMENT ANY TABLE to usr_dba;\ngrant CREATE ANY TABLE to usr_dba;\ngrant DELETE ANY TABLE to usr_dba;\ngrant DROP ANY TABLE to usr_dba;\ngrant EXECUTE ANY PROCEDURE to usr_dba;\ngrant GRANT ANY OBJECT PRIVILEGE to usr_dba;\ngrant GRANT ANY PRIVILEGE to usr_dba;\ngrant GRANT ANY ROLE to usr_dba;\ngrant INSERT ANY TABLE to usr_dba;\ngrant LOCK ANY TABLE to usr_dba;\ngrant SELECT ANY TABLE to usr_dba;\ngrant UNDER ANY TABLE to usr_dba;\ngrant UPDATE ANY TABLE to usr_dba;\n</code></pre>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/01%20%E8%BF%90%E7%BB%B4%E8%A7%84%E8%8C%83/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%88%86%E7%A6%BB%E8%A7%84%E8%8C%83/#2252","title":"2.2.5.2. \u6743\u9650\u5206\u79bb\u4e8c\uff1a\u521b\u5efa\u4e0d\u540c\u7684\u89d2\u8272","text":"<p>\u6743\u9650\u5206\u79bb\u7684\u57fa\u7840\u5728\u4e8e\u4e3a\u521b\u5efa\u4e0d\u540c\u7684\u89d2\u8272\uff0c\u518d\u6839\u636e\u7528\u6237\u7684\u9700\u8981\u5206\u6d3e\u4e0d\u540c\u7684\u89d2\u8272\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u89d2\u8272\u5212\u5206\u7684\u793a\u4f8b\uff0c\u4ec5\u4f9b\u53c2\u8003\uff1a</p> \u7f16\u53f7 \u5212\u5206\u4f9d\u636e \u89d2\u8272\u540d\u79f0(\u547d\u540d\u89c4\u5219) \u89d2\u8272\u4e2d\u6587\u540d\u79f0 \u89d2\u8272\u7b80\u8ff0 \u89d2\u8272\u8be6\u7ec6\u5b9a\u4e49\u6216\u76f8\u5173\u8868 1 \u57fa\u672c\u7ef4\u62a4 A1_WH_RO \u666e\u901a\u7ef4\u62a4\u53ea\u8bfb \u62e5\u6709\u67e5\u8be2\u4efb\u610f\u6570\u636e\u5b57\u5178\uff0c\u5e8f\u5217\u6743\u9650 CREATE SESSIONSELECT ANY DICTIONARYSELECT ANY SEQUENCE 2 \u57fa\u672c\u7ef4\u62a4 A1_WH_WO \u666e\u901a\u7ef4\u62a4\u53ea\u5199 \u5728\u81ea\u5df1\u7684\u5e10\u53f7\u4e0b\u6709\u4ee5\u4e0b\u6743\u9650\uff1a\u5efa\u8868\uff0c\u5efa\u89c6\u56fe\uff0c\u5efa\u5b58\u50a8\u8fc7\u7a0b,\u5305\uff0c\u89e6\u53d1\u5668\uff0c\u540c\u4e49\u8bcd\uff0c\u5e8f\u5217\u7b49\u7cfb\u7edf\u6743\u9650 CREATE SESSION\u00a0  CREATE TABLE  CREATE SYNONYM  CREATE TRIGGER  CREATE PROCEDURE  UNLIMITED TABLESPACE  EXECUTE ON DBMS_WORKLOAD_REPOSITORY 3 \u57fa\u672c\u7ef4\u62a4 A1_WH_HRO \u9ad8\u6743\u9650\u7ef4\u62a4\u53ea\u8bfb \u62e5\u6709\u67e5\u8be2\u4efb\u610f\u8868\uff0c\u6570\u636e\u5b57\u5178\uff0c\u8fc7\u7a0b\uff0c\u5e8f\u5217\u6743\u9650\u53ca CREATE SESSION  SELECT ANY TABLE  SELECT ANY DICTIONARY  EXECUTE ANY PROCEDURE  SELECT ANY SEQUENCE 4 \u57fa\u672c\u7ef4\u62a4 A1_WH_HWO \u9ad8\u6743\u9650\u7ef4\u62a4\u53ea\u5199 \u62e5\u6709\u63d2\u5165\u3001\u66f4\u65b0\u3001\u5220\u9664\u4efb\u610f\u8868\u6570\u636e\u3001\u6267\u884c\u4efb\u610f\u8fc7\u7a0b\u3001\u5e8f\u5217\u6743\u9650\u5728\u81ea\u5df1\u7684\u5e10\u53f7\u4e0b\u8981\u6709\u4ee5\u4e0b\u6743\u9650\uff1a\u5efa\u8868\uff0c\u5efa\u89c6\u56fe\uff0c\u5efa\u5b58\u50a8\u8fc7\u7a0b,\u5305\uff0c\u89e6\u53d1\u5668\uff0c\u540c\u4e49\u8bcd\uff0c\u5e8f\u5217\uff0c\u65e0\u9650\u5236\u8868\u7a7a\u95f4\u7b49\u7cfb\u7edf\u6743\u9650 CREATE SESSION  INSERT ANY TABLE  DELETE ANY TABLE  UPDATE ANY TABLE  EXECUTE ANY PROCEDURE  SELECT ANY SEQUENCE  CREATE TABLE  CREATE SYNONYM  CREATE TRIGGER  CREATE PROCEDURE  UNLIMITED TABLESPACE 5 \u57fa\u672c\u7ef4\u62a4 A1_WH_REL \u7248\u672c\u53d1\u5e03\u53ca  \u5272\u63a5\u9ad8\u6743\u9650\u89d2\u8272 \u62e5\u6709\u521b\u5efa\u3001\u5220\u9664\u4efb\u610f\u8868\u3001\u8fc7\u7a0b\u3001\u9501\u8868\u3001\u5bfc\u51fa\u6570\u636e\u5e93\u6570\u636e\u3001\u65e0\u9650\u5236\u8868\u7a7a\u95f4\u3001\u67e5\u8be2\u6240\u6709\u8868\u3001\u5efa\u89e6\u53d1\u5668\u3001\u67e5\u8be2\u6240\u6709\u8868\uff0c\u4fee\u6539\u6240\u6709\u8868\u6743\u9650 CREATE DATABASE LINK  ALTER SESSION  ALTER ANY PROCEDURE  ALTER ANY SEQUENCE  ALTER ANY TABLE  ALTER ANY TRIGGER  DEBUG ANY PROCEDURE  DEBUG CONNECT SESSION  DROP ANY TABLE  DROP ANY VIEW  DROP ANY PROCEDURE  UPDATE ANY TABLE  INSERT ANY TABLE  DELETE ANY TABLE  CREATE ANY VIEW  CREATE ANY INDEX  UNLIMITED TABLESPACE  LOCK ANY TABLE  SELECT ANY TABLE  SELECT ANY DICTIONARY 6 \u57fa\u672c\u7ef4\u62a4 A1_WH_DBA \u6570\u636e\u5e93\u7ef4\u62a4DBA\u89d2\u8272 \u5728\u81ea\u5df1\u7684\u5e10\u53f7\u4e0b\u8981\u6709\u4ee5\u4e0b\u6743\u9650\uff1a\u5efa\u8868\uff0c\u5efa\u89c6\u56fe\uff0c\u5efa\u5b58\u50a8\u8fc7\u7a0b,\u5305\uff0c\u89e6\u53d1\u5668\uff0c\u540c\u4e49\u8bcd\uff0c\u5e8f\u5217\uff0c\u5220\u9664\u7d22\u5f15\u3001\u4fee\u6539\u7d22\u5f15\u3001\u4fee\u6539\u8868\u3001\u5bfc\u5165\u6570\u636e\u5e93\u5bf9\u8c61\u3001\u5bfc\u51fa\u6570\u636e\u5e93\u5bf9\u8c61 grant CREATE SESSION TO A1_WH_DBA;  grant FLASHBACK ANY TABLE to A1_WH_DBA;  grant ALTER SESSION to A1_WH_DBA;  grant UNLIMITED TABLESPACE to A1_WH_DBA;  grant SELECT ANY DICTIONARY to A1_WH_DBA;  grant CONNECT to A1_WH_DBA;  grant EXECUTE_CATALOG_ROLE to A1_WH_DBA;  grant IMP_FULL_DATABASE to A1_WH_DBA;  grant GATHER_SYSTEM_STATISTICS to A1_WH_DBA;  grant SELECT_CATALOG_ROLE to A1_WH_DBA;  grant OEM_MONITOR to A1_WH_DBA;  grant EXP_FULL_DATABASE to A1_WH_DBA;  grant SCHEDULER_ADMIN to A1_WH_DBA;  grant RESOURCE to A1_WH_DBA;  grant OEM_ADVISOR to A1_WH_DBA; 7 \u57fa\u672c\u7ef4\u62a4 A1_WH_BAK RMAN\u5907\u4efd\u89d2\u8272\uff0c\u8d85\u7ea7DBA \u5728\u81ea\u5df1\u7684\u5e10\u53f7\u4e0b\u8981\u6709\u505a\u6570\u636e\u5e93\u5168\u5907\u7684\u6743\u9650 CREATE SESSION  SYSDBA 6 \u4e1a\u52a1\u6a21\u5757 B1_\u7a0b\u5e8f\u8d26\u53f7\u540d_RO [\u7a0b\u5e8f\u8d26\u53f7\u5bf9\u5e94\u6a21\u5757]**\u975e\u654f\u611f\u53ea\u8bfb**\u89d2\u8272 \u5bf9[\u6570\u636e\u5e93\u540d][\u8d26\u53f7\u540d]\u8d26\u53f7\u975e\u654f\u611f\u8868\u6709\u53ea\u8bfb\u6743\u9650 7 \u4e1a\u52a1\u6a21\u5757 B1_\u7a0b\u5e8f\u8d26\u53f7\u540d_WO [\u7a0b\u5e8f\u8d26\u53f7\u5bf9\u5e94\u6a21\u5757]**\u975e\u654f\u611f\u53ea\u5199**\u89d2\u8272 \u5bf9[\u6570\u636e\u5e93\u540d][\u8d26\u53f7\u540d]\u8d26\u53f7\u975e\u654f\u611f\u8868\u6709\u53ea\u5199\u6743\u9650 8 \u4e1a\u52a1\u6a21\u5757 B1_\u7a0b\u5e8f\u8d26\u53f7\u540d_MGRO [\u7a0b\u5e8f\u8d26\u53f7\u5bf9\u5e94\u6a21\u5757]**\u654f\u611f\u53ea\u8bfb**\u89d2\u8272 \u5bf9[\u6570\u636e\u5e93\u540d][\u8d26\u53f7\u540d]\u8d26\u53f7\u654f\u611f\u8868\u6709\u53ea\u8bfb\u6743\u9650 9 \u4e1a\u52a1\u6a21\u5757 B1_\u7a0b\u5e8f\u8d26\u53f7\u540d_MGWO [\u7a0b\u5e8f\u8d26\u53f7\u5bf9\u5e94\u6a21\u5757]**\u654f\u611f\u53ea\u5199**\u89d2\u8272 \u5bf9[\u6570\u636e\u5e93\u540d][\u8d26\u53f7\u540d]\u8d26\u53f7\u654f\u611f\u8868\u6709\u53ea\u5199\u6743\u9650"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/Docker/Docker%20%E8%BF%90%E7%BB%B4/","title":"Docker \u8fd0\u7ef4","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/Docker/Docker%20%E8%BF%90%E7%BB%B4/#1-docker-image","title":"1. Docker\u00a0Image\u00a0\u7ba1\u7406","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/Docker/Docker%20%E8%BF%90%E7%BB%B4/#11-docker-image","title":"1.1. Docker\u00a0image\u00a0\u5bfc\u51fa","text":"<pre><code>docker save -o mysql_8.0.36.tar.gz mysql:8.0.36\n\ndocker save -o zabbix-aent2_centos-6.4.10.tar.gz zabbix-agent2:centos-latest\n\ndocker save 951f02e66be2 -o xnet_monitor-agent2_centos-0.1.6.4.10.tar.gz xnet/monitor-agent2:centos-0.2.6.4.10\n</code></pre>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/Docker/Docker%20%E8%BF%90%E7%BB%B4/#111","title":"1.1.1. \u83b7\u53d6\u6240\u6709\u7684\u955c\u50cf\u5e76\u5bfc\u51fa","text":"<pre><code>IMAGES=$(docker images --format '{{.Repository}}:{{.Tag}}')\n\nfor IMAGE in $IMAGES; do  \n\u00a0 # \u66ff\u6362\u5192\u53f7\u4e3a\u4e0b\u5212\u7ebf\uff0c\u5e76\u5c06\u659c\u6760\u66ff\u6362\u4e3a\u4e0b\u5212\u7ebf\u00a0 FILENAME=${IMAGE//:/_}  \n\u00a0 FILENAME=${FILENAME//\\//_}  \n\u00a0 docker save -o \"/tmp/docker-images/${FILENAME}.tar.gz\" $IMAGE  \ndone\n</code></pre>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/Docker/Docker%20%E8%BF%90%E7%BB%B4/#12-docker-image","title":"1.2. Docker\u00a0image\u00a0\u5bfc\u5165","text":"<pre><code>docker\u00a0load\u00a0&lt;\u00a0mysql_8.0.36.tar.gz\n</code></pre>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/Docker/Docker%20%E8%BF%90%E7%BB%B4/#13-tag","title":"1.3. tag\u4fee\u6539","text":"<pre><code>docker tag 411931b4d098 xnet/monitor-java-gateway:0.1.6.4.10\n</code></pre>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/Docker/Docker%20%E8%BF%90%E7%BB%B4/#14-image","title":"1.4. image\u5220\u9664","text":"<pre><code>docker image rm xnet/zabbix-proxy-mysql:0.1.6.4.10\n</code></pre>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/Docker/Docker%20%E8%BF%90%E7%BB%B4/#2","title":"2. \u8d44\u6e90\u6e05\u7406","text":"docker container stop $(docker container ls -a -q) docker container rm $(docker container ls -a -q) docker volume rm $(docker volume ls -q) docker network rm $(docker network ls -q) docker image rm $(docker image ls -a -q) \u505c\u6b62\u6240\u6709\u5bb9\u5668\u8fd0\u884c docker stop $(docker ps -a -q) \u5220\u9664\u6240\u6709\u505c\u6b62\u8fd0\u884c\u7684\u5bb9\u5668 docker rm $(docker ps -a -q) <p>Docker \u5185 root</p> <pre><code>docker exec -it --user $(username) $(containername) /bin/bash\n\ndocker exec -u 0 -it containername bash\n</code></pre>"},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/","title":"\u914d\u7f6e\u89c4\u8303","text":""},{"location":"12%20%E8%BF%90%E7%BB%B4SOP/%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/%E9%85%8D%E7%BD%AE%E8%A7%84%E8%8C%83/#docker","title":"\u89e3\u51b3docker \u65e5\u5fd7\u6587\u4ef6\u8fc7\u5927\u7684\u95ee\u9898","text":"<p>\u4fee\u6539daemon.json <pre><code>vim /etc/docker/daemon.json\n{\n\u00a0 \"log-driver\": \"json-file\",\n\u00a0 \"log-opts\": {\n\u00a0\u00a0\u00a0 \"max-size\": \"50m\",\n\u00a0\u00a0\u00a0 \"max-file\": \"3\"\n\u00a0 }\n}\n</code></pre></p> <p>\u91cd\u542fdocker\u5b88\u62a4\u8fdb\u7a0b</p> <pre><code>systemctl restart docker\n</code></pre>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/01%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%B7%A5%E5%85%B7/WinMTR/WinMTR-v100-static/","title":"WinMTR (Redux)","text":"<p>WinMTR (Redux) in an extended fork of Appnor's WinMTR (sourceforge)  with IPv6 support and other different enhancements and bug fixes</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/01%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%B7%A5%E5%85%B7/WinMTR/WinMTR-v100-static/#download-binaries","title":"Download (binaries)","text":"<ul> <li>view all available</li> </ul>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/01%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%B7%A5%E5%85%B7/WinMTR/WinMTR-v100-static/#differences-to-winmtr-098","title":"Differences to WinMTR 0.98","text":"<ul> <li><code>[x]</code> - removed Windows 2000 support </li> <li><code>[x]</code> + added IPv6 support </li> <li><code>[x]</code> + clickable entries when stopped.. (why the heck wasn't it possible before?) </li> <li><code>[x]</code> * added start delay of about 30ms for each hop (870ms before the 30<sup>th</sup> hop gets queried)  this should improve performance and reduces network load </li> <li><code>[x]</code> ! fixed trace list freeze (list didn't update while tracing, happens when tracing just one hop) </li> <li><code>[x]</code> * theme support (more fancy look :P) </li> <li><code>[ ]</code> + remembers window size </li> <li><code>[ ]</code> ! CTRL+A works for host input </li> <li><code>[ ]</code> + host history: pressing del key or right mouse will remove selected entry </li> <li><code>[ ]</code> * new icon </li> </ul>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/01%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%B7%A5%E5%85%B7/WinMTR/WinMTR-v100-static/#requirements","title":"Requirements","text":"<ul> <li>Windows XP+ (Windows 2000 support can be added on request, but IPv6 will not work)</li> <li>Microsoft Visual C++ 2010 Redistributables (32bit | 64bit) or use static build</li> </ul>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/01%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%B7%A5%E5%85%B7/WinMTR/WinMTR-v100-static/#about-me-why-i-decided-to-create-this-fork","title":"About me / why I decided to create this fork","text":"<p>There isn't that much to say actually, I've been using IPv6 for a few years now thanks to SixXS and it always annoyed me that WinMTR couldn't handle IPv6... finally my ISP got some sort of IPv6 beta test. And that's what I wanted to compare: native vs SixXS with long-term trace routes such as those WinMTR provides.  Since there wasn't any WinMTR build with IPv6, I decided to do it myself ;) The result can be seen here :P  (after 1 day for IPv6, and 2 additional days to fix other stuff and polishing)</p> <p>If you're looking for an alternative (not meant for long-term traces) there's vTrace. It's some really interesting piece of Software ;) (with more then just trace routes) ~~~~</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/","title":"Wireshark\u7684\u63d0\u793a","text":""},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#1-tcp-acked-unseen-segment","title":"1. TCP ACKed unseen segment","text":"<p>\u5f53Wireshark\u53d1\u73b0\u88abACK\u7684\u90a3\u4e2a\u5305\u6ca1\u88ab\u6293\u5230\uff0c\u5c31\u4f1a\u63d0\u793a TCP ACKed unseen segment \u3002\u8fd9\u53ef\u80fd\u662f\u6700\u5e38\u89c1\u7684Wireshark\u63d0\u793a\u4e86\uff0c\u5e78\u597d\u5b83\u51e0\u4e4e\u662f\u6c38\u8fdc\u53ef\u4ee5\u5ffd\u7565\u7684\u3002</p> <p>\u4ee5\u56fe3\u4e3a\u4f8b\uff0c32\u53f7\u5305\u7684Seq+Len=6889+1448=8337\uff0c\u8bf4\u660e\u670d\u52a1\u5668\u53d1\u51fa\u7684\u4e0b\u4e00\u4e2a\u5305\u5e94\u8be5\u662fSeq=8337\u3002\u800c\u6211\u4eec\u770b\u5230\u7684\u5374\u662f35\u53f7\u5305\u7684Seq=11233\uff0c\u8fd9\u610f\u5473\u77408337\uff5e11232\u8fd9\u6bb5\u6570\u636e\u6ca1\u6709\u88ab\u6293\u5230\u3002\u8fd9\u6bb5\u6570\u636e\u672c\u5e94\u8be5\u51fa\u73b0\u572834\u53f7\u4e4b\u524d\uff0c\u6240\u4ee5Wireshark\u63d0\u793a\u4e86 TCP ACKed unseen segment \u3002</p> <p> \u56fe3</p> <p>\u4e0d\u96be\u60f3\u8c61\uff0c\u5728\u4e00\u4e2a\u7f51\u7edc\u5305\u7684\u5f00\u5934\u4f1a\u7ecf\u5e38\u770b\u5230\u8fd9\u4e2a\u63d0\u793a\uff0c\u56e0\u4e3a\u53ea\u6293\u5230\u4e86\u540e\u9762\u7684Ack\u4f46\u6ca1\u6293\u5230\u524d\u9762\u7684\u6570\u636e\u5305\u3002</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#2-tcp-out-of-order","title":"2. TCP Out-of-Order","text":"<p>\u5728TCP\u4f20\u8f93\u8fc7\u7a0b\u4e2d\uff08\u4e0d\u5305\u62ec\u4e09\u6b21\u63e1\u624b\u548c\u56db\u6b21\u6325\u624b\uff09\uff0c\u540c\u4e00\u53f0\u4e3b\u673a\u53d1\u51fa\u7684\u6570\u636e\u5305\u5e94\u8be5\u662f\u8fde\u7eed\u7684\uff0c\u5373\u540e\u4e00\u4e2a\u5305\u7684Seq\u53f7\u7b49\u4e8e\u524d\u4e00\u4e2a\u5305\u7684Seq+Len\u3002\u4e5f\u53ef\u4ee5\u8bf4\uff0c\u540e\u4e00\u4e2a\u5305\u7684Seq\u4f1a\u5927\u4e8e\u6216\u7b49\u4e8e\u524d\u4e00\u4e2a\u5305\u7684Seq\u3002\u5f53Wireshark\u53d1\u73b0\u540e\u4e00\u4e2a\u5305\u7684Seq\u53f7\u5c0f\u4e8e\u524d\u4e00\u4e2a\u5305\u7684Seq+Len\u65f6\uff0c\u5c31\u4f1a\u8ba4\u4e3a\u662f\u4e71\u5e8f\u4e86\uff0c\u56e0\u6b64\u63d0\u793a\u00a0 TCP Out-of-Order \u3002</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#21-1","title":"2.1. \u793a\u4f8b1\uff1a","text":"<p>\u5982\u56fe4\u6240\u793a\uff0c3362\u53f7\u5305\u7684Seq=2685642\u5c0f\u4e8e3360\u53f7\u5305\u7684Seq=2712622\uff0c\u6240\u4ee5\u5c31\u662f\u4e71\u5e8f\u3002</p> <p>  \u56fe4</p> <p>\u5c0f\u8de8\u5ea6\u7684\u4e71\u5e8f\u5f71\u54cd\u4e0d\u5927\uff0c\u6bd4\u5982\u539f\u672c\u987a\u5e8f\u4e3a1\u30012\u30013\u30014\u30015\u53f7\u5305\u88ab\u6253\u4e71\u62102\u30011\u30013\u30014\u30015\u5c31\u6ca1\u4e8b\u3002\u4f46\u8de8\u5ea6\u5927\u7684\u4e71\u5e8f\u5374\u53ef\u80fd\u89e6\u53d1\u5feb\u901f\u91cd\u4f20\uff0c\u6bd4\u5982\u6253\u4e71\u62102\u30013\u30014\u30015\u30011\u65f6\uff0c\u5c31\u4f1a\u89e6\u53d1\u8db3\u591f\u591a\u7684Dup ACK\uff0c\u4ece\u800c\u5bfc\u81f41\u53f7\u5305\u7684\u91cd\u4f20\u3002</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#22-2","title":"2.2. \u793a\u4f8b2\uff1a","text":"<p>Wireshark\u5728\u83b7\u53d6\u5305\u5e8f\u53f726\u65f6\u53d1\u73b0seq=18981\uff0c\u800c\u5305\u5e8f\u53f725\u7684\u6570\u636e\u5305seq = 20441\uff0c\u6240\u4ee5wireshark\u8ba4\u4e3a\u6570\u636e\u5305\u987a\u5e8f\u9519\u4e86\uff0c\u63d0\u793a TCP Out-of-Order </p> <p></p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#3-tcp-dup-ack","title":"3. TCP Dup ACK","text":"<p>\u5f53\u4e71\u5e8f\u6216\u8005\u4e22\u5305\u53d1\u751f\u65f6\uff0c\u63a5\u6536\u65b9\u4f1a\u6536\u5230\u4e00\u4e9bSeq\u53f7\u6bd4\u671f\u671b\u503c\u5927\u7684\u5305\u3002\u5b83\u6bcf\u6536\u5230\u4e00\u4e2a\u8fd9\u79cd\u5305\u5c31\u4f1aAck\u4e00\u6b21\u671f\u671b\u7684Seq\u503c\uff0c\u4ee5\u6b64\u65b9\u5f0f\u6765\u63d0\u9192\u53d1\u9001\u65b9\uff0c\u4e8e\u662f\u5c31\u4ea7\u751f\u4e86\u4e00\u4e9b\u91cd\u590d\u7684Ack\u3002Wireshark\u4f1a\u5728\u8fd9\u79cd\u91cd\u590d\u7684Ack\u4e0a\u6807\u8bb0 TCP Dup ACK\u3002</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#31-1","title":"3.1. \u793a\u4f8b1","text":"<p>\u4ee5\u56fe5\u4e3a\u4f8b\uff0c\u670d\u52a1\u5668\u6536\u5230\u76847\u53f7\u5305\u4e3a\u201cSeq=29303, Len=1460\u201d\uff0c\u6240\u4ee5\u5b83\u671f\u671b\u4e0b\u4e00\u4e2a\u5305\u5e94\u8be5\u662fSeq+Len=29303+1460=30763\uff0c\u6ca1\u60f3\u5230\u5b9e\u9645\u6536\u5230\u7684\u5374\u662f8\u53f7\u5305Seq=32223\uff0c\u8bf4\u660eSeq=30763\u90a3\u4e2a\u5305\u53ef\u80fd\u4e22\u5931\u4e86\u3002\u56e0\u6b64\u670d\u52a1\u5668\u7acb\u5373\u57289\u53f7\u5305\u53d1\u4e86Ack=30763\uff0c\u8868\u793a\u201c\u6211\u8981\u7684\u662fSeq=30763\u201d\u3002\u7531\u4e8e\u63a5\u4e0b\u6765\u670d\u52a1\u5668\u6536\u5230\u768410\u53f7\u300112\u53f7\u300114\u53f7\u4e5f\u90fd\u662f\u5927\u4e8eSeq=30763\u7684\uff0c\u56e0\u6b64\u5b83\u6bcf\u6536\u5230\u4e00\u4e2a\u5c31\u56de\u590d\u4e00\u6b21Ack=30763\uff0c\u4ece\u56fe\u4e2d\u53ef\u89c1Wireshark\u5728\u8fd9\u4e9b\u56de\u590d\u4e0a\u90fd\u6807\u8bb0\u4e86 TCP Dup ACK\u3002</p> <p></p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#32-2","title":"3.2. \u793a\u4f8b2\uff1a","text":"<p>\u6b64\u65f6\u5c31\u4f1aAck\u5c31\u8bf4\u6211\u60f3\u83b7\u53d6seq=28852\u7684\u6570\u636e\u5305\u800c\u4f60\u7ed9\u4e86\u6211\u5176\u4ed6\u5305\u3002</p> <p>\u5ba2\u6237\u7aef117.136.81.177\u5305\u5e8f\u53f741\u548c42\u5230\u8fbe\u670d\u52a1\u5668\u4e4b\u540e\uff08\u5305\u5e8f\u53f7\u5f02\u5e38\uff0c\u7406\u5e94\u514842\u540e41\uff09\uff0c\u670d\u52a1\u5668115.28.150.86\u4e0a\u53d1\u9001\u5305\u5e8f\u53f743\u7684\u5e94\u7b54\uff0c\u662f\u9488\u5bf9\u5305\u5e8f\u53f741\u6240\u505a\u7684\u5e94\u7b54\uff0c\u5728\u670d\u52a1\u5668\u53d1\u9001\u5305\u5e8f\u53f740\u65f6\u5c31\u8bf4\uff0c\u6211\u5e0c\u671b\u83b7\u53d6seq=28852\u7684\u6570\u636e\u5305\uff0c\u4f46\u662f\u63a5\u4e0b\u6765\u83b7\u53d6\u6570\u636e\u530541\u7684seq=30312,\u6240\u4ee5\u670d\u52a1\u5668\u5728\u53d1\u8fbe\u5e94\u7b54\u7684\u65f6\u5019\uff0c\u53d1\u9001Ack=28852,SLE=30312 SRE=31560\u7528\u4e8e\u63d0\u793a\u5ba2\u6237\u7aef\uff0c\u5176\u4e2dSLE\uff1aSequence Left Edge(\u5e8f\u5217\u53f7\u5de6\u8fb9\u754c\u503c) SRE:Sequence Right Edge\uff08\u5e8f\u5217\u53f7\u6709\u8fb9\u754c\u503c\uff09\u3002Wireshark \u6dfb\u52a0\u89e3\u91ca\uff1aTCP Dup ACK 40**1\u3002\u5176\u4e2d40\u8868\u793a\u5bf9\u5305\u5e8f\u53f740\u91cd\u590d\uff0c**\u53f7\u4e4b\u540e\u76841\u8868\u793a\u91cd\u590d\u6b21\u6570\u4e3a1\u6b21\u3002</p> <p></p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#4-tcp-fast-retransmission","title":"4. TCP Fast Retransmission","text":"<p>\u5f53\u53d1\u9001\u65b9\u6536\u52303\u4e2a\u6216\u4ee5\u4e0a**TCP Dup ACK**\uff0c\u5c31\u610f\u8bc6\u5230\u4e4b\u524d\u53d1\u7684\u5305\u53ef\u80fd\u4e22\u4e86\uff0c\u4e8e\u662f\u5feb\u901f\u91cd\u4f20\u5b83\uff08\u8fd9\u662fRFC\u7684\u89c4\u5b9a\uff09\u3002</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#41-1","title":"4.1. \u793a\u4f8b1","text":"<p>\u4ee5\u56fe6\u4e3a\u4f8b\uff0c\u5ba2\u6237\u7aef\u6536\u5230\u4e864\u4e2aAck=991851\uff0c\u4e8e\u662f\u57281177\u53f7\u5305\u91cd\u4f20\u4e86Seq=991851\u3002</p> <p> \u56fe6</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#42-2","title":"4.2. \u793a\u4f8b2","text":"<p>\u5f53\u670d\u52a1\u5668115.28.150.86\u8fde\u7eed\u53d1\u9001\u4e861165\u30011168\u30011169\u4e09\u6761\u5e94\u7b54\u4e4b\u540e\uff0c\u5ba2\u6237\u7aef\u5feb\u901f\u91cd\u4f20seq=291935\u7684\u6570\u636e\u5305</p> <p></p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#5-continuation-to","title":"5. Continuation to #","text":"<p>\u4f60\u770b\u5230\u8fd9\u4e2a\u63d0\u793a\uff0c\u8bf4\u660e\u5df2\u7ecf\u5728Edit-&gt;Preferences-&gt;Protocols-&gt;TCP\u83dc\u5355\u91cc\u5173\u95ed\u4e86Allow sub dissector to reassemble TCP streams\u3002</p> <p>\u6bd4\u5982\u56fe10\u7684\u90a3\u4e9b\u5305\uff0c\u4e00\u5173\u95ed\u5c31\u53d8\u6210\u56fe11\u8fd9\u6837\u3002</p> <p>\u56fe10 </p> <p>\u56fe11 </p> <p>\u4ed4\u7ec6\u5bf9\u6bd4\u56fe10\u548c\u56fe11\uff0c\u4f60\u4f1a\u53d1\u73b0Read Response\u5728\u56fe10\u4e2d\u88ab\u7b97\u5728\u4e8648\u53f7\u5305\u5934\u4e0a\uff0c\u800c\u5728\u56fe11\u4e2d\u88ab\u7b97\u5230\u4e8639\u53f7\u5305\u5934\u4e0a\u3002\u8fd9\u6837\u4f1a\u5e26\u6765\u4e00\u4e2a\u8be1\u5f02\u7684\u7ed3\u679c\uff1a\u56fe10\u7684\u8bfb\u54cd\u5e94\u65f6\u95f4\u4e3a2.528\u6beb\u79d2\uff0838\u53f7\u5305\u548c48\u53f7\u5305\u7684\u65f6\u95f4\u5dee\uff09\uff0c\u800c\u56fe11\u7684\u8bfb\u54cd\u5e94\u65f6\u95f4\u4e3a2.476\u6beb\u79d2\uff0838\u53f7\u5305\u548c39\u53f7\u5305\u7684\u65f6\u95f4\u5dee\uff09\u3002\u7a76\u7adf\u54ea\u4e2a\u7b97\u6b63\u786e\u5462\uff1f\u8fd9\u4e2a\u95ee\u9898\u5f88\u96be\u56de\u7b54\uff0c\u5982\u679c\u5728\u4e4e\u7684\u662f\u5b9e\u9645\u7684\u603b\u6027\u80fd\uff0c\u90a3\u5c31\u770b\u524d\u8005\uff1b\u5982\u679c\u60f3\u5ffd\u7565TCP/IP\u534f\u8bae\u7684\u635f\u8017\uff0c\u5355\u770b\u670d\u52a1\u5668\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u90a3\u5c31\u770b\u540e\u8005\u3002\u5728\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e24\u8005\u76f8\u5dee\u975e\u5e38\u5927\uff0c\u6240\u4ee5\u5fc5\u987b\u641e\u6e05\u695a\u3002</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#6-time-to-live-exceeded-fragment-reassembly-time-exceeded","title":"6. Time-to-live exceeded (Fragment reassembly time exceeded)","text":"<p>ICMP\u7684\u62a5\u9519\u6709\u597d\u591a\u79cd\uff0c\u5927\u90fd\u4e0d\u96be\u7406\u89e3\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u4e3e\u5176\u4e2d\u7684\u4e00\u79cd\u4e3a\u4f8b\u3002\u00a0Fragment reassembly time exceeded \u8868\u793a\u8fd9\u4e2a\u5305\u7684\u53d1\u9001\u65b9\u4e4b\u524d\u6536\u5230\u4e86\u4e00\u4e9b\u5206\u7247\uff0c\u4f46\u662f\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\u8fdf\u8fdf\u65e0\u6cd5\u7ec4\u88c5\u8d77\u6765\u3002</p> <p>\u6bd4\u5982\u5728\u56fe12\u4e2d\uff0c\u7531\u4e8e\u4e0a\u6d77\u53d1\u5f80\u5317\u4eac\u7684\u4e00\u4e9b\u5305\u88ab\u5206\u7247\u4f20\u8f93\uff0c\u4e14\u6709\u4e00\u90e8\u5206\u5728\u8def\u4e0a\u4e22\u5931\u4e86\uff0c\u6240\u4ee5\u5317\u4eac\u65b9\u65e0\u6cd5\u7ec4\u88c5\u8d77\u6765\uff0c\u4fbf\u53ea\u597d\u7528\u8fd9\u4e2aICMP\u62a5\u9519\u544a\u77e5\u4e0a\u6d77\u65b9\u3002</p> <p>\u56fe12 </p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#7-tcp-keep-alive","title":"7. TCP Keep-Alive","text":""},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#8-tcp-keep-alive-ack","title":"8. TCP Keep-Alive Ack","text":""},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#9-fragmented-ip-protocol","title":"9. Fragmented IP\u00a0 Protocol","text":"<pre><code>ping -s 2000 4.4.4.4\n</code></pre>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/01%20Wireshark%E7%9A%84%E6%8F%90%E7%A4%BA/#10-tcp-port-numbers-reused","title":"10. TCP Port numbers reused","text":""},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/10%20IPCA%E9%85%8D%E7%BD%AE%E5%AF%BC%E8%87%B4WeLink%E8%AE%BF%E9%97%AE%E4%B8%A2%E5%8C%85/","title":"10 IPCA\u914d\u7f6e\u5bfc\u81f4WeLink\u8bbf\u95ee\u4e22\u5305","text":"<p>\u6545\u969c\u5b9a\u4f4d\u5b9a\u4f4d\u6848\u4f8b</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/%E6%A8%A1%E6%8B%9F%E4%BC%81%E4%B8%9A%E6%B5%81%E9%87%8F%E5%85%A5%E4%BE%B5%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/","title":"\u6a21\u62df\u4f01\u4e1a\u6d41\u91cf\u5165\u4fb5\u6eaf\u6e90\u5206\u6790","text":"<p>\u80cc\u666f\u4ecb\u7ecd\uff1a </p> <p>\u516c\u53f8\u68c0\u6d4b\u5230\u5f02\u5e38\u6d41\u91cf\uff0c\u53ca\u591a\u540d\u5458\u5de5\u6536\u5230\u9493\u9c7c\u90ae\u4ef6\uff0c\u53d1\u73b0\u67d0\u90ae\u4ef6\u7cfb\u7edf\u5b58\u5728\u6f0f\u6d1e, \u9ed1\u5ba2\u901a\u8fc7\u8be5\u6f0f\u6d1e\u83b7\u53d6\u5927\u91cf\u4fe1\u606f\uff0c\u6240\u4ee5\u62bd\u53d6\u5f53\u5929\u7f51\u7edc\u6d41\u91cf\u8fdb\u884c\u5206\u6790\uff0c\u6570\u91cf\u67095.3G\uff0c\u5927\u6982\u4e00\u5343\u4e09\u767e\u4e07\u4e2a\u6570\u636e\u5305\u3002  </p> \u56fe\u7247 <p>\u5206\u6790\u76ee\u6807\uff1a </p> <p>1.\u653b\u51fb\u8005\u4f7f\u7528\u7684\u4f2a\u9020\u90ae\u7bb1\u5730\u5740\u662f\u591a\u5c11</p> <p>2.\u653b\u51fb\u8005\u53d1\u9001\u9493\u9c7c\u90ae\u4ef6\u7684ip\u662f\u591a\u5c11</p> <p>3.\u90ae\u4ef6\u4e2d\u7684\u6076\u610furl\u662f\u591a\u5c11</p> <p>4.\u653b\u51fb\u8005\u53d1\u9001\u6210\u529f\u7684\u9493\u9c7c\u90ae\u4ef6\u662f\u4ec0\u4e48</p> <p>5.\u670d\u52a1\u5668\u7684\u6f0f\u6d1e\u662f\u4ec0\u4e48</p> <p>6.\u9ed1\u5ba2\u5bf9\u7cfb\u7edf\u8fdb\u884c\u4e86\u4ec0\u4e48\u653b\u51fb</p> <p>\u524d\u671f\u51c6\u5907\uff1a</p> <ol> <li> <p>Wireshark\uff08\u6d41\u91cf\u5206\u6790\u5de5\u5177\uff09</p> </li> <li> <p>Python\uff08pyshark\u6570\u636e\u5305\u5904\u7406\u6a21\u5757\uff09</p> </li> <li> <p>\u9762\u5bf9\u4e00\u5343\u4e09\u767e\u4e07\u4e2a\u6570\u636e\u5305\u4e0d\u653e\u5f03\u7684\u7cbe\u795e</p> </li> </ol> \u56fe\u7247 <p>0x01: \u6d41\u91cf\u6e05\u6d17</p> \u56fe\u7247 <p>\u5728\u7b49\u91cf\u5206\u89e3\u7684\u6570\u636e\u5305\u4e2d\uff0c\u53d6\u6837\u62bd\u67e5\uff0c\u6bcf\u4e2a\u5206\u5305\u5927\u6982\u670966\u4e07\u4e2a\u5305\u5de6\u53f3</p> \u56fe\u7247 <p>\u518d\u770b\u770b\u6570\u636e\u5305\u534f\u8bae\u5206\u5c42</p> \u56fe\u7247 <p>\u534f\u8bae\u5206\u5c42\u4e2d\u770b\u5230smtp\u534f\u8bae(\u90ae\u4ef6\u670d\u52a1\u534f\u8bae)\u00a0****SMTP**{: .hash}****\u534f\u8bae\u8be6\u89e3\u8bf7\u89c1\u9644\u5f55****4**</p> <p>\u6839\u636e\u80cc\u666f\u63cf\u8ff0\uff0c\u516c\u53f8\u68c0\u6d4b\u5230\u5f02\u5e38\u6d41\u91cf\uff0c\u53ca\u591a\u540d\u5458\u5de5\u6536\u5230\u9493\u9c7c\u90ae\u4ef6\uff0c\u521d\u6b65\u731c\u6d4b\uff0c\u653b\u51fb\u8005\u5bf9\u7f51\u7ad9\u653b\u51fb\u5f15\u53d1\u5f02\u5e38\u6d41\u91cf\u5e76\u4e14\u4f7f\u7528\u90ae\u4ef6\u670d\u52a1\u534f\u8bae\u53d1\u9001\u7684\u9493\u9c7c\u90ae\u4ef6\u3002</p> <p>\u6240\u4ee5\u6682\u4e14\u5148\u770bsmtp\u534f\u8bae\u548chttp\u534f\u8bae\u7684\u6570\u636e\u5305</p> <p>\u8fdb\u884c\u6d41\u91cf\u6e05\u6d17</p> <p>Wireshark****\u81ea\u5e26\u5de5\u5177\uff1a</p> <p>mergecap\uff08\u5408\u5e76\u6d41\u91cf\u5305\uff09</p> <p>tshark\uff08\u6d41\u91cf\u5305\u8fc7\u6ee4\uff09</p> <p>editcap\uff08\u6d41\u91cf\u5305\u5206\u89e3\uff09</p> <p>\uff08\u7528\u6cd5\u53c2\u8003\u9644\u5f55\uff1a\u6d41\u91cf\u5305\u5206\u89e3\u5408\u5e76\uff08****wireshark****\u81ea\u5e26\uff09\uff09</p> <p>\u6e05\u6d17\u601d\u8def\uff08\u5408\u5e76\u6d41\u91cf\u5305\u2192\u7b5b\u9009smtp\u3001http\u534f\u8bae\u2192\u5f97\u51fa\u6d41\u91cf\u5305\uff09</p> <p>\u7b2c\u4e00\u6b65\u5c06\u6240\u6709\u6d41\u91cf\u5305\u5408\u5e76\uff1a</p> <p>mergecap-w total.pcap a.pcap b.pcap \u00a0//\uff08\u6587\u4ef6\u540d\u592a\u957f\u7b80\u5199\u6210a\u548cb\uff09</p> <p>\u5f97\u5230total.pcap,\u5bf9\u5b83\u7ecf\u884c\u6d41\u91cf\u6e05\u6d17\uff0c\u76ee\u6807\u662f\u8fc7\u6ee4\u51fa\uff0csmtp\uff0chttp\u6d41\u91cf</p> <p>\u6e05\u6d17\uff1atshark-r total.pcap -Y pop||smtp||http -w result.pcap\uff08total.pcap\u4e3a\u4e0a\u4e00\u6b65\u5408\u5e76\u7684\u6570\u636e\u5305\uff09</p> <p>\uff08\u8fc7\u6ee4\u53c2\u6570\u53ef\u4ee5\u53c2\u8003\u9644\u5f55\uff1aTshark****\u4f7f\u7528\u53c2\u6570\u8be6\u89e3\uff09</p> <p>\u5f97\u51fa\uff1aresult.pcap2\u4e07\u4e2a\u6570\u636e\u5305\u5de6\u53f3\uff0c\u4ee5\u4e0b\u8fc7\u7a0b\u90fd\u57fa\u4e8e\u8fd9\u4e2a\u6570\u636e\u5305</p> \u56fe\u7247 <p>0x02:\u6d41\u91cf\u5206\u5c42</p> \u56fe\u7247 <p>\u63a5\u4e0b\u6765\u5148\u770bsmtp\u6570\u636e\u5305\uff0cwireshark\u8fc7\u6ee4\u6761\u4ef6\u4e3a\uff1asmtp</p> \u56fe\u7247 <p>\u9009\u62e9\u7edf\u8ba1\u2192\u5bf9\u8bdd\uff0c\u67e5\u770b\u6d41\u91cf\u8d70\u5411\u60c5\u51b5</p> \u56fe\u7247 <p>\u53d1\u73b0\u4e24\u4e2aip\u5730\u5740\u5b58\u5728\u3002\u5206\u522b\u67e5\u770b\u4ed6\u4eecip\u7684\u6d41\u91cf</p> \u56fe\u7247 <p>1\uff09.\u8fc7\u6ee4\u6761\u4ef6\u4e3asmtpand ip.addr==101.36.79.67</p> <p>\u53d1\u73b0\u4e00\u4e2a\u90ae\u7bb1\u53d1\u5230\u591a\u4e2a\u90ae\u7bb1\u76f8\u540c\u7684\u90ae\u4ef6\uff0c</p> <p>\u90ae\u4ef6\u5185\u5bb9\u4e3a\uff1aAnew system of IT is online, please click on the link below, to assistto test the running state of system,thank you! \u00a0 \u00a0http://211341.vhost328.cloudvhost.cn</p> <p>\u90ae\u4ef6\u5185\u5bb9\u6709\u8bf1\u5bfc\u6027\u70b9\u51fb\u94fe\u63a5\u5e76\u5e26\u6709url\u5730\u5740**http://211341.vhost328.cloudvhost.cn**\uff0c\u6bd4\u8f83\u53ef\u7591</p> \u56fe\u7247 <p>\u5c1d\u8bd5\u8fc7\u6ee4\u6761\u4ef6\u4e3asmtpand ip.addr==112.90.83.115</p> \u56fe\u7247 <p>\u4ece\u8be5ip\u90ae\u4ef6\u4e2d\u5185\u5bb9\u4e0a\u770b\u672a\u53d1\u73b0\u5f02\u5e38</p> <p>\u76f8\u6bd4\u4e4b\u4e0b101.36.79.67\u6bd4\u8f83\u53ef\u7591\uff0c\u9700\u518d\u4e00\u6b65\u8bc1\u5b9e</p> <p>\u518d\u56de\u5230\u7b5b\u9009\u6761\u4ef6\u4e3asmtp\u7684\u6570\u636e\u5305\uff0c\u904d\u5386\u6240\u6709\u7684\u6570\u636e\u5305\uff0c\u7edf\u8ba1\u90ae\u7bb1\u51fa\u73b0\u6700\u591a\u7684\u6b21\u6570\uff08\u9644\u4ef6\u5728\u9644\u5f55\u89e3\u91ca\u4e0b\uff0c\u5148\u770b\u56fe\uff09</p> \u56fe\u7247 <p>\u904d\u5386\u6240\u6709stmp\u90ae\u4ef6\u53d1\u73b0**it@t3sec.cc**\u8fd9\u4e2a\u90ae\u7bb1\u51fa\u73b0\u6b21\u6570\u5f02\u5e38\uff0c\u6bd4\u5176\u4ed6\u90ae\u7bb1\u51fa\u73b0\u6b21\u6570\u591a10\u500d\uff0c\u7531\u6b64\u7efc\u5408\u4e0a\u9762\u5148\u524d\u63a8\u6d4b\u53ef\u7591\u90ae\u4ef6\u53d1\u9001ip\u5730\u5740\uff0c\u548c\u53d1\u9001\u8fd9\u4e2a\u90ae\u4ef6\u7684ip\u5730\u5740**101.36.79.67**\u5730\u5740\u76f8\u543b\u5408\uff0c\u6240\u4ee5\u63a8\u65ad\uff1a</p> <p>\u653b\u51fb\u8005ip\u4e3a**101.36.79.67**</p> <p>\u653b\u51fb\u8005\u4f7f\u7528\u7684\u4f2a\u9020\u90ae\u7bb1\u5730\u5740\u662f**it@t3sec.cc**</p> <p>\u53ef\u7591\u9493\u9c7c\u94fe\u63a5\u4e3a\uff1a \u00a0\u00a0http://211341.vhost328.cloudvhost.cn</p> <p>\u53d1\u73b0\u57fa\u672c\u53ea\u6709172.16.60.200\u5728\u4f7f\u7528\u90ae\u4ef6\u670d\u52a1\u5668172.16.6\u9646\u90ae\u4e3a</p> \u56fe\u7247 <p>0x03: \u5165\u4fb5\u6d41\u91cf\u8ffd\u8e2a</p> \u56fe\u7247 <p>\u6839\u636e\u53d1\u73b0\u653b\u51fb\u8005\u7684ip</p> <p>\u53bb\u91cd\u65b0\u7b5b\u9009\u6570\u636e\u5305\uff0c\u6761\u4ef6\u4e3a\u6e90ip\u4e3a**101.36.79.67****\u7684\u6570\u636e\u5305**</p> <p>\u5c1d\u8bd5\u641c\u7d22\u6728\u9a6c\u53ca\u6ce8\u5165\u6216xss\u5173\u952e\u5b57</p> <p>ip.addr== 101.36.79.67 &amp;&amp; http matches\"upload|alert|script|eval|select\"</p> <p>\u6700\u7ec8\u5728\u6761\u4ef6\u4e3aPOST\u8bf7\u6c42\uff0c\u5185\u5bb9\u5305\u542beval\u7b5b\u9009\u51fa\u6728\u9a6c\u6d41\u91cf</p> \u56fe\u7247 \u56fe\u7247 <p>0x04: \u6f0f\u6d1e\u6eaf\u6e90\u5206\u6790</p> \u56fe\u7247 <p>\u6839\u636eurl\u8def\u5f84\u548c\u9875\u9762\u540d\u79f0\uff0c\u63a8\u51fa\u8be5\u7f51\u7ad9\u6f0f\u6d1e\u662f\u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e</p> <p>\uff08\u8be5post\u6570\u636e\u5305\u6709upload\u5173\u952e\u5b57\u2192\u63a8\u6d4b\u8bd5\u4e0a\u4f20\u9875\u9762\uff09</p> <p>\uff08\u8be5post\u6570\u636e\u5305\u8bbf\u95ee\u6587\u4ef6\u4e3ahack.php\u2192\u63a8\u6d4b\u4e3awebshell\uff09</p> <p>\u603b\u4f53\u63a8\u6d4b\uff1a\u4e0a\u4f20\u9875\u9762\u4e0a\u4f20\u4e86webshell</p> <p>\u67e5\u770b\u8be5\u4e0a\u4f20\u6e90\u7801\uff0c\u53d1\u73b0\u7684\u786e\u5b58\u5728\u6ca1\u6709\u4efb\u4f55\u5b89\u5168\u9632\u62a4\uff0c\u5b58\u5728\u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e\u3002</p> \u56fe\u7247 <p>Up.php\u6ca1\u6709\u4efb\u4f55\u6587\u4ef6\u540e\u7f00\u7b49\u8fc7\u6ee4</p> \u56fe\u7247 <p>\u8bc1\u5b9e\uff1a\u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e</p> <p>\u653b\u51fb\u8005\u4e0a\u4f20\u6728\u9a6c\u540e\uff0c\u6267\u884c\u547d\u4ee4</p> \u56fe\u7247 <p>\u547d\u4ee4\u8fdb\u884c\u4e86base64\u52a0\u5bc6\uff0c\u76f8\u5173\u547d\u4ee4\u5982\u4e0b</p> <p>V2hvYW1p</p> <p>SWZjb25maWc=</p> <p>Q2F0IC9ldGMvcGFzc3dk</p> <p>\u89e3\u5bc6\u540e\u4e3aWhoami\u3001Ifconfig\u3001Cat/etc/passwd\u7b49\u7b49</p> <p>\u4f46\u6b64\u6b21\u5206\u6790\u76ee\u6807\u5230\u6b64\u5df2\u8fbe\u6210</p> <p>1.\u653b\u51fb\u8005\u4f7f\u7528\u7684\u4f2a\u9020\u90ae\u7bb1\u5730\u5740\u662f\u591a\u5c11</p> <p>it@t3sec.cc</p> <p>2.\u653b\u51fb\u8005\u53d1\u9001\u9493\u9c7c\u90ae\u4ef6\u7684ip\u662f\u591a\u5c11</p> <p>101.36.79.67</p> <p>3.\u90ae\u4ef6\u4e2d\u7684\u6076\u610furl\u662f\u591a\u5c11</p> <p>http://211341.vhost328.cloudvhost.cn</p> <p>4.\u653b\u51fb\u8005\u53d1\u9001\u6210\u529f\u7684\u9493\u9c7c\u90ae\u4ef6\u662f\u4ec0\u4e48</p> <p>Hiall</p> <p>A new system of IT is online, please clickon the link below, to assist to test the running state ofsystem,thank you! \u00a0 \u00a0 http://211341.vhost328.cloudvhost.cn</p> <p>5.\u670d\u52a1\u5668\u7684\u6f0f\u6d1e\u662f\u4ec0\u4e48</p> <p>\u4efb\u610f\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e</p> <p>6.\u9ed1\u5ba2\u5bf9\u7cfb\u7edf\u8fdb\u884c\u4e86\u4ec0\u4e48\u653b\u51fb</p> <p>\u670d\u52a1\u5668\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\uff1b\u9488\u5bf9\u516c\u53f8\u7684apt\u653b\u51fb\uff08\u9493\u9c7c\uff09</p> <p>\u53c2\u52a0\u8fc7\u94c1\u4e09\u7684\u524d\u8f88\u5927\u54e5\u53ef\u80fd\u6bd4\u8f83\u719f\u6089\u8fd9\u4e9b\uff0c\u6570\u636e\u5305\u6765\u6e90\u94c1\u4e09\u6bd4\u8d5b\uff0c\u5c0f\u5f1f\u60f3\u66f4\u591a\u4eba\u8ba4\u8bc6\u5230\u8fd9\u4e2a\u6d41\u91cf\u5206\u6790\uff0c\u7f51\u4e0a\u641c\u4e86\u4e0b\u597d\u50cf\u5173\u4e8e\u4f7f\u7528\u6d41\u91cf\u5206\u6790\u7684\u6587\u7ae0\u6bd4\u8f83\u5c11\uff0c\u4f7f\u7528python\u8fdb\u884c\u5206\u6790\u6d41\u91cf\u5305\u7684\u66f4\u5c11\u4e4b\u53c8\u5c11\u4e86\uff0c\u603b\u7ed3\u4e86\u4e00\u4e0b\u7279\u6b64\u4e00\u7801\u3002</p> <p>\u7531\u4e8e\u5c3d\u91cf\u4f7f\u5927\u5bb6\u7b80\u5355\u660e\u767d\u5206\u6790\u7684\u8fc7\u7a0b\u7684\u539f\u7406\uff0c\u6b64\u6b21\u4f7f\u7528wireshark\u7ed9\u5927\u5bb6\u5206\u6790\u8fc7\u7a0b</p> <p>\u5176\u5b9e\u5b9e\u9645\u8fc7\u7a0b\u4e2d\u6240\u6709\u7684\u5206\u6790\u8fc7\u7a0b\u90fd\u53ef\u4ee5\u7528python\u5199\u7684\u811a\u672c\u6765\u8fdb\u884c\u5206\u6790</p> <p>Python\u7684pyshark\u6a21\u5757</p> <p>\u4e0a\u8ff0\u6587\u7ae0\u5206\u6790\u8fc7\u7a0b\u4e2d\u6709\u9519\u8bef\u7684\u8bdd\u8bf7\u5927\u5bb6\u6307\u70b9\u4e00\u4e0b\uff0c\u8c22\u8c22\u5927\u5bb6</p> <p>\u9644\u4e0a\u7b80\u5355\u7684pyshark\u5165\u95e8\u4ee3\u7801</p> <p>\uff08****python2.7**\uff09**</p> <p>**import**sys **import**pyshark</p> <p>from**pyshark.capture.capture**import**Capture reload(sys) sys.setdefaultencoding('utf-8')\uff08\u73af\u5883\u521d\u59cb\u5316\uff09 **def**main():\u00a0\u00a0**pass\u00a0\u00a0path='C:\\Users\\Desktop\\result.pcap' __\u8bfb\u53d6__pcap__\u6587\u4ef6\u8def\u5f84_\u00a0\u00a0cap= pyshark.FileCapture(path,display_filter='http')\u00a0___\u5b9a\u4e49\u5bf9\u8c61\u5e76\u7b5b\u9009\u8fc7\u6ee4\u6761\u4ef6\u4e3a__http_ for**p**in**cap:\u00a0___\u904d\u5386\u6240\u6709\u6570\u636e\u5305{: .hash}\u00a0 \u00a0 \u00a0\u00a0**try:\u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0print**p.http.file_data\u00a0___\u63d0\u53d6\u6570\u636e\u5305\u4e2d\u7684__http__\u5185\u5bb9_{: .hash}\u00a0 \u00a0 \u00a0\u00a0**except**Exception**as**e:\u00a0___\u62a5\u9519\u663e\u793a_**{: .hash}\u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0**print**e  </p> <p>ifname==\u00a0'main': \u00a0 main()\u00a0 \u00a0pass</p> <p>\u521d\u8877\u662f\u60f3\u8bfb\u8005\u4e86\u89e3\u9664\u4e86\u624b\u5de5\u6253\u5f00pcap\u4e00\u4e2a\u4e00\u4e2a\u770b\u5e76\u5206\u6790\uff0c\u539f\u6765\u8fd8\u53ef\u4ee5\u7528python\u8bfb\u53d6\u81ea\u52a8\u5206\u6790\u3002</p> <p>\u4e0a\u9762\u53ea\u662f\u6253\u5f00\u4e00\u4e2apcap\u6587\u4ef6\u8bfb\u53d6\u6570\u636e\u5305\u7684\u5165\u95e8\u65b9\u6cd5\u3002\u76f4\u63a5\u8d34\u4ee3\u7801\u53ea\u80fd\u544a\u8bc9\u5927\u5bb6\u53ef\u80fd\u53ea\u5b66\u5230\u4e00\u4e2a\u77e5\u8bc6\u70b9\uff0c\u544a\u8bc9\u5927\u5bb6\u5165\u95e8\u65b9\u6cd5\u53bb\u63a2\u7d22\uff0c\u5c31\u6709\u5b66\u5230\u65e0\u9650\u77e5\u8bc6\u7684\u53ef\u80fd</p> <p>\u800c\u672c\u6b21\u6d41\u91cf\u5206\u5206\u6790\u7528\u5230\u7684\u5173\u952e\u601d\u8def\u53ea\u662f\u7528\u6b63\u5219\u5339\u914d\u90ae\u7bb1\uff0c\u7136\u540e\u505a\u4e00\u6b21\u7edf\u8ba1\u800c\u5df2\uff0c\u6bd4\u8f83\u7b80\u5355\uff0c\u4e0b\u9762\u8ffd\u52a0\u5173\u952e\u4ee3\u7801\u3002</p> <p>\u5173\u952e\u4ee3\u7801\u5982\u4e0b</p> <p>patten=re.compile(r'\\b[a-zA-Z0-9._%+-]**+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,4}\\b')___\u6b63\u5219\u722c\u90ae\u7bb1_{: .hash} path='C:\\Users\\Desktop\\result.p****cap****'___\u6587\u4ef6\u8def\u5f84_cap**{: .hash}= pyshark.FileCapture(path,display_filter='imf')__\u8fc7\u6ee4\u6587\u4ef6__smtp__\u90ae\u4ef6\u5185\u5bb9__imf_ for**p**in**cap:\u00a0___\u904d\u5386\u6570\u636e\u5305{: .hash}\u00a0 p=str(p)\u00a0___\u8f6c__str__\u683c\u5f0f_{: .hash}\u00a0\u00a0**try:\u00a0 \u00a0 \u00a0\u00a0print**p\u00a0 \u00a0 \u00a0\u00a0__a**{: .hash}=a+re.findall(re.compile(patten),p)\u00a0___\u6570\u7ec4\u4e2d\u52a0\u5165\u90ae\u7bb1\u65b9\u4fbf\u7edf\u8ba1_\u00a0\u00a0**except**Exception**as**e:\u00a0 \u00a0 \u00a0\u00a0**print**e **print**a</p> <p>pyshark****\u53c2\u6570\u6761\u4ef6\u53c2\u8003\u9644\u5f553</p> <p>\u9644\u5f55</p> <p>\u9644\u5f553\uff1aPyshark\u8fc7\u6ee4\u53c2\u6570</p> <p>a=pyshark.FileCapture(path,display_filter='http')</p> <p>a\u4e3a\u5b9a\u4e49pcap\u6587\u4ef6\u5bf9\u8c61</p> <p>\u672c\u6b21\u4e3b\u8981\u7528\u5230\u8fc7\u6ee4\u53c2\u6570\u6709</p> <p>a.highest_layer \u00a0 \u00a0\u6700\u9ad8\u5c42\u7684\u534f\u8bae\u5185\u5bb9</p> <p>a.http.request_method \u00a0 \u8bf7\u6c42\u65b9\u6cd5</p> <p>a.http.chat \u00a0 \u00a0 \u8bbf\u95ee\u65b9\u6cd5\u52a0\u8def\u5f84</p> <p>a.http.request_uri \u00a0 \u00a0 \u00a0\u8bbf\u95ee\u8def\u5f84</p> <p>a.http.host \u8bbf\u95eehost\u5730\u5740</p> <p>a.http.field_names \u00a0 \u00a0http\u5305\u53c2\u6570</p> <p>a.ip.src_host \u6e90ip\u5730\u5740</p> <p>a.ip.dst_host \u76ee\u7684\u5730\u5740</p> <p>a.http.request_full_uri \u00a0 url\u5730\u5740</p> <p>str(c.http.file_data) \u00a0\u00a0\u00a0\u8fd4\u56de\u5305\u5185\u5bb9</p> <p>\u9644\u5f554\uff1aSMTP\u534f\u8bae\u89e3\u91ca</p> <p>SMTP\u534f\u8bae\u670d\u52a1\u5668\u7684\u719f\u77e5\u7aef\u53e3\u53f7\u4e3a25\uff0c\u4e0e\u4e4b\u524d\u603b\u7ed3\u8fc7\u7684telnet\u534f\u8bae\u548cFTP\u534f\u8bae\u7c7b\u4f3c\u7684\u5730\u65b9\u662f\uff0cSMTP\u534f\u8bae\u7684\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7aef\u90fd\u662f\u901a\u8fc7\u547d\u4ee4\u548c\u54cd\u5e94\u7684\u5f62\u5f0f\u8fdb\u884c\u4ea4\u4e92\uff0c\u5373SMTP\u5ba2\u6237\u901a\u8fc7\u547d\u4ee4\u5411SMTP\u670d\u52a1\u5668\u53d1\u9001\u64cd\u4f5c\u8bf7\u6c42\uff0c\u800c\u670d\u52a1\u5668\u5219\u901a\u8fc73\u4f4d\u7684\u6570\u5b57\u5bf9\u54cd\u5e94\u7684\u8bf7\u6c42\u4f5c\u51fa\u54cd\u5e94\u3002SMTP\u89c4\u5b9a\u4e8614\u6761\u547d\u4ee4\u548c21\u4e2d\u5e94\u7b54\u4fe1\u606f\uff0c\u6bcf\u6761\u547d\u4ee4\u67094\u4e2a\u5b57\u6bcd\u7ec4\u6210\uff0c\u800c\u6bcf\u4e00\u79cd\u5e94\u7b54\u4e00\u822c\u53ea\u6709\u4e00\u884c\u4fe1\u606f\uff0c\u6709\u4e00\u4e2a3\u4f4d\u6570\u5b57\u7684\u4ee3\u7801\u5f00\u59cb\uff0c\u540e\u9762\u9644\u4e0a\u5f88\u7b80\u5355\u7684\u9644\u52a0\u8bf4\u660e\u3002</p> <p>\u90ae\u4ef6\u4f20\u9001\u4e3b\u8981\u5305\u62ec3\u4e2a\u9636\u6bb5\uff1a\u5efa\u7acb\u8fde\u63a5\u3001 \u90ae\u4ef6\u4f20\u9001\u548c \u7ec8\u6b62\u8fde\u63a5\u3002 </p> <p>\u5efa\u7acb\u8fde\u63a5\u9636\u6bb5\uff1a</p> <p>1.\u5f53SMTP\u5ba2\u6237\u7aef\u6bcf\u9694\u4e00\u5b9a\u65f6\u95f4\u5bf9\u90ae\u4ef6\u7f13\u5b58\u626b\u63cf\u4e00\u6b21\uff0c\u5982\u53d1\u73b0\u6709\u90ae\u4ef6\uff0c\u5c31\u4f7f\u7528SMTP\u7684\u719f\u77e5\u7aef\u53e3\u53f725\u4e0e\u63a5\u6536\u65b9\u7684\u90ae\u4ef6\u670d\u52a1\u5668\u7684SMTP\u670d\u52a1\u5668\u5efa\u7acbTCP\u8fde\u63a5\u3002</p> <p>2.\u63a5\u6536\u65b9SMTP\u670d\u52a1\u5668\u53d1\u51fa\u201c220Service ready\"\u544a\u8bc9\u5ba2\u6237\u7aef\u5b83\u5df2\u7ecf\u51c6\u5907\u597d\u63a5\u6536\u90ae\u4ef6\u3002\u82e5\u670d\u52a1\u5668\u672a\u5c31\u7eea\uff0c\u5b83\u5c31\u53d1\u9001\u4ee3\u7801421\uff08\u670d\u52a1\u5668\u4e0d\u53ef\u7528\uff09\u3002</p> <p>3.\u5ba2\u6237\u53d1\u9001HELO\u62a5\u6587\uff0c\u5e76\u4f7f\u7528\u5b83\u7684\u57df\u540d\u5730\u5740\u6807\u5fd7\u81ea\u5df1\u3002\u76ee\u7684\u662f\uff1a\u7528\u6765\u628a\u5ba2\u6237\u7684\u57df\u540d\u901a\u77e5\u670d\u52a1\u5668\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5728TCP\u7684\u8fde\u63a5\u5efa\u7acb\u9636\u6bb5\uff0c\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u90fd\u662f\u901a\u8fc7\u5b83\u4eec\u7684IP\u5730\u5740\u6765\u544a\u8bc9\u5bf9\u65b9\u7684\u3002\uff08HELO\u62a5\u6587\u662f\u6700\u521d\u7684\uff0c\u7528\u6237\u540d\u548c\u5bc6\u7801\u90fd\u4e0d\u52a0\u5bc6\u3002\u73b0\u5728\u6539\u4e3aEHLO\uff0c\u7528\u6237\u540d\u548c\u5bc6\u7801\u90fd\u8fdb\u884cbase64\u7f16\u7801\u53d1\u9001\uff09</p> <p>4.\u670d\u52a1\u5668\u54cd\u5e94\u4ee3\u7801250\uff08\u8bf7\u6c42\u547d\u4ee4\u5b8c\u6210\uff09\u6216\u6839\u636e\u60c5\u51b5\u7684\u5176\u4ed6\u4e00\u4e9b\u4ee3\u7801\u3002</p> <p>\u90ae\u4ef6\u4f20\u9001\u9636\u6bb5\uff1a</p> <p>\u5728SMTP\u5ba2\u6237\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u53d1\u4ef6\u4eba\u5c31\u53ef\u4ee5\u4e0e\u4e00\u4e2a\u6216\u591a\u4e2a\u6536\u4ef6\u4eba\u4ea4\u6362\u5355\u4e2a\u7684\u62a5\u6587\u4e86\u3002\u82e5\u6536\u4ef6\u4eba\u8d85\u8fc7\u4e00\u4e2a\uff0c\u5219\u4e0b\u9762\u6b65\u9aa43\u548c\u6b65\u9aa44\u5c06\u91cd\u590d\u8fdb\u884c\u3002</p> <p>1.\u5ba2\u6237\u53d1\u9001MAILFROM\u62a5\u6587\u4ecb\u7ecd\u62a5\u6587\u7684\u53d1\u9001\u8005\u3002\u5b83\u5305\u62ec\u53d1\u9001\u4eba\u7684\u90ae\u4ef6\u5730\u5740\uff08\u90ae\u7bb1\u540d\u548c\u57df\u540d\uff0c\u5982house@qq\uff09\u3002\u8fd9\u4e2a\u6b65\u9aa4\u662f\u5fc5\u8981\u7684\uff1a\u56e0\u4e3a\u53ef\u4ee5\u7ed9\u670d\u52a1\u5668\u5728\u8fd4\u56de\u5dee\u9519\u6216\u62a5\u6587\u65f6\u7684\u8fd4\u56de\u90ae\u4ef6\u5730\u5740\u3002</p> <p>2.\u670d\u52a1\u5668\u54cd\u5e94\u4ee3\u7801250\uff08\u8bf7\u6c42\u547d\u4ee4\u5b8c\u6210\uff09\u6216\u5176\u4ed6\u9002\u5f53\u7684\u4ee3\u7801\u3002</p> <p>3.\u5ba2\u6237\u53d1\u9001RCPT\uff08\u6536\u4ef6\u4eba\uff09\u62a5\u6587\uff0c\u5305\u62ec\u6536\u4ef6\u4eba\u7684\u90ae\u4ef6\u5730\u5740\uff0cRCPT****\u547d\u4ee4\u7684\u4f5c\u7528\u662f\uff1a\u5148\u5f04\u6e05\u63a5\u6536\u65b9\u7cfb\u7edf\u662f\u5426\u5df2\u7ecf\u51c6\u5907\u597d\u63a5\u6536\u90ae\u4ef6\u7684\u51c6\u5907\uff0c\u7136\u540e\u624d\u53d1\u9001\u90ae\u4ef6\uff0c\u8fd9\u6837\u505a\u89c6\u4e3a\u4e86\u907f\u514d\u6d6a\u8d39\u901a\u4fe1\u8d44\u6e90\uff0c\u4e0d\u81f3\u4e8e\u53d1\u9001\u4e86\u5f88\u957f\u7684\u90ae\u4ef6\u4ee5\u540e\u624d\u77e5\u9053\u662f\u56e0\u5730\u5740\u9519\u8bef\u3002</p> <p>4.\u670d\u52a1\u5668\u54cd\u5e94\u4ee3\u7801250\u6216\u5176\u4ed6\u9002\u5f53\u7684\u4ee3\u7801\u3002</p> <p>5.\u5ba2\u6237\u53d1\u9001DATA\u62a5\u6587\u5bf9\u62a5\u6587\u7684\u4f20\u9001\u8fdb\u884c\u521d\u59cb\u5316\uff0cDATA\u547d\u4ee4\u8868\u793a\u8981\u5f00\u59cb\u4f20\u9001\u90ae\u4ef6\u7684\u5185\u5bb9\u4e86\u3002</p> <p>6.\u670d\u52a1\u5668\u54cd\u5e94\u4ee3\u7801\"354Start mail input: end with.\"\u6216\u5176\u4ed6\u9002\u5f53\u7684\u62a5\u6587\uff08\u5982421\u670d\u52a1\u5668\u4e0d\u53ef\u7528\uff0c500\u547d\u4ee4\u65e0\u6cd5\u8bc6\u522b\uff09\u3002</p> <p>7.\u5ba2\u6237\u7528\u8fde\u7eed\u7684\u884c\u53d1\u9001\u62a5\u6587\u7684\u5185\u5bb9\u3002\u6bcf\u4e00\u884c\u7684\u884c\u7ed3\u675f\u65f6\u8f93\u5165**.**\uff0c\u5373\u56de\u8f66\u6362\u884c.\u56de\u8f66\u6362\u884c\uff0c\u8868\u793a\u90ae\u4ef6\u5185\u5bb9\u7ed3\u675f\u3002</p> <p>8.\u670d\u52a1\u5668\u54cd\u5e94\u4ee3\u7801\uff08250\u8bf7\u6c42\u547d\u4ee4\u5b8c\u6210\uff09\u6216\u5176\u4ed6\u9002\u5f53\u7684\u4ee3\u7801\u3002</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff1a\u867d\u7136SMTP\u4f7f\u7528TCP\u8fde\u63a5\u8bd5\u56fe\u4f7f\u90ae\u4ef6\u7684\u4f20\u9001\u53ef\u9760\uff0c\u4f46\u5b83\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u4e0d\u4e22\u5931\u90ae\u4ef6\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f7f\u7528SMTP\u4f20\u9001\u90ae\u4ef6\u53ea\u80fd\u8bf4\u53ef\u4ee5\u53ef\u9760\u5730\u4f20\u9001\u63a5\u6536\u65b9\u7684\u90ae\u4ef6\u670d\u52a1\u5668\uff0c\u5728\u5f80\u540e\u7684\u60c5\u51b5\u5c31\u4e0d\u77e5\u9053\u4e86\u3002\u63a5\u6536\u65b9\u7684\u90ae\u4ef6\u670d\u52a1\u5668\u4e5f\u8bb8\u4f1a\u51fa\u6545\u969c\uff0c\u4f7f\u6536\u5230\u7684\u670d\u52a1\u5668\u5168\u90e8\u4e22\u5931\uff08\u5728\u6536\u4ef6\u4eba\u8bfb\u53d6\u4fe1\u4ef6\u4e4b\u524d\uff09\u3002</p> <p>\u7ec8\u6b62\u8fde\u63a5</p> <p>\u5728\u62a5\u6587\u4f20\u9001\u6210\u529f\u540e\uff0c\u5ba2\u6237\u5c31\u7ec8\u6b62\u8fde\u63a5\u3002\u5305\u62ec\u5982\u4e0b\u6b65\u9aa4\uff1a</p> <p>1.\u5ba2\u6237\u53d1\u9001QUIT\u547d\u4ee4\u3002</p> <p>2.\u670d\u52a1\u5668\u54cd\u5e94221\uff08\u670d\u52a1\u5173\u95ed\uff09\u6216\u5176\u4ed6\u4ee3\u7801\u3002</p> <p>\u5728\u8fde\u63a5\u7ec8\u6b62\u9636\u6bb5\u540e\uff0cTCP\u8fde\u63a5\u5fc5\u987b\u5173\u95ed\u3002</p> <p>(\u5b8c)</p>"},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/%E6%93%8D%E4%BD%9C%E6%8A%80%E5%B7%A7/WireShark%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B/","title":"WireShark\u547d\u4ee4\u7b80\u4ecb","text":""},{"location":"20%20%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E5%8F%8A%E5%9B%9E%E6%BA%AF/02%20WireShark/%E6%93%8D%E4%BD%9C%E6%8A%80%E5%B7%A7/WireShark%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B/#_1","title":"\u6d41\u91cf\u5305\u5206\u89e3\u5408\u5e76","text":"<pre><code>editcap.exe\u00a0-c\u00a0100D:\\dump.pcap\u00a0D:\\test.pcap\n</code></pre> <p>\u5728wireshark\u4e2d\u901a\u8fc7filter\u8fc7\u6ee4\u51fasip\u4fe1\u4ee4\uff0c\u4f46\u662f\u5728\u591a\u4e2a\u6587\u4ef6\u4e2d,megecap\u53ef\u4ee5\u5c06\u591a\u4e2apcap\u6587\u4ef6\u5408\u5e76\u4e3a\u4e00\u4e2a\u6587\u4ef6\u3002</p> <p>\u7528\u6cd5\uff1a</p> <pre><code>mergecap-w &lt;\u8f93\u51fa\u6587\u4ef6&gt; &lt;\u6e90\u6587\u4ef61&gt; &lt;\u6e90\u6587\u4ef62&gt;...\n</code></pre> <p>\u793a\u4f8b\uff1a <pre><code>mergecap-w compare.pcap a.pcap b.pcap\nTshark-r target.pcap -Y pop -w pop.pcap\n</code></pre></p>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Grafana/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":""},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Grafana/%E6%9C%AA%E5%91%BD%E5%90%8D/#dashboards","title":"dashboards \u53c2\u8003","text":"https://grafana.com/grafana/dashboards/"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Grafana/%E6%9C%AA%E5%91%BD%E5%90%8D/#1","title":"1. \u81ea\u5b9a\u4e49\u955c\u50cf","text":""},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Grafana/%E6%9C%AA%E5%91%BD%E5%90%8D/#11","title":"1.1. \u66ff\u6362\u5173\u952e","text":"<pre><code>COPY ./public/img/grafana_icon.svg /usr/share/grafana/public/img/grafana_icon.svg\nCOPY ./public/img/fav32.png /usr/share/grafana/public/img/fav32.png\nCOPY ./public/dashboards/default.json /usr/share/grafana/public/dashboards/default.json\nCOPY ./public/emails/signup_started.html /usr/share/grafana/public/emails/signup_started.html\nCOPY ./public/emails/welcome_on_signup.html /usr/share/grafana/public/emails/welcome_on_signup.html\nCOPY ./public/views/* /usr/share/grafana/public/view/\nCOPY ./public/build/* /usr/share/grafana/public/build/\n</code></pre> <pre><code>docker cp public/img/grafana_icon.svg grafana:/usr/share/grafana/public/img/grafana_icon.svg\ndocker cp public/img/fav32.png grafana:/usr/share/grafana/public/img/fav32.png\ndocker cp public/views/ grafana:/usr/share/grafana/public/\ndocker cp public/build/ grafana:/usr/share/grafana/public/\ndocker cp public/dashboards/default.json grafana:/usr/share/grafana/public/dashboards/default.json\ndocker cp public/emails/signup_started.html grafana:/usr/share/grafana/public/emails/signup_started.html\ndocker cp public/emails/welcome_on_signup.html grafana:/usr/share/grafana/public/emails/welcome_on_signup.html\n</code></pre>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Grafana/%E6%9C%AA%E5%91%BD%E5%90%8D/#12","title":"1.2. \u6253\u5305\u955c\u50cf","text":"<pre><code># go to the custom directory\n\ncd packaging/docker/custom\n\n# running the build command\n\n# include the plugins you want e.g. clock planel etc\n\ndocker build \\\n\u00a0 --build-arg \"GRAFANA_VERSION=latest\" \\\n\u00a0 --build-arg \"GF_INSTALL_PLUGINS=grafana-clock-panel,alexanderzobnin-zabbix-app,camptocamp-prometheus-alertmanager-datasource,grafana-opensearch-datasource,marcusolsson-csv-datasource,volkovlabs-grapi-datasource,marcusolsson-json-datasource,yesoreyeram-infinity-datasource\" \\\n\u00a0 -t dashboards:latest .\n\n# running the custom Grafana container using the docker run command\n\ndocker run -d -p 3000:3000 --name=grafana dashboards-custom\n</code></pre>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Graylog/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":""},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Graylog/%E6%9C%AA%E5%91%BD%E5%90%8D/#how-can-i-start-an-input-on-a-port-below-1024","title":"How can I start an input on a port below\u00a01024?","text":"<p>If you try to start an input on one of the\u00a0privileged ports, it will only work for the \u201croot\u201d user. To be able to use a privileged port, you can use\u00a0authbind\u00a0on Debian-based systems, or you redirect the traffic with an\u00a0<code>iptables</code> rule like this:</p> <pre><code>iptables -t nat -A PREROUTING -p tcp --dport 514 -j REDIRECT --to 1514iptables -t nat -A PREROUTING -p udp --dport 514 -j REDIRECT --to 1514\n</code></pre> <p>The input needs to be started on port 1514 in this case and will be made available on port 514 to the outside. The clients can then send data to port 514.</p> <pre><code>tar -zxvf pwgen-2.08.tar.gz\ncd pwgen-2.08\n./configure &amp;&amp; make &amp;&amp; make install\n</code></pre>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Nautobot/%E6%95%B0%E6%8D%AE%E5%BD%95%E5%85%A5%E8%A7%84%E8%8C%83/","title":"\u6570\u636e\u5f55\u5165\u89c4\u8303","text":""},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Nautobot/%E6%95%B0%E6%8D%AE%E5%BD%95%E5%85%A5%E8%A7%84%E8%8C%83/#role","title":"Role","text":""},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Nautobot/%E6%95%B0%E6%8D%AE%E5%BD%95%E5%85%A5%E8%A7%84%E8%8C%83/#_1","title":"\u6279\u91cf\u5bfc\u5165","text":"<pre><code>name,content_types\n\u4e13\u7ebf\u5bf9\u63a5,ipam.prefix\nxfusion-Internet,ipam.prefix\n</code></pre>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Nautobot/%E6%95%B0%E6%8D%AE%E5%BD%95%E5%85%A5%E8%A7%84%E8%8C%83/#ip-address","title":"IP Address","text":""},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Nautobot/%E6%95%B0%E6%8D%AE%E5%BD%95%E5%85%A5%E8%A7%84%E8%8C%83/#_2","title":"\u6279\u91cf\u5bfc\u5165","text":"<pre><code>type,status,namespace,address,cf_mac\nhost,Active,Global,10.52.106.41/23,f4-fb-b8-d4-5c-74\nhost,Active,Global,10.52.102.31/23,f4-45-88-7a-95-3b\n</code></pre>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Nautobot/%E6%95%B0%E6%8D%AE%E5%BD%95%E5%85%A5%E8%A7%84%E8%8C%83/#prefixes","title":"Prefixes","text":""},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Nautobot/%E6%95%B0%E6%8D%AE%E5%BD%95%E5%85%A5%E8%A7%84%E8%8C%83/#_3","title":"\u6279\u91cf\u5bfc\u5165","text":"<pre><code>site,prefix,type,role,cf_gateway,description,status\n\u65b0\u52a0\u5761\u4ee3\u8868\u5904,10.130.2.0/24,network,\u7814\u53d1-\u6709\u7ebf-\u4e1a\u52a1,10.130.2.1,\u65b0\u52a0\u5761\u4ee3\u8868\u5904\u6709\u7ebf\u4e1a\u52a1\u7f51\u6bb5,9781fd6a-17fa-4b0a-934a-ce4efaf73f78\n</code></pre>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Nautobot/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"https://github.com/jedelman8/Network-Automation-with-Nautobot https://www.youtube.com/watch?v=6YEyYoBQyzU&amp;list=WL&amp;index=1&amp;t=36s"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/NetBox/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"git clone -b release https://github.com/netbox-community/netbox-docker.gitcd netbox-dockertee docker-compose.override.yml &lt;&lt;EOFversion: '3.4'services:\u00a0 netbox:\u00a0\u00a0\u00a0 ports:\u00a0\u00a0\u00a0\u00a0\u00a0 - 8000:8080EOFdocker compose pulldocker compose up \u5bfc\u5165netbox-device-type-library docker run -e \"NETBOX_URL=http://10.32.142.22:8001/\" -e \"NETBOX_TOKEN=a1a09d6184e3a7c45937ab0234c1dfdec6015719\" ghcr.io/minitriga/netbox-device-type-library-import netbox-topology-views\u6765\u81ea &lt;https://github.com/mattieserver/netbox-topology-views&gt;"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Zabbix/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"<pre><code>zabbix_server -R housekeeper_execute\n</code></pre> <p>\u5728\u4f7f\u7528PostgreSQL\u4f5c\u4e3aZabbix\u7684\u6570\u636e\u5e93\u65f6\uff0c\u6570\u636e\u6e05\u7406\u7684\u6b65\u9aa4\u4e0eMySQL\u7c7b\u4f3c\uff0c\u4f46\u5177\u4f53\u7684SQL\u8bed\u6cd5\u548c\u64cd\u4f5c\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002\u4ee5\u4e0b\u662f\u9488\u5bf9PostgreSQL\u7684\u8be6\u7ec6\u6570\u636e\u6e05\u7406\u6b65\u9aa4\uff1a</p>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Zabbix/%E6%9C%AA%E5%91%BD%E5%90%8D/#1","title":"1. \u8c03\u6574\u5386\u53f2\u6570\u636e\u4fdd\u5b58\u5468\u671f","text":"<p>\u4e0eMySQL\u4e00\u6837\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7Zabbix\u524d\u7aef\u754c\u9762\u8c03\u6574\u5386\u53f2\u6570\u636e\u548c\u8d8b\u52bf\u6570\u636e\u7684\u4fdd\u5b58\u5468\u671f\uff0c\u4ee5\u51cf\u5c11\u6570\u636e\u5e93\u5b58\u50a8\u538b\u529b\u3002</p> <ol> <li>\u8fdb\u5165<code>Administration</code>\u00a0-&gt;\u00a0<code>General</code>\u00a0-&gt;\u00a0<code>Housekeeping</code>\u3002</li> <li>\u8bbe\u7f6e\u201cHistory storage period\u201d\u548c\u201cTrends storage period\u201d\u3002</li> </ol>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Zabbix/%E6%9C%AA%E5%91%BD%E5%90%8D/#2-housekeeping","title":"2. \u4f7f\u7528Housekeeping\u529f\u80fd","text":"<p>\u786e\u4fdd\u4f60\u7684Housekeeping\u529f\u80fd\u662f\u542f\u7528\u7684\uff0c\u5e76\u4e14\u8bbe\u7f6e\u5408\u7406\u7684\u6e05\u7406\u65f6\u95f4\u95f4\u9694\u3002</p> <ol> <li>\u8fdb\u5165<code>Administration</code>\u00a0-&gt;\u00a0<code>General</code>\u00a0-&gt;\u00a0<code>Housekeeping</code>\u3002</li> <li>\u786e\u4fdd\u201cEnable internal housekeeping\u201d\u9009\u9879\u88ab\u9009\u4e2d\u3002</li> <li>\u914d\u7f6e\u5408\u9002\u7684\u6e05\u7406\u5468\u671f\u3002</li> </ol>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Zabbix/%E6%9C%AA%E5%91%BD%E5%90%8D/#3","title":"3. \u624b\u52a8\u6e05\u7406\u5386\u53f2\u6570\u636e","text":"<p>\u5982\u679c\u9700\u8981\u624b\u52a8\u6e05\u7406\u7279\u5b9a\u65f6\u95f4\u6bb5\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u76f4\u63a5\u64cd\u4f5cPostgreSQL\u6570\u636e\u5e93\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5220\u9664\u8d85\u8fc790\u5929\u5386\u53f2\u6570\u636e\u7684\u793a\u4f8b\uff1a</p> <pre><code>DELETE FROM history WHERE clock &lt; EXTRACT(EPOCH FROM NOW() - INTERVAL '90 days');\nDELETE FROM history_uint WHERE clock &lt; EXTRACT(EPOCH FROM NOW() - INTERVAL '90 days');\nDELETE FROM history_str WHERE clock &lt; EXTRACT(EPOCH FROM NOW() - INTERVAL '90 days');\nDELETE FROM history_text WHERE clock &lt; EXTRACT(EPOCH FROM NOW() - INTERVAL '90 days');\nDELETE FROM history_log WHERE clock &lt; EXTRACT(EPOCH FROM NOW() - INTERVAL '90 days');\n</code></pre>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Zabbix/%E6%9C%AA%E5%91%BD%E5%90%8D/#4","title":"4. \u6e05\u7406\u672a\u4f7f\u7528\u7684\u76d1\u63a7\u9879\u548c\u4e3b\u673a","text":"<p>\u5b9a\u671f\u68c0\u67e5\u5e76\u5220\u9664\u4e0d\u518d\u9700\u8981\u76d1\u63a7\u7684\u4e3b\u673a\u548c\u76d1\u63a7\u9879\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u6570\u636e\u751f\u6210\u3002</p>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Zabbix/%E6%9C%AA%E5%91%BD%E5%90%8D/#5","title":"5. \u6570\u636e\u5e93\u4f18\u5316","text":"<p>\u5b9a\u671f\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u4f18\u5316\u64cd\u4f5c\uff0c\u5982\u91cd\u5efa\u7d22\u5f15\u3001\u5206\u6790\u8868\u7b49\uff0c\u53ef\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u4f18\u5316\u547d\u4ee4\uff1a</p> <pre><code>VACUUM FULL VERBOSE ANALYZE history;\nVACUUM FULL VERBOSE ANALYZE history_uint;\nVACUUM FULL VERBOSE ANALYZE history_str;\nVACUUM FULL VERBOSE ANALYZE history_text;\nVACUUM FULL VERBOSE ANALYZE history_log;\n</code></pre> <p>\u8fd9\u4e9b\u547d\u4ee4\u5c06\u4f1a\u5bf9\u6307\u5b9a\u8868\u8fdb\u884c\u5f7b\u5e95\u7684\u5783\u573e\u56de\u6536\uff0c\u5e76\u91cd\u65b0\u5206\u6790\u8868\u4ee5\u66f4\u65b0\u7edf\u8ba1\u4fe1\u606f\uff0c\u4ece\u800c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002</p>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Zabbix/%E6%9C%AA%E5%91%BD%E5%90%8D/#_1","title":"\u603b\u7ed3","text":"<p>\u901a\u8fc7\u5408\u7406\u8bbe\u7f6e\u5386\u53f2\u6570\u636e\u4fdd\u5b58\u5468\u671f\u3001\u542f\u7528\u5e76\u914d\u7f6eHousekeeping\u529f\u80fd\u3001\u624b\u52a8\u6e05\u7406\u4e0d\u9700\u8981\u7684\u6570\u636e\u4ee5\u53ca\u5b9a\u671f\u4f18\u5316\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u8fdb\u884cZabbix\u7684\u6570\u636e\u6e05\u7406\u5de5\u4f5c\uff0c\u63d0\u5347\u7cfb\u7edf\u6027\u80fd\u3002</p> <p>\u5982\u679c\u4f60\u6709\u66f4\u591a\u5177\u4f53\u95ee\u9898\u6216\u9700\u8981\u8fdb\u4e00\u6b65\u7684\u4fe1\u606f\uff0c\u8bf7\u968f\u65f6\u544a\u77e5\uff01</p>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/prometheus/Alertmanager/","title":"Alertmanager","text":""},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/prometheus/Alertmanager/#_1","title":"\u5b89\u88c5\u65b9\u5f0f\u4e00","text":"<pre><code>export VERSION=0.26.0\n\ncurl -LO [https://github.com/prometheus/alertmanager/releases/download/v$VERSION/alertmanager-$VERSION.linux-amd64.tar.gz](https://github.com/prometheus/alertmanager/releases/download/v$VERSION/alertmanager-$VERSION.linux-amd64.tar.gz)\n\ntar xvf alertmanager-$VERSION.linux-amd64.tar.gz\n</code></pre>"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/prometheus/Alertmanager/#_2","title":"\u5b89\u88c5\u65b9\u5f0f\u4e8c","text":""},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/prometheus/Alertmanager/#_3","title":"\u96c6\u7fa4\u914d\u7f6e\uff1a","text":"alertmanager-01\u914d\u7f6ealertmanager-02 \u914d\u7f6ealertmanager-03 \u914d\u7f6e <pre><code>vi /usr/lib/systemd/system/alertmanager.service\n\n[Unit]\nDescription=Alertmanager handles alerts sent by client applications such as the Prometheus server.\nDocumentation=https://prometheus.io/docs/alerting/alertmanager/\nAfter=network.target\n\n[Service]\nType=simple\nUser=root\nGroup=root\nExecStart=/usr/local/alertmanager/alertmanager\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --config.file=/etc/alertmanager/alertmanager.yml\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --storage.path=/data/alertmanager/\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --data.retention=120h\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --cluster.listen-address=0.0.0.0:9094 \\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --cluster.peer=10.0.0.2:9094 \\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --cluster.peer=10.0.0.3:9094\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <pre><code>vi /usr/lib/systemd/system/alertmanager.service\n\n[Unit]\nDescription=Alertmanager handles alerts sent by client applications such as the Prometheus server.\nDocumentation=https://prometheus.io/docs/alerting/alertmanager/\nAfter=network.target\n\n[Service]\nType=simple\nUser=root\nGroup=root\nExecStart=/usr/local/alertmanager/alertmanager\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --config.file=/etc/alertmanager/alertmanager.yml\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --storage.path=/data/alertmanager/\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --data.retention=120h\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --cluster.listen-address=0.0.0.0:9094 \\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --cluster.peer=10.0.0.1:9094 \\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --cluster.peer=10.0.0.3:9094\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <pre><code>vi /usr/lib/systemd/system/alertmanager.service\n\n[Unit]\nDescription=Alertmanager handles alerts sent by client applications such as the Prometheus server.\nDocumentation=https://prometheus.io/docs/alerting/alertmanager/\nAfter=network.target\n\n[Service]\nType=simple\nUser=root\nGroup=root\nExecStart=/usr/local/alertmanager/alertmanager\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --config.file=/etc/alertmanager/alertmanager.yml\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --storage.path=/data/alertmanager/\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --data.retention=120h\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --cluster.listen-address=0.0.0.0:9094 \\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --cluster.peer=10.0.0.1:9094 \\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --cluster.peer=10.0.0.2:9094\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> systemctl daemon-reloadsystemctl start alertmanager.servicesystemctl enable alertmanager.servicesystemctl status alertmanager.service <p>\u9a8c\u8bc1\u96c6\u7fa4</p> \u96c6\u7fa4\u4efb\u610f\u8282\u70b9IP\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee\u67e5\u770b\u96c6\u7fa4\u72b6\u6001 \u5f53\u67d0\u8282\u70b9\u6302\u4e86\uff0c\u8fd8\u7531\u5176\u4ed6\u8282\u70b9\u53ef\u4f7f\u7528"},{"location":"30%20NetDevOps/11%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/prometheus/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"<pre><code>curl -XPOST [http://alertmanager.xfusion.com:9093/-/reload](http://alertmanager.xfusion.com:9093/-/reload)\n</code></pre>"},{"location":"30%20NetDevOps/12%20%E4%BA%A7%E5%93%81%E4%BF%A1%E6%81%AF/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"\u534e\u4e3a\u4ea7\u54c1\u4fe1\u606f\u901f\u67e5 https://info.support.huawei.com/info-finder/search-center/zh/enterprise/index.html?allTools \u751f\u547d\u5468\u671f\u67e5\u8be2 https://info.support.huawei.com/info-finder/tool/zh/enterprise/eom-eofs-and-eos-date/product \u4ea7\u54c1\u56fe\u5e93 https://info.support.huawei.com/info-finder/tool/zh/enterprise/product-image-gallery"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/","title":"HUAWEI SECURITY IPSEC MIB","text":""},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#1-hwipsecglobalstatstable","title":"1. hwIPSecGlobalStatsTable\u8be6\u7ec6\u63cf\u8ff0","text":"<p>\u8be5\u8868\u7528\u4e8eIPSec\u5168\u5c40\u7edf\u8ba1\u4fe1\u606f\u3002</p> OID \u8282\u70b9\u540d\u79f0 \u6570\u636e\u7c7b\u578b \u6700\u5927\u8bbf\u95ee\u6743\u9650 \u542b\u4e49 \u5b9e\u73b0\u89c4\u683c 1.3.6.1.4.1.2011.6.122.26.1.1 hwIPSecGlobalTotal Gauge32 read-only IPSec\u9636\u6bb52\u7684\u96a7\u9053\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.2 hwIPSecGlobalPacketInput Counter64 read-only \u63a5\u6536\u5df2\u52a0\u5bc6\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.3 hwIPSecGlobalPacketOutput Counter64 read-only \u53d1\u9001\u5df2\u52a0\u5bc6\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.4 hwIPSecGlobalByteInput Counter64 read-only \u63a5\u6536\u5df2\u52a0\u5bc6\u7684IPSec\u62a5\u6587\u5b57\u8282\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.5 hwIPSecGlobalByteOutput Counter64 read-only \u53d1\u9001\u5df2\u52a0\u5bc6\u7684IPSec\u62a5\u6587\u5b57\u8282\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.6 hwIPSecGlobalDroppedPacketInput Counter64 read-only \u4e22\u5f03\u5df2\u63a5\u6536\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.7 hwIPSecGlobalDroppedPacketOutput Counter64 read-only \u4e22\u5f03\u5df2\u53d1\u9001\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.8 hwIPSecGlobalEncIntactPacket Counter64 read-only \u4e0d\u9700\u8981\u88ab\u5206\u7247\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.9 hwIPSecGlobalEncPacketFirstSlice Counter64 read-only \u88ab\u52a0\u5bc6\u7684\u521d\u59cbIPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.10 hwIPSecGlobalEncPacketAfterSlice Counter64 read-only \u88ab\u52a0\u5bc6\u7684\u540e\u7eedIPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.11 hwIPSecGlobalDecPacketReassFirstSlice Counter64 read-only \u88ab\u5206\u7247\u548c\u91cd\u7ec4\u7684\u521d\u59cbIPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.12 hwIPSecGlobalDecPacketReassAfterSlice Counter64 read-only \u88ab\u5206\u7247\u548c\u91cd\u7ec4\u7684\u540e\u7eedIPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.13 hwIPSecGlobalDecPacketReassLenErr Counter64 read-only \u91cd\u7ec4\u671f\u95f4\u957f\u5ea6\u4e0d\u6b63\u786e\u7684IPsec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.14 hwIPSecGlobalPacketHeaderWrong Counter64 read-only \u7531\u4e8e\u62a5\u6587\u5934\u9519\u8bef\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.15 hwIPSecGlobalMemoryApplyFail Counter64 read-only \u7531\u4e8e\u5185\u5b58\u5e94\u7528\u5931\u8d25\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.16 hwIPSecGlobalCannotFindSA Counter64 read-only \u7531\u4e8e\u672a\u5339\u914dSA\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.17 hwIPSecGlobalWrongSA Counter64 read-only \u7531\u4e8e\u4e0d\u6b63\u786e\u7684SA\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.18 hwIPSecGlobalBadAuthentication Counter64 read-only \u7531\u4e8e\u8ba4\u8bc1\u5931\u8d25\u88ab\u4e22\u5f03\u7684IPsec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.19 hwIPSecGlobalReplay Counter64 read-only \u7531\u4e8e\u62a5\u6587\u91cd\u653e\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.20 hwIPSecGlobalPreRecheckErr Counter64 read-only \u7531\u4e8eIPSec\u524d\u53cd\u67e5\u5931\u8d25\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.21 hwIPSecGlobalPostRecheckErr Counter64 read-only \u7531\u4e8eIPSec\u540e\u53cd\u67e5\u5931\u8d25\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.22 hwIPSecGlobalExceedByteLimit Counter64 read-only \u7531\u4e8e\u8d85\u51fa\u5b57\u8282\u9650\u5236\u5bfc\u81f4\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.23 hwIPSecGlobalExceedPacketLimit Counter64 read-only \u7531\u4e8e\u8d85\u51fa\u62a5\u6587\u9650\u5236\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.24 hwIPSecGlobalProcessIpv4Err Counter64 read-only \u7531\u4e8e\u7eaf\u6587\u672c\u8f6c\u53d1\u5931\u8d25\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.25 hwIPSecGlobalFibSearchErr Counter64 read-only \u7531\u4e8e\u8def\u7531\u68c0\u67e5\u5931\u8d25\u88ab\u4e22\u5f03\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.26 hwIPSecGlobalIKEInboundOK Counter64 read-only \u6536\u5230IKE\u534f\u5546\u7684\u5df2\u6210\u529f\u8fdb\u5165\u961f\u5217\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.27 hwIPSecGlobalIKEInboundErr Counter64 read-only \u6536\u5230IKE\u534f\u5546\u7684\u672a\u80fd\u8fdb\u5165\u961f\u5217\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.28 hwIPSecGlobalIKEOutboundOK Counter64 read-only \u53d1\u9001IKE\u534f\u5546\u7684\u5df2\u6210\u529f\u8fdb\u5165\u961f\u5217\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.29 hwIPSecGlobalIKEOutboundErr Counter64 read-only \u53d1\u9001IKE\u534f\u5546\u7684\u672a\u80fd\u8fdb\u5165\u961f\u5217\u7684IPSec\u62a5\u6587\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.30 hwIPSecGlobalSoftExpr Counter64 read-only IPSec SA\u8f6f\u8d85\u65f6\u65f6\u95f4\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.31 hwIPSecGlobalHardExpr Counter64 read-only IPSec SA\u786c\u8d85\u65f6\u65f6\u95f4\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.32 hwIPSecGlobalDPDOper Counter64 read-only \u6309\u9700\u68c0\u6d4b\u6a21\u5f0f\u65f6\uff0cDPD\u64cd\u4f5c\u68c0\u6d4b\u6b21\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.33 hwIPSecGlobalModpCnt Counter64 read-only \u6a21\u5e42\u8ba1\u7b97\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.34 hwIPSecGlobalSaeSucc Counter64 read-only SAE\u8ba1\u7b97\u6210\u529f\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.35 hwIPSecGlobalSoftwareSucc Counter64 read-only \u8f6f\u4ef6\u8ba1\u7b97\u6210\u529f\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.1.36 hwIPSecGlobalConnectionRate Gauge32 read-only IPSec\u96a7\u9053\u7684\u65b0\u5efa\u8fde\u63a5\u901f\u7387\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#101","title":"1.0.1. \u521b\u5efa\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u521b\u5efa\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#102","title":"1.0.2. \u4fee\u6539\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u4fee\u6539\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#103","title":"1.0.3. \u5220\u9664\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u5220\u9664\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#104","title":"1.0.4. \u8bfb\u53d6\u7ea6\u675f","text":"<p>\u5f53\u8bbe\u5907\u4e0a\u5b58\u5728ipsec\u96a7\u9053\u65f6\uff0c\u624d\u80fd\u5728\u672c\u8868\u4e0a\u901a\u8fc7\u7d22\u5f15\u8bfb\u53d6\u5230\u5b83\u7684\u5bf9\u5e94\u884c\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#2-hwipsectunnelconfigtable","title":"2. hwIPSecTunnelConfigTable\u8be6\u7ec6\u63cf\u8ff0","text":"<p>\u8be5\u8868\u7528\u4e8e\u7edf\u8ba1\u5355\u6761IPSec\u96a7\u9053\u7684\u914d\u7f6e\u4fe1\u606f\u3002</p> <p>\u8be5\u8868\u7684\u7d22\u5f15\u662fhwIPSecIfIndex\u3001hwIPSecTunnelPolicyNum\u548chwIPSecTunnelIndex\u3002</p> OID \u8282\u70b9\u540d\u79f0 \u6570\u636e\u7c7b\u578b \u6700\u5927\u8bbf\u95ee\u6743\u9650 \u542b\u4e49 \u5b9e\u73b0\u89c4\u683c 1.3.6.1.4.1.2011.6.122.26.2.1.1 hwIPSecIfIndex Gauge32 accessible-for-notify IPSec\u96a7\u9053\u5bf9\u5e94\u7684\u8bbe\u5907\u63a5\u53e3\u7d22\u5f15\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.2 hwIPSecTunnelPolicyNum Gauge32 accessible-for-notify \u7528\u4e8e\u8be5IPSec\u96a7\u9053\u5b89\u5168\u7b56\u7565\u7684\u987a\u5e8f\u53f7\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.3 hwIPSecTunnelIndex Gauge32 accessible-for-notify IPSec\u96a7\u9053\u7d22\u5f15\uff0c\u4f5c\u4e3a\u96a7\u9053\u7684\u552f\u4e00\u6807\u8bc6\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.4 hwIPSecTunnelRuleId Gauge32 read-only \u5f53\u524dIPSec\u7b56\u7565\u4e2d\u5f15\u7528\u7684ACL Rule ID\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.5 hwIPSecTunnelDstIP IpAddress read-only IPSec\u96a7\u9053\u5bf9\u7aefIPv4\u5730\u5740\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.6 hwIPSecTunnelInsideIP IpAddress read-only \u8fdc\u7a0b\u63a5\u5165\u65f6\u5206\u914d\u7ed9\u5bf9\u7aef\u7684\u5185\u7f51IPv4\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.7 hwIPSecTunnelRemotePort Gauge32 read-only IPSec\u96a7\u9053\u5bf9\u7aef\u7aef\u53e3\u53f7\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.8 hwIPSecTunnelCpuID Gauge32 read-only IPSec\u96a7\u9053\u6240\u5728\u7684CPU ID\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.9 hwIPSecTunnelEncapMode INTEGER read-only IPSec\u96a7\u9053\u7684\u5c01\u88c5\u6a21\u5f0f\uff1a- tunnel(0)\uff1a\u96a7\u9053\u6a21\u5f0f\u3002- transport(1)\uff1a\u4f20\u8f93\u6a21\u5f0f\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.10 hwIPSecTunnelNatTraver INTEGER read-only IPSec\u96a7\u9053\u662f\u5426\u652f\u6301NAT\u7a7f\u8d8a\uff1a- noNatTraversal(0)\uff1a\u4e0d\u652f\u6301NAT\u7a7f\u8d8a\u3002- natTraversal(1)\uff1a\u652f\u6301NAT\u7a7f\u8d8a\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.11 hwIPSecTunnelFromIKEV2 INTEGER read-only IPSec\u96a7\u9053\u662f\u5426\u91c7\u7528IKEv2\u534f\u8bae\u534f\u5546\u7684\uff1a- noIkev2(0)\uff1a\u91c7\u7528IKEv1\u534f\u8bae\u3002- ikev2(1)\uff1a\u91c7\u7528IKEv2\u534f\u8bae\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.12 hwIPSecTunnelEncryptMode Gauge32 read-only IPSec\u96a7\u9053\u7684\u52a0\u5bc6\u65b9\u6cd5\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.13 hwIPSecTunnelESPDigestMode Gauge32 read-only IPSec\u96a7\u9053\u7684ESP\u6821\u9a8c\u65b9\u6cd5\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.14 hwIPSecTunnelAHDigestMode Gauge32 read-only IPSec\u96a7\u9053\u7684AH\u6821\u9a8c\u65b9\u6cd5\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.15 hwIPSecTunnelProto Gauge32 read-only IPSec\u96a7\u9053\u7684\u534f\u8bae\uff08ESP\u6216AH\u6216\u4e24\u79cd\u90fd\u6709\uff09\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.16 hwIPSecTunnelOutPortIndex Gauge32 read-only IPSec\u96a7\u9053\u7684\u51fa\u63a5\u53e3\u7d22\u5f15\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.17 hwIPSecTunnelSrcPort Gauge32 read-only NAT\u7a7f\u8d8a\u65f6\uff0cIPSec\u96a7\u9053\u7684\u6e90\u7aef\u53e3\u53f7\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.18 hwIPSecTunnelDstPort Gauge32 read-only NAT\u7a7f\u8d8a\u65f6\uff0cIPSec\u96a7\u9053\u7684\u76ee\u7684\u7aef\u53e3\u53f7\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.19 hwIPSecTunnelVrfIndex Gauge32 read-only \u6b64IPSec\u96a7\u9053\u6240\u8981\u4fdd\u62a4\u7684\u865a\u62df\u7cfb\u7edfID\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.20 hwIPSecTunnelIfVrfIndex Gauge32 read-only \u6b64IPSec\u96a7\u9053\u53d1\u9001\u63a5\u53e3\u7684\u865a\u62df\u7cfb\u7edfID\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.21 hwIPSecTunnelSrcIP IpAddress read-only IPSec\u96a7\u9053\u672c\u7aefIPv4\u5730\u5740\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.22 hwIPSecTunnelSpeedLimitIn Gauge32 read-only \u5165\u65b9\u5411\u9884\u7f6e\u7684\u901f\u7387\u9650\u5236\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.23 hwIPSecTunnelSpeedLimitOut Gauge32 read-only \u51fa\u65b9\u5411\u9884\u7f6e\u7684\u901f\u7387\u9650\u5236\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.24 hwIPSecTunnelInitiator INTEGER read-only IPSec\u96a7\u9053\u7684\u53d1\u8d77\u65b9\u6216\u54cd\u5e94\u65b9\uff1a- responder(0)\uff1a\u54cd\u5e94\u65b9\u3002- ikev2Initiator(1)\uff1a\u91c7\u7528IKEv2\u534f\u8bae\u7684\u53d1\u8d77\u65b9\u3002- ikev1Initiator(2)\uff1a\u91c7\u7528IKEv1\u534f\u8bae\u7684\u53d1\u8d77\u65b9\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.25 hwIPSecTunnelLifeSize Gauge32 read-only \u8868\u793a\u4ee5\u6d41\u91cf\u4e3a\u57fa\u51c6\u7684IPSec\u96a7\u9053\u7684\u751f\u5b58\u5468\u671f\uff0c\u5355\u4f4d\u4e3a\u5343\u5b57\u8282\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.26 hwIPSecTunnelLifeTime Gauge32 read-only \u8868\u793a\u4ee5\u65f6\u95f4\u4e3a\u57fa\u51c6\u7684IPSec\u96a7\u9053\u7684\u751f\u5b58\u5468\u671f\uff0c\u5355\u4f4d\u4e3a\u79d2\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.27 hwIPSecTunnelPolicyName OCTET STRING read-only \u7528\u4e8e\u8be5IPSec\u96a7\u9053\u7684\u5b89\u5168\u7b56\u7565\u540d\u79f0\u3002\u5b89\u5168\u7b56\u7565\u540d\u79f0\u7684\u957f\u5ea6\u4e3a1\uff5e255\u4e2a\u5b57\u7b26\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.28 hwIPSecTunnelSaStatus INTEGER read-only SA\u7684\u72b6\u6001\uff1a- free(0)\uff1aSA\u672a\u5efa\u7acb\u3002- ocuppied(1)\uff1aSA\u5df2\u5efa\u7acb\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.29 hwIPSecTunnelSlotID Gauge32 read-only IPSec\u96a7\u9053\u6240\u5728\u7684Slot ID\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.30 hwIPSecTunnelFlowInfo OCTET STRING read-only IPSec\u96a7\u9053\u7684\u6570\u636e\u6d41\u4fe1\u606f\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.31 hwIPSecTunnelPolicyAlias OCTET STRING read-only IPSec\u96a7\u9053\u7684\u7b56\u7565\u522b\u540d\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.32 hwIPSecTunnelDstIPv6 Ipv6Address read-only IPSec\u96a7\u9053\u5bf9\u7aefIPv6\u5730\u5740\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.33 hwIPSecTunnelInsideIPv6 Ipv6Address read-only \u8fdc\u7a0b\u63a5\u5165\u65f6\u5206\u914d\u7ed9\u5bf9\u7aef\u7684\u5185\u7f51IPv6\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.2.1.34 hwIPSecTunnelSrcIPv6 Ipv6Address read-only IPSec\u96a7\u9053\u672c\u7aefIPv6\u5730\u5740\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#201","title":"2.0.1. \u521b\u5efa\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u521b\u5efa\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#202","title":"2.0.2. \u4fee\u6539\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u4fee\u6539\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#203","title":"2.0.3. \u5220\u9664\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u5220\u9664\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#204","title":"2.0.4. \u8bfb\u53d6\u7ea6\u675f","text":"<p>\u5f53\u8bbe\u5907\u4e0a\u5b58\u5728IPSec\u96a7\u9053\u65f6\uff0c\u624d\u80fd\u5728\u672c\u8868\u4e0a\u901a\u8fc7\u7d22\u5f15\u8bfb\u53d6\u5230\u5b83\u7684\u5bf9\u5e94\u884c\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#3-hwipsectunnelstatstable","title":"3. hwIPSecTunnelStatsTable\u8be6\u7ec6\u63cf\u8ff0","text":"<p>\u8be5\u8868\u8bb0\u5f55\u5355\u6761\u96a7\u9053\u7684\u7edf\u8ba1\u4fe1\u606f\u3002</p> <p>\u8be5\u8868\u7684\u7d22\u5f15\u662fhwIPSecIfIndex\u3001hwIPSecTunnelPolicyNum\u548chwIPSecTunnelIndex\u3002</p> OID \u8282\u70b9\u540d\u79f0 \u6570\u636e\u7c7b\u578b \u6700\u5927\u8bbf\u95ee\u6743\u9650 \u542b\u4e49 \u5b9e\u73b0\u89c4\u683c 1.3.6.1.4.1.2011.6.122.26.3.1.1 hwIPSecTunnelSaIDIn Gauge32 read-only \u5165\u65b9\u5411IPSec\u96a7\u9053\u7d22\u5f15\u3002\u96a7\u9053\u4e2d\u65ad\u540e\u65b0\u96a7\u9053\u7684hwIPSecTunnelSaIDIn\u4f1a\u53d1\u751f\u53d8\u5316\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.2 hwIPSecTunnelSaIDOut Gauge32 read-only \u51fa\u65b9\u5411IPSec\u96a7\u9053\u7d22\u5f15\u3002\u96a7\u9053\u4e2d\u65ad\u540e\u65b0\u96a7\u9053\u7684hwIPSecTunnelSaIDOut\u4f1a\u53d1\u751f\u53d8\u5316\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.3 hwIPSecTunnelFlowSoftExpireIn Gauge32 read-only \u5165\u65b9\u5411\u8f6f\u8d85\u65f6\u6d41\u91cf\uff08\u5355\u4f4d:byte\uff09\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.4 hwIPSecTunnelFlowSoftExpireOut Gauge32 read-only \u51fa\u65b9\u5411\u8f6f\u8d85\u65f6\u6d41\u91cf\uff08\u5355\u4f4d:byte\uff09\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.5 hwIPSecTunnelFlowHardExpireIn Gauge32 read-only \u5165\u65b9\u5411\u786c\u8d85\u65f6\u6d41\u91cf\uff08\u5355\u4f4d:byte\uff09\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.6 hwIPSecTunnelFlowHardExpireOut Gauge32 read-only \u51fa\u65b9\u5411\u786c\u8d85\u65f6\u6d41\u91cf\uff08\u5355\u4f4d:byte\uff09\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.7 hwIPSecTunnelRemainTime Gauge32 read-only IPSec\u96a7\u9053\u7684\u5269\u4f59\u65f6\u95f4\uff08\u5355\u4f4d\uff1a\u79d2\uff09\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.8 hwIPSecTunnelRemainSize Gauge32 read-only IPSec\u96a7\u9053\u7684\u5269\u4f59\u5b57\u8282\u6570\uff08\u5355\u4f4d\uff1akbyte\uff09\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.9 hwIPSecTunnelSpiIn Gauge32 read-only \u5165\u65b9\u5411SPI\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.10 hwIPSecTunnelSpiOut Gauge32 read-only \u51fa\u65b9\u5411SPI\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.11 hwIPSecTunnelInSideSpiIn Gauge32 read-only \u5165\u65b9\u5411\uff0cAH+ESP\u65f6\u4e3a\u5185\u90e8ESP\u5934\u7684SPI\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.12 hwIPSecTunnelInSideSpiOut Gauge32 read-only \u51fa\u65b9\u5411\uff0cAH+ESP\u65f6\u4e3a\u5185\u90e8ESP\u5934\u7684SPI\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.13 hwIPSecTunnelESPSequenceNumberIn Gauge32 read-only \u5165\u65b9\u5411ESP\u534f\u8bae\u5e8f\u5217\u53f7\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.14 hwIPSecTunnelESPSequenceNumberOut Gauge32 read-only \u51fa\u65b9\u5411ESP\u534f\u8bae\u5e8f\u5217\u53f7\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.15 hwIPSecTunnellAHSequenceNumberIn Gauge32 read-only \u5165\u65b9\u5411AH\u534f\u8bae\u5e8f\u5217\u53f7\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.16 hwIPSecTunnellAHSequenceNumberOut Gauge32 read-only \u51fa\u65b9\u5411AH\u534f\u8bae\u5e8f\u5217\u53f7\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.17 hwIPSecTunnelMemApplyFail Counter64 read-only \u6536\u5230\u9700\u89e3\u5bc6\u7684\u62a5\u6587\u8fc7\u957f\u5bfc\u81f4\u7684\u4e22\u5305\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.18 hwIPSecTunnelBadAuth Counter64 read-only \u6536\u5230\u7684\u62a5\u6587\u9a8c\u8bc1\u5931\u8d25\u5bfc\u81f4\u7684\u4e22\u5305\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.19 hwIPSecTunnelReplay Counter64 read-only \u6536\u5230\u91cd\u653e\u62a5\u6587\u5bfc\u81f4\u7684\u4e22\u5305\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.20 hwIPSecTunnelAfterReCheckErr Counter64 read-only \u89e3\u5bc6\u540e\u53cd\u67e5\u5931\u8d25\u5bfc\u81f4\u7684\u4e22\u5305\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.21 hwIPSecTunnelPktDropByteLimitIn Counter64 read-only \u5165\u65b9\u5411\u8d85\u8fc7\u5b57\u8282\u9650\u5236\u5bfc\u81f4\u7684\u4e22\u5305\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.22 hwIPSecTunnelPktDropByteLimitOut Counter64 read-only \u51fa\u65b9\u5411\u8d85\u8fc7\u5b57\u8282\u9650\u5236\u5bfc\u81f4\u7684\u4e22\u5305\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.23 hwIPSecTunnelFIBSearchErr Counter64 read-only \u67e5\u8def\u7531\u5931\u8d25\u5bfc\u81f4\u7684\u4e22\u5305\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.24 hwIPSecTunnelBytesPerSecondIn Gauge32 read-only \u5165\u65b9\u5411\u6d41\u7684\u901f\u7387\uff0c\u5355\u4f4d\u4e3abytes\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.25 hwIPSecTunnelBytesPerSecondOut Gauge32 read-only \u51fa\u65b9\u5411\u6d41\u7684\u901f\u7387\uff0c\u5355\u4f4d\u4e3abytes\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.26 hwIPSecTunnelPacketsPerSecondIn Gauge32 read-only \u5165\u65b9\u5411\u6bcf\u79d2\u62a5\u6587\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.27 hwIPSecTunnelPacketsPerSecondOut Gauge32 read-only \u51fa\u65b9\u5411\u6bcf\u79d2\u62a5\u6587\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.28 hwIPSecTunnelErrPacketsPerSecondIn Gauge32 read-only \u5165\u65b9\u5411\u6bcf\u79d2\u4e22\u5f03\u7684\u62a5\u6587\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.29 hwIPSecTunnelErrPacketsPerSecondOut Gauge32 read-only \u51fa\u65b9\u5411\u6bcf\u79d2\u4e22\u5f03\u7684\u62a5\u6587\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.30 hwIPSecTunnelErrPacketsIn Gauge32 read-only \u5165\u65b9\u5411\u4e22\u5f03\u7684\u62a5\u6587\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.3.1.31 hwIPSecTunnelErrPacketsOut Gauge32 read-only \u51fa\u65b9\u5411\u4e22\u5f03\u7684\u62a5\u6587\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#301","title":"3.0.1. \u521b\u5efa\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u521b\u5efa\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#302","title":"3.0.2. \u4fee\u6539\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u4fee\u6539\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#303","title":"3.0.3. \u5220\u9664\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u5220\u9664\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#304","title":"3.0.4. \u8bfb\u53d6\u7ea6\u675f","text":"<p>\u5f53\u8bbe\u5907\u4e0a\u5b58\u5728IPSEC\u96a7\u9053\u65f6\uff0c\u624d\u80fd\u5728\u672c\u8868\u4e0a\u901a\u8fc7\u7d22\u5f15\u8bfb\u53d6\u5230\u5b83\u7684\u5bf9\u5e94\u884c\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#4-hwipsecsastatistictable","title":"4. hwIPSecSaStatisticTable\u8be6\u7ec6\u63cf\u8ff0","text":"<p>\u8be5\u8868\u7684\u529f\u80fd\u662f\u7edf\u8ba1\u7ed1\u5b9a\u5230\u63a5\u53e3\u7684policy\u7684SA\u6570\u91cf\uff0c\u4ee5policy+\u5e8f\u5217\u53f7\u4e3a\u7edf\u8ba1\u5355\u4f4d\u3002</p> <p>\u8be5\u8868\u7684\u7d22\u5f15\u662fIPSecIfIndex\u548chwIPSecTunnelPolicyNum\u3002</p> OID \u8282\u70b9\u540d\u79f0 \u6570\u636e\u7c7b\u578b \u6700\u5927\u8bbf\u95ee\u6743\u9650 \u542b\u4e49 \u5b9e\u73b0\u89c4\u683c 1.3.6.1.4.1.2011.6.122.26.4.1.1 hwIPSecSaStatisticTunnelPolicyName OCTET STRING read-only \u7528\u4e8e\u8be5IPSec\u96a7\u9053\u7684\u5b89\u5168\u7b56\u7565\u540d\u79f0\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.4.1.2 hwIPSecSaStatisticSaInCnt Gauge32 read-only \u5165\u65b9\u5411SA\u7684\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.4.1.3 hwIPSecSaStatisticSaOutCnt Gauge32 read-only \u51fa\u65b9\u5411SA\u7684\u6570\u91cf\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.4.1.4 hwIPSecTunnelByteInput Counter64 read-only \u901a\u8fc7IPSec\u96a7\u9053\u6536\u5230\u7684\u5b57\u8282\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.4.1.5 hwIPSecTunnelByteOutput Counter64 read-only \u901a\u8fc7IPSec\u96a7\u9053\u53d1\u9001\u7684\u5b57\u8282\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.4.1.6 hwIPSecTunnelPacketInput Counter64 read-only \u901a\u8fc7IPSec\u96a7\u9053\u63a5\u6536\u7684\u62a5\u6587\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.4.1.7 hwIPSecTunnelPacketOutput Counter64 read-only \u901a\u8fc7IPSec\u96a7\u9053\u53d1\u9001\u7684\u62a5\u6587\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.4.1.8 hwIPSecTunnelDroppedPacketInput Counter64 read-only \u901a\u8fc7\u5165\u65b9\u5411IPSec\u96a7\u9053\u4e22\u5f03\u7684\u62a5\u6587\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.4.1.9 hwIPSecTunnelDroppedPacketOutput Counter64 read-only \u901a\u8fc7\u51fa\u65b9\u5411IPSec\u96a7\u9053\u4e22\u5f03\u7684\u62a5\u6587\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.4.1.10 hwIPSecTunnelDialUserCount Gauge32 read-only \u901a\u8fc7IPSec\u96a7\u9053\u8fdc\u7a0b\u63a5\u5165\u7684\u7528\u6237\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.6.122.26.4.1.11 hwIPSecSaStatisticTunnelPolicyAlias OCTET STRING read-only IPSec\u96a7\u9053\u7684\u7b56\u7565\u522b\u540d\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#401","title":"4.0.1. \u521b\u5efa\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u521b\u5efa\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#402","title":"4.0.2. \u4fee\u6539\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u4fee\u6539\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#403","title":"4.0.3. \u5220\u9664\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u5220\u9664\u3002</p>"},{"location":"30%20NetDevOps/MIB/HUAWEI-SECURITY-IPSEC-MIB/#404","title":"4.0.4. \u8bfb\u53d6\u7ea6\u675f","text":"<p>\u5f53\u8bbe\u5907\u4e0a\u914d\u7f6e\u7684IPSec\u7b56\u7565\u7ed1\u5b9a\u63a5\u53e3\u4e4b\u540e\uff0c\u624d\u80fd\u5728\u672c\u8868\u4e0a\u901a\u8fc7\u7d22\u5f15\u8bfb\u53d6\u5230\u5b83\u7684\u5bf9\u5e94\u884c\u3002</p>"},{"location":"30%20NetDevOps/MIB/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"OID\u67e5\u627e http://oid-info.com/ OID\u67e5\u627e https://mibs.observium.org/"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/","title":"01 NautoBot \u81ea\u5b9a\u4e49\u955c\u50cf","text":""},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#_1","title":"\u63d2\u4ef6","text":"<ol> <li>Dockerfile</li> </ol> <pre><code>RUN pip install nautobot-device-onboarding\nRUN pip install nautobot-circuit-maintenance\nRUN pip install nautobot-plugin-nornir \nRUN pip install nautobot-golden-config \nRUN pip install nautobot-floor-plan\nRUN pip install nautobot-firewall-models\nRUN pip install nautobot-data-validation-engine\nRUN pip install nautobot-bgp-models\nRUN pip install nautobot-device-lifecycle-mgmt    \nRUN pip install nautobot-data-validation-engine\nRUN pip install nautobot-capacity-metrics\nRUN pip install nautobot-plugin-nornir\nRUN pip install nautobot-ssot\nRUN pip install nautobot-design-builder\nRUN pip install nautobot-welcome-wizard\nRUN pip install nautobot-ui-plugin\n</code></pre> <ol> <li>\u66f4\u65b0\u6587\u4ef6<code>config/nautobot_config.py</code></li> </ol> <pre><code># Enable installed plugins. Add the name of each plugin to the list.\nPLUGINS = [\n    \"nautobot_device_onboarding\",\n    \"nautobot_circuit_maintenance\",\n    \"nautobot_data_validation_engine\",\n    \"nautobot_capacity_metrics\",\n    \"nautobot_golden_config\",\n    \"nautobot_plugin_nornir\",\n    \"nautobot_ssot\",\n    \"nautobot_device_lifecycle_mgmt\",\n    \"nautobot_firewall_models\",\n    \"nautobot_bgp_models\",\n    \"welcome_wizard\",\n    \"nautobot_floor_plan\",\n    \"nautobot_design_builder\",\n    \"nautobot_ui_plugin\",\n]\n\n   # Plugins configuration settings. These settings are used by various plugins that the user may have installed.\n   # Each key in the dictionary is the name of an installed plugin and its value is a dictionary of settings.\n   PLUGINS_CONFIG = {\n       \"nautobot_bgp_models\": {},\n       \"welcome_wizard\": {\n           \"enable_devicetype-library\": True,\n           \"enable_welcome_banner\": True,\n       },\n       \"nautobot_device_lifecycle_mgmt\": {\n           \"barchart_bar_width\": float(os.environ.get(\"BARCHART_BAR_WIDTH\", 0.1)),\n           \"barchart_width\": int(os.environ.get(\"BARCHART_WIDTH\", 12)),\n           \"barchart_height\": int(os.environ.get(\"BARCHART_HEIGHT\", 5)),\n       },\n       \"nautobot_firewall_models\": {},\n       \"nautobot_ssot\": {},\n       \"nautobot_device_onboarding\": {},\n       \"nautobot_circuit_maintenance\": {\n           \"raw_notification_initial_days_since\": 100,\n           \"raw_notification_size\": 16384,\n           \"dashboard_n_days\": 30,\n           \"overlap_job_exclude_no_impact\": False,\n           \"notification_sources\": []\n       },\n       \"nautobot_data_validation_engine\": {},\n       \"nautobot_capacity_metrics\": {\n           \"app_metrics\": {\n               \"models\": {\n                   \"dcim\": {\"Site\": True, \"Rack\": True, \"Device\": True},\n                   \"ipam\": {\"IPAddress\": True, \"Prefix\": True},\n                },\n                \"jobs\": True,\n                \"queues\": True,\n                \"versions\": {\n                  \"basic\": True,\n                  \"plugins\": True,\n               }\n           }\n       },\n       \"nautobot_golden_config\": {\n           \"per_feature_bar_width\": 0.15,\n           \"per_feature_width\": 13,\n           \"per_feature_height\": 4,\n           \"enable_backup\": True,\n           \"enable_compliance\": True,\n           \"enable_intended\": True,\n           \"enable_sotagg\": True,\n           \"sot_agg_transposer\": None,\n           \"enable_postprocessing\": False,\n           \"postprocessing_callables\": [],\n           \"postprocessing_subscribed\": [],\n           \"platform_slug_map\": None,\n       },\n       \"nautobot_plugin_nornir\": {\n           \"nornir_settings\": {\n               \"credentials\": \"nautobot_plugin_nornir.plugins.credentials.env_vars.CredentialsEnvVars\",\n               \"runner\": {\n                   \"plugin\": \"threaded\",\n                   \"options\": {\n                       \"num_workers\": 20,\n                   },\n               },\n           },\n       }\n   }\n   ```\n\n\n\n3. Run `invoke build start` to build the containers and start the environment.\n\n```shell\ninvoke build start\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#_2","title":"\u73af\u5883\u521d\u59cb\u5316","text":"<ol> <li>gate to the new directory from the git clone.</li> </ol> <pre><code>cd nautobot-docker-compose\n</code></pre> <ol> <li>Copy the <code>local.env.example</code> file to <code>local.env</code> and <code>creds.example.env</code> file to <code>creds.env</code> in the environments folder.</li> </ol> <pre><code>cp environments/local.example.env environments/local.env\ncp environments/creds.example.env environments/creds.env\n</code></pre> <ol> <li>Update the <code>.env</code> files for your environment. THESE SHOULD BE CHANGED for proper security and the <code>creds.env</code> file should never be synchronized to git as it should contain all secrets for the environment!</li> </ol> <pre><code>vi environments/local.env\nvi environments/creds.env\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#nautobot","title":"\u521b\u5efanautobot \u6570\u636e\u5e93","text":"<pre><code>CREATE DATABASE nautobot;\nCREATE USER nautobot WITH PASSWORD 'Nautobot@12#$';\nGRANT ALL PRIVILEGES ON DATABASE nautobot TO nautobot;\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#_3","title":"\u90e8\u7f72","text":""},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#have-docker-and-docker-compose-installed-on-the-host","title":"Have Docker and Docker Compose installed on the host","text":""},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#clone-this-repository-to-your-nautobot-host-into-the-current-user-directory","title":"Clone this repository to your Nautobot host into the current user directory.","text":"<pre><code>git clone https://github.com/nautobot/nautobot-docker-compose.git\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#copy-localenvexample-to-localenv","title":"Copy <code>local.env.example</code> to <code>local.env</code>","text":"<pre><code>cp local.env.example local.env\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#make-update-to-the-localenv-file-for-your-environment-updates-are-important","title":"Make update to the <code>local.env</code> file for your environment. Updates are IMPORTANT!","text":"<pre><code>vi local.env\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#update-the-env-to-be-only-available-for-the-nautobot-user","title":"Update the <code>.env</code> to be only available for the Nautobot user","text":"<pre><code>chmod 0600 local.env\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#update-the-file-confignautobot_configpy-settings-of-plugins-and-plugins_config-to-match-your-configuration-updates-for-the-plugins-plugins_config-is-optional-if-not-adjusting-from-the-default-settings-see-the-example-plugin-configuration","title":"Update the file <code>config/nautobot_config.py</code> settings of <code>PLUGINS</code> and <code>PLUGINS_CONFIG</code> to match your configuration updates for the plugins (PLUGINS_CONFIG is optional, if not adjusting from the default settings). See the example PLUGIN configuration.","text":"<pre><code>vi config/nautobot_config.py\n\nPLUGINS = [\n    \"nautobot-device-onboarding\",\n    \"nautobot-bgp-models\",\n    \"nautobot-golden-config\",\n    \"nautobot-device-lifecycle-mgmt\",\n    \"nautobot-data-validation-engine\",\n    \"nautobot-circuit-maintenance\",\n    \"nautobot-firewall-models\"\n]\n\nPLUGINS_CONFIG = {\n    \"nautobot_bgp_models\": {\n        \"default_statuses\": {\n            \"AutonomousSystem\": [\"active\", \"available\", \"planned\"],\n            \"Peering\": [\"active\", \"decommissioned\", \"deprovisioning\", \"offline\", \"planned\", \"provisioning\"],\n        }\n    }\n}\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#docker-compose-override","title":"Docker Compose Override","text":"<p>First move the example override file to the current file (after the copy of the directory is completed)</p> <pre><code>cp docker-compose.override.yml.example docker-compose.override.yml\n</code></pre> <p>The <code>docker-compose.override.yml</code> overrides settings from the primary docker-compose file. In this case there needs to be a new Docker image file that is used to provide the Nautobot container. The key within the <code>docker-compose.override.yml</code> file is:</p> <pre><code>image: \"companyname/nautobot-plugins:latest\"\nbuild:\n  context: .\n  dockerfile: Dockerfile-Plugins\n</code></pre> <p>This indicates to build the image name <code>companyname/nautobot-plugins:latest</code> from the Dockerfile <code>Dockerfile-Plugins</code>. Then that image is what is used for the Nautobot container image. Substitute <code>companyname</code> with something that is meaningful to your organization.</p>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#custom-docker-container","title":"Custom Docker Container","text":"<p>The first step is to create a custom Docker container that will handle the installation of the packages. The recommendation is to use <code>Dockerfile-Plugins</code> as the file name. It can be whatever is meaningful and is not a requirement. The Dockerfile then looks like:</p> <pre><code>ARG PYTHON_VER\nARG NAUTOBOT_VERSION=2.1.5\nFROM networktocode/nautobot:${NAUTOBOT_VERSION}-py${PYTHON_VER}\n\nCOPY ./plugin_requirements.txt /opt/nautobot/\nRUN pip install --no-warn-script-location -r /opt/nautobot/plugin_requirements.txt\n\nCOPY config/nautobot_config.py /opt/nautobot/nautobot_config.py\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#create-the-custom-docker-container","title":"Create the custom Docker Container","text":"<p>Run <code>docker-compose build --no-cache</code> to build the Dockerfile-Plugins (from the file <code>docker-compose.override.yml</code>, see below for more details)</p> <pre><code>docker compose build --no-cache\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#run-docker-compose-up-to-have-the-compose-file-executed-and-bring-up-the-containers","title":"Run <code>docker-compose up</code> to have the compose file executed and bring up the containers.","text":"<pre><code>docker-compose up\n</code></pre>"},{"location":"30%20NetDevOps/TMP/01-NautoBot-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F/#nautobot-configuration","title":"Nautobot Configuration","text":"<p>The configuration file is the same file that is used by the Dockerfile in the Nautobot repo. This file should be updated to match what is required for each of the plugins. An example update for the Onboarding Plugin looks like:</p> <pre><code># Enable installed plugins. Add the name of each plugin to the list.\nPLUGINS = [\"nautobot_device_onboarding\"]\n\n# Plugins configuration settings. These settings are used by various plugins that the user may have installed.\n# Each key in the dictionary is the name of an installed plugin and its value is a dictionary of settings.\nPLUGINS_CONFIG = {}\n</code></pre>"},{"location":"30%20NetDevOps/TMP/03-MongoDB%E5%89%AF%E6%9C%AC%E9%9B%86/","title":"03 MongoDB\u526f\u672c\u96c6","text":""},{"location":"30%20NetDevOps/TMP/03-MongoDB%E5%89%AF%E6%9C%AC%E9%9B%86/#mongodb","title":"MongoDB \u526f\u672c\u96c6","text":"<p>\u6211\u4eec\u5efa\u8bae\u90e8\u7f72 MongoDB \u526f\u672c\u96c6\u3002</p> <p>MongoDB \u4e0d\u5fc5\u5728\u4e13\u7528\u670d\u52a1\u5668\u4e0a\u8fd0\u884c Graylog \u751f\u6210\u7684\u5de5\u4f5c\u8d1f\u8f7d\uff0c\u4f46\u60a8\u5e94\u8be5\u9075\u5faa MongoDB \u6587\u6863\u4e2d\u6709\u5173\u67b6\u6784\u7684\u5efa\u8bae\u3002\u6700\u91cd\u8981\u7684\u662f\u526f\u672c\u96c6\u4e2d\u6709\u5947\u6570\u4e2a MongoDB \u670d\u52a1\u5668\u3002</p> <p>\u5728\u5927\u591a\u6570\u8bbe\u7f6e\u4e2d\uff0c\u6bcf\u4e2a Graylog \u670d\u52a1\u5668\u8fd8\u5c06\u6258\u7ba1\u4e00\u4e2a MongoDB \u5b9e\u4f8b\uff0c\u8be5\u5b9e\u4f8b\u662f\u540c\u4e00\u526f\u672c\u96c6\u7684\u4e00\u90e8\u5206\uff0c\u5e76\u4e0e\u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u5176\u4ed6\u8282\u70b9\u5171\u4eab\u6570\u636e\u3002</p> <p>**\u63d0\u793a\uff1a**\u4e3a\u4e86\u907f\u514d\u672a\u7ecf\u6388\u6743\u8bbf\u95ee\u60a8\u7684 MongoDB \u6570\u636e\u5e93\uff0cMongoDB \u526f\u672c\u96c6\u5e94\u8bbe\u7f6e\u8eab\u4efd\u9a8c\u8bc1\u3002</p> <p>\u6b63\u786e\u7684\u5de5\u4f5c\u6b65\u9aa4\u987a\u5e8f\u5e94\u5982\u4e0b\uff1a</p> <ol> <li>\u521b\u5efa\u526f\u672c\u96c6 ( <code>rs01</code>)</li> <li>\u521b\u5efa\u6570\u636e\u5e93\uff08<code>graylog</code>\uff09</li> <li>\u521b\u5efa\u7528\u4e8e\u8bbf\u95ee\u6570\u636e\u5e93\u7684\u7528\u6237\u5e10\u6237\uff0c\u8be5\u5e10\u6237\u5177\u6709\u89d2\u8272<code>readWrite</code>\u548c<code>dbAdmin</code>\u3002</li> </ol> <p><code>bind_ip</code>\u5982\u679c\u60a8\u7684 MongoDB \u9700\u8981\u901a\u8fc7\u7f51\u7edc\u8fdb\u884c\u8bbf\u95ee\uff0c\u60a8\u5e94\u8be5\u5728\u914d\u7f6e\u4e2d\u8bbe\u7f6e IP \u3002</p>"},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/","title":"Using Netbox Plugins","text":"<p>To utilize plugins that have been created by users within the NetBox Community a custom Docker image must be created.</p>"},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/#step-1-fresh-install","title":"Step 1 - Fresh Install","text":"<p>Lets start with a fresh install of netbox-docker.</p> <ol> <li> <p>Clone this repository <code>git clone -b release https://github.com/netbox-community/netbox-docker.git</code> to a new folder</p> </li> <li> <p>If required, change the <code>/env/netbox.env</code> file to your required settings.</p> </li> <li> <p>In the root of the new folder, create the following files (leave them blank):</p> </li> </ol> <p><code>plugin_requirements.txt</code> </p> <p><code>Dockerfile-Plugins</code> </p> <p><code>docker-compose.override.yml</code></p>"},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/#step-2-modify-new-files","title":"Step 2 - Modify New Files","text":""},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/#plugin_requirementstxt","title":"<code>plugin_requirements.txt</code>","text":"<p>This file contains a list of the NetBox Plugins (as PyPi Python Packages) to be installed during the building of the Docker image.</p> <p>Add netbox-secrets If you are using Netbox &gt; 3.5:</p> <pre><code>netbox-secrets\nnetbox-topology-views\nnetbox-acls\n</code></pre>"},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/#dockerfile-plugins","title":"<code>Dockerfile-Plugins</code>","text":"<p>This is the Dockerfile used to build the custom Image.</p> <p>Put the following contents into that file.</p> <pre><code>FROM netboxcommunity/netbox:latest\n\nCOPY ./plugin_requirements.txt /opt/netbox/\nRUN /opt/netbox/venv/bin/pip install  --no-warn-script-location -r /opt/netbox/plugin_requirements.txt\nRUN mkdir -p /opt/netbox/netbox/static/netbox_topology_views/img\n\n# These lines are only required if your plugin has its own static files.\nCOPY configuration/configuration.py /etc/netbox/config/configuration.py\nCOPY configuration/plugins.py /etc/netbox/config/plugins.py\nRUN SECRET_KEY=\"dummydummydummydummydummydummydummydummydummydummy\" /opt/netbox/venv/bin/python /opt/netbox/netbox/manage.py collectstatic --no-input\n</code></pre> <p>NOTE: This <code>SECRET_KEY</code> is only used during the installation. There's no need to change it.</p>"},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/#docker-composeoverrideyml","title":"<code>docker-compose.override.yml</code>","text":"<p>As its name implies, this file can contain configuration overrides for <code>docker-compose.yml</code></p> <p>The absolute most basic configuration that you need is as follows. This tells our NetBox Worker and NetBox Housekeeping services to use our new custom image, <code>Dockerfile-Plugins</code></p> <pre><code>version: '3.4' # This is NOT the version of NetBox! No need to adjust :)\nservices:\n  netbox:\n    image: netbox:latest-plugins\n    ports:\n      - 8001:8080\n    build:\n      context: .\n      dockerfile: Dockerfile-Plugins\n  netbox-worker:\n    image: netbox:latest-plugins\n    build:\n      context: .\n      dockerfile: Dockerfile-Plugins\n  netbox-housekeeping:\n    image: netbox:latest-plugins\n    build:\n      context: .\n      dockerfile: Dockerfile-Plugins\n</code></pre>"},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/#step-3-enable-plugins-in-the-configuration","title":"Step 3 - Enable plugins in the configuration","text":"<p>To get plugins to work within NetBox you need to add some configuration to <code>configuration/plugins.py</code>.</p> <p>For Netbox &gt; 3.5:</p> <pre><code>PLUGINS = [\"netbox_secrets\",\"netbox_topology_views\",\"netbox-acls\"]\n\nPLUGINS_CONFIG = {\n#   \"netbox_secretstore\": {\n#     ADD YOUR SETTINGS HERE\n#   }\n    'netbox_topology_views': {\n        'static_image_directory': 'netbox_topology_views/img',\n        'allow_coordinates_saving': True,\n        'always_save_coordinates': True\n    },\n    \"netbox_acls\": {\n        \"top_level_menu\": True # If set to True the plugin will add a top level menu item for the plugin. If set to False the plugin will add a menu item under the Plugins menu item.  Default is set to True.\n    },\n}\n</code></pre> <p>NOTE: This can differ for every plugin. To learn more about this see the NetBox documentation.</p>"},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/#step-4-build-and-deploy","title":"Step 4 - Build and Deploy!","text":"<p>Once you've prepared the new Docker Image, now it's time to build it.</p> <p>Execute the following commands:</p> <pre><code>docker compose build --no-cache\ndocker compose up -d\n</code></pre> <p>Your new custom NetBox Docker image has been created and is now running, with the required plugins installed.</p>"},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/#_1","title":"\u53c2\u8003","text":"<p>https://github.com/netbox-community/netbox-docker/wiki/Using-Netbox-Plugins</p> <p>https://github.com/mattieserver/netbox-topology-views</p>"},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/#troubleshooting","title":"Troubleshooting","text":""},{"location":"30%20NetDevOps/TMP/NetBox%20%E9%83%A8%E7%BD%B2/#plugin-does-not-load","title":"Plugin does not load","text":"<p>The error is something like <code>django.core.exceptions.ImproperlyConfigured: Unable to import plugin nextbox-plugin: Module not found</code>.</p> <p>Note that the plugin name for pip can be different from the name used to load the plugin. I.e. <code>netbox-plugin</code> for pip and <code>netbox_plugin</code> (note the underscore) for the config file.</p>"},{"location":"30%20NetDevOps/TMP/Untitled/","title":"Untitled","text":"<pre><code>sudo sed -i 's/mirrors.hieds.net/mirrors.xfusion.com/g' /etc/yum.repos.d/CentOS-7-anon.repo\nyum clean all &amp;&amp; yum makecache\nyum localinstall *.rpm\n</code></pre> <pre><code>sed -i 's/ServerActive=127.0.0.1/ServerActive=proxy01.zabbix.xfusion.com/' /etc/zabbix/zabbix_agent2.conf\nsed -i '/Hostname=Zabbix server/d' /etc/zabbix/zabbix_agent2.conf\nsed -i '/# HostMetadata=/a HostMetadata=Server' /etc/zabbix/zabbix_agent2.conf\nsed -i '/# Timeout=3/a Timeout=30' /etc/zabbix/zabbix_agent2.conf\nsystemctl restart zabbix-agent2\n</code></pre>"},{"location":"30%20NetDevOps/%E8%93%9D%E9%B2%B8%E6%99%BA%E4%BA%91/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":""},{"location":"30%20NetDevOps/%E8%93%9D%E9%B2%B8%E6%99%BA%E4%BA%91/%E6%9C%AA%E5%91%BD%E5%90%8D/#snmp","title":"\u84dd\u9cb8SNMP\u76d1\u63a7","text":"<p>https://bk.tencent.com/docs/markdown/ZH/Monitor/3.6/UserGuide/ProductFeatures/integrations-metric-plugins/plugin_snmp.md</p>"},{"location":"Code/Python%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83/","title":"Python\u8fd0\u884c\u73af\u5883","text":""},{"location":"Code/Python%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83/#1-pip","title":"1. PIP\u6e90","text":"<p>Linux\u4e0b\uff0c\u4fee\u6539 ~/.pip/pip.conf (\u6ca1\u6709\u5c31\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u53ca\u6587\u4ef6\u3002\u6587\u4ef6\u5939\u8981\u52a0\u201c.\u201d\uff0c\u8868\u793a\u662f\u9690\u85cf\u6587\u4ef6\u5939)</p> <pre><code>mkdir ~/.pip\n\ncat &gt;  ~/.pip/pip.conf &lt;&lt;EOF\n[global]\nindex-url = https://pypi.tuna.tsinghua.edu.cn/simple\n\n[install]\ntrusted-host=mirrors.aliyun.com\nEOF\n</code></pre> <p>\u6587\u4ef6\u8def\u5f84\uff1a - Pip\u7684\u914d\u7f6e\u6587\u4ef6\u4e3a\u7528\u6237\u6839\u76ee\u5f55\u4e0b\u7684\uff1a~/.pip/pip.conf\uff08 - Windows\u8def\u5f84\u4e3a\uff1aC:\\Users\\\\pip\\pip.ini\uff09, \u60a8\u53ef\u4ee5\u914d\u7f6e\u5982\u4e0b\u5185\u5bb9\uff1a <pre><code>[global]  \nindex-url = https://mirrors.xfusion.com/pypi/simple  \ntrusted-host = mirrors.xfusion.com  \ntimeout = 120\n</code></pre>"},{"location":"Code/git/","title":"Git","text":"<p>git clone -b uat_outerpub https://</p>"},{"location":"Code/git/#1","title":"1. \u914d\u7f6e","text":"<p>### 1.1. \u73af\u5883\u914d\u7f6e</p> \u4f5c\u7528 \u547d\u4ee4 git config  --global http.sslVerify false \u8bbe\u7f6e\u7528\u6237\u540d git config  --global user.name username \u8bbe\u7f6e\u90ae\u7bb1 (\u6ca1\u6709\u53cc\u5f15\u53f7) git config  --global user.email useremail@qq.com \u67e5\u770b\u7528\u6237\u540d\u548c\u5bc6\u7801 git config  user.namegit config  user.email \u67e5\u770b\u5176\u4ed6\u914d\u7f6e\u4fe1\u606f(git\u8bbe\u7f6e\u5217\u8868) git config  --list <p>git config credential.helper store</p>"},{"location":"Code/git/#12","title":"1.2. \u63d0\u4ea4\u4ee3\u7801","text":"<pre><code>git pull\ngit add .\ngit commit -m \"update\"\ngit push\n</code></pre> <pre><code>git remote set-url origin https://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@github.com/RenJiangZhou2163/RenJiangZhou2163.github.io.git/\n</code></pre>"},{"location":"Code/git/#2","title":"2. \u95ee\u9898\u6392\u67e5","text":""},{"location":"Code/git/#21-github-git-push","title":"2.1. github git push\u63d0\u793a \u7528\u6237\u540d\u5bc6\u7801\u9519\u8bef\uff0c\u5982\u4f55\u89e3\u51b3\uff1f","text":"<p>\u5728\u4f7f\u7528GitHub\u8fdb\u884c<code>git push</code>\u64cd\u4f5c\u65f6\uff0c\u5982\u679c\u9047\u5230\u7528\u6237\u540d\u548c\u5bc6\u7801\u9519\u8bef\u7684\u95ee\u9898\uff0c\u901a\u5e38\u662f\u7531\u4e8e\u4ee5\u4e0b\u51e0\u4e2a\u539f\u56e0\u4e4b\u4e00\uff1a</p> <ol> <li>\u7f13\u5b58\u7684\u51ed\u8bc1\u4fe1\u606f\u4e0d\u6b63\u786e</li> <li>\u4f7f\u7528\u4e86\u8fc7\u65f6\u7684\u8eab\u4efd\u9a8c\u8bc1\u65b9\u5f0f\uff08\u4f8b\u5982\uff0cGitHub\u5df2\u7ecf\u5f03\u7528\u7528\u6237\u540d/\u5bc6\u7801\u7684\u57fa\u672c\u8ba4\u8bc1\uff09</li> <li>SSH\u5bc6\u94a5\u914d\u7f6e\u4e0d\u6b63\u786e</li> </ol> <p>\u4ee5\u4e0b\u662f\u89e3\u51b3\u8be5\u95ee\u9898\u7684\u8be6\u7ec6\u6b65\u9aa4\uff1a</p>"},{"location":"Code/git/#22","title":"2.2. \u6e05\u9664\u7f13\u5b58\u7684\u51ed\u8bc1\u4fe1\u606f","text":""},{"location":"Code/git/#221-windows","title":"2.2.1. Windows","text":"<ol> <li>\u6253\u5f00\u201c\u63a7\u5236\u9762\u677f\u201d -&gt; \u201c\u7528\u6237\u8d26\u6237\u201d -&gt; \u201c\u51ed\u636e\u7ba1\u7406\u5668\u201d\u3002</li> <li>\u5728\u201cWindows \u51ed\u636e\u201d\u6216\u201cWeb \u51ed\u636e\u201d\u4e0b\u627e\u5230\u4e0e\u4f60\u7684GitHub\u76f8\u5173\u7684\u6761\u76ee\uff0c\u7136\u540e\u5220\u9664\u5b83\u4eec\u3002</li> </ol>"},{"location":"Code/git/#222-macos","title":"2.2.2. macOS","text":"<ol> <li>\u6253\u5f00\u201c\u94a5\u5319\u4e32\u8bbf\u95ee\u201d\uff08Keychain Access\uff09\u5e94\u7528\u7a0b\u5e8f\u3002</li> <li>\u5728\u641c\u7d22\u680f\u4e2d\u8f93\u5165<code>github.com</code>\u3002</li> <li>\u627e\u5230\u76f8\u5173\u6761\u76ee\uff0c\u53f3\u952e\u70b9\u51fb\u5e76\u9009\u62e9\u201c\u5220\u9664\u201d\u3002</li> </ol>"},{"location":"Code/git/#223-linux","title":"2.2.3. Linux","text":"<p>\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f<code>libsecret</code>\u6765\u7ba1\u7406\u51ed\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5220\u9664\u7f13\u5b58\uff1a</p> <pre><code>secret-tool clear --label=\"git\"\n</code></pre>"},{"location":"Code/git/#23-personal-access-token","title":"2.3. \u4f7f\u7528\u4e2a\u4eba\u8bbf\u95ee\u4ee4\u724c\uff08Personal Access Token\uff09","text":"<p>GitHub\u5df2\u7ecf\u5f03\u7528\u4e86\u901a\u8fc7\u7528\u6237\u540d\u548c\u5bc6\u7801\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u7684\u65b9\u6cd5\uff0c\u5efa\u8bae\u4f7f\u7528\u4e2a\u4eba\u8bbf\u95ee\u4ee4\u724c\uff08Personal Access Token, PAT\uff09\u4ee3\u66ff\u5bc6\u7801\u3002\u4ee5\u4e0b\u662f\u751f\u6210\u548c\u4f7f\u7528PAT\u7684\u65b9\u6cd5\uff1a</p>"},{"location":"Code/git/#231","title":"2.3.1. \u751f\u6210\u4e2a\u4eba\u8bbf\u95ee\u4ee4\u724c","text":"<ol> <li>\u767b\u5f55\u5230\u4f60\u7684GitHub\u8d26\u6237\u3002</li> <li>\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u5934\u50cf\uff0c\u7136\u540e\u9009\u62e9\u201cSettings\u201d\u3002</li> <li>\u5728\u5de6\u4fa7\u83dc\u5355\u4e2d\u9009\u62e9\u201cDeveloper settings\u201d -&gt; \u201cPersonal access tokens\u201d\u3002</li> <li>\u70b9\u51fb\u201cGenerate new token\u201d\uff0c\u6839\u636e\u9700\u8981\u9009\u62e9\u6743\u9650\uff08\u4f8b\u5982\uff0crepo\u6743\u9650\uff09\uff0c\u7136\u540e\u70b9\u51fb\u201cGenerate token\u201d\u3002</li> <li>\u590d\u5236\u751f\u6210\u7684\u4ee4\u724c\u5e76\u59a5\u5584\u4fdd\u5b58\u3002</li> </ol>"},{"location":"Code/git/#232-git","title":"2.3.2. \u914d\u7f6eGit\u4f7f\u7528\u4e2a\u4eba\u8bbf\u95ee\u4ee4\u724c","text":"<p>\u5f53\u4f60\u6267\u884c<code>git push</code>\u65f6\uff0c\u5c06\u63d0\u793a\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002\u5728\u8fd9\u91cc\uff0c\u4f60\u9700\u8981\u8f93\u5165\u5982\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>\u7528\u6237\u540d: \u4f60\u7684GitHub\u7528\u6237\u540d</li> <li>\u5bc6\u7801: \u521a\u521a\u751f\u6210\u7684\u4e2a\u4eba\u8bbf\u95ee\u4ee4\u724c</li> </ul> <p>\u4e3a\u4e86\u907f\u514d\u6bcf\u6b21\u90fd\u8f93\u5165\uff0c\u53ef\u4ee5\u5c06\u8fdc\u7a0bURL\u66f4\u65b0\u4e3a\u5305\u542b\u4e2a\u4eba\u8bbf\u95ee\u4ee4\u724c\uff1a</p> <pre><code>git remote set-url origin https://&lt;your_token&gt;@github.com/&lt;username&gt;/&lt;repository&gt;.git\n</code></pre>"},{"location":"Code/git/#24-ssh","title":"2.4. \u4f7f\u7528SSH\u5bc6\u94a5\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1","text":"<p>SSH\u5bc6\u94a5\u662f\u4e00\u79cd\u66f4\u5b89\u5168\u4e14\u65b9\u4fbf\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002\u4ee5\u4e0b\u662f\u914d\u7f6eSSH\u5bc6\u94a5\u7684\u65b9\u6cd5\uff1a</p>"},{"location":"Code/git/#241-ssh","title":"2.4.1. \u751f\u6210SSH\u5bc6\u94a5","text":"<p>\u5982\u679c\u4f60\u8fd8\u6ca1\u6709SSH\u5bc6\u94a5\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u751f\u6210\uff1a</p> <pre><code>ssh-keygen -t rsa -b 4096 -C \"your_email@example.com\"\n</code></pre> <p>\u6309\u63d0\u793a\u64cd\u4f5c\uff0c\u4f1a\u5728\u9ed8\u8ba4\u4f4d\u7f6e\u751f\u6210SSH\u5bc6\u94a5\u5bf9\u3002</p>"},{"location":"Code/git/#242-ssh","title":"2.4.2. \u6dfb\u52a0SSH\u5bc6\u94a5\u5230\u4ee3\u7406","text":"<p>\u542f\u52a8SSH\u4ee3\u7406\u5e76\u6dfb\u52a0\u79c1\u94a5\uff1a</p> <pre><code>eval \"$(ssh-agent -s)\"\nssh-add ~/.ssh/id_rsa\n</code></pre>"},{"location":"Code/git/#243-github","title":"2.4.3. \u5c06\u516c\u94a5\u6dfb\u52a0\u5230GitHub\u8d26\u6237","text":"<ol> <li>\u6253\u5f00\u4f60\u7684\u516c\u94a5\u6587\u4ef6\uff0c\u901a\u5e38\u4f4d\u4e8e<code>~/.ssh/id_rsa.pub</code>\u3002</li> <li>\u767b\u5f55\u5230\u4f60\u7684GitHub\u8d26\u6237\u3002</li> <li>\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u5934\u50cf\uff0c\u7136\u540e\u9009\u62e9\u201cSettings\u201d\u3002</li> <li>\u5728\u5de6\u4fa7\u83dc\u5355\u4e2d\u9009\u62e9\u201cSSH and GPG keys\u201d\uff0c\u7136\u540e\u70b9\u51fb\u201cNew SSH key\u201d\u3002</li> <li>\u5c06\u516c\u94a5\u7c98\u8d34\u5230\u6587\u672c\u6846\u4e2d\uff0c\u5e76\u70b9\u51fb\u201cAdd SSH key\u201d\u3002</li> </ol>"},{"location":"Code/git/#244-urlssh","title":"2.4.4. \u66f4\u65b0\u8fdc\u7a0bURL\u4e3aSSH\u683c\u5f0f","text":"<p>\u66f4\u65b0\u4f60\u7684\u8fdc\u7a0bURL\u4ee5\u4f7f\u7528SSH\u800c\u4e0d\u662fHTTPS\uff1a</p> <pre><code>git remote set-url origin git@github.com:&lt;username&gt;/&lt;repository&gt;.git\n</code></pre>"},{"location":"Code/git/#25","title":"2.5. \u603b\u7ed3","text":"<p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u89e3\u51b3GitHub <code>git push</code>\u63d0\u793a\u7528\u6237\u540d\u548c\u5bc6\u7801\u9519\u8bef\u7684\u95ee\u9898\u3002\u63a8\u8350\u4f7f\u7528\u4e2a\u4eba\u8bbf\u95ee\u4ee4\u724c\u6216SSH\u5bc6\u94a5\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4ee5\u63d0\u9ad8\u5b89\u5168\u6027\u548c\u4fbf\u5229\u6027\u3002\u5982\u679c\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u968f\u65f6\u544a\u8bc9\u6211\uff01</p>"},{"location":"Code/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"<p>GitHub Actions \u662f GitHub \u63d0\u4f9b\u7684\u4e00\u9879\u6301\u7eed\u96c6\u6210\u548c\u6301\u7eed\u90e8\u7f72 (CI/CD) \u670d\u52a1\uff0c\u5b83\u5141\u8bb8\u4f60\u901a\u8fc7\u5b9a\u4e49\u5de5\u4f5c\u6d41 (workflow) \u6765\u81ea\u52a8\u5316\u8f6f\u4ef6\u5f00\u53d1\u751f\u547d\u5468\u671f\u4e2d\u7684\u5404\u79cd\u4efb\u52a1\uff0c\u5982\u6784\u5efa\u3001\u6d4b\u8bd5\u548c\u90e8\u7f72\u4ee3\u7801\u3002\u5de5\u4f5c\u6d41\u662f\u7531\u4e00\u7cfb\u5217\u4efb\u52a1 (job) \u7ec4\u6210\u7684\uff0c\u6bcf\u4e2a\u4efb\u52a1\u5305\u542b\u591a\u4e2a\u6b65\u9aa4 (step)\uff0c\u8fd9\u4e9b\u6b65\u9aa4\u53ef\u4ee5\u662f\u547d\u4ee4\u884c\u6307\u4ee4\u6216\u9884\u5b9a\u4e49\u7684\u64cd\u4f5c (action)\u3002</p> <p>\u4ee5\u4e0b\u662f\u5bf9 GitHub Actions \u5de5\u4f5c\u6d41\u5404\u90e8\u5206\u7684\u8be6\u7ec6\u89e3\u91ca\uff1a</p>"},{"location":"Code/%E6%9C%AA%E5%91%BD%E5%90%8D/#_1","title":"\u5de5\u4f5c\u6d41\u6587\u4ef6\u7ed3\u6784","text":"<p>\u5de5\u4f5c\u6d41\u6587\u4ef6\u662f\u4e00\u4e2a YAML \u6587\u4ef6\uff0c\u901a\u5e38\u5b58\u653e\u5728\u4ed3\u5e93\u7684\u00a0<code>.github/workflows</code>\u00a0\u76ee\u5f55\u4e0b\u3002\u5de5\u4f5c\u6d41\u6587\u4ef6\u7684\u57fa\u672c\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>name: Workflow Name  # \u5de5\u4f5c\u6d41\u540d\u79f0\n\non:  # \u89e6\u53d1\u6761\u4ef6\n  push:\n    branches:\n      - main  # \u5f53\u63a8\u9001\u5230 main \u5206\u652f\u65f6\u89e6\u53d1\n\njobs:  # \u5b9a\u4e49\u4efb\u52a1\n  job_id:  # \u4efb\u52a1ID\n    runs-on: ubuntu-latest  # \u6307\u5b9a\u8fd0\u884c\u73af\u5883\n\n    steps:  # \u5b9a\u4e49\u6b65\u9aa4\n      - name: Step Name  # \u6b65\u9aa4\u540d\u79f0\n        uses: actions/checkout@v2  # \u4f7f\u7528\u9884\u5b9a\u4e49\u64cd\u4f5c\n      - name: Another Step\n        run: echo \"Hello, World!\"  # \u6267\u884c\u547d\u4ee4\u884c\u6307\u4ee4\n</code></pre>"},{"location":"Code/%E6%9C%AA%E5%91%BD%E5%90%8D/#_2","title":"\u5404\u90e8\u5206\u8be6\u7ec6\u89e3\u91ca","text":"<ol> <li> <p>name:</p> <ul> <li>\u5b9a\u4e49\u5de5\u4f5c\u6d41\u7684\u540d\u79f0\uff0c\u8fd9\u4e2a\u540d\u79f0\u4f1a\u663e\u793a\u5728 GitHub Actions \u7684\u754c\u9762\u4e0a\u3002</li> <li> <p>on:</p> </li> <li> <p>\u5b9a\u4e49\u89e6\u53d1\u5de5\u4f5c\u6d41\u7684\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u662f\u00a0<code>push</code>\u3001<code>pull_request</code>\u00a0\u7b49\u7b49\u3002\u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u7279\u5b9a\u5206\u652f\u6216\u6807\u7b7e\u6765\u7cbe\u786e\u63a7\u5236\u89e6\u53d1\u6761\u4ef6\u3002</p> </li> <li> <p>jobs:</p> </li> <li> <p>\u4e00\u4e2a\u5de5\u4f5c\u6d41\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u4efb\u52a1\uff0c\u6bcf\u4e2a\u4efb\u52a1\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684 ID\u3002\u6bcf\u4e2a\u4efb\u52a1\u53ef\u4ee5\u5e76\u884c\u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4f9d\u8d56\u5173\u7cfb\u3002</p> </li> <li> <p>runs-on:</p> </li> <li> <p>\u6307\u5b9a\u4efb\u52a1\u8fd0\u884c\u7684\u73af\u5883\uff0c\u5982\u00a0<code>ubuntu-latest</code>\u3001<code>windows-latest</code>\u00a0\u6216\u00a0<code>macos-latest</code>\u3002</p> </li> <li> <p>steps:</p> </li> <li> <p>\u6bcf\u4e2a\u4efb\u52a1\u7531\u591a\u4e2a\u6b65\u9aa4\u7ec4\u6210\uff0c\u6bcf\u4e2a\u6b65\u9aa4\u53ef\u4ee5\u6267\u884c\u547d\u4ee4\u884c\u6307\u4ee4 (<code>run</code>) \u6216\u4f7f\u7528\u9884\u5b9a\u4e49\u64cd\u4f5c (<code>uses</code>)\u3002</p> </li> <li><code>name</code>: \u6b65\u9aa4\u540d\u79f0\uff0c\u7528\u4e8e\u63cf\u8ff0\u8fd9\u4e2a\u6b65\u9aa4\u505a\u4ec0\u4e48\u3002</li> <li><code>uses</code>: \u4f7f\u7528\u9884\u5b9a\u4e49\u64cd\u4f5c\uff0c\u683c\u5f0f\u4e3a\u00a0<code>action_name@version</code>\uff0c\u5982\u00a0<code>actions/checkout@v2</code>\u3002</li> <li><code>run</code>: \u6267\u884c\u547d\u4ee4\u884c\u6307\u4ee4\uff0c\u53ef\u4ee5\u662f\u5355\u884c\u6216\u591a\u884c\u811a\u672c\u3002</li> </ul> </li> </ol>"},{"location":"Code/%E6%9C%AA%E5%91%BD%E5%90%8D/#_3","title":"\u793a\u4f8b\u89e3\u91ca","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5177\u4f53\u793a\u4f8b\uff0c\u5b83\u5c55\u793a\u4e86\u5982\u4f55\u62c9\u53d6 Zabbix Docker \u955c\u50cf\u5e76\u4fdd\u5b58\u4e3a\u6587\u4ef6\uff1a</p> <pre><code>name: Pull and Save Zabbix Docker Image\n\non:\n  push:\n    branches:\n      - main\n\njobs:\n  pull_and_save:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n\n      - name: Set up Docker Buildx\n        uses: docker/setup-buildx-action@v1\n\n      - name: Login to Docker Hub\n        uses: docker/login-action@v1 \n        with:\n          username: ${{ secrets.DOCKER_USERNAME }}\n          password: ${{ secrets.DOCKER_PASSWORD }}\n\n      - name: Pull Zabbix Docker image\n        run: |\n          docker pull zabbix/zabbix-server-mysql:latest\n\n      - name: Save Zabbix Docker image as file\n        run: |\n          docker save zabbix/zabbix-server-mysql:latest | gzip &gt; zabbix-server-mysql-latest.tar.gz\n\n      - name: Upload artifact (saved image)\n        uses: actions/upload-artifact@v2 \n        with:\n          name: zabbix-server-mysql-latest\n          path: zabbix-server-mysql-latest.tar.gz\n</code></pre>"},{"location":"Code/%E6%9C%AA%E5%91%BD%E5%90%8D/#_4","title":"\u5206\u6790\uff1a","text":"<ol> <li> <p>name: \u540d\u79f0\u4e3a \"Pull and Save Zabbix Docker Image\"\uff0c\u63cf\u8ff0\u4e86\u8fd9\u4e2a\u5de5\u4f5c\u6d41\u7684\u76ee\u7684\u3002</p> </li> <li> <p>on: \u5f53\u4ee3\u7801\u63a8\u9001\u5230\u00a0<code>main</code>\u00a0\u5206\u652f\u65f6\u89e6\u53d1\u8fd9\u4e2a\u5de5\u4f5c\u6d41\u3002</p> </li> <li> <p>jobs: \u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a\u00a0<code>pull_and_save</code>\u00a0\u7684\u4efb\u52a1\u3002</p> </li> <li> <p>runs-on: \u6307\u5b9a\u8fd9\u4e2a\u4efb\u52a1\u5c06\u5728\u00a0<code>ubuntu-latest</code>\u00a0\u73af\u5883\u4e0a\u8fd0\u884c\u3002</p> </li> <li> <p>steps: \u5305\u542b\u591a\u4e2a\u6b65\u9aa4\uff1a</p> <ul> <li> <p>\u4f7f\u7528\u00a0<code>actions/checkout@v2</code>\u00a0\u64cd\u4f5c\u5c06\u4ee3\u7801\u4ed3\u5e93\u68c0\u51fa\u5230 runner\u3002</p> </li> <li> <p>\u4f7f\u7528\u00a0<code>docker/setup-buildx-action@v1</code>\u00a0\u8bbe\u7f6e Docker Buildx \u73af\u5883\u3002</p> </li> <li> <p>\u4f7f\u7528\u00a0<code>docker/login-action@v1</code>\u00a0\u767b\u5f55\u5230 Docker Hub\uff0c\u51ed\u636e\u4ece GitHub Secrets \u4e2d\u83b7\u53d6\u3002</p> </li> <li> <p>\u6267\u884c\u547d\u4ee4\u62c9\u53d6 Zabbix \u7684 Docker \u955c\u50cf\u3002</p> </li> <li> <p>\u6267\u884c\u547d\u4ee4\u5c06\u62c9\u53d6\u7684\u955c\u50cf\u4fdd\u5b58\u4e3a\u538b\u7f29\u6587\u4ef6\u3002</p> </li> <li> <p>\u4f7f\u7528\u00a0<code>actions/upload-artifact@v2</code>\u00a0\u64cd\u4f5c\u5c06\u4fdd\u5b58\u7684\u955c\u50cf\u6587\u4ef6\u4f5c\u4e3a\u6784\u5efa\u5de5\u4ef6\u4e0a\u4f20\uff0c\u4ee5\u4fbf\u540e\u7eed\u4e0b\u8f7d\u548c\u4f7f\u7528\u3002</p> </li> </ul> </li> </ol> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4f60\u53ef\u4ee5\u5229\u7528 GitHub Actions \u5b9e\u73b0\u81ea\u52a8\u5316\u64cd\u4f5c\uff0c\u5982\u6784\u5efa\u3001\u6d4b\u8bd5\u3001\u90e8\u7f72\u7b49\uff0c\u5e76\u4e14\u53ef\u4ee5\u6839\u636e\u9700\u8981\u81ea\u5b9a\u4e49\u5de5\u4f5c\u6d41\u4ee5\u6ee1\u8db3\u4e0d\u540c\u9700\u6c42\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#_2","title":"\u95ee\u9898\u6392\u67e5","text":"<p>\u8bf7\u52a1\u5fc5\u5148\u67e5\u770b k8s \u5b98\u65b9\u6587\u6863\uff1a</p> <ul> <li>\u96c6\u7fa4\u6545\u969c\u6392\u67e5 | \u82f1\u6587\u7248\uff1aTroubleshooting Clusters</li> <li>\u5e94\u7528\u6545\u969c\u6392\u67e5 | \u82f1\u6587\u7248\uff1aTroubleshooting Applications</li> </ul>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#_3","title":"\u547d\u540d\u7a7a\u95f4","text":"<p>\u5728Kubernetes\u4e2d\uff0c\u547d\u540d\u7a7a\u95f4\uff08Namespace\uff09\u7528\u4e8e\u5c06\u96c6\u7fa4\u4e2d\u7684\u8d44\u6e90\u8fdb\u884c\u903b\u8f91\u4e0a\u7684\u9694\u79bb\u3002\u67e5\u627e\u548c\u7ba1\u7406\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u51e0\u79cd\u65b9\u6cd5\u5b9e\u73b0\uff1a</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#1","title":"1. \u5217\u51fa\u6240\u6709\u547d\u540d\u7a7a\u95f4","text":"<p>\u4f7f\u7528 <code>kubectl get namespaces</code> \u547d\u4ee4\u53ef\u4ee5\u5217\u51fa\u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u547d\u540d\u7a7a\u95f4\uff1a</p> <pre><code>kubectl get namespaces\n</code></pre> <p>\u8f93\u51fa\u793a\u4f8b\uff1a</p> <pre><code>NAME              STATUS   AGE\ndefault           Active   10d\nkube-system       Active   10d\nkube-public       Active   10d\nmy-namespace      Active   5d\n</code></pre>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#2","title":"2. \u83b7\u53d6\u8be6\u7ec6\u4fe1\u606f","text":"<p>\u5982\u679c\u4f60\u60f3\u67e5\u770b\u67d0\u4e2a\u7279\u5b9a\u547d\u540d\u7a7a\u95f4\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>kubectl describe namespace</code> \u547d\u4ee4\uff1a</p> <pre><code>kubectl describe namespace &lt;namespace-name&gt;\n</code></pre> <p>\u4f8b\u5982\uff1a</p> <pre><code>kubectl describe namespace my-namespace\n</code></pre> <p>\u8fd9\u5c06\u663e\u793a\u8be5\u547d\u540d\u7a7a\u95f4\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u3001\u6ce8\u91ca\u548c\u72b6\u6001\u7b49\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#3-kubectl-get-all","title":"3. \u4f7f\u7528 <code>kubectl get all</code> \u67e5\u770b\u8d44\u6e90","text":"<p>\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>kubectl get all</code> \u547d\u4ee4\u6765\u67e5\u770b\u7279\u5b9a\u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u6240\u6709\u8d44\u6e90\u3002\u4f8b\u5982\uff0c\u67e5\u770b <code>default</code> \u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u6240\u6709\u8d44\u6e90\uff1a</p> <pre><code>kubectl get all -n default\n</code></pre> <p>\u8f93\u51fa\u793a\u4f8b\uff1a</p> <pre><code>NAME                          READY   STATUS    RESTARTS   AGE\npod/my-pod-1234567890-abcde   1/1     Running   0          5m\n\nNAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE\nservice/my-service   ClusterIP   10.96.0.1       &lt;none&gt;        80/TCP           10d\n\nNAME                      READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/my-app    1/1     1            1           5m\n\nNAME                                 DESIRED   CURRENT   READY   AGE\nreplicaset.apps/my-pod-1234567890    1         1         1       5m\n</code></pre>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#4-kubens","title":"4. \u4f7f\u7528 <code>kubens</code> \u5de5\u5177\uff08\u53ef\u9009\uff09","text":"<p>\u5982\u679c\u4f60\u9891\u7e41\u5207\u6362\u547d\u540d\u7a7a\u95f4\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 <code>kubens</code> \u5de5\u5177\uff0c\u5b83\u662f\u4e00\u4e2a\u65b9\u4fbf\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u5feb\u901f\u5207\u6362\u5f53\u524d\u4e0a\u4e0b\u6587\u7684\u547d\u540d\u7a7a\u95f4\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#kubens","title":"\u5b89\u88c5 <code>kubens</code>","text":"<p>\u4f60\u53ef\u4ee5\u4eceGitHub\u4ed3\u5e93\u4e0b\u8f7d\u5e76\u5b89\u88c5<code>kubens</code>\uff1a</p> <pre><code># \u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u7684 kubens (\u5047\u8bbe\u4e3a Linux \u5e73\u53f0)\ncurl -Lo kubens https://github.com/ahmetb/kubectx/releases/download/v0.9.3/kubens_v0.9.3_linux_x86_64\n\n# \u4e3a kubens \u6dfb\u52a0\u53ef\u6267\u884c\u6743\u9650\u5e76\u79fb\u52a8\u5230 /usr/local/bin/\nchmod +x kubens\nsudo mv kubens /usr/local/bin/\n</code></pre>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#kubens_1","title":"\u4f7f\u7528 <code>kubens</code>","text":"<p>\u5217\u51fa\u6240\u6709\u547d\u540d\u7a7a\u95f4\uff1a</p> <pre><code>kubens\n</code></pre> <p>\u5207\u6362\u5230\u7279\u5b9a\u547d\u540d\u7a7a\u95f4\uff1a</p> <pre><code>kubens &lt;namespace-name&gt;\n</code></pre> <p>\u4f8b\u5982\uff0c\u5207\u6362\u5230 <code>my-namespace</code> \u547d\u540d\u7a7a\u95f4\uff1a</p> <pre><code>kubens my-namespace\n</code></pre> <p>\u4ee5\u4e0a\u65b9\u6cd5\u90fd\u53ef\u4ee5\u5e2e\u52a9\u4f60\u67e5\u627e\u548c\u7ba1\u7406Kubernetes\u96c6\u7fa4\u4e2d\u7684\u547d\u540d\u7a7a\u95f4\u3002\u6839\u636e\u5177\u4f53\u9700\u6c42\u9009\u62e9\u6700\u9002\u5408\u7684\u65b9\u6cd5\u8fdb\u884c\u64cd\u4f5c\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#k8sip","title":"\u5982\u4f55\u67e5\u770bk8s\u96c6\u7fa4IP\uff1f","text":"<p>\u5728Kubernetes\u96c6\u7fa4\u4e2d\u67e5\u770b\u8282\u70b9\uff08Node\uff09\u5f00\u653e\u7684\u7aef\u53e3\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u51e0\u79cd\u65b9\u6cd5\u5b9e\u73b0\uff1a</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#1-kubectl-describe-node","title":"1. \u4f7f\u7528 <code>kubectl describe node</code>","text":"<p>\u4f7f\u7528 <code>kubectl describe node</code> \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u8282\u70b9\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u8282\u70b9\u4e0a\u8fd0\u884c\u7684Pod\u548c\u76f8\u5173\u7aef\u53e3\u3002</p> <pre><code>kubectl describe node &lt;node-name&gt;\n</code></pre> <p>\u4f8b\u5982\uff1a</p> <pre><code>kubectl describe node my-node\n</code></pre> <p>\u5728\u8f93\u51fa\u4e2d\uff0c\u4f60\u53ef\u4ee5\u627e\u5230\u4e0e\u7f51\u7edc\u548c\u7aef\u53e3\u76f8\u5173\u7684\u4fe1\u606f\uff0c\u4e0d\u8fc7\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u4e0d\u4f1a\u76f4\u63a5\u663e\u793a\u6240\u6709\u5f00\u653e\u7684\u7aef\u53e3\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#3-netstat-ss","title":"3. \u4f7f\u7528 <code>netstat</code> \u6216 <code>ss</code> \u547d\u4ee4","text":"<p>\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u767b\u5f55\u5230Kubernetes\u8282\u70b9\u4e0a\uff0c\u4f7f\u7528 <code>netstat</code> \u6216 <code>ss</code> \u547d\u4ee4\u67e5\u770b\u5f00\u653e\u7684\u7aef\u53e3\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#netstat","title":"\u4f7f\u7528 <code>netstat</code> \u547d\u4ee4\uff1a","text":"<pre><code>sudo netstat -tuln\n</code></pre>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#ss","title":"\u4f7f\u7528 <code>ss</code> \u547d\u4ee4\uff1a","text":"<pre><code>sudo ss -tuln\n</code></pre> <p>\u8fd9\u4e9b\u547d\u4ee4\u4f1a\u5217\u51fa\u6240\u6709\u6b63\u5728\u76d1\u542c\u7684\u7aef\u53e3\u53ca\u5176\u5bf9\u5e94\u7684\u670d\u52a1\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#4-nmap","title":"4. \u4f7f\u7528 <code>nmap</code> \u5de5\u5177","text":"<p>\u5982\u679c\u4f60\u6709\u6743\u9650\uff0c\u53ef\u4ee5\u4f7f\u7528\u7f51\u7edc\u626b\u63cf\u5de5\u5177\u5982 <code>nmap</code> \u6765\u626b\u63cf\u8282\u70b9\u5f00\u653e\u7684\u7aef\u53e3\u3002\u9996\u5148\u9700\u8981\u5b89\u88c5 <code>nmap</code>\uff0c\u7136\u540e\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>nmap &lt;node-ip&gt;\n</code></pre> <p>\u4f8b\u5982\uff1a</p> <pre><code>nmap 192.168.1.10\n</code></pre> <p>\u8fd9\u5c06\u626b\u63cf\u6307\u5b9a\u8282\u70b9IP\u4e0a\u6240\u6709\u5f00\u653e\u7684\u7aef\u53e3\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#5","title":"5. \u67e5\u770b\u9632\u706b\u5899\u89c4\u5219","text":"<p>\u5982\u679c\u4f60\u7684\u96c6\u7fa4\u542f\u7528\u4e86\u9632\u706b\u5899\uff08\u5982iptables\u6216firewalld\uff09\uff0c\u4f60\u53ef\u4ee5\u67e5\u770b\u9632\u706b\u5899\u89c4\u5219\u6765\u4e86\u89e3\u54ea\u4e9b\u7aef\u53e3\u88ab\u5141\u8bb8\u901a\u8fc7\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#iptables","title":"\u5bf9\u4e8eiptables:","text":"<pre><code>sudo iptables -L -n -v\n</code></pre>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#firewalld","title":"\u5bf9\u4e8efirewalld:","text":"<pre><code>sudo firewall-cmd --list-all-zones\n</code></pre> <p>\u4ee5\u4e0a\u51e0\u79cd\u65b9\u6cd5\u90fd\u53ef\u4ee5\u5e2e\u52a9\u4f60\u67e5\u770bKubernetes\u8282\u70b9\u4e0a\u5f00\u653e\u7684\u7aef\u53e3\u3002\u6839\u636e\u5177\u4f53\u9700\u6c42\u9009\u62e9\u6700\u9002\u5408\u7684\u65b9\u6cd5\u8fdb\u884c\u64cd\u4f5c\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#_4","title":"\u547d\u4ee4\u793a\u4f8b","text":""},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/#service","title":"\u67e5\u770b\u8282\u70b9\u4e0a\u7684Service","text":"<p>\u5982\u679c\u4f60\u60f3\u67e5\u770b\u54ea\u4e9b\u670d\u52a1\u66b4\u9732\u4e86\u7279\u5b9a\u7684\u7aef\u53e3\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5217\u51fa\u6240\u6709Service\uff0c\u5e76\u68c0\u67e5\u5b83\u4eec\u7684NodePort\u914d\u7f6e\uff1a</p> <pre><code>kubectl get services -o wide\n</code></pre> <p>\u793a\u4f8b</p> <pre><code>[root@beilonghu-jk32g-01 ~]# kubectl get services -o wide | grep 28668\nbk-gse-cluster                               ClusterIP   10.98.168.104    &lt;none&gt;        27707/TCP,28808/TCP,28668/TCP,48533/TCP,29405/TCP                                 6d16h   app=gse-cluster\nbk-gse-cluster-headless                      ClusterIP   None             &lt;none&gt;        27707/TCP,28808/TCP,28668/TCP,48533/TCP,29405/TCP\n\n[root@beilonghu-jk32g-01 ~]# kubectl get services -o wide | grep 28625\nbk-gse-data                                  ClusterIP   10.96.72.170     &lt;none&gt;        59702/TCP,28625/TCP,58625/TCP,28626/UDP,29402/TCP                                 6d16h   app=gse-data\nbk-gse-data-headless                         ClusterIP   None             &lt;none&gt;        59702/TCP,28625/TCP,58625/TCP,28626/UDP,29402/TCP                                 6d16h   app=gse-data\n</code></pre> <p>\u7136\u540e\u4f7f\u7528 <code>kubectl describe service</code> \u547d\u4ee4\u67e5\u770b\u5177\u4f53Service\u7684\u8be6\u7ec6\u4fe1\u606f\uff1a</p> <pre><code>kubectl describe service &lt;service-name&gt; -n &lt;namespace&gt;\n</code></pre> <p>\u4f8b\u5982\uff1a</p> <pre><code>kubectl describe service my-service -n my-namespace\n</code></pre> <p>\u5728\u8f93\u51fa\u4e2d\uff0c\u4f60\u53ef\u4ee5\u627e\u5230\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u90e8\u5206\uff0c\u663e\u793a\u670d\u52a1\u66b4\u9732\u7684\u7aef\u53e3\u4fe1\u606f\uff1a</p> <pre><code>Type: NodePort\nPort: 80/TCP\nTargetPort: 8080/TCP\nNodePort: 30080/TCP\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/","title":"\u84dd\u9cb8agent\u5b89\u88c5\u5931\u8d25\u6392\u67e5\u8bb0\u5f55","text":"<p>\u5f53\u4f60\u5c1d\u8bd5\u901a\u8fc7telnet\u8fde\u63a5\u5230Kubernetes Service\u7684ClusterIP\u548c\u7aef\u53e3\u65f6\uff0c\u9047\u5230\u201cConnection refused\u201d\u9519\u8bef\uff0c\u8fd9\u8868\u660e\u670d\u52a1\u6ca1\u6709\u5728\u6307\u5b9a\u7aef\u53e3\u4e0a\u76d1\u542c\u3002</p> <pre><code>[root@beilonghu-jk32g-01 ~]# kubectl get services -o wide | grep 28668\nbk-gse-cluster ClusterIP 10.98.168.104 &lt;none&gt; 27707/TCP,28808/TCP,28668/TCP,48533/TCP,29405/TCP 6d17h app=gse-cluster\nbk-gse-cluster-headless ClusterIP None &lt;none&gt; 27707/TCP,28808/TCP,28668/TCP,48533/TCP,29405/TCP 6d17h app=gse-cluster\n\n[root@beilonghu-jk32g-01 ~]# telnet 10.98.168.104 28668\nTrying 10.98.168.104...\ntelnet: connect to address 10.98.168.104: Connection refused\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#1-serviceendpoints","title":"1. \u68c0\u67e5Service\u7684Endpoints","text":"<p>\u9996\u5148\uff0c\u786e\u4fddService\u7684Endpoints\u6b63\u786e\u914d\u7f6e\u5e76\u6307\u5411\u76f8\u5173Pod\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770bService\u7684\u8be6\u7ec6\u4fe1\u606f\uff1a</p> <pre><code>kubectl describe service bk-gse-cluster -n &lt;namespace&gt;\n</code></pre> <p>\u5728\u8f93\u51fa\u4e2d\uff0c\u68c0\u67e5 <code>Endpoints</code> \u90e8\u5206\uff0c\u786e\u4fdd\u5b83\u4eec\u6307\u5411\u6b63\u786e\u7684Pod IP\u548c\u7aef\u53e3\u3002\u4f8b\u5982\uff1a</p> <pre><code>Endpoints: 192.168.1.2:28668, 192.168.1.3:28668\n</code></pre> <p>\u5982\u679c <code>Endpoints</code> \u5217\u4e3a\u7a7a\u6216\u4e0d\u6b63\u786e\uff0c\u8bf4\u660eService\u6ca1\u6709\u6b63\u786e\u6307\u5411Pod\uff0c\u9700\u8981\u68c0\u67e5\u6807\u7b7e\u9009\u62e9\u5668\uff08selector\uff09\u914d\u7f6e\u3002</p> <pre><code># \u5f02\u5e38\u670d\u52a1\n[root@beilonghu-jk32g-01 ~]# kubectl describe service bk-gse-cluster -n blueking\nName:              bk-gse-cluster\nNamespace:         blueking\nLabels:            app=gse-cluster\n                   app.kubernetes.io/instance=bk-gse\n                   app.kubernetes.io/managed-by=Helm\n                   app.kubernetes.io/name=bk-gse-ce\n                   helm.sh/chart=bk-gse-ce-v2.1.5-beta.7\n                   metric=gse-cluster-metric\nAnnotations:       meta.helm.sh/release-name: bk-gse\n                   meta.helm.sh/release-namespace: blueking\nSelector:          app=gse-cluster\nType:              ClusterIP\nIP Families:       &lt;none&gt;\nIP:                10.98.168.104\nIPs:               10.98.168.104\nPort:              service-tcp  27707/TCP\nTargetPort:        service-tcp/TCP\nEndpoints:         \nPort:              service-http  28808/TCP\nTargetPort:        service-http/TCP\nEndpoints:         \nPort:              agent-tcp  28668/TCP\nTargetPort:        agent-tcp/TCP\nEndpoints:         \nPort:              agent-tcp-v1  48533/TCP\nTargetPort:        agent-tcp-v1/TCP\nEndpoints:         \nPort:              metric  29405/TCP\nTargetPort:        metric/TCP\nEndpoints:         \nSession Affinity:  None\nEvents:            &lt;none&gt;\n\n\n# \u6b63\u5e38\u670d\u52a1\n[root@beilonghu-jk32g-01 ~]# kubectl describe service bk-gse-data -n blueking\nName:              bk-gse-data\nNamespace:         blueking\nLabels:            app=gse-data\n                   app.kubernetes.io/instance=bk-gse\n                   app.kubernetes.io/managed-by=Helm\n                   app.kubernetes.io/name=bk-gse-ce\n                   helm.sh/chart=bk-gse-ce-v2.1.5-beta.7\n                   metric=gse-data-metric\nAnnotations:       meta.helm.sh/release-name: bk-gse\n                   meta.helm.sh/release-namespace: blueking\nSelector:          app=gse-data\nType:              ClusterIP\nIP Families:       &lt;none&gt;\nIP:                10.96.72.170\nIPs:               10.96.72.170\nPort:              service-http  59702/TCP\nTargetPort:        service-http/TCP\nEndpoints:         10.37.0.47:59702\nPort:              agent-tcp  28625/TCP\nTargetPort:        agent-tcp/TCP\nEndpoints:         10.37.0.47:28625\nPort:              agent-tcp-v1  58625/TCP\nTargetPort:        agent-tcp-v1/TCP\nEndpoints:         10.37.0.47:58625\nPort:              ops-udp  28626/UDP\nTargetPort:        ops-udp/UDP\nEndpoints:         10.37.0.47:28626\nPort:              metric  29402/TCP\nTargetPort:        metric/TCP\nEndpoints:         10.37.0.47:29402\nSession Affinity:  None\nEvents:            &lt;none&gt;\n</code></pre> <pre><code># \u5f02\u5e38\u670d\u52a1\n[root@beilonghu-jk32g-01 ~]# kubectl get pods -n blueking --show-labels |grep gse-cluster\nbk-gse-cluster-645b887685-gfctg                             0/1     Init:1/3           0          13h     app.kubernetes.io/instance=bk-gse,app.kubernetes.io/managed-by=Helm,app.kubernetes.io/name=bk-gse-ce,app=gse-cluster,helm.sh/chart=bk-gse-ce-v2.1.5-beta.7,pod-template-hash=645b887685\n\n\n# \u6b63\u5e38\u670d\u52a1\n[root@beilonghu-jk32g-01 ~]# kubectl get pods -n blueking --show-labels |grep gse-data\nbk-gse-data-5c6cd79b7d-hfft5                                1/1     Running            1          6d17h   app.kubernetes.io/instance=bk-gse,app.kubernetes.io/managed-by=Helm,app.kubernetes.io/name=bk-gse-ce,app=gse-data,helm.sh/chart=bk-gse-ce-v2.1.5-beta.7,pod-template-hash=5c6cd79b7d\n</code></pre> <p>\u4ece\u8f93\u51fa\u4e2d\u53ef\u4ee5\u770b\u5230\uff0cPod <code>bk-gse-cluster-645b887685-gfctg</code> \u5904\u4e8e <code>Init:1/3</code> \u72b6\u6001\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u7684\u521d\u59cb\u5316\u5bb9\u5668\uff08Init Containers\uff09\u6709\u95ee\u9898\uff0c\u5bfc\u81f4Pod\u65e0\u6cd5\u5b8c\u5168\u542f\u52a8\u3002\u8fd9\u53ef\u80fd\u662f\u5bfc\u81f4Service\u6ca1\u6709Endpoints\u7684\u539f\u56e0\u3002\u4ee5\u4e0b\u662f\u8fdb\u4e00\u6b65\u6392\u67e5\u7684\u6b65\u9aa4\uff1a</p>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#1-pod","title":"1. \u67e5\u770bPod\u8be6\u7ec6\u4fe1\u606f","text":"<p>\u9996\u5148\uff0c\u67e5\u770bPod\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4ee5\u4e86\u89e3\u521d\u59cb\u5316\u5bb9\u5668\u7684\u95ee\u9898\uff1a</p> <pre><code>kubectl describe pod bk-gse-cluster-645b887685-gfctg -n blueking\n</code></pre> <p>\u5728\u8f93\u51fa\u4e2d\uff0c\u68c0\u67e5\u521d\u59cb\u5316\u5bb9\u5668\u7684\u72b6\u6001\u548c\u4e8b\u4ef6\u90e8\u5206\u3002\u4f60\u53ef\u80fd\u4f1a\u770b\u5230\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4fe1\u606f\uff1a</p> <pre><code>Init Containers:\n  init-container-name:\n    Container ID:   docker://&lt;container-id&gt;\n    Image:          &lt;image-name&gt;\n    Image ID:       docker-pullable://&lt;image-id&gt;\n    Port:           &lt;port-number&gt;/TCP\n    State:          Waiting\n      Reason:       &lt;reason&gt;\n    Last State:     Terminated\n      Exit Code:    &lt;exit-code&gt;\n      Started:      &lt;timestamp&gt;\n      Finished:     &lt;timestamp&gt;\n    Ready:          False\n    Restart Count:  &lt;count&gt;\n</code></pre> <pre><code>[root@beilonghu-jk32g-01 ~]# kubectl describe pod bk-gse-cluster-645b887685-gfctg -n blueking\nName:         bk-gse-cluster-645b887685-gfctg\nNamespace:    blueking\nPriority:     0\nNode:         node-10-37-0-46/10.37.0.46\nStart Time:   Tue, 06 Aug 2024 20:30:01 +0800\nLabels:       app=gse-cluster\n              app.kubernetes.io/instance=bk-gse\n              app.kubernetes.io/managed-by=Helm\n              app.kubernetes.io/name=bk-gse-ce\n              helm.sh/chart=bk-gse-ce-v2.1.5-beta.7\n              pod-template-hash=645b887685\nAnnotations:  &lt;none&gt;\nStatus:       Pending\nIP:           10.37.0.46\nIPs:\n  IP:           10.37.0.46\nControlled By:  ReplicaSet/bk-gse-cluster-645b887685\nInit Containers:\n  bk-gse-cluster-check-zookeeper:\n    Container ID:  docker://b09d4da9b7b1b80cfb64ebab4a8809560b6e6c48d6fee21adf480db81bdeceb7\n    Image:         hub.bktencent.com/blueking/bk-gse-server-ce:v2.1.5-beta.7\n    Image ID:      docker-pullable://hub.bktencent.com/blueking/bk-gse-server-ce@sha256:cd4bc346a52bd72009bd29ad9354257b028bf106cc684efa6149d833e3d1cb97\n    Port:          &lt;none&gt;\n    Host Port:     &lt;none&gt;\n    Command:\n      sh\n      -c\n    Args:\n      /bin/bash &lt;&lt;'EOF'\n\n      zkbin=\"/data/bkce/gse/server/bin/zkcli\"\n      zk_ip_port=\"bk-zookeeper:2181\"\n\n      # check zookeeper.\n      try_times=1\n      ret=1\n      sleep_time=1\n      while [ ${ret} -ne 0 ]\n      do\n          ${zkbin} -server ${zk_ip_port} get /gse\n          ret=$?\n          echo try to check ${try_times} times\n          try_times=$((try_times+1))\n          sleep ${sleep_time}\n      done\n\n      echo \"check zookeeper done\"\n      EOF\n\n    State:          Terminated\n      Reason:       Completed\n      Exit Code:    0\n      Started:      Tue, 06 Aug 2024 20:30:03 +0800\n      Finished:     Tue, 06 Aug 2024 20:30:18 +0800\n    Ready:          True\n    Restart Count:  0\n    Limits:\n      cpu:     1\n      memory:  1Gi\n    Requests:\n      cpu:        200m\n      memory:     128Mi\n    Environment:  &lt;none&gt;\n    Mounts:\n      /var/run/secrets/kubernetes.io/serviceaccount from default-token-gm8xm (ro)\n  bk-gse-cluster-check-redis:\n    Container ID:  docker://33acd14c14ec16cf88f725d0130573ca399bf79e4798770227ab3b237dc18105\n    Image:         hub.bktencent.com/blueking/bk-gse-server-ce:v2.1.5-beta.7\n    Image ID:      docker-pullable://hub.bktencent.com/blueking/bk-gse-server-ce@sha256:cd4bc346a52bd72009bd29ad9354257b028bf106cc684efa6149d833e3d1cb97\n    Port:          &lt;none&gt;\n    Host Port:     &lt;none&gt;\n    Command:\n      sh\n      -c\n    Args:\n      /bin/bash &lt;&lt;'EOF'\n\n      redisbin=\"/data/bkce/gse/server/bin/rediscli\"\n      check_args=\"-h bk-redis-cluster -p 6379 -u default -a 8fsTmpFfVHFJ -c ping\"\n\n      # check redis cluster.\n      try_times=1\n      ret=1\n      sleep_time=1\n      while [ ${ret} -ne 0 ]\n      do\n          ${redisbin} ${check_args}\n          ret=$?\n          echo try to check ${try_times} times\n          try_times=$((try_times+1))\n          sleep ${sleep_time}\n      done\n\n      echo \"check redis cluster done\"\n      EOF\n\n    State:          Running\n      Started:      Tue, 06 Aug 2024 20:30:21 +0800\n    Ready:          False\n    Restart Count:  0\n    Limits:\n      cpu:     1\n      memory:  1Gi\n    Requests:\n      cpu:        200m\n      memory:     128Mi\n    Environment:  &lt;none&gt;\n    Mounts:\n      /var/run/secrets/kubernetes.io/serviceaccount from default-token-gm8xm (ro)\n  bk-gse-cluster-init:\n    Container ID:  \n    Image:         hub.bktencent.com/blueking/bk-gse-server-ce:v2.1.5-beta.7\n    Image ID:      \n    Port:          &lt;none&gt;\n    Host Port:     &lt;none&gt;\n    Command:\n      sh\n      -c\n    Args:\n      /bin/bash &lt;&lt;'EOF'\n\n      # for service api advertise ip, it may be ipv4 or ipv6 value which base on k8s node settings.\n      ADVERTISE_IP=${POD_IP}\n\n      # for agent schedule advertise ip, parsing ipv4 and ipv6 value which base on k8s node settings.\n      ips=($(echo ${POD_IPS} | sed 's/,/ /g')) ; for ip in \"${ips[@]}\";  do echo ${ip} | grep -q : 2&gt;/dev/null &amp;&amp; ADVERTISE_IPV6=$ip || ADVERTISE_IPV4=$ip ; done;\n\n      # sed local config file.\n      sed \"s/__ADVERTISE_IP__/${ADVERTISE_IP}/g\" /tmp/gse_cluster.conf &gt; /data/bkce/etc/gse/gse_cluster.conf\n      sed -i \"s/__ADVERTISE_IPV4__/${ADVERTISE_IPV4}/g\" /data/bkce/etc/gse/gse_cluster.conf\n      sed -i \"s/__ADVERTISE_IPV6__/${ADVERTISE_IPV6}/g\" /data/bkce/etc/gse/gse_cluster.conf\n\n      echo \"local module init done\"\n      EOF\n\n    State:          Waiting\n      Reason:       PodInitializing\n    Ready:          False\n    Restart Count:  0\n    Limits:\n      cpu:     1\n      memory:  1Gi\n    Requests:\n      cpu:     200m\n      memory:  128Mi\n    Environment:\n      POD_IP:    (v1:status.podIP)\n      POD_IPS:   (v1:status.podIPs)\n    Mounts:\n      /data/bkce/etc/gse from bk-gse-etc (rw)\n      /tmp from bk-gse-cluster-config (rw)\n      /var/run/secrets/kubernetes.io/serviceaccount from default-token-gm8xm (ro)\nContainers:\n  bk-gse-cluster:\n    Container ID:  \n    Image:         hub.bktencent.com/blueking/bk-gse-server-ce:v2.1.5-beta.7\n    Image ID:      \n    Ports:         27707/TCP, 28808/TCP, 28668/TCP, 48533/TCP, 29405/TCP\n    Host Ports:    27707/TCP, 28808/TCP, 28668/TCP, 48533/TCP, 29405/TCP\n    Command:\n      sh\n      -c\n    Args:\n      /bin/bash &lt;&lt;'EOF'\n      # trap signals\n      trap 'exit' SIGINT SIGTERM\n\n      # monitor processes\n      while true\n      do\n          num=`ps -ef | grep gse_cluster | grep -v grep | wc -l`\n          if [ $num == 0 ]; then\n              cd /data/bkce/gse/server/bin &amp;&amp; ./gse_cluster -f /data/bkce/etc/gse/gse_cluster.conf\n          fi\n          sleep 10\n      done\n      EOF\n\n    State:          Waiting\n      Reason:       PodInitializing\n    Ready:          False\n    Restart Count:  0\n    Limits:\n      cpu:     2\n      memory:  4Gi\n    Requests:\n      cpu:      200m\n      memory:   128Mi\n    Readiness:  http-get http://:metric/healthz delay=10s timeout=10s period=30s #success=1 #failure=6\n    Environment:\n      GSE-MODULE:  gse-cluster\n    Mounts:\n      /data/bkce/cert from gse-cert (rw)\n      /data/bkce/etc/gse from bk-gse-etc (rw)\n      /var/run/secrets/kubernetes.io/serviceaccount from default-token-gm8xm (ro)\nConditions:\n  Type              Status\n  Initialized       False \n  Ready             False \n  ContainersReady   False \n  PodScheduled      True \nVolumes:\n  gse-cert:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      bk-gse-certs\n    Optional:  false\n  bk-gse-cluster-config:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      bk-gse-cluster-config\n    Optional:  false\n  bk-gse-etc:\n    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)\n    Medium:     \n    SizeLimit:  &lt;unset&gt;\n  default-token-gm8xm:\n    Type:        Secret (a volume populated by a Secret)\n    SecretName:  default-token-gm8xm\n    Optional:    false\nQoS Class:       Burstable\nNode-Selectors:  &lt;none&gt;\nTolerations:     node.kubernetes.io/not-ready:NoExecute op=Exists for 300s\n                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s\nEvents:          &lt;none&gt;\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#2-pod","title":"2. \u67e5\u770bPod\u65e5\u5fd7","text":"<p>\u67e5\u770b\u521d\u59cb\u5316\u5bb9\u5668\u548c\u4e3b\u5bb9\u5668\u7684\u65e5\u5fd7\uff0c\u4ee5\u83b7\u53d6\u66f4\u591a\u8c03\u8bd5\u4fe1\u606f\uff1a</p>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#_1","title":"\u521d\u59cb\u5316\u5bb9\u5668\u65e5\u5fd7\uff1a","text":"<pre><code>kubectl logs bk-gse-cluster-645b887685-gfctg -n blueking -c &lt;init-container-name&gt;\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#_2","title":"\u4e3b\u5bb9\u5668\u65e5\u5fd7\uff1a","text":"<pre><code>kubectl logs bk-gse-cluster-645b887685-gfctg -n blueking -c &lt;main-container-name&gt;\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#3-pod","title":"3. \u68c0\u67e5Pod\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u68c0\u67e5Pod\u6216Deployment\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u786e\u4fdd\u521d\u59cb\u5316\u5bb9\u5668\u548c\u4e3b\u5bb9\u5668\u914d\u7f6e\u6b63\u786e\u3002</p>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#deployment","title":"\u67e5\u770bDeployment\u8be6\u7ec6\u4fe1\u606f\uff1a","text":"<pre><code>kubectl describe deployment &lt;deployment-name&gt; -n blueking\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#4","title":"4. \u9a8c\u8bc1\u521d\u59cb\u5316\u5bb9\u5668\u4f9d\u8d56\u9879","text":"<p>\u786e\u4fdd\u521d\u59cb\u5316\u5bb9\u5668\u6240\u9700\u7684\u6240\u6709\u4f9d\u8d56\u9879\uff08\u5982\u5377\u3001\u7f51\u7edc\u8fde\u63a5\u7b49\uff09\u90fd\u5df2\u6b63\u786e\u914d\u7f6e\u5e76\u53ef\u7528\u3002</p>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#5","title":"5. \u68c0\u67e5\u8d44\u6e90\u9650\u5236\u548c\u914d\u989d","text":"<p>\u786e\u4fdd\u96c6\u7fa4\u4e2d\u7684\u8d44\u6e90\uff08\u5982CPU\u3001\u5185\u5b58\uff09\u8db3\u591f\uff0c\u5e76\u4e14\u547d\u540d\u7a7a\u95f4\u6ca1\u6709\u8d85\u51fa\u914d\u989d\u9650\u5236\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u8d44\u6e90\u914d\u989d\uff1a</p> <pre><code>kubectl get resourcequotas -n blueking\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#6-cni","title":"6. \u68c0\u67e5\u7f51\u7edc\u63d2\u4ef6\u548cCNI\u914d\u7f6e","text":"<p>\u786e\u4fdd\u7f51\u7edc\u63d2\u4ef6\u6b63\u5e38\u5de5\u4f5c\uff0c\u56e0\u4e3a\u7f51\u7edc\u95ee\u9898\u4e5f\u53ef\u80fd\u5bfc\u81f4\u521d\u59cb\u5316\u5bb9\u5668\u65e0\u6cd5\u5b8c\u6210\u3002\u68c0\u67e5\u7f51\u7edc\u63d2\u4ef6\u7684\u72b6\u6001\u548c\u65e5\u5fd7\uff1a</p> <pre><code>kubectl get pods -n kube-system | grep calico    # \u5982\u679c\u4f7f\u7528\u7684\u662fCalico\nkubectl get pods -n kube-system | grep flannel   # \u5982\u679c\u4f7f\u7528\u7684\u662fFlannel\n\n# \u67e5\u770b\u7f51\u7edc\u63d2\u4ef6\u7684\u65e5\u5fd7\nkubectl logs &lt;network-plugin-pod&gt; -n kube-system\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#_3","title":"\u603b\u7ed3\u6b65\u9aa4","text":"<ol> <li>\u67e5\u770bPod\u8be6\u7ec6\u4fe1\u606f\uff1a\u4e86\u89e3\u521d\u59cb\u5316\u5bb9\u5668\u7684\u95ee\u9898\u3002</li> <li>\u67e5\u770bPod\u65e5\u5fd7\uff1a\u83b7\u53d6\u66f4\u591a\u8c03\u8bd5\u4fe1\u606f\u3002</li> <li>\u68c0\u67e5Pod\u914d\u7f6e\u6587\u4ef6\uff1a\u786e\u4fdd\u914d\u7f6e\u6b63\u786e\u3002</li> <li>\u9a8c\u8bc1\u521d\u59cb\u5316\u5bb9\u5668\u4f9d\u8d56\u9879\uff1a\u786e\u4fdd\u6240\u6709\u4f9d\u8d56\u9879\u90fd\u5df2\u6b63\u786e\u914d\u7f6e\u5e76\u53ef\u7528\u3002</li> <li>\u68c0\u67e5\u8d44\u6e90\u9650\u5236\u548c\u914d\u989d\uff1a\u786e\u4fdd\u8d44\u6e90\u8db3\u591f\uff0c\u6ca1\u6709\u8d85\u51fa\u914d\u989d\u9650\u5236\u3002</li> <li>\u68c0\u67e5\u7f51\u7edc\u63d2\u4ef6\u548cCNI\u914d\u7f6e\uff1a\u786e\u4fdd\u7f51\u7edc\u63d2\u4ef6\u6b63\u5e38\u5de5\u4f5c\u3002</li> </ol> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u53ef\u4ee5\u9010\u6b65\u6392\u67e5Kubernetes\u96c6\u7fa4\u4e2d\u521d\u59cb\u5316\u5bb9\u5668\u65e0\u6cd5\u5b8c\u6210\u7684\u95ee\u9898\uff0c\u4ece\u800c\u89e3\u51b3Service\u6ca1\u6709Endpoints\u7684\u95ee\u9898\u3002\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u53ef\u4ee5\u8003\u8651\u68c0\u67e5\u5e94\u7528\u7a0b\u5e8f\u672c\u8eab\u7684\u914d\u7f6e\u548c\u72b6\u6001\u3002</p>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#2-pod_1","title":"2. \u68c0\u67e5Pod\u72b6\u6001\u548c\u65e5\u5fd7","text":"<p>\u786e\u4fdd\u76f8\u5173Pod\u6b63\u5728\u8fd0\u884c\u5e76\u4e14\u6ca1\u6709\u51fa\u73b0\u9519\u8bef\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770bPod\u7684\u72b6\u6001\uff1a</p> <pre><code>kubectl get pods -n &lt;namespace&gt;\n</code></pre> <p>\u7136\u540e\uff0c\u67e5\u770b\u76f8\u5173Pod\u7684\u65e5\u5fd7\uff0c\u4ee5\u786e\u5b9a\u5e94\u7528\u7a0b\u5e8f\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\uff1a</p> <pre><code>kubectl logs &lt;pod-name&gt; -n &lt;namespace&gt;\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#3-pod_1","title":"3. \u68c0\u67e5Pod\u5185\u5e94\u7528\u7a0b\u5e8f\u7aef\u53e3\u7ed1\u5b9a\u60c5\u51b5","text":"<p>\u767b\u5f55\u5230\u76f8\u5173Pod\u5185\uff0c\u4f7f\u7528 <code>netstat</code> \u6216 <code>ss</code> \u547d\u4ee4\u68c0\u67e5\u5e94\u7528\u7a0b\u5e8f\u662f\u5426\u5728\u76d1\u542c\u6307\u5b9a\u7aef\u53e3\uff0828668\uff09\uff1a</p> <pre><code>kubectl exec -it &lt;pod-name&gt; -n &lt;namespace&gt; -- /bin/sh\n\n# \u5728Pod\u5185\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\nnetstat -tuln | grep 28668\n</code></pre> <p>\u6216\u8005\uff1a</p> <pre><code>ss -tuln | grep 28668\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#4-port-forwarding","title":"4. \u4f7f\u7528Port Forwarding\u8fdb\u884c\u6d4b\u8bd5","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>kubectl port-forward</code> \u547d\u4ee4\u5c06\u672c\u5730\u7aef\u53e3\u8f6c\u53d1\u5230Pod\u4e2d\u7684\u7aef\u53e3\uff0c\u4ee5\u6d4b\u8bd5\u8fde\u63a5\u662f\u5426\u6b63\u5e38\u3002</p> <pre><code>kubectl port-forward pod/&lt;pod-name&gt; 28668:28668 -n &lt;namespace&gt;\n</code></pre> <p>\u7136\u540e\u5728\u672c\u5730\u673a\u5668\u4e0a\u5c1d\u8bd5\u8fde\u63a5\uff1a</p> <pre><code>telnet localhost 28668\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#5-cni","title":"5. \u68c0\u67e5\u7f51\u7edc\u63d2\u4ef6\u548cCNI\u914d\u7f6e","text":"<p>\u5982\u679c\u4f60\u7684\u96c6\u7fa4\u4f7f\u7528\u4e86\u7f51\u7edc\u63d2\u4ef6\uff08\u5982Flannel\u3001Calico\u7b49\uff09\uff0c\u9700\u8981\u786e\u4fdd\u7f51\u7edc\u63d2\u4ef6\u6b63\u5e38\u5de5\u4f5c\u3002\u53ef\u4ee5\u68c0\u67e5\u7f51\u7edc\u63d2\u4ef6\u7684Pod\u72b6\u6001\u548c\u65e5\u5fd7\uff1a</p> <pre><code>kubectl get pods -n kube-system | grep calico    # \u5982\u679c\u4f7f\u7528\u7684\u662fCalico\nkubectl get pods -n kube-system | grep flannel   # \u5982\u679c\u4f7f\u7528\u7684\u662fFlannel\n\n# \u67e5\u770b\u7f51\u7edc\u63d2\u4ef6\u7684\u65e5\u5fd7\nkubectl logs &lt;network-plugin-pod&gt; -n kube-system\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#6-tcpdumpwireshark","title":"6. \u4f7f\u7528tcpdump\u6216wireshark\u6293\u5305\u5206\u6790","text":"<p>\u5728\u8282\u70b9\u6216Pod\u4e0a\u4f7f\u7528 <code>tcpdump</code> \u6293\u5305\u5206\u6790\u6d41\u91cf\uff0c\u4ee5\u786e\u5b9a\u6570\u636e\u5305\u662f\u5426\u5230\u8fbe\u76ee\u6807\u7aef\u53e3\u3002\u9996\u5148\u5b89\u88c5 <code>tcpdump</code> \u5de5\u5177\uff0c\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u6293\u5305\uff1a</p>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#_4","title":"\u5728\u8282\u70b9\u4e0a\u6293\u5305\uff1a","text":"<pre><code>sudo tcpdump -i any port 28668\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#podtcpdump","title":"\u5728Pod\u5185\u6293\u5305\uff08\u9700\u8981\u5148\u5b89\u88c5tcpdump\uff09\uff1a","text":"<pre><code>kubectl exec -it &lt;pod-name&gt; -n &lt;namespace&gt; -- /bin/sh\n\n# \u5728Pod\u5185\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff08\u9700\u8981\u9884\u5148\u5b89\u88c5tcpdump\uff09\ntcpdump -i any port 28668\n</code></pre>"},{"location":"K8S/%E8%93%9D%E9%B2%B8agent%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/#_5","title":"\u603b\u7ed3\u6b65\u9aa4","text":"<ol> <li>\u68c0\u67e5Service\u7684Endpoints\uff1a\u786e\u4fddService\u6b63\u786e\u6307\u5411\u4e86\u76f8\u5173Pod\u3002</li> <li>\u68c0\u67e5Pod\u72b6\u6001\u548c\u65e5\u5fd7\uff1a\u786e\u4fdd\u76f8\u5173Pod\u6b63\u5728\u8fd0\u884c\uff0c\u5e76\u4e14\u5e94\u7528\u7a0b\u5e8f\u6ca1\u6709\u62a5\u9519\u3002</li> <li>\u68c0\u67e5\u5e94\u7528\u7a0b\u5e8f\u7aef\u53e3\u7ed1\u5b9a\u60c5\u51b5\uff1a\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u6b63\u5728\u76d1\u542c\u6307\u5b9a\u7aef\u53e3\u3002</li> <li>\u4f7f\u7528Port Forwarding\u8fdb\u884c\u6d4b\u8bd5\uff1a\u9a8c\u8bc1\u672c\u5730\u5230Pod\u7684\u8fde\u63a5\u662f\u5426\u6b63\u5e38\u3002</li> <li>\u68c0\u67e5\u7f51\u7edc\u63d2\u4ef6\u548cCNI\u914d\u7f6e\uff1a\u786e\u4fdd\u96c6\u7fa4\u7f51\u7edc\u914d\u7f6e\u6b63\u5e38\u3002</li> <li>\u6293\u5305\u5206\u6790\u6d41\u91cf\uff1a\u786e\u8ba4\u6570\u636e\u5305\u662f\u5426\u5230\u8fbe\u76ee\u6807\u7aef\u53e3\u3002</li> </ol> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u53ef\u4ee5\u9010\u6b65\u6392\u67e5Kubernetes\u96c6\u7fa4\u4e2d\u7279\u5b9a\u7aef\u53e3\u65e0\u6cd5\u8bbf\u95ee\u7684\u95ee\u9898\u3002\u6839\u636e\u5177\u4f53\u60c5\u51b5\u9009\u62e9\u6700\u9002\u5408\u7684\u65b9\u6cd5\u8fdb\u884c\u64cd\u4f5c\u3002\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u53ef\u4ee5\u8003\u8651\u68c0\u67e5\u5e94\u7528\u7a0b\u5e8f\u672c\u8eab\u7684\u914d\u7f6e\u548c\u72b6\u6001\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/K8S%20Node%E7%8A%B6%E6%80%81%20NotReady/","title":"K8S Node\u72b6\u6001 NotReady","text":"<p>\u5728 Kubernetes \u96c6\u7fa4\u4e2d\uff0c\u5982\u679c\u67d0\u4e2a\u8282\u70b9\uff08Node\uff09\u72b6\u6001\u4e3a\u00a0<code>NotReady</code>\uff0c\u8fd9\u610f\u5473\u7740\u8be5\u8282\u70b9\u5f53\u524d\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c Pod\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u539f\u56e0\u53ca\u5176\u89e3\u51b3\u65b9\u6cd5\uff1a</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/K8S%20Node%E7%8A%B6%E6%80%81%20NotReady/#1","title":"1. \u68c0\u67e5\u8282\u70b9\u72b6\u6001","text":"<p>\u9996\u5148\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u8282\u70b9\u7684\u8be6\u7ec6\u72b6\u6001\uff1a</p> <pre><code>kubectl describe node &lt;node-name&gt;\n</code></pre> <p>\u8fd9\u5c06\u663e\u793a\u8282\u70b9\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u4e8b\u4ef6\u65e5\u5fd7\u548c\u6761\u4ef6\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/K8S%20Node%E7%8A%B6%E6%80%81%20NotReady/#2-kubelet","title":"2. \u68c0\u67e5 Kubelet \u670d\u52a1","text":"<p>Kubelet \u662f Kubernetes \u8282\u70b9\u4e0a\u7684\u4e3b\u8981\u4ee3\u7406\uff0c\u8d1f\u8d23\u7ba1\u7406 Pod \u548c\u5bb9\u5668\u3002\u68c0\u67e5 Kubelet \u670d\u52a1\u662f\u5426\u6b63\u5728\u8fd0\u884c\uff1a</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/K8S%20Node%E7%8A%B6%E6%80%81%20NotReady/#systemd-linux","title":"\u5bf9\u4e8e\u7cfb\u7edf\u4f7f\u7528 systemd \u7684 Linux \u53d1\u884c\u7248","text":"<pre><code>sudo systemctl status kubelet\n</code></pre> <p>\u5982\u679c Kubelet \u6ca1\u6709\u8fd0\u884c\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u91cd\u65b0\u542f\u52a8\u5b83\uff1a</p> <pre><code>sudo systemctl restart kubelet\n</code></pre>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/K8S%20Node%E7%8A%B6%E6%80%81%20NotReady/#3","title":"3. \u68c0\u67e5\u7f51\u7edc\u8fde\u63a5","text":"<p>\u786e\u4fdd\u8282\u70b9\u80fd\u591f\u4e0e\u5176\u4ed6\u8282\u70b9\u548c\u4e3b\u63a7\u5e73\u9762\uff08Master\uff09\u901a\u4fe1\u3002\u53ef\u4ee5\u901a\u8fc7 ping \u6216 telnet \u547d\u4ee4\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\u3002\u4f8b\u5982\uff1a</p> <pre><code>ping &lt;master-node-ip&gt;\ntelnet &lt;master-node-ip&gt; 6443  # \u5047\u8bbe API Server \u5728\u7aef\u53e3 6443 \u4e0a\u8fd0\u884c\n</code></pre>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/K8S%20Node%E7%8A%B6%E6%80%81%20NotReady/#4","title":"4. \u68c0\u67e5\u78c1\u76d8\u7a7a\u95f4\u548c\u5185\u5b58","text":"<p>\u5982\u679c\u8282\u70b9\u4e0a\u7684\u78c1\u76d8\u7a7a\u95f4\u6216\u5185\u5b58\u4e0d\u8db3\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u00a0<code>NotReady</code>\u00a0\u72b6\u6001\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u78c1\u76d8\u7a7a\u95f4\u548c\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff1a</p> <pre><code># \u68c0\u67e5\u78c1\u76d8\u7a7a\u95f4\ndf -h\n\n# \u68c0\u67e5\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\nfree -m\n</code></pre>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/K8S%20Node%E7%8A%B6%E6%80%81%20NotReady/#5-docker","title":"5. \u68c0\u67e5 Docker \u6216\u5bb9\u5668\u8fd0\u884c\u65f6","text":"<p>\u5982\u679c\u4f60\u4f7f\u7528 Docker \u4f5c\u4e3a\u5bb9\u5668\u8fd0\u884c\u65f6\uff0c\u786e\u4fdd Docker \u670d\u52a1\u6b63\u5728\u8fd0\u884c\uff1a</p> <pre><code>sudo systemctl status docker\n\n# \u5982\u679c\u6ca1\u6709\u8fd0\u884c\uff0c\u53ef\u4ee5\u91cd\u542f Docker \u670d\u52a1\nsudo systemctl restart docker\n</code></pre> <p>\u5bf9\u4e8e\u5176\u4ed6\u5bb9\u5668\u8fd0\u884c\u65f6\uff0c\u8bf7\u76f8\u5e94\u5730\u68c0\u67e5\u5176\u670d\u52a1\u72b6\u6001\u3002</p>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/K8S%20Node%E7%8A%B6%E6%80%81%20NotReady/#6","title":"6. \u67e5\u770b\u65e5\u5fd7\u6587\u4ef6","text":"<p>\u67e5\u770b Kubelet \u548c Docker \u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u4ee5\u83b7\u53d6\u66f4\u591a\u9519\u8bef\u4fe1\u606f\u3002\u8fd9\u4e9b\u65e5\u5fd7\u901a\u5e38\u4f4d\u4e8e\u00a0<code>/var/log</code>\u00a0\u76ee\u5f55\u4e0b\u3002\u4f8b\u5982\uff1a</p> <pre><code># \u67e5\u770b Kubelet \u65e5\u5fd7\njournalctl -u kubelet -f\n\n# \u67e5\u770b Docker \u65e5\u5fd7\uff08\u5982\u679c\u4f7f\u7528\u7684\u662f Docker\uff09\njournalctl -u docker -f\n</code></pre>"},{"location":"K8S/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/K8S%20Node%E7%8A%B6%E6%80%81%20NotReady/#7","title":"7. \u68c0\u67e5\u8bc1\u4e66\u95ee\u9898","text":"<p>\u5982\u679c\u96c6\u7fa4\u8bc1\u4e66\u8fc7\u671f\u6216\u65e0\u6548\uff0c\u4e5f\u53ef\u80fd\u5bfc\u81f4\u8282\u70b9\u00a0<code>NotReady</code>\u3002\u68c0\u67e5\u8bc1\u4e66\u7684\u6709\u6548\u671f\uff0c\u5e76\u786e\u4fdd\u5b83\u4eec\u662f\u6709\u6548\u7684\u3002</p> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u5e94\u8be5\u80fd\u591f\u627e\u5230\u5e76\u89e3\u51b3\u5bfc\u81f4 Kubernetes \u8282\u70b9\u00a0<code>NotReady</code>\u00a0\u72b6\u6001\u7684\u95ee\u9898\u3002</p>"},{"location":"Linux/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"<p>\u5728Linux\u7cfb\u7edf\u4e2d\uff0c\u5f53\u4f60\u5c06\u78c1\u76d8\u00a0<code>/dev/vdb</code>\u00a0\u75311000G\u6269\u5bb9\u81f32000G\u540e\uff0c\u9700\u8981\u5bf9\u903b\u8f91\u5377\uff08LV\uff09\u8fdb\u884c\u6269\u5bb9\uff0c\u4ee5\u4f7f\u5176\u4f7f\u7528\u65b0\u7684\u78c1\u76d8\u7a7a\u95f4\u3002\u4ee5\u4e0b\u662f\u8be6\u7ec6\u6b65\u9aa4\uff1a</p>"},{"location":"Linux/%E6%9C%AA%E5%91%BD%E5%90%8D/#1","title":"1. \u786e\u8ba4\u65b0\u78c1\u76d8\u7a7a\u95f4\u662f\u5426\u5df2\u8bc6\u522b","text":"<p>\u9996\u5148\uff0c\u786e\u8ba4\u7cfb\u7edf\u5df2\u7ecf\u8bc6\u522b\u5230\u6269\u5bb9\u540e\u7684\u65b0\u78c1\u76d8\u7a7a\u95f4\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u7684\u78c1\u76d8\u548c\u5206\u533a\u60c5\u51b5\uff1a</p> <pre><code>lsblk\n</code></pre> <p>\u4f60\u5e94\u8be5\u770b\u5230\u00a0<code>/dev/vdb</code>\u00a0\u7684\u5927\u5c0f\u5df2\u7ecf\u53d8\u4e3a2000G\u3002</p>"},{"location":"Linux/%E6%9C%AA%E5%91%BD%E5%90%8D/#2-pv","title":"2. \u8c03\u6574\u7269\u7406\u5377\uff08PV\uff09\u4ee5\u4f7f\u7528\u65b0\u7a7a\u95f4","text":"<p>\u4f7f\u7528\u00a0<code>pvresize</code>\u00a0\u547d\u4ee4\u6765\u8c03\u6574\u7269\u7406\u5377\uff0c\u4f7f\u5176\u4f7f\u7528\u65b0\u7684\u78c1\u76d8\u7a7a\u95f4\u3002</p> <pre><code>pvresize /dev/vdb\n</code></pre>"},{"location":"Linux/%E6%9C%AA%E5%91%BD%E5%90%8D/#3-vg","title":"3. \u6269\u5c55\u5377\u7ec4\uff08VG\uff09","text":"<p>\u786e\u8ba4\u4f60\u7684\u5377\u7ec4\u5df2\u7ecf\u5305\u542b\u4e86\u65b0\u7684\u7269\u7406\u5377\u7a7a\u95f4\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e00\u6b65\u662f\u81ea\u52a8\u5b8c\u6210\u7684\uff0c\u4f46\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6765\u9a8c\u8bc1\uff1a</p> <pre><code>vgdisplay storage\n</code></pre> <p>\u786e\u4fdd\u00a0<code>Free PE / Size</code>\u00a0\u663e\u793a\u4e86\u65b0\u7684\u53ef\u7528\u7a7a\u95f4\u3002</p>"},{"location":"Linux/%E6%9C%AA%E5%91%BD%E5%90%8D/#4-lv","title":"4. \u6269\u5c55\u903b\u8f91\u5377\uff08LV\uff09","text":"<p>\u5047\u8bbe\u4f60\u7684\u903b\u8f91\u5377\u540d\u79f0\u662f\u00a0<code>storage-lvol0</code>\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u6269\u5c55\u903b\u8f91\u5377\uff1a</p> <pre><code>lvextend -l +100%FREE /dev/mapper/storage-lvol0\n</code></pre> <p>\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5c06\u6240\u6709\u5269\u4f59\u7684\u7a7a\u95f2PE\uff08Physical Extents\uff09\u6dfb\u52a0\u5230\u903b\u8f91\u5377\u4e2d\u3002</p>"},{"location":"Linux/%E6%9C%AA%E5%91%BD%E5%90%8D/#5","title":"5. \u8c03\u6574\u6587\u4ef6\u7cfb\u7edf\u5927\u5c0f","text":"<p>\u6700\u540e\uff0c\u8c03\u6574\u6587\u4ef6\u7cfb\u7edf\u5927\u5c0f\u4ee5\u4f7f\u7528\u65b0\u7684\u903b\u8f91\u5377\u7a7a\u95f4\u3002\u5177\u4f53\u547d\u4ee4\u53d6\u51b3\u4e8e\u4f60\u6240\u4f7f\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002</p>"},{"location":"Linux/%E6%9C%AA%E5%91%BD%E5%90%8D/#ext4","title":"\u5bf9\u4e8e\u00a0<code>ext4</code>\u00a0\u6587\u4ef6\u7cfb\u7edf\uff1a","text":"<pre><code>resize2fs /dev/mapper/storage-lvol0\n</code></pre>"},{"location":"Linux/%E6%9C%AA%E5%91%BD%E5%90%8D/#xfs","title":"\u5bf9\u4e8e\u00a0<code>xfs</code>\u00a0\u6587\u4ef6\u7cfb\u7edf\uff1a","text":"<pre><code>xfs_growfs /mount/point\n</code></pre> <p>\u8bf7\u5c06\u00a0<code>/mount/point</code>\u00a0\u66ff\u6362\u4e3a\u5b9e\u9645\u7684\u6302\u8f7d\u70b9\u8def\u5f84\u3002</p>"},{"location":"Linux/%E6%9C%AA%E5%91%BD%E5%90%8D/#_1","title":"\u793a\u4f8b\u64cd\u4f5c","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u793a\u4f8b\u64cd\u4f5c\u6d41\u7a0b\uff1a</p> <ol> <li> <p>\u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u4e2d\u7684\u78c1\u76d8\u548c\u5206\u533a\uff1a</p> <pre><code>lsblk\n</code></pre> </li> <li> <p>\u8c03\u6574\u7269\u7406\u5377\u4ee5\u4f7f\u7528\u65b0\u7684\u78c1\u76d8\u7a7a\u95f4\uff1a</p> <pre><code>pvresize /dev/vdb\n</code></pre> </li> <li> <p>\u786e\u8ba4\u5377\u7ec4\u5305\u542b\u65b0\u7684\u7269\u7406\u5377\u7a7a\u95f4\uff1a</p> <pre><code>vgdisplay storage\n</code></pre> </li> <li> <p>\u6269\u5c55\u903b\u8f91\u5377\u4ee5\u4f7f\u7528\u6240\u6709\u5269\u4f59\u7684\u7a7a\u95f2PE\uff1a</p> <pre><code>lvextend -l +100%FREE /dev/mapper/storage-lvol0\n</code></pre> </li> <li> <p>\u8c03\u6574\u6587\u4ef6\u7cfb\u7edf\u5927\u5c0f\u4ee5\u4f7f\u7528\u65b0\u7684\u903b\u8f91\u5377\u7a7a\u95f4\uff1a</p> <ul> <li> <p>\u5bf9\u4e8e\u00a0<code>ext4</code>\u00a0\u6587\u4ef6\u7cfb\u7edf\uff1a</p> <pre><code>resize2fs /dev/mapper/storage-lvol0\n</code></pre> </li> <li> <p>\u5bf9\u4e8e\u00a0<code>xfs</code>\u00a0\u6587\u4ef6\u7cfb\u7edf\uff1a</p> <pre><code>xfs_growfs /mount/point\n</code></pre> </li> </ul> </li> </ol>"},{"location":"Linux/%E6%9C%AA%E5%91%BD%E5%90%8D/#_2","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u6570\u636e\u5907\u4efd\uff1a\u5728\u6267\u884c\u4efb\u4f55\u6d89\u53ca\u78c1\u76d8\u548c\u5206\u533a\u7684\u64cd\u4f5c\u4e4b\u524d\uff0c\u52a1\u5fc5\u5907\u4efd\u91cd\u8981\u6570\u636e\u3002</li> <li>\u6743\u9650\uff1a\u786e\u4fdd\u4f60\u5177\u6709\u8db3\u591f\u7684\u6743\u9650\u6765\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c\uff08\u901a\u5e38\u9700\u8981root\u6743\u9650\uff09\u3002</li> <li>\u8bbe\u5907\u540d\u79f0\uff1a\u786e\u4fdd\u4f7f\u7528\u6b63\u786e\u7684\u8bbe\u5907\u540d\u79f0\uff0c\u4ee5\u907f\u514d\u8bef\u64cd\u4f5c\u3002</li> </ul> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u6210\u529f\u5730\u5bf9\u903b\u8f91\u5377\u8fdb\u884c\u6269\u5bb9\uff0c\u4f7f\u5176\u5229\u7528\u6269\u5bb9\u540e\u7684\u78c1\u76d8\u7a7a\u95f4\u3002\u5982\u679c\u4f60\u8fd8\u6709\u5176\u4ed6\u95ee\u9898\u6216\u9700\u8981\u8fdb\u4e00\u6b65\u5e2e\u52a9\uff0c\u8bf7\u968f\u65f6\u544a\u8bc9\u6211\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/","title":"\u8d44\u6e90\u51c6\u5907","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#1","title":"1. \u7f51\u7edc\u8981\u6c42","text":"<p>\u56e0\u4e3a\u4e0b\u8f7d\u7684\u955c\u50cf\u8f83\u5927\uff0c\u6240\u4ee5\u63a8\u8350\u516c\u7f51\u5e26\u5bbd\u81f3\u5c11\u4e3a 50Mbps\u3002\u5982\u679c\u5e26\u5bbd\u8fc7\u4f4e\uff0c\u5219\u62c9\u53d6\u955c\u50cf\u4f1a\u6d88\u8017\u66f4\u591a\u65f6\u95f4\uff0c\u53ef\u80fd\u5bfc\u81f4\u90e8\u7f72\u8d85\u65f6\u3002</p> <ol> <li>\u4e2d\u63a7\u673a\uff08\u90e8\u7f72\u524d\u6587\u4ef6\u4e0b\u8f7d\uff0c\u4ee5\u53ca\u90e8\u7f72\u5f00\u59cb\u65f6\u4e0b\u8f7d charts\uff09\uff1a</li> <li>\u9700\u8981\u80fd\u8bbf\u95ee\u84dd\u9cb8\u9759\u6001\u6587\u4ef6\u5206\u53d1\u7ad9\u70b9\uff1a<code>https://bkopen-1252002024.file.myqcloud.com</code>\u3002</li> <li> <p>\u9700\u8981\u80fd\u8bbf\u95ee\u84dd\u9cb8 Helm repo\uff1a<code>https://hub.bktencent.com/</code>\u3002</p> </li> <li> <p>k8s \u96c6\u7fa4\uff08\u90e8\u7f72\u671f\u95f4\u9700\u8981\u8054\u7f51\u4e0b\u8f7d\u5bb9\u5668\u955c\u50cf\uff09\uff1a</p> </li> <li>\u9700\u8981\u80fd\u8bbf\u95ee Docker Hub\uff1a <code>https://docker.io</code> \u7b49\u3002</li> <li>\u9700\u8981\u80fd\u8bbf\u95ee\u84dd\u9cb8 Docker registry\uff1a <code>https://hub.bktencent.com/</code>\u3002</li> </ol>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#2","title":"2. \u4e2d\u63a7\u673a\u786c\u4ef6","text":"<p>\u4f60\u9700\u8981\u4e00\u53f0\u673a\u5668\u6267\u884c\u90e8\u7f72\u64cd\u4f5c\u3002\u6211\u4eec\u6cbf\u7528\u60ef\u4f8b\u79f0\u5176\u4e3a\u201c\u4e2d\u63a7\u673a\u201d\u3002\u540e\u7eed\u5bf9\u84dd\u9cb8\u8fdb\u884c\u7ef4\u62a4\u64cd\u4f5c\u65f6\uff0c\u76f8\u5173\u547d\u4ee4\u4e5f\u662f\u9884\u671f\u5728\u4e2d\u63a7\u673a\u6267\u884c\u3002</p> <p>\u5efa\u8bae\u4f60\u590d\u7528\u5df2\u6709\u7684\u8fd0\u7ef4\u673a\u3002\u5982\u679c\u8ba1\u5212\u8bbe\u7acb\u5355\u72ec\u7684\u4e2d\u63a7\u673a\uff0c\u914d\u7f6e\u53ea\u9700\u8981 2 \u6838 2GB \u5185\u5b58 100GB \u78c1\u76d8\u5373\u53ef\u3002</p> <p>\u7cfb\u7edf\u63a8\u8350\u4e3a CentOS 7\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#3-k8s","title":"3. k8s \u96c6\u7fa4\u786c\u4ef6\u6570\u91cf\u53ca\u8f6f\u4ef6","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#31","title":"3.1. \u96c6\u7fa4\u89d2\u8272","text":"<p>\u6ce8\u610f</p> <p>k8s \u793e\u533a\u4e60\u60ef\u4ee5 <code>master</code> \u548c <code>node</code> \u79f0\u547c\u96c6\u7fa4\u89d2\u8272\uff0c\u672c\u6587\u6cbf\u7528\u6b64\u4e60\u60ef\u3002\u4f46\u662f k8s \u5b98\u7f51\u6587\u6863\u4e2d\u5df2\u7ecf\u5c06\u4e8c\u8005\u7edf\u79f0\u4e3a \u201cnode\u201d\uff08\u8282\u70b9\uff09\u3002</p> <p>\u6545\u9664\u975e\u53e6\u6709\u8bf4\u660e\uff0c\u90e8\u7f72\u6587\u6863\u4e2d\u7684 <code>node</code> \u4e00\u8bcd\u9ed8\u8ba4\u4e0d\u5305\u542b <code>master</code>\u3002\u5f53\u6307\u4ee3\u4e8c\u8005\u96c6\u5408\u65f6\uff0c\u6211\u4eec\u4f1a\u4f7f\u7528 \u201c\u5168\u90e8 node\u201d \u6765\u79f0\u547c\u3002</p> <p>\u5982\u679c\u4f60\u9009\u62e9\u81ea\u5efa k8s \u96c6\u7fa4\uff0c\u5219\u9700\u6839\u636e\u7c7b\u578b\u51c6\u5907\u5408\u4e4e\u89c4\u683c\u7684\u673a\u5668\uff08\u7269\u7406\u673a\u6216\u865a\u62df\u673a\u5747\u53ef\uff09\uff1a * <code>master</code>\uff0c\u4e5f\u79f0\u4e3a <code>master-node</code>\u3002 \u8d1f\u8d23 k8s \u96c6\u7fa4\u672c\u8eab\u7684\u7ba1\u7406\u8c03\u5ea6\uff0c\u914d\u7f6e\u81f3\u5c11\u4e3a 4 \u6838\u5fc3 8GB \u5185\u5b58 100GB \u78c1\u76d8\u3002 * <code>node</code> \u8d1f\u8d23\u627f\u8f7d\u4e1a\u52a1\u8fd0\u884c\u3002\u6bcf\u53f0\u673a\u5668\u914d\u7f6e\u81f3\u5c11\u4e3a 8 \u6838\u5fc3 32GB \u5185\u5b58\u3002   * \u5982\u679c\u4f60\u7684 k8s \u5b58\u50a8\u7531 node \u672c\u5730\u63d0\u4f9b\uff0c\u78c1\u76d8 IO \u6027\u80fd\u81f3\u5c11\u4e3a <code>100op/s</code>\u3002\u5e76\u786e\u4fdd\u6bcf\u53f0 node \u7684 <code>/data</code> \u76ee\u5f55\u5177\u5907 <code>90GB</code> \u4ee5\u4e0a\u7684 \u53ef\u7528\u78c1\u76d8\u7a7a\u95f4\u3002\u6761\u4ef6\u5141\u8bb8\u7684\u8bdd\uff0c\u5efa\u8bae\u51c6\u5907 300GB \u4ee5\u4e0a\u7684\u78c1\u76d8\u3002   * \u5982\u679c\u4f60\u7684 k8s \u4f7f\u7528\u52a8\u6001\u4f9b\u5e94\u5b58\u50a8\uff08\u5982 nfs \uff09\uff0c\u5219\u5bf9\u4e8e node \u81ea\u8eab\u7684\u78c1\u76d8\u5bb9\u91cf\u6ca1\u6709\u8981\u6c42\u3002\u6b64\u65f6\u9700\u8981 storage provisioner \u80fd\u4fdd\u969c\u4f9b\u5e94\u7ed9\u84dd\u9cb8\u7684 IOPS \u81f3\u5c11\u4e3a <code>300op/s</code>\uff0c\u53ef\u7528\u7a7a\u95f4\u81f3\u5c11 <code>230GB</code>\uff0c\u5f53\u542f\u7528\u4e86 \u65e5\u5fd7\u3001metrics\u3001apm \u7b49\u5927\u91cf\u5360\u7528\u78c1\u76d8\u7684\u529f\u80fd\u540e\uff0c\u8981\u80fd\u53ca\u65f6\u6269\u5bb9\u7a7a\u95f4\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#32","title":"3.2. \u8d44\u6e90\u8bc4\u4f30\u8868","text":"<p>\u6211\u4eec\u6574\u7406\u4e86\u5404\u5957\u9910\u6240\u9700\u7684 node \u6570\u91cf\u3002\u5982\u679c\u4f60\u7684\u786c\u4ef6\u914d\u7f6e\u548c\u201c\u96c6\u7fa4\u89d2\u8272\u201d\u7ae0\u8282\u4e2d\u63a8\u8350\u89c4\u683c\u4e0d\u540c\uff0c\u8bf7\u81ea\u884c\u6298\u7b97\u3002</p> \u84dd\u9cb8\u5957\u9910 \u63cf\u8ff0 \u63a8\u8350\u914d\u7f6e \u5907\u6ce8 \u57fa\u7840\u5957\u9910 \u540e\u53f0\u53ca SaaS 3 \u53f0 node \u5bb9\u5668\u7ba1\u7406\u5e73\u53f0 \u5bb9\u5668\u7ba1\u7406\u540e\u53f0\u53ca SaaS 1 \u53f0 node \u76d1\u63a7\u5957\u9910 \u76d1\u63a7\u3001\u65e5\u5fd7\u670d\u52a1\u53ca\u5176 SaaS 2 \u53f0 node \u5982\u542f\u7528\u5bb9\u5668\u76d1\u63a7\uff0ck8s \u96c6\u7fa4\u5b58\u50a8\u5e94\u5927\u4e8e 500G \u6301\u7eed\u96c6\u6210\u5957\u9910 \u76ee\u524d\u4ec5\u5305\u542b\u6d41\u6c34\u7ebf 2 \u53f0 node \u6d41\u6c34\u7ebf\u4efb\u52a1\u8f83\u591a\u65f6\u9700\u6269\u5bb9 node"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#33","title":"3.3. \u8f6f\u4ef6\u8981\u6c42","text":"\u9700\u6c42\u9879 \u5177\u4f53\u8981\u6c42 \u68c0\u67e5\u547d\u4ee4 \u64cd\u4f5c\u7cfb\u7edf CentOS 7.9 64 \u4f4d <code>cat /etc/centos-release</code> kernel 3.10.0 \u53ca\u4ee5\u4e0a <code>uname -r</code> Swap \u5173\u95ed\u3002\u9632\u6b62 io \u98d9\u5347\u5f71\u54cd kubelet \u8fdb\u7a0b\u3002 <code>free -m</code> Swap \u8fd9\u884c\u503c\u4e3a 0 \u9632\u706b\u5899 \u5173\u95ed <code>iptables -vnL</code> \u65e0\u5176\u4ed6\u89c4\u5219 SELinux \u5173\u95ed\u3002k8s \u5b98\u65b9\u8981\u6c42\u3002 <code>getenforce</code> \u7684\u8f93\u51fa\u4e3a Disabled \u65f6\u533a \u6240\u6709\u670d\u52a1\u5668\u65f6\u533a\u5e94\u8be5\u7edf\u4e00\uff0c\u5efa\u8bae\u4f7f\u7528\u5317\u4eac\u65f6\u95f4 \u4f7f\u7528 <code>timedatectl set-timezone Asia/Shanghai</code> \u8bbe\u7f6e\u4e3a\u5317\u4eac\u65f6\u95f4\u3002 \u65f6\u95f4\u540c\u6b65 etcd \u9009\u4e3e\u65f6\u8981\u6c42\u8282\u70b9\u95f4\u65f6\u95f4\u5dee\u5c0f\u4e8e 1s \u914d\u7f6e <code>chronyd</code> \u540c\u6b65\u65f6\u95f4 docker \u7248\u672c 19.03 \u53ca\u66f4\u9ad8 <code>docker version</code> kubenetes \u7248\u672c \u5728 1.20 \u4e0e 1.23 \u7248\u672c\u6d4b\u8bd5\u8fc7\uff0c\u5176\u4ed6\u7248\u672c\u672a\u7ecf\u6d4b\u8bd5\u30021.24 \u7248\u672c\u6682\u4e0d\u652f\u6301 containerd\uff0c1.17 \u7248\u672c\u90e8\u7f72 bcs \u4f1a\u5931\u8d25\u3002 <code>kubectl version</code>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#4-dns","title":"4. \u4fee\u6539DNS\u670d\u52a1\u5668","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#401-nmcli","title":"4.0.1. \u4f7f\u7528nmcli\u547d\u4ee4\u884c\u5de5\u5177","text":"<p>\u9996\u5148\uff0c\u5217\u51fa\u6240\u6709\u7f51\u7edc\u8fde\u63a5\uff1a</p> <pre><code>nmcli con show\n</code></pre> <p>\u627e\u5230\u4f60\u8981\u4fee\u6539\u7684\u8fde\u63a5\u540d\u79f0\uff0c\u7136\u540e\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4fee\u6539DNS\u670d\u52a1\u5668\uff1a</p> <pre><code>nmcli con mod &lt;connection_name&gt; ipv4.ignore-auto-dns yes\nnmcli con mod &lt;connection_name&gt; ipv4.dns \"8.8.8.8 8.8.4.4\"\nnmcli con up &lt;connection_name&gt;\n</code></pre> <p>\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u7684\u8fde\u63a5\u540d\u79f0\u662f<code>Wired connection 1</code>\uff0c\u53ef\u4ee5\u8fd9\u6837\u4fee\u6539\uff1a</p> <pre><code>nmcli con mod \"eth0\" ipv4.ignore-auto-dns yes\nnmcli con mod \"eth0\" ipv4.dns \"10.32.163.183 10.32.163.23\"\nnmcli con up \"eth0\"\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#41","title":"4.1. \u9a8c\u8bc1\u914d\u7f6e","text":"<p>\u65e0\u8bba\u4f7f\u7528\u54ea\u79cd\u65b9\u6cd5\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u9a8c\u8bc1\u65b0\u7684DNS\u670d\u52a1\u5668\u662f\u5426\u751f\u6548\uff1a</p> <pre><code>cat /etc/resolv.conf\n</code></pre> <p>\u4f60\u5e94\u8be5\u80fd\u770b\u5230\u65b0\u7684DNS\u670d\u52a1\u5668\u5730\u5740\u51fa\u73b0\u5728\u8f93\u51fa\u4e2d\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#411-swap","title":"4.1.1. \u5173\u95ed Swap\u68c0\u67e5","text":"<p>\u6267\u884c<code>free -m</code> Swap \u8fd9\u884c\u503c\u4e3a 0\u3002\u5982\u4e0d\u4e3a0\uff0c\u9700\u8981\u5173\u95edSwap</p> <p>\u8981\u6c38\u4e45\u7981\u7528SWAP\uff0c\u4f60\u9700\u8981\u4fee\u6539<code>/etc/fstab</code>\u6587\u4ef6\uff0c\u4ee5\u9632\u6b62\u7cfb\u7edf\u5728\u542f\u52a8\u65f6\u81ea\u52a8\u542f\u7528SWAP\u3002</p> <ol> <li>\u5907\u4efd<code>/etc/fstab</code>\u6587\u4ef6</li> </ol> <p>\u5728\u8fdb\u884c\u4efb\u4f55\u4fee\u6539\u4e4b\u524d\uff0c\u6700\u597d\u5148\u5907\u4efd<code>/etc/fstab</code>\u6587\u4ef6\uff1a</p> <pre><code>sudo cp /etc/fstab /etc/fstab.bak\n</code></pre> <ol> <li>\u7f16\u8f91<code>/etc/fstab</code>\u6587\u4ef6</li> </ol> <p>\u4f7f\u7528\u6587\u672c\u7f16\u8f91\u5668\u6253\u5f00<code>/etc/fstab</code>\u6587\u4ef6\uff0c\u4f8b\u5982\u4f7f\u7528 <code>vi</code> \u6216 <code>nano</code>\uff1a</p> <pre><code>sudo vi /etc/fstab\n</code></pre> <ol> <li>\u6ce8\u91ca\u6389\u6216\u5220\u9664\u4e0eSWAP\u76f8\u5173\u7684\u884c</li> </ol> <p>\u627e\u5230\u4e0eSWAP\u76f8\u5173\u7684\u884c\uff0c\u901a\u5e38\u4ee5 <code>swap</code> \u6216 <code>/swapfile</code> \u5f00\u5934\u3002\u4f60\u53ef\u4ee5\u6ce8\u91ca\u6389\u8fd9\u4e9b\u884c\uff08\u5728\u884c\u524d\u52a0\u4e0a <code>#</code>\uff09\u6216\u8005\u76f4\u63a5\u5220\u9664\u5b83\u4eec\u3002\u4f8b\u5982\uff1a</p> <pre><code># /dev/sda2       none            swap       sw              0       0\n# /swapfile       none            swap       sw              0       0\n</code></pre> <ol> <li> <p>\u4fdd\u5b58\u5e76\u9000\u51fa\u7f16\u8f91\u5668</p> </li> <li> <p>\u7981\u7528\u5f53\u524d\u4f1a\u8bdd\u4e2d\u7684SWAP</p> </li> </ol> <p>\u5373\u4f7f\u4f60\u5df2\u7ecf\u4ece <code>/etc/fstab</code> \u4e2d\u5220\u9664\u4e86 SWAP \u6761\u76ee\uff0c\u4f60\u4ecd\u7136\u9700\u8981\u7981\u7528\u5f53\u524d\u4f1a\u8bdd\u4e2d\u7684 SWAP\uff1a</p> <pre><code>sudo swapoff -a\n</code></pre> <ol> <li>\u91cd\u542f\u7cfb\u7edf</li> </ol> <p>\u91cd\u542f\u7cfb\u7edf\u4ee5\u786e\u4fdd\u66f4\u6539\u751f\u6548\uff0c\u5e76\u9a8c\u8bc1 SWAP \u662f\u5426\u5df2\u88ab\u6c38\u4e45\u7981\u7528\uff1a</p> <pre><code>sudo reboot\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#42","title":"4.2. \u9a8c\u8bc1","text":"<p>\u7cfb\u7edf\u91cd\u542f\u540e\uff0c\u68c0\u67e5 SWAP \u72b6\u6001\u4ee5\u786e\u4fdd\u5b83\u5df2\u88ab\u7981\u7528\uff1a</p> <pre><code>swapon --show\n</code></pre> <p>\u5982\u679c\u8f93\u51fa\u4e3a\u7a7a\uff0c\u8868\u793a SWAP \u5df2\u6210\u529f\u88ab\u7981\u7528\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#421-selinux","title":"4.2.1. \u5173\u95ed SELinux","text":"<pre><code># \u68c0\u67e5 SELinux \u7684\u72b6\u6001\uff0c\u5982\u679c\u5b83\u5df2\u7ecf\u7981\u7528\uff0c\u53ef\u4ee5\u8df3\u8fc7\u540e\u9762\u7684\u547d\u4ee4\nsestatus\n</code></pre> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u7981\u7528 SELinux\u3002</p> <pre><code>sed -i 's/^SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config\n</code></pre> <p>\u63a5\u7740\uff0c\u91cd\u542f\u673a\u5668\uff1a</p> <pre><code>reboot\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#422-swap-selinux","title":"4.2.2. \u68c0\u67e5swap \u548cselinux \u662f\u5426\u5173\u95ed","text":"<pre><code>#   =&gt; Swap \u8fd9\u884c\u503c\u4e3a 0\nfree -m\n</code></pre> <pre><code># \u68c0\u67e5 SELinux \u7684\u72b6\u6001\nsestatus\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#423-firewalld","title":"4.2.3. \u5173\u95ed\u9ed8\u8ba4\u9632\u706b\u5899(firewalld)","text":"<p>\u5b89\u88c5\u548c\u8fd0\u884c\u84dd\u9cb8\u65f6\uff0c\u6a21\u5757\u4e4b\u95f4\u4e92\u76f8\u8bbf\u95ee\u7684\u7aef\u53e3\u7b56\u7565\u8f83\u591a\uff0c\u5efa\u8bae\u5bf9\u84dd\u9cb8\u540e\u53f0\u670d\u52a1\u5668\u4e4b\u95f4\u5173\u95ed\u9632\u706b\u5899\u3002</p> <pre><code># \u68c0\u67e5\u9ed8\u8ba4\u9632\u706b\u5899\u72b6\u6001\uff0c\u5982\u679c\u8fd4\u56de not running\uff0c\u53ef\u4ee5\u8df3\u8fc7\u540e\u9762\u7684\u547d\u4ee4\nfirewall-cmd --state\n</code></pre> <p>\u505c\u6b62\u5e76\u7981\u7528 firewalld</p> <pre><code>systemctl stop firewalld    # \u505c\u6b62 firewalld\nsystemctl disable firewalld # \u7981\u7528 firewall \u5f00\u673a\u542f\u52a8\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#424","title":"4.2.4. \u65f6\u533a\u914d\u7f6e","text":"<pre><code>timedatectl set-timezone Asia/Shanghai\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#425","title":"4.2.5. \u786e\u8ba4\u670d\u52a1\u5668\u65f6\u95f4\u540c\u6b65","text":"<p>\u670d\u52a1\u5668\u540e\u53f0\u65f6\u95f4\u4e0d\u540c\u6b65\u4f1a\u5bf9\u65f6\u95f4\u654f\u611f\u7684\u670d\u52a1\u5e26\u6765\u4e0d\u53ef\u9884\u89c1\u7684\u540e\u679c\u3002\u52a1\u5fc5\u5728\u5b89\u88c5\u548c\u4f7f\u7528\u84dd\u9cb8\u65f6\u4fdd\u8bc1\u65f6\u95f4\u540c\u6b65\u3002</p> <pre><code># \u68c0\u67e5\u6bcf\u53f0\u673a\u5668\u5f53\u524d\u65f6\u95f4\u548c\u65f6\u533a\u662f\u5426\u4e00\u81f4\uff0c\u82e5\u76f8\u4e92\u4e4b\u95f4\u5dee\u522b\u5927\u4e8e3s(\u8003\u8651\u6279\u91cf\u6267\u884c\u65f6\u7684\u65f6\u5dee)\uff0c\u5efa\u8bae\u6821\u65f6\u3002\ndate -R\n\n# \u67e5\u770b\u548cntp server\u7684\u65f6\u95f4\u5dee\u5f02(\u9700\u8981\u5916\u7f51\u8bbf\u95ee\uff0c\u5982\u679c\u5185\u7f51\u6709ntpd\u670d\u52a1\u5668\uff0c\u81ea\u884c\u66ff\u6362\u57df\u540d\u4e3a\u8be5\u670d\u52a1\u7684\u5730\u5740)\nntpdate -d cn.pool.ntp.org\n</code></pre> <p>\u5982\u679c\u8f93\u51fa\u7684\u6700\u540e\u4e00\u884c offset \u5927\u4e8e 1s \u5efa\u8bae\u6821\u65f6\u3002</p> <pre><code># \u548c ntp \u670d\u52a1\u5668\u540c\u6b65\u65f6\u95f4\nntpdate cn.pool.ntp.org\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#426-dns","title":"4.2.6. \u68c0\u67e5 DNS \u914d\u7f6e\u6587\u4ef6","text":"<p>\u68c0\u67e5 DNS \u914d\u7f6e\u6587\u4ef6 /etc/resolv.conf \u662f\u5426\u88ab\u52a0\u9501\uff0c\u5982\u6709\u8bf7\u4e34\u65f6\u89e3\u9501\u3002</p> <pre><code># \u68c0\u67e5\u6587\u4ef6\u5c5e\u6027\nlsattr /etc/resolv.conf\n\n# \u5982\u6709\u52a0\u9501\uff0c\u8bf7\u4e34\u65f6\u89e3\u9501\u5904\u7406\nchattr -i /etc/resolv.conf\n</code></pre> <p>DNS \u914d\u7f6e\u6587\u4ef6 /etc/resolv.conf \u5728\u5b89\u88c5\u84dd\u9cb8\u8fc7\u7a0b\u4e2d\u4f1a\u81ea\u52a8\u4fee\u6539\u3002\u91cd\u542f\u4e3b\u673a\u540e\uff0c\u67d0\u4e9b\u7f51\u7edc\u914d\u7f6e\u4f1a\u5bfc\u81f4\u8be5\u6587\u4ef6\u88ab\u8fd8\u539f\u4e3a\u521d\u59cb\u72b6\u6001\u3002</p> <p>\u5b89\u88c5\u524d\u5148\u786e\u8ba4 \u201c\u4fee\u6539 /etc/resolv.conf \u5e76\u91cd\u542f\u4e3b\u673a\uff0c\u662f\u5426\u88ab\u8fd8\u539f\u201d \u3002\u5982\u679c\u88ab\u8fd8\u539f\uff0c\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u7ea2\u5e3d\u5b98\u65b9\u7684\u6587\u6863\u89e3\u51b3\uff1a https://access.redhat.com/solutions/7412</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#427-yum","title":"4.2.7. \u4fee\u6539\u7cfb\u7edfyum\u6e90","text":"<p>\u5907\u4efd\u7cfb\u7edf\u539f\u6765yum\u6e90\u4e4b\u540e\uff0c\u66f4\u65b0\u7cfb\u7edfyum\u6e90\u4e3a\u817e\u8bafyum\u6e90</p> <pre><code># \u66f4\u65b0yum\u6e90\ncd /etc/yum.repos.d/\nmkdir yumbak\nmv *.repo yumbak\n# \u4e0a\u4f20yum\u6e90,\u5c06yum\u6e90\u76ee\u5f55\u91cc\u7684\u4e09\u4e2arepo\u6587\u4ef6\u4e0a\u4f20\nyum clean all\nyum makecache \n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-1%20%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87/#_2","title":"\u4e0b\u4e00\u6b65","text":"<p>\u4f7f\u7528 bcs.sh \u5feb\u901f\u90e8\u7f72 k8s \u96c6\u7fa4.md\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-2%20%E4%BD%BF%E7%94%A8%20bcs.sh%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%20k8s%20%E9%9B%86%E7%BE%A4/","title":"\u4f7f\u7528 bcs.sh \u5feb\u901f\u90e8\u7f72 k8s \u96c6\u7fa4","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-2%20%E4%BD%BF%E7%94%A8%20bcs.sh%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%20k8s%20%E9%9B%86%E7%BE%A4/#1-master","title":"1. \u90e8\u7f72\u521d\u59cb master","text":"<p>\u6b22\u8fce\u4f7f\u7528\u84dd\u9cb8\u63d0\u4f9b\u7684 <code>bcs.sh</code> \u811a\u672c\u5feb\u901f\u90e8\u7f72 k8s \u96c6\u7fa4\u3002</p> <p>\u8bf7\u5728 \u7b2c\u4e00\u53f0 <code>master</code> \u673a\u5668\uff08\u4e0b\u6587\u79f0\u4e3a \u521d\u59cb master\uff0c\u65b0\u624b\u7528\u6237\u5efa\u8bae\u590d\u7528 \u4e2d\u63a7\u673a\uff09\u4e0a\u6267\u884c\u6b64\u547d\u4ee4\uff1a <pre><code>curl -fsSL https://bkopen-1252002024.file.myqcloud.com/ce7/bcs.sh | bash -s -- -i k8s\n</code></pre></p> <p>\u5b89\u88c5\u6210\u529f\u540e\u8f93\u51fa\u5982\u4e0b\u56fe\u6240\u793a\uff08\u7ea2\u6846\u5185\u7684\u547d\u4ee4\u4f1a\u5728\u6269\u5bb9\u7ae0\u8282\u91cc\u8bf4\u660e\u83b7\u53d6\u65b9\u6cd5\uff0c\u6b64\u65f6\u65e0\u9700\u4fdd\u5b58\uff09: </p> <p>\u8fd9\u8868\u793a\u4f60\u6210\u529f\u90e8\u7f72\u4e86\u4e00\u4e2a k8s \u96c6\u7fa4\uff0c\u6b64\u65f6\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>kubectl</code> \u547d\u4ee4\u4e86\u3002\u63a5\u4e0b\u6765\u5f00\u59cb\u6dfb\u52a0\u8282\u70b9\u5427\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-2%20%E4%BD%BF%E7%94%A8%20bcs.sh%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%20k8s%20%E9%9B%86%E7%BE%A4/#2","title":"2. \u6269\u5bb9\u8282\u70b9","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-2%20%E4%BD%BF%E7%94%A8%20bcs.sh%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%20k8s%20%E9%9B%86%E7%BE%A4/#21","title":"2.1. \u83b7\u53d6\u6269\u5bb9\u547d\u4ee4","text":"<p>\u5728 \u521d\u59cb master \u673a\u5668\u4e0a\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u53ef\u663e\u793a\u6269\u5bb9\u547d\u4ee4\uff1a <pre><code>curl -fsSL https://bkopen-1252002024.file.myqcloud.com/ce7/bcs.sh | bash -s -- -i k8sctrl\n</code></pre> \u4e0a\u8ff0\u547d\u4ee4\u7684\u8f93\u51fa\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u4e0d\u540c\u7c7b\u578b\u7684\u8282\u70b9\u6269\u5bb9\u547d\u4ee4\u4e0d\u540c\uff0c\u8bf7\u6309\u9700\u9009\u62e9\uff1a * \u5982\u679c\u8981\u6269\u5bb9 <code>master</code>\uff0c\u8bf7\u590d\u5236 \u6269\u5bb9\u63a7\u5236\u5e73\u9762 \u4e0b\u65b9\u7684\u5168\u90e8\u547d\u4ee4\u3002   \u6ce8\uff1a\u5728\u8fd9\u91cc\u4eec\u53ea\u8bbe\u7f6e\u4e00\u4e2amaster\u7ed3\u70b9\u3002   \u6ce8\u610f master \u603b\u6570\u91cf \u5e94\u8be5\u4e3a \u5947\u6570\uff0c\u4e00\u822c\u4e3a 1\u30013\u30015\uff0c\u5982\u9700\u66f4\u591a master\uff0c\u8bf7\u6839\u636e\u96c6\u7fa4\u89c4\u6a21\u8c28\u614e\u8bc4\u4f30\u3002\u6269\u5bb9\u540e\u8bf7\u81ea\u884c\u53c2\u8003 k8s \u5b98\u7f51\u6587\u6863\u914d\u7f6e\u9ad8\u53ef\u7528\u3002 * \u5982\u679c\u8981\u6269\u5bb9 <code>node</code>\uff0c\u8bf7\u590d\u5236 \u6269\u5bb9\u8282\u70b9 \u4e0b\u65b9\u7684\u5168\u90e8\u547d\u4ee4\u3002 </p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-2%20%E4%BD%BF%E7%94%A8%20bcs.sh%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%20k8s%20%E9%9B%86%E7%BE%A4/#22","title":"2.2. \u6267\u884c\u6269\u5bb9","text":"<p>\u63d0\u793a</p> <p>\u540c\u4e00\u7c7b\u578b\u7684\u673a\u5668\u6269\u5bb9\u547d\u4ee4\u76f8\u540c\u3002</p> <p>\u5728\u5f85\u6269\u5bb9\u7684\u673a\u5668\u4e0a\u7c98\u8d34\u521a\u624d\u590d\u5236\u7684\u547d\u4ee4\u3002\u6269\u5bb9\u6210\u529f\u540e, \u4f1a\u5728\u7ed3\u5c3e\u8f93\u51fa: <pre><code>This node has joined the cluster:\n* Certificate signing request was sent to apiserver and a response was received.\n* The Kubelet was informed of the new secure connection details.\n\nRun 'kubectl get nodes' on the control-plane to see this node join the cluster.\n\n[INFO]: \u6dfb\u52a0Kubernetes\u8282\u70b9\u6210\u529f\n\n[INFO]: LAN_IP: 10.0.0.5\n  Welcome to BCS on qcloud\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-2%20%E4%BD%BF%E7%94%A8%20bcs.sh%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%20k8s%20%E9%9B%86%E7%BE%A4/#_1","title":"\u4e0b\u4e00\u6b65","text":"<p>\u524d\u5f80\u51c6\u5907\u4e2d\u63a7\u673a\u6587\u6863\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/","title":"1 3 \u51c6\u5907\u4e2d\u63a7\u673a","text":"<p>\u6574\u4e2a\u5b89\u88c5\u8fc7\u7a0b\u90fd\u5728\u4e2d\u63a7\u673a\u4e0a\u8fdb\u884c\uff0c\u6211\u4eec\u9700\u8981\u51c6\u5907\u597d\u90e8\u7f72\u811a\u672c\u6240\u9700\u7684\u73af\u5883\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#k8s","title":"\u68c0\u67e5 k8s \u96c6\u7fa4","text":"<p>\u5728\u524d\u9762\u7684\u7ae0\u8282\u4e2d\uff0c\u4f60\u5df2\u7ecf\u9009\u62e9\u4e86\u9002\u5408\u7684 k8s \u96c6\u7fa4\uff0c\u73b0\u5728\u9700\u8981\u5728\u4e2d\u63a7\u673a\u7ba1\u7406\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#1-kubectl","title":"1. \u914d\u7f6e kubectl \u547d\u4ee4\u884c\u8865\u5168","text":"<p>\u5728\u90e8\u7f72\u548c\u65e5\u5e38\u7ef4\u62a4\u65f6\uff0c\u542f\u7528\u8865\u5168\u4f1a\u65b9\u4fbf\u6211\u4eec\u5728\u547d\u4ee4\u884c\u64cd\u4f5c\u3002\u56e0\u4e3a <code>kubectl</code> \u547d\u4ee4\u53c2\u6570\u5341\u5206\u590d\u6742\uff0c\u4e14 pod \u540d\u79f0\u53ef\u80fd\u968f\u673a\u3002</p> <p>\u5728 \u4e2d\u63a7\u673a \u4e0a\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a <pre><code>yum install -y bash-completion\nmkdir -p /etc/bash_completion.d/\nkubectl completion bash &gt; /etc/bash_completion.d/kubectl  # \u6dfb\u52a0\u547d\u4ee4\u884c\u8865\u5168\nsource /etc/bash_completion.d/kubectl  # \u8865\u5168\u4f1a\u5728\u4e0b\u6b21\u767b\u5f55\u65f6\u52a0\u8f7d\uff0c\u5982\u9700\u5728\u5f53\u524d\u4f1a\u8bdd\u8865\u5168\uff0c\u4e3b\u52a8\u52a0\u8f7d\u4e4b\u3002\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#2-k8s","title":"2. \u68c0\u67e5 k8s \u96c6\u7fa4\u8282\u70b9","text":"<p>\u5728 \u4e2d\u63a7\u673a \u4e0a\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a <pre><code>kubectl get nodes -o wide\n</code></pre> \u5176\u8f93\u51fa\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5f53  <code>STATUS</code>  \u5217\u7684\u503c\u4e3a  <code>Ready</code> \uff0c\u5373\u8868\u793a\u6b64 <code>node</code> \u5df2\u7ecf\u6210\u529f\u52a0\u5165\u96c6\u7fa4\u4e14\u5de5\u4f5c\u6b63\u5e38\u3002</p> <p>\u5982\u9700\u4e86\u89e3\u5bf9\u5e94  <code>node</code>  \u7684\u8be6\u60c5\uff0c\u53ef\u4f7f\u7528\u547d\u4ee4\uff1a <pre><code>kubectl describe nodes NAME  # NAME\u53c2\u6570\u4e3a kubectl get nodes\u8f93\u51fa\u7684 NAME \u5217\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#21-kubectl","title":"2.1. kubectl \u7684\u5e38\u89c1\u62a5\u9519","text":"<ol> <li><code>Unable to connect to the server: dial tcp: lookup k8s-api.bcs.local: no such host</code>\uff0c\u8bf7\u786e\u4fdd \u4e2d\u63a7\u673a \u80fd\u6b63\u5e38\u89e3\u6790  <code>~/.kube/config</code> \u6587\u4ef6\u4e2d\u7684 <code>cluster.server</code> \u914d\u7f6e\u9879\u4e2d\u7684\u57df\u540d\u3002</li> <li><code>The connection to the server k8s-api.bcs.local:6443 was refused - did you specify the right host or port?</code>\uff0c\u8bf7\u786e\u4fdd \u4e2d\u63a7\u673a \u5230 <code>k8s-api.bcs.local</code> \uff08\u63d0\u793a\u7684\u57df\u540d\uff09\u7684 6443 \u7aef\u53e3\u3002\u4e00\u822c\u9700\u8981\u68c0\u67e5\u76ee\u7684\u670d\u52a1\u5668\u7684\u9632\u706b\u5899\uff0c\u4e91\u670d\u52a1\u5668\u9700\u989d\u5916\u68c0\u67e5\u5b89\u5168\u7ec4\u3002</li> <li><code>Unable to connect to the server: dial tcp 10.0.0.254:6443: i/o timeout</code>\uff0c\u8bf7\u786e\u4fdd \u4e2d\u63a7\u673a \u5230 <code>k8s-api.bcs.local</code> \uff08\u63d0\u793a\u7684\u57df\u540d\uff09\u7684\u7f51\u7edc\u53ef\u4e92\u901a\uff0c\u4ee5\u53ca\u76ee\u7684\u670d\u52a1\u5668\u7684\u9632\u706b\u5899\uff0c\u4e91\u670d\u52a1\u5668\u9700\u989d\u5916\u68c0\u67e5\u5b89\u5168\u7ec4\u3002</li> </ol>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#_1","title":"\u5728\u4e2d\u63a7\u673a\u5b89\u88c5\u5de5\u5177","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#3","title":"3. \u5b89\u88c5\u84dd\u9cb8\u4e0b\u8f7d\u811a\u672c","text":"<p>\u9274\u4e8e\u76ee\u524d\u5bb9\u5668\u5316\u7684\u8f6f\u4ef6\u5305\u6570\u91cf\u8f83\u591a\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86\u4e0b\u8f7d\u811a\u672c\u5e2e\u52a9\u4f60\u4e0b\u8f7d\u6587\u4ef6\u5e76\u5236\u5907\u5b89\u88c5\u76ee\u5f55\u3002</p> <p>\u6b64\u811a\u672c\u65e0\u9700\u63d0\u4f9b\u7ed9\u6240\u6709\u7528\u6237\uff0c\u6240\u4ee5\u6211\u4eec\u628a\u5b83\u5b89\u88c5\u5230 <code>~/bin</code> \u76ee\u5f55\u4e0b\uff1a <pre><code>mkdir -p ~/bin/\ncurl -sSf https://bkopen-1252002024.file.myqcloud.com/ce7/7.1-stable/bkdl-7.1-stable.sh -o ~/bin/bkdl-7.1-stable.sh\nchmod +x ~/bin/bkdl-7.1-stable.sh\n</code></pre></p> <p>\u63a5\u4e0b\u6765\u76f4\u63a5\u6267\u884c\uff1a <pre><code>cd ~/bin/\nbkdl-7.1-stable.sh\n</code></pre> \u5373\u53ef\u770b\u5230\u547d\u4ee4\u7684\u7528\u6cd5\u63d0\u793a\u4fe1\u606f\u3002</p> <p>\u5728 <code>7.1</code> \u7248\u672c\uff0c\u4e0b\u8f7d\u811a\u672c\u7684\u9ed8\u8ba4\u8f93\u51fa\u76ee\u5f55\u53d8\u4e3a\u4e86 <code>$HOME/bkce7.1-install/</code>\u3002</p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u63d0\u793a <code>command not found</code>\uff0c\u8bf7\u4fee\u6b63\u4f60\u7684 <code>PATH</code> \u73af\u5883\u53d8\u91cf\uff0c\u786e\u4fdd\u5305\u542b <code>$HOME/bin</code> \u76ee\u5f55\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#4","title":"4. \u8865\u9f50\u7cfb\u7edf\u547d\u4ee4","text":"<p>\u5982\u4e0b\u547d\u4ee4\u5728\u90e8\u7f72\u6216\u8005\u4e0b\u8f7d\u811a\u672c\u4e2d\u4f1a\u7528\u5230\u3002</p> <p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a <pre><code>yum install -y unzip uuid\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#5","title":"5. \u5b89\u88c5\u90e8\u7f72\u6240\u9700\u7684\u5de5\u5177","text":"<p>\u4e2d\u63a7\u673a\u9700\u8981\u5b89\u88c5\u5982\u4e0b\u547d\u4ee4\u3002 * <code>jq</code>\uff1a\u90e8\u7f72\u811a\u672c\u4f1a\u8c03\u7528 <code>jq</code> \u547d\u4ee4\uff0c\u7528\u4e8e\u5728\u4e2d\u63a7\u673a\u89e3\u6790\u670d\u52a1\u7aef API \u8fd4\u56de\u7684 JSON \u54cd\u5e94\u3002 * <code>yq</code>\uff1a\u7528\u4e8e\u89e3\u6790 helmfile \u6a21\u677f\u4ee5\u53ca values \u6587\u4ef6\uff08YAML \u683c\u5f0f\uff09\u3002 * <code>helm</code>\uff1a\u84dd\u9cb8\u4f7f\u7528 helm \u8fdb\u884c\u7f16\u6392\u3002 * <code>helm-diff</code>\uff1a\u7528\u4e8e\u6bd4\u8f83 helm release \u5dee\u5f02\u3002\u65b9\u4fbf\u589e\u91cf\u66f4\u65b0\u3002 * <code>helmfile</code>\uff1a\u9274\u4e8e helm release \u6570\u91cf\u8f83\u591a\uff0c\u6211\u4eec\u4f7f\u7528 helmfile \u6765\u63a7\u5236\u6d41\u7a0b\u548c\u7ba1\u7406\u914d\u7f6e\u3002</p> <p>\u4f7f\u7528\u4e0b\u8f7d\u811a\u672c\u4e0b\u8f7d <code>tools</code>\uff1a <pre><code>bkdl-7.1-stable.sh -r latest tools -c $HOME/bkce7.1-install/\n</code></pre></p> <p>\u5c06\u4e0b\u8f7d\u597d\u7684\u547d\u4ee4\u590d\u5236\u5230\u7cfb\u7edf PATH \u8def\u5f84\u4e0b\uff1a <pre><code># \u4e0b\u8f7d\u597d\u7684\u6587\u4ef6\u9ed8\u8ba4\u653e\u7f6e\u5728 `$HOME/bkce7.1-install/` \u4e0b\uff0c\u5982\u6709\u4fee\u6539\uff0c\u8bf7\u8c03\u6574\u6b64\u53d8\u91cf\u3002\nINSTALL_DIR=$HOME/bkce7.1-install/\n# \u628a\u4e0a\u8ff0\u73af\u5883\u53d8\u91cf\u5199\u5165 bashrc\nif grep -q \"^export INSTALL_DIR=\" ~/.bashrc; then\n  source ~/.bashrc\n  echo &gt;&amp;2 \"load from bashrc: INSTALL_DIR=$INSTALL_DIR.\"\nelse\n  tee -a ~/.bashrc &lt;&lt;EOF\n# \u84dd\u9cb8\u90e8\u7f72\u76ee\u5f55\nexport INSTALL_DIR=\"$INSTALL_DIR\"\nEOF\nfi\n# \u5b89\u88c5\u751f\u6210\u914d\u7f6e\u6240\u9700\u7684\u547d\u4ee4\nfor _cmd in helmfile helm yq jq; do\n  cp -v \"${INSTALL_DIR:-INSTALL_DIR-not-set}/bin/$_cmd\" /usr/local/bin/\ndone\n\n\n\n\n# \u5b89\u88c5helm-diff\u63d2\u4ef6\ntar xf $HOME/bkce7.1-install//bin/helm-plugin-diff.tgz -C ~/\n</code></pre></p> <p>\u5b89\u88c5helm-diff\u63d2\u4ef6\u8fd9\u4e00\u6b65\u6ce8\u610f</p> <p>\u68c0\u67e5 helm diff \u63d2\u4ef6\uff1a</p> <p><pre><code>helm plugin list\n</code></pre> \u9884\u671f\u8f93\u51fa diff \u53ca\u5176\u7248\u672c\uff1a <pre><code>NAME    VERSION DESCRIPTION\ndiff    3.1.3   Preview helm upgrade changes as a diff\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#6","title":"6. \u914d\u7f6e\u9ed8\u8ba4\u547d\u540d\u7a7a\u95f4","text":"<p>\u8bbe\u7f6e k8s \u9ed8\u8ba4 ns, \u65b9\u4fbf\u540e\u7eed\u64cd\u4f5c. <pre><code>kubectl config set-context --current --namespace=blueking\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#ssh","title":"\u914d\u7f6e ssh \u514d\u5bc6\u767b\u5f55","text":"<p>\u63d0\u793a</p> <p>\u90e8\u7f72\u811a\u672c\u6ca1\u6709\u8981\u6c42\u914d\u7f6e ssh \u514d\u5bc6\u3002\u5982\u679c\u4f60\u6240\u5728\u7684\u516c\u53f8\u6709\u5b89\u5168\u89c4\u8303\u7981\u6b62\u76f4\u63a5\u6dfb\u52a0\u516c\u94a5\u6388\u6743\uff0c\u53ef\u4ee5\u8df3\u8fc7\u6b64\u6b65\u9aa4\u3002</p> <p>\u672c\u6587\u6863\u4e2d\u4f1a\u63d0\u4f9b\u547d\u4ee4\u7247\u6bb5\u65b9\u4fbf\u4f60\u5feb\u901f\u4f7f\u7528\u3002\u5176\u4e2d\u90e8\u5206\u811a\u672c\u53ef\u80fd\u4f1a\u4ece\u76f4\u63a5\u4e2d\u63a7\u673a\u4e0a\u8c03\u7528 <code>ssh</code> \u5728 k8s node \u4e0a\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4\uff0c\u6240\u4ee5\u9700\u63d0\u524d\u914d\u7f6e\u514d\u5bc6\u767b\u5f55\u3002</p> <p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a <pre><code>node_ips=$(kubectl get nodes -o jsonpath='{.items[*].status.addresses[?(@.type==\"InternalIP\")].address}')\ntest -f /root/.ssh/id_rsa || ssh-keygen -N '' -t rsa -f /root/.ssh/id_rsa  # \u5982\u679c\u4e0d\u5b58\u5728rsa key\u5219\u521b\u5efa\u4e00\u4e2a\u3002\n# \u5f00\u59cb\u7ed9\u53d1\u73b0\u7684ip\u6dfb\u52a0ssh key\uff0c\u671f\u95f4\u9700\u8981\u4f60\u8f93\u5165\u5404\u8282\u70b9\u7684\u5bc6\u7801\u3002\nfor ip in $node_ips; do\n  ssh-copy-id \"$ip\" || { echo \"failed on $ip.\"; break; }  # \u5982\u679c\u6267\u884c\u5931\u8d25\uff0c\u5219\u9000\u51fa\ndone\n</code></pre></p> <p>\u5e38\u89c1\u62a5\u9519\uff1a 1. <code>Host key verification failed.</code>\uff0c\u4e14\u5f00\u5934\u63d0\u793a <code>REMOTE HOST IDENTIFICATION HAS CHANGED</code>: \u68c0\u67e5\u76ee\u7684\u4e3b\u673a\u662f\u5426\u91cd\u88c5\u8fc7\u3002\u5982\u679c\u786e\u8ba4\u6ca1\u8fde\u9519\u673a\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>ssh-keygen -R IP\u5730\u5740</code> \u547d\u4ee4\u5220\u9664 <code>known_hosts</code> \u6587\u4ef6\u91cc\u7684\u8bb0\u5f55\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/1-3%20%E5%87%86%E5%A4%87%E4%B8%AD%E6%8E%A7%E6%9C%BA/#_2","title":"\u4e0b\u4e00\u6b65","text":"<p>\u90e8\u7f72\u57fa\u7840\u5957\u9910</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/","title":"2 1 \u5feb\u901f\u90e8\u7f72\u57fa\u7840\u5957\u9910","text":"<p>\u84dd\u9cb8\u57fa\u7840\u5957\u9910\u7684\u90e8\u7f72\u8fc7\u7a0b\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a 5 \u4e2a\u9636\u6bb5\uff1a 1. \u5b8c\u5584\u914d\u7f6e\u6587\u4ef6 2. \u90e8\u7f72\u5b58\u50a8\u670d\u52a1 3. \u90e8\u7f72\u540e\u53f0\u670d\u52a1 4. \u5b8c\u5584 SaaS \u8fd0\u884c\u73af\u5883 5. \u90e8\u7f72 SaaS\uff1a\u6d41\u7a0b\u670d\u52a1\u548c\u6807\u51c6\u8fd0\u7ef4</p> <p>\u5b8c\u6210\u540e\u5c31\u53ef\u4ee5\u5b89\u88c5 GSE agent \u5f00\u59cb\u4f7f\u7528\u4e86\u3002</p> <p>\u672c\u6587\u6863\u4e3a\u5feb\u901f\u90e8\u7f72\uff0c\u65e8\u5728\u964d\u4f4e\u65b0\u7528\u6237\u521d\u6b21\u90e8\u7f72\u7684\u95e8\u69db\u3002\u4f1a\u4f7f\u7528\u8f83\u4f4e\u8d44\u6e90\u9650\u989d\u548c\u5185\u7f6e\u7684\u5355\u526f\u672c\u5b58\u50a8\u670d\u52a1\uff0c\u5176\u4ed6\u6b65\u9aa4\u4e5f\u4f1a\u9488\u5bf9\u9ed8\u8ba4\u573a\u666f\u63d0\u4f9b\u5feb\u901f\u811a\u672c\u3002</p> <p>\u9ad8\u53ef\u7528\u7684\u8d44\u6e90\u5f00\u9500\u53ca\u8fd0\u7ef4\u6210\u672c\u90fd\u5f88\u9ad8\uff0c\u6709\u4e30\u5bcc\u7684\u5bb9\u5668\u5316\u73af\u5883\u9ad8\u53ef\u7528\u5b9e\u8df5\u7ecf\u9a8c\u8005\uff0c\u53ef\u4ee5\u81ea\u884c\u7814\u7a76\u9ad8\u53ef\u7528\u90e8\u7f72\u3002\u8981\u70b9\u5728\u4e8e\uff1a 1. \u516c\u5171\u5b58\u50a8\u9ad8\u53ef\u7528\uff1a\u8bf7\u9075\u5faa\u5bf9\u5e94\u8f6f\u4ef6\u7684\u5b98\u65b9\u6587\u6863\u5b9e\u65bd\u3002 2. ingress-nginx \u9ad8\u53ef\u7528\uff1a\u84dd\u9cb8\u9ed8\u8ba4\u4f7f\u7528 ingress-nginx \u4f5c\u4e3a\u5165\u53e3\uff0c\u8bf7\u9075\u5faa\u5b98\u65b9\u6587\u6863\u5b9e\u65bd\u3002 3. \u84dd\u9cb8\u7cfb\u7edf\u9ad8\u53ef\u7528\uff1a\u9700\u8c03\u6574\u8d44\u6e90\u914d\u989d\u3001\u526f\u672c\u6570\u3001\u53cd\u4eb2\u548c\u8c03\u5ea6\u3001\u57df\u540d\u89e3\u6790\u7b49\uff0c\u53ef\u4e0e ingress \u914d\u5408\u5b9e\u73b0\u9ad8\u53ef\u7528\u3002\u5176\u4e2d bk-repo \u6587\u4ef6\u5b58\u50a8\u76ee\u5f55\u5e94\u8be5\u6302\u8f7d\u53ef\u591a\u8282\u70b9\u5171\u4eab\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u5982 NFS\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#_1","title":"\u4e0b\u8f7d\u6240\u9700\u7684\u8d44\u6e90\u6587\u4ef6","text":"<p>\u6ce8\u610f</p> <p>\u8bf7\u786e\u4fdd\u5b8c\u6210\u4e86\u300a\u51c6\u5907\u4e2d\u63a7\u673a\u300b\u6587\u6863\u3002</p> <p>\u9274\u4e8e\u76ee\u524d\u5bb9\u5668\u5316\u7684\u8f6f\u4ef6\u5305\u6570\u91cf\u8f83\u591a\u4e14\u53d8\u52a8\u9891\u7e41\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86\u4e0b\u8f7d\u811a\u672c\u3002</p> <p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u4e0b\u8f7d\u6587\u4ef6\u3002 <pre><code>bkdl-7.1-stable.sh -ur latest base demo nm_gse_full saas scripts\n</code></pre></p> <p>\u8fd9\u4e9b\u6587\u4ef6\u9ed8\u8ba4\u653e\u5728\u4e86 <code>~/bkce7.1-install/</code> \u76ee\u5f55\uff0c\u63a5\u4e0b\u6765\u7684\u90e8\u7f72\u8fc7\u7a0b\u4e2d\uff0c\u9ed8\u8ba4\u5de5\u4f5c\u76ee\u5f55\u4e3a <code>~/bkce7.1-install/blueking/</code>\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#_2","title":"\u5feb\u901f\u90e8\u7f72\u84dd\u9cb8\u57fa\u7840\u5957\u9910","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#1","title":"1. \u68c0\u67e5\u5b58\u50a8\u4f9b\u5e94","text":"<p>\u5148\u68c0\u67e5\u5f53\u524d\u7684\u5b58\u50a8\u63d0\u4f9b\u8005\u3002\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>kubectl get sc\n</code></pre> * \u5982\u679c <code>NAME</code> \u5217\u5b58\u5728\u5e26 <code>(default)</code> \u540e\u7f00\u7684\u6761\u76ee\uff08\u4e14\u53ea\u80fd\u5b58\u5728\u4e00\u6761\uff09\uff0c\u8bf4\u660e\u5df2\u7ecf\u914d\u7f6e\u4e86\u9ed8\u8ba4\u5b58\u50a8\u7c7b\uff0c\u68c0\u67e5 \u901a\u8fc7\u3002 * \u5982\u679c\u4e0a\u8ff0\u547d\u4ee4\u63d0\u793a <code>No resources found</code>\uff0c\u8bf4\u660e\u8fd8\u6ca1\u6709\u914d\u7f6e\u5b58\u50a8\u7c7b\uff0c\u8bf7\u6839\u636e\u4f60\u7684 k8s \u6765\u6e90\u9009\u62e9\u3002   * \u7531 <code>bcs.sh</code> \u521b\u5efa\u7684 k8s \u96c6\u7fa4\uff0c\u9ed8\u8ba4\u4f1a\u5236\u5907 localpv \u76ee\u5f55\uff0c\u7a0d\u540e\u4f1a\u81ea\u52a8\u5b89\u88c5\u3002\u68c0\u67e5 \u901a\u8fc7\u3002   * \u5176\u4ed6\u65b9\u5f0f\u83b7\u53d6\u7684 k8s \u96c6\u7fa4\uff0c\u5927\u6982\u7387\u6ca1\u6709\u5236\u5907 localpv \u76ee\u5f55\uff0c\u68c0\u67e5 \u4e0d\u901a\u8fc7\u3002\u8bf7\u53c2\u8003\u5982\u4e0b\u65b9\u5f0f\u5904\u7406\u540e \u91cd\u65b0\u68c0\u67e5\u5b58\u50a8\u4f9b\u5e94\uff1a     * \u5982\u679c\u5e0c\u671b\u7531 node \u63d0\u4f9b\u5b58\u50a8\uff0c\u53ef\u53c2\u8003\u90e8\u7f72\u8be6\u89e3 \u76f4\u63a5\u521b\u5efa localpv     * \u81ea\u884c\u914d\u7f6e\u5176\u4ed6 sc\uff0c\u5e76\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#2","title":"2. \u90e8\u7f72\u57fa\u7840\u5957\u9910\u540e\u53f0","text":"<p>\u201c\u4e00\u952e\u811a\u672c\u201d\u6307\u7684\u662f<code>scripts/setup_bkce7.sh</code>\uff0c\u6211\u4eec\u628a\u4e00\u4e9b\u8fde\u7eed\u7684\u5b89\u88c5\u6b65\u9aa4\u5c01\u88c5\u5230\u4e86\u811a\u672c\u4e2d\uff0c\u4ee5\u8282\u7ea6\u65f6\u95f4\u3002</p> <p>\u811a\u672c\u9700\u8981\u586b\u5199\u5982\u4e0b\u53c2\u6570\uff1a 1. <code>-i base</code>\uff1a\u6307\u5b9a\u8981\u5b89\u88c5\u7684\u6a21\u5757\u3002\u5173\u952e\u8bcd <code>base</code> \u8868\u793a\u57fa\u7840\u5957\u9910\u7684\u540e\u53f0\u90e8\u5206\u3002 2. <code>--domain BK_DOMAIN</code>\uff1a\u6307\u5b9a\u84dd\u9cb8\u7684\u57fa\u7840\u57df\u540d\uff08\u4e0b\u6587\u4e5f\u4f1a\u4f7f\u7528 <code>BK_DOMAIN</code> \u8fd9\u4e2a\u53d8\u91cf\u540d\u6307\u4ee3\uff09\u3002</p> <p>\u63d0\u793a</p> <p>\u5f53\u4f60\u7684\u5185\u7f51\u5b58\u5728\u84dd\u9cb8 V6 \u6216\u66f4\u65e9\u7248\u672c\u7684\u73af\u5883\u65f6\uff0c\u8bf7\u52ff\u590d\u7528\u57fa\u7840\u57df\u540d\u3002\u4ee5\u514d Cookie \u51b2\u7a81\uff0c\u5bfc\u81f4\u9891\u7e41\u63d0\u793a\u767b\u5f55\uff0c\u751a\u81f3\u5faa\u73af\u63d0\u793a\u767b\u5f55\u3002</p> <p>\u793a\u4f8b\uff1a\u5f53 V6 \u73af\u5883\u4f7f\u7528\u4e86 <code>bktencent.com</code> \u65f6\uff0c\u5176\u8bbf\u95ee\u5730\u5740\u4e3a <code>paas.bktencent.com</code>\u3002V7 \u73af\u5883\u4e0d\u80fd\u4f7f\u7528 <code>bkce7.bktencent.com</code>\u3001 <code>bktencent.com</code> \u6216\u8005 <code>xx.bkce7.bktencent.com</code> \u4f5c\u4e3a\u57fa\u7840\u57df\u540d\u3002</p> <p>\u5047\u8bbe\u4f60\u7528\u4e8e\u90e8\u7f72\u84dd\u9cb8\u7684\u57df\u540d\u4e3a <code>bkce7.bktencent.com</code>\uff0c\u4f7f\u7528\u5982\u4e0b\u7684\u547d\u4ee4\u5f00\u59cb\u90e8\u7f72: <pre><code>BK_DOMAIN=bkce7.bktencent.com  # \u8bf7\u4fee\u6539\u4e3a\u4f60\u5206\u914d\u7ed9\u84dd\u9cb8\u5e73\u53f0\u7684\u4e3b\u57df\u540d\ncd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n# \u68c0\u67e5\u57df\u540d\u662f\u5426\u7b26\u5408k8s\u57df\u540d\u89c4\u8303\uff0c\u8981\u5168\u90e8\u5185\u5bb9\u5339\u914d\u624d\u6267\u884c\u811a\u672c\uff0c\u5426\u5219\u63d0\u793a\u57df\u540d\u4e0d\u7b26\u5408\u3002\npatt_domain='[a-z0-9]([-a-z0-9]*[a-z0-9])(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'\nif grep -P \"$patt_domain\" &lt;&lt;&lt; \"$BK_DOMAIN\"; then\n  scripts/setup_bkce7.sh -i base --domain \"$BK_DOMAIN\"\nelse\n  echo \"BK_DOMAIN($BK_DOMAIN) does not match pattern($patt_domain).\"\nfi\n</code></pre></p> <p>\u89c6 CPU \u6027\u80fd\u53ca\u78c1\u76d8 IO \u6027\u80fd\u5dee\u5f02\uff0c\u811a\u672c\u8017\u65f6 15 ~ 35 \u5206\u949f\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u3002\u90e8\u7f72\u6210\u529f\u4f1a\u9ad8\u4eae\u63d0\u793a\u5982\u4e0b\uff1a <pre><code>\u65f6\u95f4\u7565 [INFO] finish install blueking base-backend\n\u65f6\u95f4\u7565 [INFO] SHOW BKPANEL &amp; BKREPO INITIAL PASSWORD\n helm status -n blueking bk-user\n helm status -n blueking bk-repo\n</code></pre></p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u90e8\u7f72\u671f\u95f4\u51fa\u9519\uff0c\u8bf7\u5148\u67e5\u9605 \u300a\u95ee\u9898\u6848\u4f8b\u300b\u6587\u6863\u3002</p> <p>\u95ee\u9898\u89e3\u51b3\u540e\uff0c\u53ef\u91cd\u65b0\u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#3-dns","title":"3. \u66f4\u65b0 DNS","text":"<p>\u63a5\u4e0b\u6765\u7684\u64cd\u4f5c\u9700\u8981\u66f4\u65b0 coredns\uff0c\u5e76\u5728\u4e2d\u63a7\u673a\u914d\u7f6e\u89e3\u6790\u8bb0\u5f55\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#31-coredns","title":"3.1. \u66f4\u65b0 coredns","text":"<p>\u6211\u4eec\u9700\u8981\u786e\u4fdd k8s \u96c6\u7fa4\u7684 pod \u80fd\u89e3\u6790\u5230\u84dd\u9cb8\u57df\u540d\u3002</p> <p>\u6ce8\u610f</p> <p>\u5f53 service \u88ab\u5220\u9664\uff0c\u91cd\u5efa\u540e clusterIP \u4f1a\u53d8\u52a8\uff0c\u6b64\u65f6\u9700\u66f4\u65b0 hosts \u6587\u4ef6\u3002</p> <p>\u8bf7\u7ee7\u7eed\u8865\u5145\u914d\u7f6e\u5982\u4e0b\u57df\u540d\uff0c\u65b9\u4fbf\u540e\u7eed\u4f7f\u7528\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nBK_DOMAIN=$(yq e '.domain.bkDomain' environments/default/custom.yaml)  # \u4ece\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e2d\u63d0\u53d6, \u4e5f\u53ef\u81ea\u884c\u8d4b\u503c\nIP1=$(kubectl get svc -A -l app.kubernetes.io/instance=ingress-nginx -o jsonpath='{.items[0].spec.clusterIP}')\n./scripts/control_coredns.sh update \"$IP1\" bknodeman.$BK_DOMAIN job.$BK_DOMAIN jobapi.$BK_DOMAIN\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#32-dns","title":"3.2. \u914d\u7f6e\u4e2d\u63a7\u673a DNS","text":"<p>\u8bf7\u5728\u4e2d\u63a7\u673a\u6267\u884c\u5982\u4e0b\u811a\u672c\u66f4\u65b0 <code>/etc/hosts</code> \u6587\u4ef6\uff0c\u53ef\u5b89\u5168\u91cd\u590d\u8fd0\u884c\uff1a <pre><code>./scripts/dns-helper.sh lan | ./scripts/update-hosts-file.sh /etc/hosts /etc/hosts\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#4","title":"4. \u90e8\u7f72\u8282\u70b9\u7ba1\u7406","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#41-nodeman","title":"4.1. \u4fee\u6539 nodeman \u7248\u672c","text":"<p>7.1.3 \u4e2d\u5347\u7ea7\u4e86 bk-gse-ce-2.1.5-beta.7 \u5b58\u5728 Proxy \u914d\u7f6e\u53d8\u52a8\uff0c\u9700\u8981 <code>bk-nodeman&gt;=2.4.1</code>\u624d\u80fd\u6b63\u5e38\u6e32\u67d3\u3002</p> <p>\u4fee\u6539\u7248\u672c\u53f7\u4f7f\u7528 2.4.4 \u7248\u672c\uff1a <pre><code>sed -i 's/bk-nodeman: \"2.3.5\"/bk-nodeman: \"2.4.4\"/' environments/default/version.yaml\ngrep bk-nodeman environments/default/version.yaml  # \u68c0\u67e5\u4fee\u6539\u7ed3\u679c\uff0c\u9884\u671f\u8f93\u51fa2.4.4\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#42-nodeman","title":"4.2. \u90e8\u7f72 nodeman","text":"<p>\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u90e8\u7f72 bk-nodeman release\uff0c\u7ed9 admin \u684c\u9762\u6dfb\u52a0\u5e94\u7528\uff0c\u5e76\u4e0a\u4f20 Agent \u548c\u63d2\u4ef6\u5305\uff1a <pre><code>scripts/setup_bkce7.sh -i nodeman\n</code></pre> \u6574\u4e2a\u8fc7\u7a0b\u8017\u65f6 5 ~ 10 \u5206\u949f\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#5-saas","title":"5. \u51c6\u5907 SaaS \u8fd0\u884c\u73af\u5883","text":"<p>\u4e00\u5171\u9700\u8981\u51c6\u5907 3 \u9879\uff1a 1. \u786e\u4fdd node \u80fd\u62c9\u53d6 SaaS \u955c\u50cf 2. \u63a8\u8350\uff1a\u4e0a\u4f20 PaaS runtimes \u5230 bkrepo 3. \u53ef\u9009\uff1a\u914d\u7f6e SaaS \u4e13\u7528 node</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#51-node-saas","title":"5.1. \u786e\u4fdd node \u80fd\u62c9\u53d6 SaaS \u955c\u50cf","text":"<p>\u5728\u5feb\u901f\u90e8\u7f72\u73af\u8282\uff0c\u6211\u4eec\u5047\u8bbe\u5168\u90e8 node \u90fd\u53ef\u80fd\u7528\u4f5c SaaS \u8fd0\u884c\u73af\u5883\u3002\u4e14\u9ed8\u8ba4\u4f7f\u7528 http \u8bbf\u95ee bkrepo docker\u3002</p> <p>\u8bf7\u63d0\u524d\u5728\u4e2d\u63a7\u673a\u914d\u7f6e ssh \u514d\u5bc6\u767b\u5f55\uff0c\u7136\u540e\u6267\u884c\u5982\u4e0b\u811a\u672c\u81ea\u52a8\u4fee\u6539 dockerd \u914d\u7f6e\uff0c\u6dfb\u52a0\u5236\u54c1\u5e93 docker \u670d\u52a1\u7684\u57df\u540d\u89e3\u6790\u53ca insecure-registries \u914d\u7f6e\u9879\uff1a <pre><code>scripts/docker-insecure.sh\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#52-paas-runtimes","title":"5.2. \u4e0a\u4f20 PaaS runtimes \u5230\u5236\u54c1\u5e93","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#521","title":"5.2.1. \u4e0b\u8f7d\u6587\u4ef6","text":"<p>\u63d0\u793a</p> <p>\u672c\u7ae0\u8282\u9ed8\u8ba4\u9002\u914d paas3 <code>1.1.0-beta.43</code> \u53ca\u4ee5\u540e\u7684\u7248\u672c\u3002\u5982\u679c\u4e3a\u65e9\u671f\u7248\u672c\uff0c\u8bf7\u4fee\u6539\u4e0b\u8f7d\u811a\u672c\u7684\u53c2\u6570\u4e3a <code>-r paas3-1.0</code>\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#5211","title":"5.2.1.1. \u4e0b\u8f7d\u57fa\u7840\u6587\u4ef6","text":"<p>\u4e00\u4e9b\u516c\u5171\u7684\u811a\u672c\u53ca\u8d44\u6e90\u6587\u4ef6\uff0c\u5927\u7ea6 12MB\u3002</p> <pre><code>bkdl-7.1-stable.sh -C ce7/paas-runtimes -ur paas3-1.1 common\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#5212-python","title":"5.2.1.2. \u4e0b\u8f7d python \u73af\u5883","text":"<p>\u6211\u4eec\u63a8\u8350\u4e0b\u8f7d\u4e00\u4e9b\u5e38\u7528\u7684 python \u7248\u672c\u53ca pip \u7248\u672c\uff0c\u5171\u7ea6 130 MB\u3002</p> <pre><code># \u4e0b\u8f7dpython\nfor v in 2.7.18 3.6.8 3.6.12 3.10.5; do\n  bkdl-7.1-stable.sh -C ce7/paas-runtimes -r paas3-1.1 python=$v\ndone\n# \u8fd9\u4e9bpip\u540c\u65f6\u63d0\u4f9bpy2\u548cpy3\u7248\u672c\u3002\nfor v in 9.0.2 19.1.1 20.0.2 20.1.1 20.2.3 20.2.4 20.3.4; do\n  bkdl-7.1-stable.sh -C ce7/paas-runtimes -r paas3-1.1 pip-whl-py23=$v\ndone\n# \u8fd9\u4e9bpip\u4ec5\u63d0\u4f9bpy3\u7248\u672c\u3002\nfor v in 21.3.1 22.0.4 22.1.2 22.2.2 22.3.1 23.0.1; do\n  bkdl-7.1-stable.sh -C ce7/paas-runtimes -r paas3-1.1 pip-whl=$v\ndone\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#5213-nodejs","title":"5.2.1.3. \u4e0b\u8f7d nodejs \u73af\u5883","text":"<p>\u5e38\u89c1 4 \u4e2a\u7248\u672c\uff0c\u4e00\u5171 100MB\u3002</p> <pre><code>for v in 12.16.3 14.16.1 10.10.0 16.16.0; do\n  bkdl-7.1-stable.sh -C ce7/paas-runtimes -r paas3-1.1 node=$v\ndone\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#5214-golang","title":"5.2.1.4. \u4e0b\u8f7d golang \u73af\u5883","text":"<p>\u6bcf\u4e2a\u7248\u672c\u7ea6 130M\uff0c\u53ef\u4ee5\u4e0b\u8f7d\u6240\u9700\u7684\u7248\u672c\u3002</p> <pre><code>for v in 1.19.1 1.18.6 1.17.10 1.12.17; do\n  bkdl-7.1-stable.sh -C ce7/paas-runtimes -ur paas3-1.1 go=$v\ndone\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#5215","title":"5.2.1.5. \u4e0b\u8f7d\u5f00\u53d1\u6846\u67b6\u6a21\u677f","text":"<pre><code># \u4e0b\u8f7dpython\u5f00\u53d1\u6846\u67b6\u6a21\u677f\nbkdl-7.1-stable.sh -C ce7/paas-runtimes -ur paas3-1.1 pysdk\n# \u4e0b\u8f7dnode\u5f00\u53d1\u6846\u67b6\u6a21\u677f\nbkdl-7.1-stable.sh -C ce7/paas-runtimes -ur paas3-1.1 nodesdk\n# golang \u6ca1\u6709\u63d0\u4f9b\u5f00\u53d1\u6846\u67b6\u6a21\u677f\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#522","title":"5.2.2. \u4e0a\u4f20\u6587\u4ef6","text":"<p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4e0a\u4f20\u6587\u4ef6\u5230\u5236\u54c1\u5e93 <code>bkpaas</code> \u9879\u76ee\u4e0b\u3002</p> <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n# \u4ece bk-repo secret\u4e2d\u7684 BLOBSTORE_BKREPO_CONFIG \u53d8\u91cf\u8bfb\u53d6\u8d26\u6237\u4fe1\u606f\u5e76\u8bbe\u7f6e\u53d8\u91cf PROJECT ENDPOINT USERNAME PASSWORD\nsource &lt;(kubectl get secret -n blueking bkpaas3-apiserver-bkrepo-envs -o json | jq -r '.data.BLOBSTORE_BKREPO_CONFIG|@base64d|gsub(\", \";\"\\n\")|gsub(\"[{}]\";\"\")')\n# \u641c\u7d22\u6587\u4ef6\u5217\u8868\u4e0a\u4f20\nwhile read filepath; do\n  bucket=\"${filepath#../paas-runtimes/}\"\n  bucket=\"${bucket%%/*}\"\n  remote=\"/${filepath#../paas-runtimes/*/}\"\n  remote=\"${remote%/*}/\"\n  scripts/bkrepo_tool.sh -u \"$USERNAME\" -p \"$PASSWORD\" -P \"$PROJECT\" -i \"$ENDPOINT/generic\" -n \"$bucket\" -X PUT -O -R \"$remote\" -T \"$filepath\"\n  sleep 1\ndone &lt; &lt;(find ../paas-runtimes/ -mindepth 2 -type f)\n</code></pre> <p>\u63d0\u793a</p> <p>\u91cd\u590d\u8fd0\u884c\u6b64\u811a\u672c\u65f6\uff0c\u53ef\u80fd\u63d0\u793a\u6587\u4ef6\u5df2\u7ecf\u5b58\u5728\u5bfc\u81f4\u4e0a\u4f20\u5931\u8d25\uff0c\u4e3a\u6b63\u5e38\u60c5\u51b5\u3002\u53c2\u8003\u8f93\u51fa\u5982\u4e0b\uff1a</p> <pre><code>upload ../paas-runtimes/bkpaas3-platform-assets/common/buildpack-stdlib/v7/stdlib.sh to /common/buildpack-stdlib/v7/ failed\nhttp response is: {\n\"code\" : 251012,\n\"message\" : \"Node [/common/buildpack-stdlib/v7/stdlib.sh] existed\",\n\"data\" : null,\n\"traceId\" : \"\u7565\"\n}\n</code></pre> <p>\u4e0a\u4f20\u5b8c\u6210\u540e\uff0c\u53ef\u524d\u5f80 bkrepo \u7cfb\u7edf\u68c0\u67e5\u4e0a\u4f20\u7684\u6587\u4ef6\uff1a \u4f7f\u7528 admin \u8d26\u6237\u767b\u5f55\u84dd\u9cb8\u684c\u9762\uff0c\u6dfb\u52a0\u5e94\u7528 \u201c\u5236\u54c1\u5e93\u201d\uff0c\u7136\u540e\u6253\u5f00\u3002</p> <p>\u5207\u6362\u5230 bkpaas \u9879\u76ee\uff0c\u5728\u4ed3\u5e93\u5217\u8868\u4e2d\u627e\u5230 <code>bkpaas3-platform-assets</code> \u4ed3\u5e93\u3002\u9010\u5c42\u5c55\u5f00\u5b50\u76ee\u5f55\uff0c\u5373\u53ef\u770b\u5230\u4e0a\u4f20\u7684\u8d44\u6e90\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#523-runtimes","title":"5.2.3. \u5982\u4f55\u8865\u5145 runtimes","text":"<p>\u4e0a\u9762\u5217\u4e3e\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u7248\u672c\uff0c\u5982\u679c\u4f60\u9700\u8981\u90e8\u7f72\u7684 S-Mart \u5305\u5f15\u7528\u4e86\u65e7\u7248\u672c\u7684 runtimes\uff0c\u8bf7\u53c2\u8003\u5982\u4e0b\u65b9\u5f0f\u6392\u67e5\u4f9d\u8d56\u7684\u7248\u672c\u3002</p> <p>\u4e0b\u8f7d runtimes \u90fd\u4f1a\u8bf7\u6c42\u5236\u54c1\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u6790\u4e0b\u5236\u54c1\u5e93 <code>bkpaas</code> \u9879\u76ee\u4e0b\u7684 404 \u8bf7\u6c42\uff1a</p> <pre><code>kubectl logs -n blueking deploy/bk-repo-bkrepo-generic generic | awk '/ \\/bkpaas\\/.*HTTP\\/[0-9.]+\" 404/{sub(/  .*(GET|HEAD) /,\"  \"); sub(/\".*/, \"\");print}' | tail\n</code></pre> <p>\u9ed8\u8ba4\u4ec5\u5c55\u793a\u6700\u540e 10 \u6761\u8bb0\u5f55\uff0c\u53ef\u4ee5\u68c0\u67e5\u90e8\u7f72\u65f6\u95f4\u540e\u7684\u6587\u4ef6\u540d\u3002\u4f8b\u5982\u663e\u793a\u7684\u6587\u4ef6\u540d\u4e3a <code>node-v14.16.1-linux-x64.tar.gz</code>\uff0c\u8868\u793a\u9700\u8981 node \uff0c\u7248\u672c\u4e3a <code>14.16.1</code>\u3002</p> <p>\u7136\u540e\u4f7f\u7528\u4e0b\u8f7d\u811a\u672c\u4e0b\u8f7d\u6307\u5b9a\u7248\u672c\uff1a<code>bkdl-7.1-stable.sh -C ce7/paas-runtimes -r paas3-1.1 node=14.16.1</code>\u3002</p> <p>\u4e0b\u8f7d\u5b8c\u6210\u540e\u53c2\u8003 \u201c\u4e0a\u4f20\u6587\u4ef6\u201d \u7ae0\u8282\u91cd\u65b0\u4e0a\u4f20\u4e00\u6b21\u5373\u53ef\u3002\u5982\u679c\u4e0b\u8f7d\u811a\u672c\u63d0\u793a\u6587\u4ef6 404\uff0c\u53ef\u4ee5\u8054\u7cfb\u84dd\u9cb8\u52a9\u624b\u6392\u67e5\u539f\u56e0\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#6-saas","title":"6. \u90e8\u7f72\u57fa\u7840\u5957\u9910 SaaS","text":"<p>\u90e8\u7f72\u84dd\u9cb8\u667a\u4e91\u5b98\u65b9\u7684 SaaS \u5e94\u7528\uff1a\u6d41\u7a0b\u670d\u52a1 \u548c \u6807\u51c6\u8fd0\u7ef4\u3002</p> <p>\u6bcf\u4e2a SaaS \u90e8\u7f72\u4e0d\u8d85\u8fc7 10 \u5206\u949f\uff0c\u5982\u679c\u9047\u5230\u95ee\u9898\u8bf7\u5148\u67e5\u9605 \u300a\u95ee\u9898\u6848\u4f8b\u300b\u6587\u6863\u3002</p> <p>\u6ce8\u610f</p> <p>\u672c\u811a\u672c\u8bbe\u8ba1\u4e3a\u5168\u65b0\u5b89\u88c5 SaaS\uff0c\u5982 SaaS \u5df2\u5b89\u88c5\uff0c\u4f1a\u81ea\u52a8\u8df3\u8fc7\u3002\u4f60\u53ef\u4ee5\u7ed9\u811a\u672c\u52a0\u4e0a <code>-f</code> \u53c2\u6570\u5f3a\u5236\u91cd\u65b0\u5b89\u88c5\uff0c\u4f8b\u5982\u91cd\u65b0\u5b89\u88c5\u6d41\u7a0b\u670d\u52a1\uff1a <code>scripts/setup_bkce7.sh -i itsm -f</code>\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#61","title":"6.1. \u90e8\u7f72\u6d41\u7a0b\u670d\u52a1","text":"<p>\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5373\u53ef\uff1a <pre><code>scripts/setup_bkce7.sh -i itsm\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#62","title":"6.2. \u90e8\u7f72\u6807\u51c6\u8fd0\u7ef4","text":"<p>\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5373\u53ef\uff1a <pre><code>scripts/setup_bkce7.sh -i sops\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#7","title":"7. \u8bbf\u95ee\u84dd\u9cb8","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#71-hosts","title":"7.1. \u5728\u4e2d\u63a7\u673a\u751f\u6210 hosts \u6587\u4ef6\u5185\u5bb9","text":"<p>\u8bf7\u53c2\u8003\u8fde\u63a5\u65b9\u5f0f\u5728\u4e2d\u63a7\u673a\u6267\u884c\u811a\u672c\uff0c\u83b7\u53d6 hosts \u5185\u5bb9\u3002 * \u5f53\u4f60\u80fd\u76f4\u63a5\u8bbf\u95ee\u5230 ingress-nginx \u7684\u5185\u7f51 IP \u65f6\uff0c\u4f7f\u7528\u5982\u4e0b\u53c2\u6570\u751f\u6210 hosts \u6587\u4ef6\uff1a <pre><code>./scripts/dns-helper.sh lan\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#72-heds-dns","title":"7.2. \u5728heds DNS \u4e0a\u6dfb\u52a0\u57df\u540d\u89e3\u6790","text":"<p>\u5728heds \u57df\u540d\u89e3\u6790\u4e0a\uff0c\u6dfb\u52a0\u4e0a\u9762\u751f\u6210\u7684\u5185\u5bb9\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#8","title":"8. \u6d4f\u89c8\u5668\u8bbf\u95ee","text":"<p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u83b7\u53d6\u8bbf\u95ee\u5730\u5740\u53ca\u767b\u5f55\u4fe1\u606f\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nBK_DOMAIN=$(yq e '.domain.bkDomain' environments/default/custom.yaml)  # \u4ece\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e2d\u63d0\u53d6, \u4e5f\u53ef\u81ea\u884c\u8d4b\u503c\necho \"\u8bbf\u95ee\u5730\u5740\uff1a http://$BK_DOMAIN  \uff08\u5982\u6d4f\u89c8\u5668\u62a5\u9519 NXDOMAIN\uff0c\u8bf7\u914d\u7f6ehosts\uff09\"; kubectl get cm -n blueking bk-user-api-general-envs -o go-template='\u7528\u6237\uff1a {{.data.INITIAL_ADMIN_USERNAME}}{{\"\\n\"}}\u5bc6\u7801\uff1a {{ .data.INITIAL_ADMIN_PASSWORD }}{{\"\\n\"}}'\n</code></pre> \u6d4f\u89c8\u5668\u8bbf\u95ee\u4e0a\u8ff0\u5730\u5740\u5373\u53ef\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-1%20%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E5%9F%BA%E7%A1%80%E5%A5%97%E9%A4%90/#_3","title":"\u4e0b\u4e00\u6b65","text":"<p>\u914d\u7f6e\u8282\u70b9\u7ba1\u7406\u53ca\u5b89\u88c5 Agent</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/","title":"2 2 \u914d\u7f6e\u8282\u70b9\u7ba1\u7406\u53ca\u5b89\u88c5 Agent","text":"<p>\u8282\u70b9\u7ba1\u7406\uff08bk_nodeman\uff09\u90e8\u7f72\u540e\uff0c\u9700\u8981\u5148\u4e0a\u4f20 Agent \u53ca \u63d2\u4ef6\u5305\uff0c\u5e76\u914d\u7f6e\u63a5\u5165\u70b9\u3002\u7136\u540e\u7ed9 k8s \u96c6\u7fa4\u5b89\u88c5 Agent\uff0c\u5b9e\u73b0\u7eb3\u7ba1\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/#gse-agent","title":"\u4e0a\u4f20 GSE agent","text":"<p>\u63d0\u793a</p> <p>\u5728\u4e4b\u524d\u4f7f\u7528 <code>./scripts/setup_bkce7.sh -i nodeman</code> \u65f6\uff0c\u5df2\u7ecf\u5b8c\u6210\u4e86\u6b64\u6b65\u9aa4\uff0c\u53ef\u4ee5\u8df3\u8fc7\u3002</p> <p>\u63d0\u793a</p> <ul> <li>\u5f53\u4f60\u9700\u8981\u66f4\u65b0\u5ba2\u6237\u7aef\u6216\u8005\u52a0\u88c5\u4e91\u533a\u57df\u4ee3\u7406\u65f6\uff0c\u53ef\u4ee5\u5728\u4e0b\u8f7d\u540e\u4f7f\u7528\u6b64\u547d\u4ee4\u91cd\u65b0\u4e0a\u4f20\u3002</li> </ul> <p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4e0b\u8f7d Agent\uff08linux-x86_64\u3001linux-aarch64\u3001windows-x86_64\uff09\uff1a <pre><code>bkdl-7.1-stable.sh -ur latest gse_agent\n</code></pre> \u4e0a\u4f20 Agent \u5230 \u8282\u70b9\u7ba1\u7406\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n./scripts/setup_bkce7.sh -u agent\n</code></pre></p> <p>\u63d0\u793a</p> <p>\u5176\u4ed6\u7cfb\u7edf\u53ca\u67b6\u6784\u7684 GSE Agent \u7531\u84dd\u9cb8\u670d\u52a1\u5546\u9002\u914d\uff0c\u84dd\u9cb8\u4e0d\u63d0\u4f9b\u4e0b\u8f7d\u53ca\u6280\u672f\u652f\u6301\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/#gse","title":"\u4e0a\u4f20 gse \u63d2\u4ef6\u5305","text":"<p>\u63d0\u793a</p> <p>\u5728\u4e4b\u524d\u4f7f\u7528 <code>./scripts/setup_bkce7.sh -i nodeman</code> \u65f6\uff0c\u5df2\u7ecf\u5b8c\u6210\u4e86\u6b64\u6b65\u9aa4\uff0c\u53ef\u4ee5\u8df3\u8fc7\u3002</p> <p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4e0b\u8f7d\u63d2\u4ef6\u5408\u8f91\uff0c\u5305\u542b\u5e38\u7528\u7cfb\u7edf\u53ca\u67b6\u6784\uff08linux \u53ca windows \u7684 x86-64\u3001linux arm64\uff09\uff1a <pre><code>bkdl-7.1-stable.sh -ur latest gse_plugins_freq\n</code></pre></p> <p>\u5c06\u4e0b\u8f7d\u7684\u63d2\u4ef6\u5305\u4e0a\u4f20\u5230 \u8282\u70b9\u7ba1\u7406\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n./scripts/setup_bkce7.sh -u plugin\n</code></pre></p> <p>\u7ed3\u5c3e\u6700\u540e\u4e00\u6bb5 JSON \u663e\u793a <code>\"message\": \"\u7565 | all package under path-&gt;[/app/official_plugin] is import success, file_count-&gt;[1] package_count-&gt;[7]\"</code> \u5373\u4e3a\u4e0a\u4f20\u6210\u529f\u3002</p> <p>\u811a\u672c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u8bbf\u95ee\u8282\u70b9\u7ba1\u7406\u7684 \u300c\u63d2\u4ef6\u7ba1\u7406\u300d\u2014\u2014\u300c\u63d2\u4ef6\u5305\u300d\u754c\u9762\uff0c\u53ef\u4ee5\u770b\u5230\u4e0a\u4f20\u6210\u529f\u7684\u63d2\u4ef6\u5305\uff1a </p> <p>\u63d2\u4ef6\u5408\u8f91\u4e2d\u5404\u5b50\u5305\u7684\u7528\u9014\uff1a | \u63d2\u4ef6\u5305\u540d | \u7528\u9014 | \u63cf\u8ff0 | | -- | -- | -- | | bkmonitorbeat | \u84dd\u9cb8\u76d1\u63a7\u6307\u6807\u91c7\u96c6\u5668 | \u652f\u6301\u591a\u534f\u8bae\u591a\u4efb\u52a1\u7684\u91c7\u96c6\u3001\u76d1\u63a7\u548c\u53ef\u7528\u7387\u8ba1\u7b97\uff0c\u63d0\u4f9b\u591a\u79cd\u8fd0\u884c\u6a21\u5f0f\u548c\u70ed\u52a0\u8f7d\u673a\u5236 | | bkunifylogbeat | \u9ad8\u6027\u80fd\u65e5\u5fd7\u91c7\u96c6 | \u65e5\u5fd7\u76f8\u5173\u7684\u91c7\u96c6 | | bk-collector | \u591a\u534f\u8bae\u6570\u636e\u91c7\u96c6 | \u9ad8\u6027\u80fd Trace\u3001\u6307\u6807\u3001\u65e5\u5fd7\u63a5\u6536\u7aef\uff0c\u652f\u6301 OT\u3001Jaeger\u3001Zipkin \u7b49\u591a\u79cd\u6570\u636e\u534f\u8bae\u683c\u5f0f\u3002\u66ff\u4ee3\u4e86\u4e4b\u524d\u7684 bkmonitorproxy\u3002 |</p> <p>\u63d0\u793a</p> <ul> <li>\u5355\u72ec\u4e0b\u8f7d\u5b50\u5305\u9ed8\u8ba4\u7248\u672c\uff1a <code>bkdl-7.1-stable.sh -ur latest \u63d2\u4ef6\u5305\u540d</code></li> <li>\u6307\u5b9a\u7248\u672c\uff1a <code>bkdl-7.1-stable.sh -ur latest \u63d2\u4ef6\u5305\u540d=\u7248\u672c\u53f7</code></li> <li>\u4e0b\u8f7d\u5230\u4e2d\u63a7\u673a\u540e\uff0c\u4e0a\u4f20\u5230\u8282\u70b9\u7ba1\u7406\uff1a <code>./scripts/setup_bkce7.sh -u plugin</code></li> </ul>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/#gse-proxy","title":"\u4e0a\u4f20 GSE Proxy","text":"<p>\u63d0\u793a</p> <ul> <li>\u5f53\u4f60\u9700\u8981\u66f4\u65b0\u5ba2\u6237\u7aef\u6216\u8005\u52a0\u88c5\u4e91\u533a\u57df\u4ee3\u7406\u65f6\uff0c\u53ef\u4ee5\u5728\u4e0b\u8f7d\u540e\u4f7f\u7528\u6b64\u547d\u4ee4\u91cd\u65b0\u4e0a\u4f20\u3002</li> </ul> <p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4e0b\u8f7d Proxy \uff08\u4ec5 linux-x86_64\uff0c\u4e0d\u652f\u6301\u5176\u4ed6\u7cfb\u7edf\u53ca\u67b6\u6784\uff09\uff1a <pre><code>bkdl-7.1-stable.sh -ur latest gse_proxy\n</code></pre> \u4e0a\u4f20 Proxy \u5230 \u8282\u70b9\u7ba1\u7406\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n./scripts/setup_bkce7.sh -u proxy\n./scripts/setup_bkce7.sh -u opentools  # \u4e0a\u4f20proxy\u6240\u9700\u7684\u5f00\u6e90\u5de5\u5177\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/#gse_1","title":"\u914d\u7f6e GSE \u73af\u5883\u7ba1\u7406","text":"<p>\u8bf7\u5148\u767b\u5f55\u5230\u84dd\u9cb8\u684c\u9762\uff0c\u6253\u5f00\u201c\u8282\u70b9\u7ba1\u7406\u201d\u5e94\u7528\u3002\u7136\u540e\u70b9\u51fb\u9876\u90e8\u5bfc\u822a\u680f \u201c\u5168\u5c40\u914d\u7f6e\u201d\uff0c\u4f1a\u9ed8\u8ba4\u8fdb\u5165\u201cgse \u73af\u5883\u7ba1\u7406\u201d \u754c\u9762\u3002</p> <p>\u70b9\u51fb \u201c\u9ed8\u8ba4\u63a5\u5165\u70b9\u201d \u53f3\u4fa7\u7684 \u201c\u7f16\u8f91\u201d \u56fe\u6807\uff0c\u8fdb\u5165 \u201c\u7f16\u8f91\u63a5\u5165\u70b9\u201d \u754c\u9762\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/#1","title":"1. \u6309\u573a\u666f\u5feb\u901f\u914d\u7f6e","text":"<p>\u5176\u4e2d\uff0c<code>zk\u914d\u7f6e</code> \u7684\u586b\u5199\u8981\u6c42\u5982\u4e0b\u3002 * \u7528\u6237\u540d\u548c\u5bc6\u7801\uff1a\u4f7f\u7528\u84dd\u9cb8\u5185\u7f6e\u7684 <code>bk-zookeeper-0</code> \u5b9e\u4f8b\u65f6\uff0c\u65e0\u9700\u4fee\u6539\u3002\u81ea\u5b9a\u4e49 zk \u8bf7\u6309\u9700\u4fee\u6539\u3002 * \u96c6\u7fa4\u5730\u5740\uff1a\u4f7f\u7528\u84dd\u9cb8\u5185\u7f6e\u7684 <code>bk-zookeeper-0</code> \u5b9e\u4f8b\u65f6\uff0cIP \u586b\u5199 \u4efb\u610f k8s node IP\uff0cPORT \u586b\u5199 <code>32181</code>\uff08\u6ce8\u610f\u4e0d\u662f\u9ed8\u8ba4\u7684 <code>2181</code>\uff0c\u6b64\u5904\u53d6 <code>bk-zookeeper</code> \u670d\u52a1\u7684 NodePort\uff09\u3002</p> <p>\u6839\u636e\u4f60\u7684\u4f7f\u7528\u573a\u666f\u4e0d\u540c\uff0c<code>GSE\u670d\u52a1\u7aef</code>\u3001<code>\u56de\u8c03\u5730\u5740</code> \u4ee5\u53ca <code>Agent\u4e0b\u8f7d\u5730\u5740</code> \u6709\u4e0d\u540c\u7684\u914d\u7f6e\u503c\u3002 * \u5185\u7f51\u73af\u5883\u4f7f\u7528\u57df\u540d\u8bbf\u95ee\u8282\u70b9\u7ba1\u7406\u53ca\u5236\u54c1\u5e93\uff08\u8981\u6c42\u5efa\u8bbe\u5185\u7f51 DNS \u7cfb\u7edf\uff0c\u4e14\u673a\u5668\u9ed8\u8ba4\u53ef\u89e3\u6790\u76f8\u5173\u57df\u540d\uff09</p> <p>\u8bf7\u9605\u8bfb\u5bf9\u5e94\u7684\u573a\u666f\u7ae0\u8282\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/#11","title":"1.1. \u573a\u666f\uff1a\u5185\u7f51\u73af\u5883\u4f7f\u7528\u57df\u540d\u8bbf\u95ee\u8282\u70b9\u7ba1\u7406\u53ca\u5236\u54c1\u5e93","text":"<p>\u63d0\u793a</p> <p>\u4ec5\u5f53\u4f60\u7684\u5185\u7f51\u5177\u5907 DNS \u670d\u52a1\uff0c\u4e14\u65b0\u7cfb\u7edf\u9ed8\u8ba4\u80fd\u89e3\u6790 DNS \u65f6\uff0c\u624d\u80fd\u987a\u7545\u5730\u4f7f\u7528\u57df\u540d\u4f5c\u4e3a\u5165\u53e3\u3002\u5982\u679c\u6bcf\u6b21\u5b89\u88c5 agent \u524d\u8fd8\u9700\u8981\u901a\u8fc7\u5176\u4ed6\u65b9\u5f0f\u6279\u91cf\u4fee\u6539 <code>/etc/resolv.conf</code> \u6587\u4ef6\uff0c\u5219\u4f7f\u7528\u57df\u540d\u5e76\u4e0d\u5212\u7b97\u3002</p> <p>\u5728 \u4e2d\u63a7\u673a \u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u751f\u6210 \u914d\u7f6e \u53ca \u57df\u540d\u89e3\u6790\u4fe1\u606f\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nBK_DOMAIN=$(yq e '.domain.bkDomain' environments/default/custom.yaml)  # \u4ece\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e2d\u63d0\u53d6, \u4e5f\u53ef\u81ea\u884c\u8d4b\u503c\nIP1=$(kubectl get pods -A -l app.kubernetes.io/name=ingress-nginx -o jsonpath='{.items[0].status.hostIP}')\n\nzk_host=$(kubectl get pod -A -l statefulset.kubernetes.io/pod-name=bk-zookeeper-0 -o jsonpath='{.items[0].status.hostIP}')\ndata_server=$(kubectl get pod -A -l app=gse-data -o jsonpath='{.items[0].status.podIP}')\nfile_server=$(kubectl get pod -A -l app=gse-file -o jsonpath='{.items[0].status.podIP}')\ntask_server=$(kubectl get pod -A -l app=gse-cluster -o jsonpath='{.items[0].status.podIP}')\n\ncat &lt;&lt;EOF\nZookeeper: \uff08\u53ef\u4ee5\u5199\u4efb\u4e00 node \u7684 IP\uff0c\u6b64\u5904\u53d6 zk \u6240\u5728 node\uff0c\u6ce8\u610f\u7aef\u53e3\u4e3anodeport 32181\uff09\n$zk_host  32181\n\nBtfileserver \uff08\u5185\u7f51 IP \u548c\u5916\u7f51 IP \u76f8\u540c\uff09\uff1a\n$file_server\nDataserver \uff08\u5185\u7f51 IP \u548c\u5916\u7f51 IP \u76f8\u540c\uff09\uff1a\n$data_server\nTaskserver \uff08\u5185\u7f51 IP \u548c\u5916\u7f51 IP \u76f8\u540c\uff09\uff1a\n$task_server\n\n\u5916\u7f51\u56de\u8c03\u5730\u5740 \u548c \u5185\u7f51\u56de\u8c03\u5730\u5740 \u4e00\u6837\uff1a\nhttp://bknodeman.$BK_DOMAIN/backend\n\nAgent\u5305\u670d\u52a1\u5668\u76ee\u5f55: \u4fdd\u6301\u4e3a\u7a7a\nAgent\u5305URL  : 2 \u4e2a\u8f93\u5165\u6846\u5747\u6539\u4e3a\u4e0b\u9762\u7684\u5185\u5bb9\uff1a\nhttp://bkrepo.$BK_DOMAIN/generic/blueking/bknodeman/data/bkee/public/bknodeman/download\n\n\u8bf7\u53c2\u8003\u5982\u4e0b\u6620\u5c04\u5173\u7cfb\u914d\u7f6e DNS \u7cfb\u7edf\uff0c\u6216\u8005\u4fee\u6539\u5f85\u7eb3\u7ba1\u4e3b\u673a\u7684 hosts \u6587\u4ef6\uff1a\n$IP1 bkrepo.$BK_DOMAIN\n$IP1 bknodeman.$BK_DOMAIN\nEOF\n</code></pre></p> <p>\u6839\u636e\u63d0\u793a\u7684\u5185\u5bb9\uff0c\u5728\u754c\u9762\u586b\u5199\u5373\u53ef\u3002</p> <p>\u70b9\u51fb \u201c\u6d4b\u8bd5 Server \u53ca URL \u53ef\u7528\u6027\u201d \u6309\u94ae\u3002\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u53ef\u4ee5\u70b9\u51fb\u201c\u4e0b\u4e00\u6b65\u201d\u3002</p> <p>\u5728\u65b0\u7684 \u201cAgent \u4fe1\u606f\u201d \u53ca \u201cProxy \u4fe1\u606f\u201d \u786e\u8ba4\u754c\u9762\u70b9\u51fb \u201c\u786e\u8ba4\u201d \u6309\u94ae\u5373\u5b8c\u6210\u8282\u70b9\u7ba1\u7406\u7684\u914d\u7f6e\u3002</p> <p>\u63a5\u4e0b\u6765\u8bf7\u4f60\u524d\u5f80 DNS \u7cfb\u7edf\u5b8c\u6210\u4e0a\u9762\u57df\u540d\u7684\u89e3\u6790\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/#2-dns","title":"2. \u914d\u7f6eDNS\u57df\u540d\u89e3\u6790","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/#3","title":"3. \u914d\u7f6e\u7ec6\u8282\u8bf4\u660e","text":"<p>\u4e0d\u5efa\u8bae\u7f16\u8f91\u9ed8\u8ba4\u63a5\u5165\u70b9\u7684\u540d\u5b57\u53ca\u8bf4\u660e\u3002</p> <ul> <li>\u533a\u57df\u53ca\u57ce\u5e02    \u586b\u5199 GSE \u96c6\u7fa4\u914d\u7f6e\u7684\u503c\uff0c\u5982\u679c\u548c GSE \u914d\u7f6e\u4e0d\u4e00\u81f4\u5219\u4f1a\u7981\u6b62\u5b89\u88c5\u3002\u5728\u9ed8\u8ba4\u63a5\u5165\u70b9\u4e2d\uff0c\u533a\u57df\u53ca\u57ce\u5e02\u5747\u4e3a <code>test</code>\u3002</li> <li>zk \u914d\u7f6e    \u8282\u70b9\u7ba1\u7406\u901a\u8fc7 zk \u8bfb\u53d6 GSE \u670d\u52a1\u7aef\u7684\u6570\u636e\u3002\u8bf7\u6309\u9700\u4fee\u6539\uff0c\u5982\u679c\u4f7f\u7528\u84dd\u9cb8\u5185\u7f6e\u7684\u670d\u52a1\uff0c\u8bf7\u53c2\u8003\u4e0a\u9762\u7684\u573a\u666f\u6587\u6863\u586b\u5199\u3002</li> <li>GSE \u670d\u52a1\u7aef\u7cfb\u5217\u914d\u7f6e    \u90e8\u7f72\u540e\u4f1a\u586b\u5199\u5f53\u524d\u7684 IP\uff0c\u53ef\u6682\u4e0d\u4fee\u6539\u3002   \u4eca\u540e\u5982\u9700\u66f4\u65b0\u67d0\u4e2a\u5b57\u6bb5\uff08<code>BtfileServer</code>\u3001<code>DataServer</code> \u6216 <code>TaskServer</code> \uff09\uff0c\u8bf7\u5c06\u8be5\u5b57\u6bb5\u7684**\u5185\u7f51 IP**\u6539\u4e3a <code>127.0.0.1</code>\uff0c\u4ee5\u6307\u793a\u8282\u70b9\u7ba1\u7406\u81ea\u52a8\u4fee\u6539\u3002    \u81ea\u52a8\u4fee\u6539\u4ec5\u8fdb\u884c\u4e00\u6b21\uff0c\u4f1a\u4f7f\u7528 zookeeper \u4e2d\u7684\u670d\u52a1\u53d1\u73b0\u5730\u5740\u586b\u5145**\u5185\u7f51 IP**\u53ca**\u5916\u7f51 IP**\u3002</li> <li>\u8282\u70b9\u7ba1\u7406\u56de\u8c03\u5730\u5740    \u7528\u4e8e\u5b89\u88c5\u65e5\u5fd7\u4e0a\u62a5\u7b49\u3002\u9700\u914d\u7f6e\u4e3a\u8282\u70b9\u7ba1\u7406 <code>bk-nodeman-backend-api</code> \u670d\u52a1\u7684 NodePort \u5730\u5740\uff1a<code>IP:30300</code>\u3002</li> <li>\u5916\u7f51\u56de\u8c03\u5730\u5740\uff1a\u548c\u5185\u7f51\u56de\u8c03\u5730\u5740\u4fdd\u6301\u4e00\u81f4\u3002</li> <li>\u5185\u7f51\u56de\u8c03\u5730\u5740\uff1a\u586b\u5199 <code>http://\u4efb\u610fNode\u7684IP:30300/backend</code> \uff08\u6ce8\u610f\u7ed3\u5c3e\u6ca1\u6709\u659c\u6760\uff09\u3002</li> <li>\u90e8\u7f72\u6587\u4ef6\u4e0b\u8f7d\u5730\u5740\u3002    \u7528\u4e8e\u4e0b\u8f7d\u5b89\u88c5\u811a\u672c\u3001\u5b89\u88c5\u6587\u4ef6\u53ca\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u76d1\u63a7\u63d2\u4ef6\u7b49\u3002</li> <li>Agent \u5305\u670d\u52a1\u5668\u76ee\u5f55\uff1a\u8bf7\u4fdd\u6301\u4e3a\u7a7a\u3002</li> <li>agent \u5305 URL\uff1a      \u9700\u914d\u7f6e\u4e3a\u5236\u54c1\u5e93 <code>bk-repo-bkrepo-gateway</code> \u670d\u52a1\u5165\u53e3\u3002\u53ef\u4ee5\u662f\u57df\u540d <code>bkrepo.$BK_DOMAIN</code> \u6216\u8005 NodePort \u5730\u5740\uff1a <code>IP:30025</code>\u3002<ul> <li>\u5185\u7f51\u4e0b\u8f7d URL\uff1a\u7b2c\u4e00\u4e2a\u8f93\u5165\u6846\u3002\u586b\u5199 <code>http://\u4efb\u610fNode\u7684IP:30025/generic/blueking/bknodeman/data/bkee/public/bknodeman/download</code>\u3002</li> <li>\u5916\u7f51\u4e0b\u8f7d URL\uff1a\u7b2c\u4e8c\u4e2a\u8f93\u5165\u6846\u3002\u5185\u5bb9\u540c**\u5185\u7f51\u5730\u5740**\u3002</li> </ul> </li> </ul> <p>\u70b9\u51fb\u201c\u4e0b\u4e00\u6b65\u201d\u8fdb\u5165\u7b2c\u4e8c\u9875\u65f6\u7684\u914d\u7f6e\u9879\uff1a * \u5927\u90e8\u5206\u5b57\u6bb5\u5747\u53ef\u4fdd\u6301\u9ed8\u8ba4\u503c\u3002 * dataipc \u586b\u5199 <code>47000</code>\u3002 * Proxy \u4e0a\u7684\u5b89\u88c5\u5305 \u540e\u7eed\u4f1a\u8c03\u6574\u3002\u53ef\u4ee5\u4e34\u65f6\u586b\u5199 <code>gse_client-linux-x86_64.tgz</code>\u3002</p> <p>\u914d\u7f6e\u5b8c\u6210\uff0c\u70b9\u51fb \u201c\u786e\u8ba4\u201d \u5373\u53ef\u521b\u5efa\u63a5\u5165\u70b9\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/#node-gse-agent","title":"\u7ed9 node \u5b89\u88c5 gse agent","text":"<p>\u9700\u8981\u7ed9\u96c6\u7fa4\u7684 \u201c\u5168\u90e8 node\u201d\uff08\u5305\u62ec <code>master</code>\uff09 \u5b89\u88c5 gse agent\uff0c\u5e76\u653e\u5165\u300a\u84dd\u9cb8\u300b\u4e1a\u52a1\u3002</p> <p>agent \u7528\u9014\uff1a 1. job \u4f9d\u8d56 <code>node</code> \u4e0a\u7684 gse agent \u8fdb\u884c\u6587\u4ef6\u5206\u53d1\u3002\u8282\u70b9\u7ba1\u7406\u5b89\u88c5\u63d2\u4ef6\u65f6\u4e5f\u662f\u901a\u8fc7 job \u5206\u53d1\u3002 2. \u5bb9\u5668\u76d1\u63a7\u9700\u8981\u901a\u8fc7 <code>node</code> \u4e0a\u7684 gse agent \u5b8c\u6210\u76d1\u63a7\u3002</p> <p>\u8bf7\u53c2\u8003 \u300a\u5b89\u88c5\u84dd\u9cb8 Agent\uff08\u76f4\u8fde\u533a\u57df\uff09\u300b \u6587\u6863\u5b89\u88c5 agent\u3002</p> <p>\u5728\u8282\u70b9\u7ba1\u7406\u7684 \u201c\u666e\u901a\u5b89\u88c5\u201d \u754c\u9762\uff0c\u9009\u62e9 \u4e1a\u52a1\u4e3a\u300a\u84dd\u9cb8\u300b\uff0c\u4e91\u533a\u57df\u4e3a \u201c\u76f4\u8fde\u533a\u57df\u201d\uff0c\u5b89\u88c5\u901a\u9053\u53ca\u63a5\u5165\u70b9\u5747\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002</p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u8bef\u9009\u4e86\u300a\u8d44\u6e90\u6c60\u300b\u4e1a\u52a1\uff0c\u53ef\u7b49\u5f85 agent \u5b89\u88c5\u5b8c\u6bd5\u3002\u7136\u540e\u56de\u5230\u84dd\u9cb8\u684c\u9762\uff0c\u8bbf\u95ee \u201c\u914d\u7f6e\u5e73\u53f0\u201d\uff0c\u8fdb\u5165 \u201c\u8d44\u6e90\u201d \u2014\u2014 \u201c\u4e3b\u673a\u201d \u754c\u9762\u3002 \u5168\u9009\u521a\u624d\u65b0\u5b89\u88c5\u7684\u4e3b\u673a\uff0c\u70b9\u51fb \u201c\u5206\u914d\u5230\u201d \u6309\u94ae\uff0c\u9009\u62e9 \u201c\u4e1a\u52a1\u7a7a\u95f2\u673a\u6c60\u201d\u3002\u5728\u5f39\u7a97\u4e2d\u9009\u62e9 \u300a\u84dd\u9cb8\u300b \u4e1a\u52a1\uff0c\u70b9\u51fb \u201c\u786e\u5b9a\u201d \u6309\u94ae\u3002\u5b8c\u6210\u540e\u53ef\u70b9\u51fb\u9876\u90e8\u5bfc\u822a\u8fdb\u5165 \u201c\u4e1a\u52a1\u201d \u754c\u9762\uff0c\u5de6\u4e0a\u89d2\u5207\u6362\u4e1a\u52a1\u4e3a \u300a\u84dd\u9cb8\u300b\uff0c\u5373\u53ef\u770b\u5230\u8fd9\u6279\u4e3b\u673a\u3002</p> <p>\u5f53\u5b89\u88c5 agent \u5b8c\u6210\u540e\uff0c\u4e3a\u6240\u6709 agent \u6279\u91cf\u5b89\u88c5 <code>bkmonitorbeat</code> \u548c <code>bkunifylogbeat</code> \u63d2\u4ef6\uff0c\u4ee5\u4fbf \u4e0a\u62a5\u4e3b\u673a\u76d1\u63a7\u6570\u636e \u53ca \u63d0\u4f9b\u65e5\u5fd7\u91c7\u96c6\u80fd\u529b\u3002</p> <p>\u5e38\u89c1\u62a5\u9519\uff1a 1. <code>[script] agent(PID:NNN) is not connect to gse server</code>\uff0c\u8bf7\u68c0\u67e5 \u201c\u914d\u7f6e GSE \u73af\u5883\u7ba1\u7406\u201d \u7ae0\u8282\u7684\u914d\u7f6e\u662f\u5426\u6b63\u786e\u3002 2. <code>\u547d\u4ee4\u8fd4\u56de\u975e\u96f6\u503c\uff1aexit_status -&gt; 6, stdout -&gt; , stderr -&gt; curl: (6) Could not resolve host: bkrepo.$BK_DOMAIN; Unknown error</code>\uff0c\u8bf7\u68c0\u67e5\u76ee\u6807\u4e3b\u673a\u7684 DNS \u914d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u4e5f\u53ef\u4e34\u65f6\u6dfb\u52a0 hosts \u8bb0\u5f55\u89e3\u51b3\u89e3\u6790\u95ee\u9898\u3002\u6216\u53c2\u8003 \u201c\u914d\u7f6e GSE \u73af\u5883\u7ba1\u7406\u201d \u7ae0\u8282\u914d\u7f6e agent url \u4e3a k8s node IP\u3002 3. <code>ERROR setup_agent FAILED process check: agentWorker not found (node type:agent)</code>\uff0cagent \u542f\u52a8\u5931\u8d25\u3002\u5982\u679c\u662f\u5148\u6dfb\u52a0\u7684 k8s node\uff0c\u7136\u540e\u5b89\u88c5 agent \u4f1a\u9047\u5230\u6b64\u95ee\u9898\u3002\u53ef\u5148\u884c\u53d6\u6d88\u8c03\u5ea6\u6b64 node\uff0c\u7136\u540e\u9a71\u9010\u6240\u6709 pod\uff0c\u5e76\u5220\u9664\u4e3b\u673a\u7684 <code>/var/run/ipc.state.report</code> \u76ee\u5f55\u3002\u7136\u540e\u5148\u5b89\u88c5 agent\uff0c\u518d\u5c06 node \u52a0\u56de\u96c6\u7fa4\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-2%20%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8F%8A%E5%AE%89%E8%A3%85%20Agent/#_1","title":"\u4e0b\u4e00\u6b65","text":"<p>\u6216\u8005[\u542f\u52a8\u84dd\u9cb8 API \u6d4b\u8bd5\u5de5\u5177]\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-3%20%E4%BD%93%E9%AA%8C%E8%93%9D%E9%B2%B8%E8%87%AA%E5%8A%A8%E5%8C%96%20API%20%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/","title":"2 3 \u4f53\u9a8c\u84dd\u9cb8\u81ea\u52a8\u5316 API \u6d4b\u8bd5\u5de5\u5177","text":"<p>\u6b22\u8fce\u4f53\u9a8c\u84dd\u9cb8\u81ea\u52a8\u5316 API \u6d4b\u8bd5\u5de5\u5177\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-3%20%E4%BD%93%E9%AA%8C%E8%93%9D%E9%B2%B8%E8%87%AA%E5%8A%A8%E5%8C%96%20API%20%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/#bk-apicheck","title":"\u90e8\u7f72 bk-apicheck","text":"<p>\u66f4\u65b0 helm \u4ed3\u5e93\u7f13\u5b58\uff1a <pre><code>helm repo update\n</code></pre> \u68c0\u67e5\u4ed3\u5e93\u91cc\u7684\u7248\u672c\uff1a <pre><code>helm search repo bk-apicheck --version 2.0.6\n</code></pre> \u9884\u671f\u8f93\u51fa\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>NAME                    CHART VERSION  APP VERSION DESCRIPTION\nblueking/bk-apicheck    2.0.6          2.0.6       A full stack chart for Apicheck Enterprise prod...\n</code></pre> <p>\u4fee\u6539 <code>environments/default/version.yaml</code> \u6587\u4ef6\uff0c\u914d\u7f6e bk-apicheck charts version \u4e3a <code>2.0.6</code>\uff1a <pre><code>sed -i 's/bk-apicheck:.*/bk-apicheck: \"2.0.6\"/' environments/default/version.yaml\ngrep bk-apicheck environments/default/version.yaml  # \u68c0\u67e5\u4fee\u6539\u7ed3\u679c\n</code></pre> \u9884\u671f\u8f93\u51fa\uff1a</p> <pre><code>  bk-apicheck: \"2.0.6\"\n</code></pre> <p>\u66f4\u65b0 bk-apicheck: <pre><code>helmfile -f 05-bkapicheck.yaml.gotmpl sync\n</code></pre></p> <p>\u7b49\u5f85\u547d\u4ee4\u6267\u884c\u5b8c\u6bd5\uff0c\u7ed3\u5c3e\u8f93\u51fa\u5982\u4e0b\u5373\u4e3a\u66f4\u65b0\u6210\u529f\uff1a</p> <pre><code>UPDATED RELEASES:\nNAME          CHART                  VERSION\nbk-apicheck   blueking/bk-apicheck   2.0.6\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-3%20%E4%BD%93%E9%AA%8C%E8%93%9D%E9%B2%B8%E8%87%AA%E5%8A%A8%E5%8C%96%20API%20%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/#bk-apicheck_1","title":"\u4f7f\u7528 bk-apicheck","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-3%20%E4%BD%93%E9%AA%8C%E8%93%9D%E9%B2%B8%E8%87%AA%E5%8A%A8%E5%8C%96%20API%20%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/#1","title":"1. \u8bbf\u95ee\u5730\u5740","text":"<p>\u76ee\u524d\u9884\u7f6e\u7684\u57df\u540d\u4e3a <code>bk-apicheck.$BK_DOMAIN</code>\u3002</p> <p>\u914d\u7f6e DNS \u6216 hosts \u6210\u529f\u540e\uff0c\u9700\u8981\u5728\u6d4f\u89c8\u5668\u8f93\u5165\u57df\u540d\u8bbf\u95ee\u3002\u6682\u65f6\u65e0\u6cd5\u5728\u84dd\u9cb8\u684c\u9762\u6253\u5f00\u3002</p> <p>\u8bbf\u95ee\u754c\u9762\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-3%20%E4%BD%93%E9%AA%8C%E8%93%9D%E9%B2%B8%E8%87%AA%E5%8A%A8%E5%8C%96%20API%20%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/#2","title":"2. \u754c\u9762\u7528\u6cd5","text":"<p>\u6ce8\u610f</p> <p>\u5728\u6267\u884c\u4efb\u52a1\u65f6\uff0cbk-apicheck \u4f1a\u8c03\u7528\u5bf9\u5e94\u5e73\u53f0\u7684 API \u521b\u5efa\u5e76\u5220\u9664\u6570\u636e\u3002\u9274\u4e8e\u5e73\u53f0\u5927\u90fd\u5b9e\u73b0\u4e3a\u4e86\u8f6f\u5220\u9664\uff08\u6807\u8bb0\u5220\u9664\uff0c\u4f46\u8bb0\u5f55\u4fdd\u7559\uff09\uff0c\u56e0\u6b64\u4f1a\u5bfc\u81f4\u4f60\u65b0\u589e\u8d44\u6e90\u7684\u81ea\u589e ID \u4e0d\u662f\u4ece 1 \u5f00\u59cb\u3002</p> <p>\u6211\u4eec\u63d0\u4f9b\u4e86 \u201c\u5168\u91cf API\u201d \u6a21\u5f0f\u548c\u4e00\u4e9b\u7cfb\u7edf\u7684\u5355\u9879\u6d4b\u8bd5\uff0c\u90fd\u662f\u72ec\u7acb\u6d4b\u8bd5\u548c\u62a5\u544a\u7684\u3002\u6240\u4ee5\u5168\u91cf\u6267\u884c\u540e\uff0c\u4e0d\u4f1a\u51fa\u73b0\u5355\u9879\u7684\u62a5\u544a\u3002</p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u5728\u6267\u884c \u201c\u5168\u91cf API\u201d \u6d4b\u8bd5\u65f6\uff0c\u5c1a\u672a\u90e8\u7f72 \u76d1\u63a7\u5e73\u53f0\u3002\u53ef\u4ee5\u5728\u90e8\u7f72\u5b8c\u6210\u540e\u5728 \u201c\u76d1\u63a7\u5e73\u53f0 API\u201d \u5361\u7247\u91cc\u70b9\u51fb \u201c\u6267\u884c\u201d \u8fdb\u884c\u5355\u72ec\u6d4b\u8bd5\u3002</p> <p>\u70b9\u51fb\u6bcf\u4e2a\u5361\u7247\u91cc\u7684 \u201c\u6267\u884c\u201d \u6309\u94ae\uff0c\u5373\u4f1a\u53d1\u8d77\u6d4b\u8bd5\u4efb\u52a1\u3002\u6d4b\u8bd5\u5b8c\u6bd5\u540e\u4f1a\u81ea\u52a8\u8df3\u8f6c\u5230\u62a5\u544a\u9875\u3002\u5168\u91cf\u6d4b\u8bd5\u8017\u65f6 8-15 \u5206\u949f\uff0c\u5176\u4f59\u5355\u5e73\u53f0\u6d4b\u8bd5\u6bcf\u4e2a 1-3 \u5206\u949f\u3002</p> <p>\u4e0b\u56fe\u4e3a\u4e00\u4e2a\u6d4b\u8bd5\u62a5\u544a\uff1a </p> <p>\u6ce8\u610f</p> <ul> <li>\u5f53\u62a5\u544a\u9875\u63d0\u793a\u201c\u60a8\u8bbf\u95ee\u7684\u62a5\u544a\u4e0d\u5b58\u5728\u201d\uff1a\u8bf4\u660e\u5c1a\u672a\u5f00\u59cb\u6267\u884c\u6d4b\u8bd5\u3002\u53ef\u4ee5\u91cd\u65b0\u70b9\u51fb\u201c\u6267\u884c\u201d\u6309\u94ae\u8bd5\u8bd5\uff0c\u5e76\u767b\u5f55\u4e2d\u63a7\u673a\u68c0\u67e5 pod \u662f\u5426\u4ea7\u751f\u5f02\u5e38\u65e5\u5fd7\u3002</li> <li>\u5f53\u62a5\u544a\u9875\u767d\u5c4f\uff1a\u8bf4\u660e\u6b63\u5728\u6267\u884c\u6d4b\u8bd5\uff0c\u5386\u53f2\u62a5\u544a\u5df2\u88ab\u6e05\u7a7a\u3002\u53ef\u4ee5\u7a0d\u7b49\u51e0\u5206\u949f\u5237\u65b0\u9875\u9762\u3002</li> </ul>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-3%20%E4%BD%93%E9%AA%8C%E8%93%9D%E9%B2%B8%E8%87%AA%E5%8A%A8%E5%8C%96%20API%20%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/#bk-apicheck_2","title":"\u505c\u6b62 bk-apicheck","text":"<p>\u76ee\u524d bk-apicheck \u5c1a\u65e0\u9274\u6743\u3002\u56e0\u6b64\u5728\u6d4b\u8bd5\u5b8c\u6bd5\u540e\uff0c\u5e94\u8be5\u5c3d\u5feb\u505c\u6b62\u6b64\u670d\u52a1\uff0c\u4ee5\u907f\u514d\u6f5c\u5728\u7684\u4fe1\u606f\u6cc4\u6f0f\u98ce\u9669\u3002</p> <pre><code>helmfile -f 05-bkapicheck.yaml.gotmpl destroy\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/2-3%20%E4%BD%93%E9%AA%8C%E8%93%9D%E9%B2%B8%E8%87%AA%E5%8A%A8%E5%8C%96%20API%20%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/#_1","title":"\u4e0b\u4e00\u6b65","text":"<p>\u90e8\u7f72\u5bb9\u5668\u7ba1\u7406\u5957\u9910\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-1%20%E9%83%A8%E7%BD%B2%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E5%A5%97%E9%A4%90/","title":"\u90e8\u7f72\u5bb9\u5668\u7ba1\u7406\u5957\u9910","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-1%20%E9%83%A8%E7%BD%B2%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E5%A5%97%E9%A4%90/#1","title":"1. \u90e8\u7f72\u5bb9\u5668\u7ba1\u7406\u5e73\u53f0","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-1%20%E9%83%A8%E7%BD%B2%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E5%A5%97%E9%A4%90/#11-storageclass","title":"1.1. \u786e\u8ba4 storageClass","text":"<p>\u5728 \u4e2d\u63a7\u673a \u68c0\u67e5\u5f53\u524d k8s \u96c6\u7fa4\u6240\u4f7f\u7528\u7684\u5b58\u50a8\uff1a <pre><code>kubectl get sc\n</code></pre> \u9884\u671f\u8f93\u51fa\u4e3a\uff1a <pre><code>NAME                      PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE\nlocal-storage (default)   kubernetes.io/no-provisioner   Delete          WaitForFirstConsumer   false                  3d21h\n</code></pre></p> <p>\u5982\u679c\u8f93\u51fa\u7684\u540d\u79f0\u4e0d\u662f <code>local-storage</code>\uff0c\u5219\u9700\u901a\u8fc7\u521b\u5efa <code>custom.yaml</code> \u5b9e\u73b0\u4fee\u6539\uff1a <pre><code>cd ~/bkce7.1-install/blueking/\ncat &lt;&lt;EOF &gt;&gt; environments/default/custom.yaml\nbcs:\n  storageClass: \u586b\u5199\u4e0a\u9762\u7684\u67e5\u8be2\u5230\u7684\u540d\u79f0\nEOF\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-1%20%E9%83%A8%E7%BD%B2%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E5%A5%97%E9%A4%90/#13-coredns","title":"1.3. \u914d\u7f6e coredns","text":"<p>\u5bb9\u5668\u7ba1\u7406\u5e73\u53f0 \u4f1a\u5728 pod \u5185\u8bf7\u6c42 \u84dd\u9cb8\u5236\u54c1\u5e93 \u63d0\u4f9b\u7684 helm \u53ca docker \u4ed3\u5e93\uff0c\u9700\u786e\u4fdd coredns \u914d\u7f6e\u6b63\u786e\u3002</p> <p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nBK_DOMAIN=$(yq e '.domain.bkDomain' environments/default/custom.yaml)  # \u4ece\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e2d\u63d0\u53d6, \u4e5f\u53ef\u81ea\u884c\u8d4b\u503c\nIP1=$(kubectl get svc -A -l app.kubernetes.io/instance=ingress-nginx -o jsonpath='{.items[0].spec.clusterIP}')\n./scripts/control_coredns.sh update \"$IP1\" bcs.$BK_DOMAIN bcs-api.$BK_DOMAIN docker.$BK_DOMAIN helm.$BK_DOMAIN\n./scripts/control_coredns.sh list  # \u68c0\u67e5\u6dfb\u52a0\u7684\u8bb0\u5f55\u3002\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-1%20%E9%83%A8%E7%BD%B2%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E5%A5%97%E9%A4%90/#14","title":"1.4. \u5f00\u59cb\u90e8\u7f72","text":"<p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking\nhelmfile -f 03-bcs.yaml.gotmpl sync\n# \u5728admin\u684c\u9762\u6dfb\u52a0\u5e94\u7528\uff0c\u4e5f\u53ef\u4ee5\u767b\u5f55\u540e\u81ea\u884c\u6dfb\u52a0\u3002\nscripts/add_user_desktop_app.sh -u \"admin\" -a \"bk_bcs\"\n# \u8bbe\u4e3a\u9ed8\u8ba4\u5e94\u7528\u3002\nscripts/set_desktop_default_app.sh -a \"bk_bcs\"\n</code></pre> \u8017\u65f6 3 ~ 7 \u5206\u949f\uff0c\u6b64\u65f6\u53ef\u4ee5\u53e6\u8d77\u4e00\u4e2a\u7ec8\u7aef\u89c2\u5bdf\u76f8\u5173 pod \u7684\u72b6\u6001 <pre><code>kubectl get pod -n bcs-system -w\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-1%20%E9%83%A8%E7%BD%B2%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E5%A5%97%E9%A4%90/#15","title":"1.5. \u5bfc\u5165\u6807\u51c6\u8fd0\u7ef4\u6d41\u7a0b","text":"<ul> <li>\u81ea\u5efa\u96c6\u7fa4\uff1a\u7531\u5bb9\u5668\u7ba1\u7406\u5e73\u53f0\u8c03\u7528 \u6807\u51c6\u8fd0\u7ef4 \u5728\u6307\u5b9a\u4e3b\u673a\u4e0a\u5b89\u88c5 k8s\uff0c\u8fd9\u4e9b\u4e3b\u673a\u9700\u8981\u63d0\u524d\u5b89\u88c5\u84dd\u9cb8 GSE Agent\u3002</li> </ul> <p>\u4f7f\u7528 admin \u8d26\u6237\u767b\u5f55 \u201c\u84dd\u9cb8\u684c\u9762\u201d\uff0c\u6253\u5f00 \u201c\u6807\u51c6\u8fd0\u7ef4\u201d\u3002\u8fdb\u5165 \u201c\u516c\u5171\u6d41\u7a0b\u7ba1\u7406\u201d \u754c\u9762\uff0c\u5c55\u5f00 \u201c\u5bfc\u5165\u201d \u6309\u94ae\uff0c\u9009\u62e9 \u201c\u5bfc\u5165 DAT \u6587\u4ef6\u201d\u3002</p> <p>\u5728\u65b0\u51fa\u73b0\u7684 \u201c\u5bfc\u5165 DAT\u201d \u7a97\u53e3\u4e2d\uff0c\u4e0a\u4f20\u5982\u4e0b\u6587\u4ef6\uff1a * \u81ea\u5efa\u96c6\u7fa4\u6240\u9700\u7684\u6807\u51c6\u8fd0\u7ef4\u6d41\u7a0b\u6a21\u677f\uff0820230719 \u7248\u672c\uff09</p> <p>\u4e0a\u4f20\u6210\u529f\u540e\u4f1a\u663e\u793a\u5bfc\u5165\u5217\u8868\uff0c\u70b9\u51fb \u201c\u8986\u76d6 ID \u76f8\u540c\u7684\u6d41\u7a0b\u201d \u6309\u94ae\u5b8c\u6210\u5bfc\u5165\u3002\u5982\u679c\u6b64\u524d\u6709\u5bfc\u5165\u8fc7\u6d41\u7a0b\uff0c\u5219\u5bfc\u5165\u5217\u8868\u4e0b\u65b9\u4f1a\u9ad8\u4eae\u63d0\u793a <code>\u5176\u4e2d4\u6761\u6d41\u7a0b\u4e0e\u9879\u76ee\u5df2\u6709\u6d41\u7a0bID\u5b58\u5728\u51b2\u7a81</code>\uff0c\u8bf7\u70b9\u51fb \u201c\u8986\u76d6\u51b2\u7a81\u9879\uff0c\u5e76\u63d0\u4ea4\u201d \u6309\u94ae\u3002 </p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u6ca1\u6709\u5bfc\u5165\u6d41\u7a0b\uff0c\u6216\u8005\u6d41\u7a0b ID \u4e0d\u6b63\u786e\uff0c\u5219\u65b0\u5efa\u96c6\u7fa4\u65f6\u4f1a\u62a5\u9519 \u201c\u521b\u5efa\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\u201d\u3002\u201c\u67e5\u770b\u65e5\u5fd7\u201d \u91cc\u7684 \u201c\u6807\u51c6\u8fd0\u7ef4\u4efb\u52a1\u201d \u6b65\u9aa4\u65e5\u5fd7\u4e3a <code>running failed. CreateBkOpsTask err: Object not found: CommonTemplate(id=10001) does not exist.</code></p> <p>\u9700\u8981\u914d\u7f6eDNS\u89e3\u6790\u57df\u540d <code>bcs.$BK_DOMAIN</code> \u548c <code>bcs-api.$BK_DOMAIN</code>\u3002</p> <p>\u914d\u7f6e\u6210\u529f\u540e\uff0c\u5373\u53ef\u5728\u684c\u9762\u6253\u5f00 \u201c\u5bb9\u5668\u7ba1\u7406\u5e73\u53f0\u201d \u5e94\u7528\u4e86\u3002</p> <p>\u63d0\u793a</p> <p>\u201cHelm\u201d \u2014 \u201cChart \u4ed3\u5e93\u201d \u754c\u9762\u521d\u6b21\u8bbf\u95ee\u4f1a\u63d0\u793a <code>Record not found</code>\uff0c\u9700\u8981\u70b9\u51fb\u4e00\u6b21\u201c\u521b\u5efa\u201d\u6309\u94ae\uff0c\u5373\u53ef\u770b\u5230\u516c\u5171\u4ed3\u5e93\u7684 Chart \u5217\u8868\u3002\u9879\u76ee\u4ed3\u5e93\u6b64\u65f6\u4e3a\u7a7a\uff0c\u8bf7\u53c2\u8003\u4ea7\u54c1\u4f7f\u7528\u6587\u6863\u7684\u201c\u63a8\u9001\u4e1a\u52a1 Helm Chart \u5230\u4ed3\u5e93\u201d\u7ae0\u8282\u81ea\u884c\u4e0a\u4f20\u3002</p> <p>\u63d0\u793a</p> <p>\u5728\u90e8\u7f72\u84dd\u9cb8\u76d1\u63a7\u5e76\u5b8c\u6210\u201c\u5bb9\u5668\u76d1\u63a7\u6570\u636e\u4e0a\u62a5\u201d\u540e\uff0c\u201c\u96c6\u7fa4\u201d\u754c\u9762\u7684 \u201c\u603b\u89c8\u201d \u548c \u201c\u8282\u70b9\u7ba1\u7406\u201d \u7684\u76d1\u63a7\u56fe\u8868\u624d\u6709\u6570\u636e\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-1%20%E9%83%A8%E7%BD%B2%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E5%A5%97%E9%A4%90/#_2","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u7ee7\u7eed [\u90e8\u7f72\u76d1\u63a7\u65e5\u5fd7\u5957\u9910]</li> </ul>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-2%20%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5%20Helm/","title":"\u4e1a\u52a1\u63a5\u5165 Helm","text":"<p>\u672c\u6587\u5148\u7b80\u5355\u4ecb\u7ecd\u4ec0\u4e48\u662f Helm\uff0c\u7136\u540e\u4ee5\u84dd\u9cb8\u5c0f\u6e38\u620f\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u84dd\u9cb8\u5bb9\u5668\u670d\u52a1\u90e8\u7f72 Helm Release\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-2%20%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5%20Helm/#1-helm","title":"1. \u4ec0\u4e48\u662f Helm","text":"<p>Helm \u662f Kubernetes \u7684\u4e00\u4e2a\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u7528\u6765\u7b80\u5316\u5e94\u7528\u7684\u90e8\u7f72\u548c\u7ba1\u7406\u3002\u53ef\u4ee5\u628a Helm \u6bd4\u4f5c CentOS \u7684 yum \u5de5\u5177\u3002</p> <p>\u4f7f\u7528 Helm \u53ef\u4ee5\u5b8c\u6210\u4ee5\u4e0b\u4e8b\u60c5\uff1a</p> <ul> <li>\u7ba1\u7406 Kubernetes manifest files</li> <li>\u7ba1\u7406 Helm \u5b89\u88c5\u5305 Charts</li> <li>\u57fa\u4e8e Chart \u7684 Kubernetes \u5e94\u7528\u5206\u53d1</li> </ul> <p>\u66f4\u591a\u53ef\u4ee5\u53c2\u8003 Helm \u5b98\u65b9\u6587\u6863 \u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-2%20%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5%20Helm/#2-helm-chart","title":"2. Helm Chart \u4ed3\u5e93","text":"<p>\u5e73\u53f0\u4f1a\u7ed9\u9879\u76ee\u5206\u914d Helm Chart \u4ed3\u5e93\uff0c\u7528\u4e8e\u5b58\u653e\u9879\u76ee\u7684 Chart\uff0c\u4ed3\u5e93\u7684\u8bfb\u5199\u64cd\u4f5c\u5747\u9700\u8981\u5bc6\u7801\uff1b\u53e6\u5916\uff0c\u6240\u6709\u9879\u76ee\u53ea\u8bfb\u5171\u4eab\u4e00\u4e2a\u516c\u5171\u4ed3\u5e93\uff0c\u7528\u4e8e\u5171\u4eab\u516c\u5171\u8d44\u6e90\uff0c\u6bd4\u5982\u793e\u533a\u4e2d\u5e38\u7528\u5f00\u6e90\u7ec4\u4ef6\u7684\u90e8\u7f72\u65b9\u6848\uff0c\u6240\u6709\u9879\u76ee\u5bf9\u516c\u5171\u4ed3\u5e93\u4eab\u6709\u53ea\u8bfb\u6743\u9650\u3002</p> <p></p> <p>\u5982\u679c\u7528\u6237\u7684 Chart \u9700\u8981\u63a8\u9001\u5230\u516c\u5171\u4ed3\u5e93\uff0c\u53ef\u4ee5\u5728 \u5236\u54c1\u5e93\u9875\u9762\u7684 <code>blueking</code> \u9879\u76ee\u4e0b\u7684 <code>public-charts</code> \u4ed3\u5e93\u4e2d\u7ba1\u7406\u3002</p> <p></p> <p></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-2%20%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5%20Helm/#3-helm-chart","title":"3. \u63a8\u9001\u4e1a\u52a1 Helm Chart \u5230\u4ed3\u5e93","text":"<p>\u5982\u679c\u60a8\u7684\u73af\u5883\u8fd8\u6ca1\u6709\u90e8\u7f72helm\u4e0ehelm-push\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u9700\u8981\u5148\u90e8\u7f72\u597d\u8fd9\u4e24\u4e2a\u5de5\u5177\uff0c\u5b89\u88c5\u65b9\u5f0f\u6709\u51e0\u79cd\uff0c\u8bf7\u9009\u62e9\u9002\u5408\u60a8\u73af\u5883\u7684\u90e8\u7f72\u65b9\u5f0f</p> <ol> <li>helm\u547d\u4ee4\u884c\u5de5\u5177\u90e8\u7f72\uff08\u5982\u679c\u5df2\u5b58\u5728\u6b64\u547d\u4ee4\u884c\u5de5\u5177\u8bf7\u5ffd\u7565\uff09</li> </ol> <pre><code># \u901a\u8fc7\u547d\u4ee4\u884c\u65b9\u5f0f\u90e8\u7f72\uff0c\u8fd9\u79cd\u65b9\u5f0f\u4f1a\u53bb github.com \u4e0a\u4e0b\u8f7d\u5bf9\u5e94\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u81ea\u52a8\u90e8\u7f72\uff0c\n\n  curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash\n</code></pre> <ol> <li>helm-push\u547d\u4ee4\u884c\u5de5\u5177\u90e8\u7f72\uff08\u5982\u679c\u5df2\u5b58\u5728\u6b64\u547d\u4ee4\u884c\u5de5\u5177\u8bf7\u5ffd\u7565\uff09</li> </ol> <pre><code># \u4f7f\u7528helm plugin\u547d\u4ee4\u884c\u90e8\u7f72\uff0c\u8fd9\u79cd\u65b9\u5f0f\u4f1a\u53bb github.com \u4e0a\u4e0b\u8f7d\u5bf9\u5e94\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u81ea\u52a8\u90e8\u7f72\uff0c\n  \u5982\u679c\u60a8\u6240\u5728\u7684\u7f51\u7edc\u73af\u5883\u4e0e github.com \u7f51\u7edc\u4e0d\u901a\uff0c\u8bf7\u9009\u62e9\u624b\u5de5\u90e8\u7f72\u65b9\u5f0f\n  helm plugin install https://github.com/chartmuseum/helm-push\n\n# \u624b\u5de5\u90e8\u7f72\n  # \u4f7f\u7528\u6d4f\u89c8\u5668\u6253\u5f00\uff1ahttps://github.com/chartmuseum/helm-push/releases\uff0c\u627e\u5230\u6700\u65b0\u7248\u672c\u548c\u60a8\u90e8\u7f72\u7684\u5bf9\u5e94\u5e73\u53f0\u4e0b\u8f7d\n\n  # \u4e0b\u8f7d\u5b8c\u6210\u540e\u628a\u4e8c\u8fdb\u5236\u5305helm-push_0.xx.xx_linux_xxx.tar.gz\u5206\u53d1\u5230\u4f60\u9700\u6c42\u73af\u5883\n\n  # \u5b89\u88c5push\u63d2\u4ef6\n  helm_push_plugin_dir=$(helm env HELM_PLUGINS)/cm-push\n  mkdir -p ${helm_push_plugin_dir}\n  tar xf helm-push_0.xx.xx_linux_xxx.tar.gz -C ${helm_push_plugin_dir}\n\n  # \u67e5\u770b\u63d2\u4ef6\u662f\u5426\u5b89\u88c5\u6210\u529f\n  helm plugin list\n</code></pre> <ol> <li> <p>\u83b7\u53d6Helm Chart\u9879\u76ee\u4ed3\u5e93\u4fe1\u606f </p> </li> <li> <p>\u6dfb\u52a0Helm Chart\u9879\u76ee\u4ed3\u5e93</p> </li> </ol> <pre><code># \u6dfb\u52a0\u9879\u76ee\u4ed3\u5e93\u547d\u4ee4\nhelm repo add {repo\u540d\u79f0} {\u4ed3\u5e93\u5730\u5740} --username={\u7528\u6237\u540d} --password={\u5bc6\u7801}\n\n# \u6dfb\u52a0\u9879\u76ee\u4ed3\u5e93\u793a\u4f8b\nhelm repo add example-project-name http://helm.bkrepo.xxx.com/example-project-name/example-project-name/ --username=admin-xxx --password=xxxx\n\n# example-project-name\uff1arepo\u540d\u79f0\uff0c\u8fd9\u91cc\u548c\u9879\u76ee\u4ee3\u53f7\u4fdd\u6301\u4e00\u81f4\n# http://helm.bkrepo.xxx.com/example-project-name/example-project-name/\uff1a\u4ed3\u5e93\u5730\u5740\n# admin-xxx\uff1a\u7528\u6237\u540d\n# xxxx\uff1a\u5bc6\u7801\n\n# \u67e5\u770brepo\u662f\u5426\u6dfb\u52a0\u6210\u529f\nhelm repo list\n</code></pre> <ol> <li>\u5236\u4f5chelm chart\u5305</li> </ol> <p>\u5236\u4f5chelm chart\u5305\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u6587\u6863\uff0c\u5982\u679c\u60a8\u5df2\u7ecf\u6709helm chart\u5305\u8bf7\u5ffd\u7565\u6b64\u6b65\u9aa4</p> <p>https://helm.sh/zh/docs/chart_template_guide/getting_started/</p> <ol> <li>\u63a8\u9001helm chart\u5230\u9879\u76ee\u4ed3\u5e93</li> </ol> <pre><code># \u4e0b\u8f7d\u793a\u4f8bhelm chart\u5305\nhelm repo add bitnami https://charts.bitnami.com/bitnami\nhelm pull bitnami/nginx\n\n# \u89e3\u538b\u793a\u4f8bhelm chart\u5305\ntar xf nginx-xx.x.xx.tgz\n\n# \u67e5\u770b push \u63d2\u4ef6\u7248\u672c\nhelm plugin list\n\n# \u5982\u679c push \u63d2\u4ef6\u7248\u672c\u9ad8\u4e8e\u7b49\u4e8e0.10.0\uff0c\u5fc5\u987b\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u63a8\u9001helm chart\u5305\nhelm cm-push nginx/ {example-project-name}\n# nginx/\uff1a\u89e3\u538bchart\u5305\u540e\u7684chart\u76ee\u5f55\n# {example-project-name}\uff1arepo\u540d\u79f0\n\n# \u5982\u679c push \u63d2\u4ef6\u7248\u672c\u4f4e\u4e8e0.10.0\uff0c\u5fc5\u987b\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u63a8\u9001helm chart\u5305\nhelm push nginx/ {example-project-name}\n\n# \u6210\u529f\u63a8\u9001 Chart \u540e\uff0c\u53ef\u770b\u5230\u7c7b\u4f3c\u5982\u4e0b\u8f93\u51fa\nPushing nginx-xx.x.xx.tgz to {example-project-name}...\nDone.\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/3-2%20%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5%20Helm/#4-faq","title":"4. FAQ","text":"<ol> <li>\u5982\u679c\u6dfb\u52a0\u4ed3\u5e93\u6210\u529f\u4e86\uff0c\u63a8\u9001 Chart \u5931\u8d25\uff0c\u9519\u8bef\u7801 411, \u8fd4\u56de\u4e00\u6bb5 Html \u9875\u9762, \u8bf7\u5148\u5173\u95ed\u4ee3\u7406\u518d\u8bd5\u8bd5</li> </ol> <pre><code>Error: 411: could not properly parse response JSON:\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;HTML&gt;&lt;HEAD&gt;\n&lt;META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html; charset=gb2312\"&gt;\n...\n</code></pre> <ol> <li>Chart \u7248\u672c\u5df2\u7ecf\u5b58\u5728, \u5982\u679c\u51fa\u73b0\u5982\u4e0b 409 \u9519\u8bef\u4fe1\u606f\uff0c\u8bf7\u4fee\u6539 Chart \u7248\u672c\u53f7\u540e\u91cd\u8bd5\u3002\u4e3a\u4fdd\u969c\u60a8\u7684\u6570\u636e\u5b89\u5168\uff0c\u7981\u6b62\u5bf9\u540c\u4e00\u4e2a\u7248\u672c\u91cd\u590d\u63a8\u9001</li> </ol> <pre><code>Pushing rumpetroll-0.1.22.tgz to tkex-ieg-experience...\nError: 409: rumpetroll-0.1.22.tgz already exists\nError: plugin \"push\" exited with error\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/","title":"\u68c0\u67e5\u4f9d\u8d56","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#1","title":"1. \u84dd\u9cb8\u7248\u672c","text":"<p>\u76d1\u63a7\u5347\u7ea7\u4e86 values \u6587\u4ef6\uff0c\u5e76\u4f9d\u8d56\u65b0\u7248\u672c apigw \u5e73\u53f0\u3002\u8bf7\u786e\u4fdd\u84dd\u9cb8\u7248\u672c\u4e3a 7.1.2\u3002</p> <p>\u5728\u4e2d\u63a7\u673a\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u786e\u8ba4\u84dd\u9cb8\u7248\u672c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\ncat VERSION\n</code></pre> \u5982\u679c\u7248\u672c\u8f83\u65e7\uff0c\u8bf7\u76f4\u63a5\u91cd\u65b0\u6267\u884c\u4e00\u6b21\u90e8\u7f72\u57fa\u7840\u5957\u9910\u7684\u547d\u4ee4\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#2-gse","title":"2. GSE \u7248\u672c","text":"<p>\u767b\u5f55\u5230 \u4e2d\u63a7\u673a\uff0c\u5148\u68c0\u67e5 bk-gse \u7684\u7248\u672c\uff1a <pre><code>helm list -A -l name=bk-gse\n</code></pre> \u67e5\u770b <code>CHART</code> \u5217\u91cc\u7684\u7248\u672c\u53f7\uff0c\u9884\u671f\u5927\u4e8e\u7b49\u4e8e <code>2.1.2-beta.20</code>\uff0c\u5982\u679c\u7248\u672c\u8f83\u65e7\uff0c\u8bf7\u5347\u7ea7\u84dd\u9cb8\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#3-apigateway","title":"3. APIGateway \u7248\u672c","text":"<p>\u767b\u5f55\u5230 \u4e2d\u63a7\u673a\uff0c\u5148\u68c0\u67e5 bk-apigateway \u7684\u7248\u672c\uff1a <pre><code>helm list -A -l name=bk-apigateway\n</code></pre> \u67e5\u770b <code>CHART</code> \u5217\u91cc\u7684\u7248\u672c\u53f7\uff0c\u9884\u671f\u5927\u4e8e\u7b49\u4e8e <code>1.11.3</code>\uff0c\u5982\u679c\u7248\u672c\u8f83\u65e7\uff0c\u8bf7\u5347\u7ea7\u84dd\u9cb8\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#_2","title":"\u90e8\u7f72\u4e0e\u8bbf\u95ee","text":"<p>\u63d0\u793a</p> <p>\u5982\u679c\u90e8\u7f72\u671f\u95f4\u51fa\u9519\uff0c\u8bf7\u5148\u67e5\u9605 \u300a\u95ee\u9898\u6848\u4f8b\u300b\u6587\u6863\u3002</p> <p>\u95ee\u9898\u89e3\u51b3\u540e\uff0c\u53ef\u91cd\u65b0\u6267\u884c <code>helmfile</code> \u547d\u4ee4\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#4","title":"4. \u76d1\u63a7\u5e73\u53f0","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#41","title":"4.1. \u542f\u52a8\u76d1\u63a7\u5b58\u50a8\u670d\u52a1","text":"<p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nhelmfile -f monitor-storage.yaml.gotmpl sync  # \u90e8\u7f72\u76d1\u63a7\u4f9d\u8d56\u7684\u5b58\u50a8\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#42","title":"4.2. \u5bf9\u63a5\u5bb9\u5668\u7ba1\u7406\u5e73\u53f0","text":"<p>\u5bb9\u5668\u76d1\u63a7\u529f\u80fd\u4f9d\u8d56 \u5bb9\u5668\u7ba1\u7406\u5e73\u53f0 \uff08BCS\uff09\uff0c\u8bf7\u5148\u5b8c\u6210 \u90e8\u7f72\u5bb9\u5668\u7ba1\u7406\u5e73\u53f0 \u3002</p> <pre><code>./scripts/config_monitor_bcs_token.sh  # \u83b7\u53d6bcs token\uff0c\u5199\u5165\u76d1\u63a7\u548c\u65e5\u5fd7\u7684 custom-values \u6587\u4ef6\u3002\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#43","title":"4.3. \u90e8\u7f72\u76d1\u63a7","text":"<p>\u90e8\u7f72\u76d1\u63a7\u540e\u53f0\u548c saas \u4ee5\u53ca\u76d1\u63a7\u6570\u636e\u94fe\u8def\u7ec4\u4ef6\uff1a <pre><code>helmfile -f 04-bkmonitor.yaml.gotmpl sync\n</code></pre></p> <p>\u7ea6\u7b49\u5f85 5 ~ 10 \u5206\u949f\uff0c\u671f\u95f4 <code>bk-monitor-consul</code> pod \u53ef\u80fd <code>Error</code> \u4e14\u81ea\u52a8\u91cd\u542f\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#44","title":"4.4. \u6dfb\u52a0\u684c\u9762\u56fe\u6807","text":"<p>\u5728 admin \u684c\u9762\u6dfb\u52a0\u5e94\u7528\uff0c\u4e5f\u53ef\u4ee5\u767b\u5f55\u540e\u81ea\u884c\u6dfb\u52a0\u3002\u540c\u65f6\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u5e94\u7528\uff0c\u6240\u6709\u65b0\u767b\u5f55\u7684\u7528\u6237\u90fd\u4f1a\u81ea\u52a8\u6dfb\u52a0\u6b64\u5e94\u7528\u5230\u684c\u9762\u3002 <pre><code># \u76d1\u63a7\nscripts/add_user_desktop_app.sh -u \"admin\" -a \"bk_monitorv3\"\nscripts/set_desktop_default_app.sh -a \"bk_monitorv3\"\n# \u6545\u969c\u81ea\u6108\nscripts/add_user_desktop_app.sh -u \"admin\" -a \"bk_fta_solution\"\nscripts/set_desktop_default_app.sh -a \"bk_fta_solution\"\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#45","title":"4.5. \u5bb9\u5668\u76d1\u63a7\u6570\u636e\u4e0a\u62a5","text":"<p>\u5bb9\u5668\u76d1\u63a7\u6570\u636e\u7531 <code>bkmonitor-operator</code> release \u91c7\u96c6\uff0c\u5b83\u63d0\u4f9b\u4e86 daemonset \u5de5\u4f5c\u8d1f\u8f7d\uff0c\u5728\u6240\u6709 k8s node \uff08\u5305\u62ec master \uff09\u8fd0\u884c\u3002\u6570\u636e\u4e0a\u62a5\u7531\u8fd9\u4e9b\u4e3b\u673a\u7684 gse-agent \u5b8c\u6210\uff0c\u6545\u8bf7\u5148\u5728 \u201c\u8282\u70b9\u7ba1\u7406\u201d \u4e2d\u5b8c\u6210 agent \u5b89\u88c5\u5e76\u786e\u4fdd\u72b6\u6001\u6b63\u5e38\u3002</p> <pre><code>helmfile -f 04-bkmonitor-operator.yaml.gotmpl sync  # \u90e8\u7f72 k8s operator \u63d0\u4f9b\u5bb9\u5668\u76d1\u63a7\u6570\u636e\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#46","title":"4.6. \u8bbf\u95ee\u76d1\u63a7\u5e73\u53f0","text":"<p>\u9700\u8981\u914d\u7f6e\u57df\u540d <code>bkmonitor.$BK_DOMAIN</code>\uff0c\u64cd\u4f5c\u6b65\u9aa4\u5df2\u7ecf\u5e76\u5165 \u300a\u90e8\u7f72\u6b65\u9aa4\u8be6\u89e3 \u2014\u2014 \u540e\u53f0\u300b \u6587\u6863 \u7684 \u201c\u914d\u7f6e\u7528\u6237\u4fa7\u7684 DNS\u201d \u7ae0\u8282\u3002</p> <p>\u914d\u7f6e\u6210\u529f\u540e\uff0c\u5373\u53ef\u5728\u684c\u9762\u6253\u5f00 \u201c\u76d1\u63a7\u5e73\u53f0\u201d \u5e94\u7528\u4e86\u3002</p> <p>\u63d0\u793a</p> <p>\u521a\u90e8\u7f72\u5b8c\u6210\u65f6\uff0c\u8bbf\u95ee\u76d1\u63a7\u5982\u679c\u51fa\u73b0 HTTP 503 \u62a5\u9519\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u754c\u9762\u51c6\u5907\u5b8c\u6210\u3002\u5728\u540e\u53f0\u521d\u59cb\u5316\u4efb\u52a1\u5b8c\u6210\u524d\uff0c\u9996\u9875\u53ef\u80fd\u51fa\u73b0\u62a5\u9519\u3002</p> <p>\u4e3b\u673a\u57fa\u7840\u76d1\u63a7\u6570\u636e\u4e0a\u62a5\u7531 <code>bkmonitorbeat</code> \u63d2\u4ef6\u63d0\u4f9b\uff0c\u4e4b\u524d\u5b89\u88c5 agent \u65f6\u4f1a\u9ed8\u8ba4\u5b89\u88c5\u3002</p> <p>\u63d0\u793a</p> <ul> <li>\u4e3a Agent \u5b89\u88c5\u5e76\u542f\u52a8 <code>bkmonitorbeat</code> \u63d2\u4ef6\u540e\uff0c\u5927\u6982\u7b49 2 ~ 5 \u5206\u949f\uff0c \u201c\u89c2\u6d4b\u573a\u666f\u201d \u2014\u2014 \u201c\u4e3b\u673a\u76d1\u63a7\u201d \u754c\u9762\u7684\u4e3b\u673a\u91c7\u96c6\u72b6\u6001\u4f1a\u53d8\u4e3a \u201c\u6b63\u5e38\u201d\u3002\u6b64\u65f6\u70b9\u51fb IP \u8fdb\u5165\u4e3b\u673a\u8be6\u60c5\u754c\u9762\uff0c\u7a0d\u7b49 1 ~ 2 \u5206\u949f\u53ef\u4ee5\u770b\u5230\u76d1\u63a7\u56fe\u8868\u3002\u63d2\u4ef6\u5b89\u88c5\u6b65\u9aa4\u89c1\u300a\u914d\u7f6e\u8282\u70b9\u7ba1\u7406\u53ca\u5b89\u88c5 Agent\u300b\u6587\u6863\u3002</li> <li>\u5b8c\u6210 \u201c\u5bb9\u5668\u76d1\u63a7\u6570\u636e\u4e0a\u62a5\u201d \u7ae0\u8282\u540e\uff0c\u8bbf\u95ee\u76d1\u63a7\u5e73\u53f0 \u201c\u89c2\u6d4b\u573a\u666f\u201d \u2014\u2014 \u201cKubernetes\u201d \u754c\u9762\u53ef\u80fd\u4f9d\u65e7\u663e\u793a \u201c\u5f00\u542f Kubernetes \u76d1\u63a7\u201d \u7684\u63d0\u793a\uff0c\u8bf7\u7a0d\u7b49 1 ~ 11 \u5206\u949f\uff0c\u7136\u540e\u5237\u65b0\u9875\u9762\uff0c\u5373\u53ef\u663e\u793a\u96c6\u7fa4\u4fe1\u606f\uff0c\u7a0d\u540e\u4f1a\u66f4\u65b0\u76d1\u63a7\u6570\u636e\u56fe\u8868\u3002</li> </ul> <p>\u63d0\u793a</p> <p>\u4e3b\u673a\u8be6\u60c5\u754c\u9762\u5728\u5237\u65b0\u540e\uff0c\u4f1a\u5bfc\u81f4\u56fe\u8868\u6570\u636e\u81ea\u52a8\u5237\u65b0\u5931\u6548\uff0c\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u4e00\u6b21\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#5","title":"5. \u65e5\u5fd7\u5e73\u53f0","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#51-elasticsearch","title":"5.1. \u914d\u7f6e ElasticSearch","text":"<p>\u63d0\u793a</p> <p>\u4e3a\u4e86\u5feb\u901f\u90e8\u7f72\uff0c\u6211\u4eec\u9ed8\u8ba4\u4f7f\u7528\u4e86\u84dd\u9cb8\u5171\u4eab\u7684 <code>bk-elasticsearch</code> \u5355\u526f\u672c\u96c6\u7fa4\u3002 \u5efa\u8bae\u4f60\u81ea\u5907\u591a\u526f\u672c\u96c6\u7fa4\uff0c\u5e76\u6839\u636e\u91c7\u96c6\u7684\u539f\u59cb\u65e5\u5fd7\u91cf\u914d\u7f6e\u5145\u8db3\u7684\u5b58\u50a8\u3002</p> <p>\u76ee\u524d\u7531\u76d1\u63a7\u7edf\u4e00\u5b9a\u65f6\u521b\u5efa ElasticSearch \u7d22\u5f15\uff0c\u6bcf 10 \u5206\u949f\u6267\u884c\u4e00\u6b21\u3002\u5982\u679c es \u81ea\u52a8\u521b\u5efa\u4e86 <code>write_</code> \u5f00\u5934\u7684\u7d22\u5f15\uff0c\u5219\u4f1a\u5bfc\u81f4\u641c\u7d22\u65f6\u627e\u4e0d\u5230\u9884\u671f\u7684\u7d22\u5f15\uff0c\u56e0\u6b64\u9700\u8981\u7981\u6b62\u6b64\u884c\u4e3a\u3002</p> <p>\u53ef\u4ee5\u5728 \u4e2d\u63a7\u673a \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u914d\u7f6e\u84dd\u9cb8\u9884\u7f6e es \u670d\u52a1\uff1a <pre><code>kubectl exec -it -n blueking bk-elastic-elasticsearch-master-0 -- curl -X PUT -u elastic:blueking http://127.0.0.1:9200/_cluster/settings -H 'Content-Type: application/json' -d '{\"persistent\":{\"action\":{\"auto_create_index\":\"-write_*,*\"}}}'\n</code></pre></p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u5df2\u7ecf\u81ea\u52a8\u521b\u5efa\u4e86 write_ \u5f00\u5934\u7684\u7d22\u5f15\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5220\u9664\uff1a <pre><code>kubectl exec -it -n blueking bk-elastic-elasticsearch-master-0 -- curl -u elastic:blueking -X DELETE 'http://localhost:9200/write_*'\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#52","title":"5.2. \u5bf9\u63a5\u5bb9\u5668\u7ba1\u7406\u5e73\u53f0","text":"<p>\u4e4b\u524d\u5728\u90e8\u7f72\u76d1\u63a7\u65f6\u5df2\u7ecf\u5199\u8fc7\u914d\u7f6e\u6587\u4ef6\u4e86\u3002\u53ef\u4ee5\u68c0\u67e5\u4e0b\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nyq e '.configs.bcsApiGatewayToken' environments/default/bklog-search-custom-values.yaml.gotmpl\n</code></pre> \u5982\u679c\u663e\u793a <code>null</code>\uff0c\u8bf7\u5148 \u90e8\u7f72\u76d1\u63a7\u5e73\u53f0 \u5e76 \u542f\u7528\u5bb9\u5668\u76d1\u63a7\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#53","title":"5.3. \u90e8\u7f72\u65e5\u5fd7\u91c7\u96c6\u5668","text":"<p><code>bklog-collector</code> release \u5b9a\u4e49\u4e86 CR\uff1a <code>bklogconfigs.bk.tencent.com</code>\uff0c\u5e76\u63d0\u4f9b\u4e86 daemonset \u5de5\u4f5c\u8d1f\u8f7d\uff0c\u5728\u6240\u6709 k8s node \uff08\u5305\u62ec master \uff09\u8fd0\u884c\u3002\u65e5\u5fd7\u4e0a\u62a5\u7ecf\u7531\u8fd9\u4e9b\u4e3b\u673a\u7684 gse-agent \u4f20\u9012\uff0c\u6545\u8bf7\u5148\u5728 \u201c\u8282\u70b9\u7ba1\u7406\u201d \u4e2d\u5b8c\u6210 agent \u5b89\u88c5\u5e76\u786e\u4fdd\u72b6\u6001\u6b63\u5e38\u3002 <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nhelmfile -f 04-bklog-collector.yaml.gotmpl sync\n</code></pre> \u5982\u679c\u542f\u52a8\u5931\u8d25\uff0c\u8bf7\u5728\u8282\u70b9\u7ba1\u7406\u4e2d\u68c0\u67e5 k8s \u5404 node \u4e0a\u7684 GSE Agent \u72b6\u6001\u662f\u5426\u6b63\u5e38\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#54","title":"5.4. \u90e8\u7f72\u65e5\u5fd7\u5e73\u53f0","text":"<p>\u63d0\u793a</p> <p>\u8bf7\u5148\u786e\u4fdd \u76d1\u63a7\u5e73\u53f0 \u6b63\u5e38\u8fd0\u884c\uff0c\u624d\u80fd\u7ee7\u7eed\u90e8\u7f72\u65e5\u5fd7\u5e73\u53f0\u3002</p> <p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nhelmfile -f 04-bklog-search.yaml.gotmpl sync  # \u90e8\u7f72\n# \u5728admin\u684c\u9762\u6dfb\u52a0\u5e94\u7528\uff0c\u4e5f\u53ef\u4ee5\u767b\u5f55\u540e\u81ea\u884c\u6dfb\u52a0\u3002\nscripts/add_user_desktop_app.sh -u \"admin\" -a \"bk_log_search\"\n# \u8bbe\u4e3a\u9ed8\u8ba4\u5e94\u7528\u3002\nscripts/set_desktop_default_app.sh -a \"bk_log_search\"\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#55","title":"5.5. \u8bbf\u95ee\u65e5\u5fd7\u5e73\u53f0","text":"<p>\u9700\u8981\u914d\u7f6e\u57df\u540d <code>bklog.$BK_DOMAIN</code>\u3002</p> <p>\u914d\u7f6e\u6210\u529f\u540e\uff0c\u5373\u53ef\u5728\u684c\u9762\u6253\u5f00 \u201c\u65e5\u5fd7\u5e73\u53f0\u201d \u5e94\u7528\u4e86\u3002</p> <p>\u6b64\u65f6\u4f4d\u4e8e \u201c\u68c0\u7d22\u201d \u754c\u9762\uff0c\u5982\u679c\u5de6\u4e0a\u89d2 \u201c\u7d22\u5f15\u96c6\u201d \u4e0b\u62c9\u5217\u8868\u4e3a\u7a7a\u3002\u53ef\u4ee5\uff1a * \u542f\u7528\u84dd\u9cb8\u5404\u5e73\u53f0\u9884\u7f6e\u7684\u65e5\u5fd7\u91c7\u96c6\u9879   1. \u5b8c\u6210\u4e0b\u6587\u7684 \u201c\u84dd\u9cb8\u5404\u5e73\u53f0\u5bb9\u5668\u65e5\u5fd7\u4e0a\u62a5\u201d \u7ae0\u8282\u3002 * \u91c7\u96c6\u4e3b\u673a\u65e5\u5fd7   1. \u5728\u8282\u70b9\u7ba1\u7406\u4e2d\uff0c\u4e3a\u5f85\u91c7\u96c6\u4e3b\u673a\u5b89\u88c5 <code>bkunifylogbeat</code> \u63d2\u4ef6\u3002   2. \u5728\u65e5\u5fd7\u5e73\u53f0\u7684 \u201c\u7ba1\u7406\u201d \u2014\u2014 \u201c\u65e5\u5fd7\u91c7\u96c6\u201d \u754c\u9762\u6dfb\u52a0\u91c7\u96c6\u9879\u3002 * \u91c7\u96c6\u5bb9\u5668\u73af\u5883\u65e5\u5fd7 \uff08\u9700\u8981\u5b8c\u6210 \u201c\u5bf9\u63a5\u5bb9\u5668\u7ba1\u7406\u5e73\u53f0\u201d \u7ae0\u8282\uff09   * \u84dd\u9cb8\u96c6\u7fa4\uff08BCS-K8S-00000\uff09     1. \u5b8c\u6210 \u201c\u90e8\u7f72\u5bb9\u5668\u65e5\u5fd7\u91c7\u96c6\u5668\u201d \u7ae0\u8282\u3002     2. \u5728\u65e5\u5fd7\u5e73\u53f0\u7684 \u201c\u7ba1\u7406\u201d \u2014\u2014 \u201c\u65e5\u5fd7\u91c7\u96c6\u201d \u754c\u9762\u6dfb\u52a0\u91c7\u96c6\u9879\u3002   * \u5176\u4ed6\u96c6\u7fa4     1. TODO \u5176\u4ed6\u96c6\u7fa4\u5bb9\u5668\u65e5\u5fd7\u91c7\u96c6\u6b65\u9aa4\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#_3","title":"\u66f4\u591a\u529f\u80fd","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#6","title":"6. \u81ea\u5b9a\u4e49\u4e0a\u62a5\u670d\u52a1\u5668","text":"<p>\u5728\u84dd\u9cb8\u76d1\u63a7 \u201c\u89c2\u6d4b\u573a\u666f\u201d \u4e2d\uff0c\u201c\u7efc\u5408\u62e8\u6d4b\u201d\u3001\u201cAPM\u201d \u53ca \u201c\u81ea\u5b9a\u4e49\u573a\u666f\u201d\uff08\u6570\u636e\u91c7\u96c6\u3001\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u3001\u81ea\u5b9a\u4e49\u6307\u6807\uff09\u90fd\u9700\u8981\u901a\u8fc7 \u201c\u81ea\u5b9a\u4e49\u4e0a\u62a5\u670d\u52a1\u5668\u201d \u6765\u5b8c\u6210\u3002</p> <p>\u201c\u81ea\u5b9a\u4e49\u4e0a\u62a5\u670d\u52a1\u5668\u201d \u5982\u4eca\u7531 bk-collector \u62c5\u5f53\u3002\u5b83\u662f\u9ad8\u6027\u80fd\u7684 Trace\u3001\u6307\u6807\u3001\u65e5\u5fd7\u63a5\u6536\u7aef\uff0c\u652f\u6301 OT\u3001Jaeger \u7b49\u591a\u79cd\u6570\u636e\u534f\u8bae\u683c\u5f0f\u3002\u4ee5 GSE Agent \u63d2\u4ef6\u7684\u5f62\u5f0f\u6258\u7ba1\u5728\u8282\u70b9\u7ba1\u7406\u4e2d\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#61-bk-collector","title":"6.1. \u5b89\u88c5 bk-collector","text":"<p>\u901a\u8fc7\u84dd\u9cb8 \u201c\u8282\u70b9\u7ba1\u7406\u201d \u7cfb\u7edf\u90e8\u7f72 bk-collector\u3002</p> <p>\u8bf7\u901a\u8fc7\u84dd\u9cb8\u684c\u9762\u8bbf\u95ee \u201c\u8282\u70b9\u7ba1\u7406\u201d \u7cfb\u7edf\uff0c\u5728 \u201c\u63d2\u4ef6\u72b6\u6001\u201d \u754c\u9762\u9009\u62e9\u81f3\u5c11 1 \u53f0\u670d\u52a1\u5668\u3002</p> <p>\u7136\u540e\u70b9\u51fb \u201c\u5b89\u88c5/\u66f4\u65b0\u201d \u6309\u94ae\uff0c\u5728\u5f39\u6846\u4e2d\u9009\u62e9 <code>bk-collector</code> \u63d2\u4ef6\u3002\u8fde\u7eed\u70b9\u51fb \u201c\u4e0b\u4e00\u6b65\u201d \u786e\u8ba4\u7248\u672c\u540e\uff0c\u70b9\u51fb \u201c\u7acb\u5373\u6267\u884c\u201d \u5f00\u59cb\u90e8\u7f72\u3002</p> <p>\u5f53\u63d2\u4ef6\u5b89\u88c5\u6210\u529f\u540e\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u6279 \u81ea\u5b9a\u4e49\u4e0a\u62a5\u670d\u52a1\u5668\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#62","title":"6.2. \u8c03\u6574\u84dd\u9cb8\u76d1\u63a7\u914d\u7f6e","text":"<p>\u8ba9\u84dd\u9cb8 \u201c\u76d1\u63a7\u5e73\u53f0\u201d \u77e5\u6653\u6211\u4eec\u90e8\u7f72\u7684 \u81ea\u5b9a\u4e49\u4e0a\u62a5\u670d\u52a1\u5668 IP\uff0c\u4ee5\u4fbf\u63a8\u9001\u914d\u7f6e\u4fe1\u606f\u3002</p> <p>\u8bf7\u901a\u8fc7\u84dd\u9cb8\u684c\u9762\u8bbf\u95ee \u201c\u76d1\u63a7\u5e73\u53f0\u201d \u7cfb\u7edf\uff0c\u70b9\u51fb\u9876\u90e8\u5bfc\u822a\u53f3\u4fa7\u7684\u9f7f\u8f6e\u56fe\u6807\uff0c\u5728\u5f39\u51fa\u83dc\u5355\u4e2d\u9009\u62e9 \u201c\u5168\u5c40\u8bbe\u7f6e\u201d\u3002</p> <p>\u5728 \u201c\u5168\u5c40\u8bbe\u7f6e\u201d \u754c\u9762\uff0c\u627e\u5230\u914d\u7f6e\u9879 \u201c\u81ea\u5b9a\u4e49\u4e0a\u62a5\u9ed8\u8ba4\u670d\u52a1\u5668\u201d\uff0c\u586b\u5199\u521a\u624d\u90e8\u7f72\u7684 OTel \u670d\u52a1\u7aef IP\u3002\u5982\u679c\u6709\u591a\u4e2a IP\uff0c\u9700\u8981\u9010\u4e2a IP \u586b\u5199\u3002\u586b\u5199\u5b8c\u6bd5\u540e\u70b9\u51fb\u9875\u811a \u201c\u63d0\u4ea4\u201d \u6309\u94ae\u4fdd\u5b58\u914d\u7f6e\u3002 </p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#63","title":"6.3. \u4f7f\u7528\u81ea\u5b9a\u4e49\u4e0a\u62a5\u670d\u52a1\u5668","text":"<p>bk-collector \u5728\u542f\u52a8\u540e\uff0c\u4f1a\u76d1\u542c\u5982\u4e0b\u7684\u7aef\u53e3\uff1a</p> \u7aef\u53e3 \u534f\u8bae \u7528\u9014 4317 GRPC OTel \u4e0a\u62a5\u5165\u53e3\u3002 4318 HTTP OTel \u4e0a\u62a5\u5165\u53e3\uff0c\u5e76\u540c\u65f6\u63d0\u4f9b <code>prometheus pushgateway</code>\u3002 10205 HTTP \u84dd\u9cb8\u76d1\u63a7\u81ea\u5b9a\u4e49\u6307\u6807\u548c\u4e8b\u4ef6\u4e0a\u62a5\u5165\u53e3\uff0c\u63a5\u66ff\u65e9\u671f\u7684 bkmonitorproxy\u3002 <p>\u529f\u80fd\u4f7f\u7528\u4f4d\u7f6e\uff1a * OTel \u4e0a\u62a5\uff1a\u201c\u89c2\u6d4b\u573a\u666f\u201d \u2014\u2014 \u201cAPM\u201d\u3002 * prometheus \u4e0a\u62a5\uff1a \u201c\u96c6\u6210\u201d \u2014\u2014 \u201c\u81ea\u5b9a\u4e49\u6307\u6807\u201d \u2014\u2014 \u521b\u5efa <code>\u4e0a\u62a5\u534f\u8bae</code> \u4e3a <code>Prometheus</code> \u7684\u81ea\u5b9a\u4e49\u6307\u6807\u3002 * \u84dd\u9cb8 \u81ea\u5b9a\u4e49\u6307\u6807 \u4e0a\u62a5\uff1a \u201c\u96c6\u6210\u201d \u2014\u2014 \u201c\u81ea\u5b9a\u4e49\u6307\u6807\u201d \u2014\u2014 \u521b\u5efa <code>\u4e0a\u62a5\u534f\u8bae</code> \u4e3a <code>JSON</code> \u7684\u81ea\u5b9a\u4e49\u6307\u6807\u3002 * \u84dd\u9cb8 \u81ea\u5b9a\u4e49\u4e8b\u4ef6 \u4e0a\u62a5\uff1a \u201c\u96c6\u6210\u201d \u2014\u2014 \u201c\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u201d\u3002 * Jaeger \u5e73\u53f0\uff1a \u6307\u5b9a\u4e0a\u62a5\u670d\u52a1\u5668\u4e3a OTel \u4e0a\u62a5\u5165\u53e3\uff08 <code>4317</code> \u6216 <code>4318</code> \u7aef\u53e3\uff09\uff0c\u6211\u4eec\u4f1a\u5904\u7406\u4e3a OTel \u683c\u5f0f\u5165\u5e93\u4f9b\u84dd\u9cb8\u68c0\u7d22\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#64-otel","title":"6.4. \u542f\u52a8 OTel \u670d\u52a1","text":"<p>\u8bf7\u5b8c\u6210\u524d\u9762\u7684\u201c\u81ea\u5b9a\u4e49\u4e0a\u62a5\u670d\u52a1\u5668\u201d\u7ae0\u8282\uff0c\u5373\u53ef\u83b7\u5f97 OTel \u670d\u52a1\u7aef\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#_4","title":"\u91c7\u96c6\u84dd\u9cb8\u5404\u5e73\u53f0\u7684\u6570\u636e","text":"<p>\u4e3a\u4e86\u66f4\u597d\u5730\u8ba9\u7ba1\u7406\u5458\u4e86\u89e3\u84dd\u9cb8\u96c6\u7fa4\u7684\u72b6\u51b5\uff0c\u6211\u4eec\u9884\u7f6e\u4e86\u4e00\u4e9b\u6570\u636e\u91c7\u96c6\u7b56\u7565\u3002\u9700\u8981\u624b\u52a8\u5f00\u542f\uff1a * \u76d1\u63a7\u5e73\u53f0   * \u84dd\u9cb8\u670d\u52a1 SLI \u770b\u677f   * \u3010\u6682\u65e0\u3011\u84dd\u9cb8 SaaS \u63a5\u5165\u5e94\u7528\u76d1\u63a7 * \u65e5\u5fd7\u5e73\u53f0   * \u84dd\u9cb8\u5404\u5e73\u53f0\u5bb9\u5668\u65e5\u5fd7\u4e0a\u62a5</p> <p>\u8bf7\u9605\u8bfb\u4e0b\u65b9\u5bf9\u5e94\u7ae0\u8282\u8fdb\u884c\u64cd\u4f5c\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#7-sli","title":"7. \u84dd\u9cb8\u670d\u52a1 SLI \u770b\u677f","text":"<p>\u6211\u4eec\u9884\u57cb\u4e86 SLI Metrics \u4e0a\u62a5\u7684\u903b\u8f91\uff0c\u5e76\u63d0\u4f9b\u4e86 \u201c\u76d1\u63a7\u5e73\u53f0\u201d \u7684 \u201c\u4eea\u8868\u76d8\u201d\uff0c\u65b9\u4fbf\u4f60\u4e86\u89e3\u84dd\u9cb8\u5404\u7ec4\u4ef6\u7684\u670d\u52a1\u72b6\u6001\u3002</p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u542f\u7528 SLI\uff0c\u4f1a\u5927\u5e45\u63d0\u9ad8 <code>influxdb</code> \u53ca <code>elasticsearch</code> \u7684\u78c1\u76d8\u53ca\u5185\u5b58\u5f00\u9500\u3002\u5efa\u8bae\u989d\u5916\u51c6\u5907 300G \u78c1\u76d8\u53ca 4GB \u5185\u5b58\u4f59\u91cf\u3002\u540c\u65f6\u78c1\u76d8 IO \u538b\u529b\u5927\u589e\uff0c\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528 SSD \u5b58\u50a8\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#71-servicemonitor","title":"7.1. \u68c0\u67e5 servicemonitor \u8d44\u6e90","text":"<p>\u8bf7\u5148\u5b8c\u6210 \u201c\u5bb9\u5668\u76d1\u63a7\u6570\u636e\u4e0a\u62a5\u201d\uff0c\u5e76\u786e\u4fdd \u201c\u89c2\u6d4b\u573a\u666f\u201d \u2014\u2014 \u201cKubernetes\u201d \u754c\u9762\u6709\u76d1\u63a7\u6570\u636e\u3002</p> <p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>kubectl get servicemonitors.monitoring.coreos.com -A\n</code></pre></p> <p>\u9884\u671f\u770b\u5230 <code>bkmonitor-operator</code> \u547d\u540d\u7a7a\u95f4\u4e0b\u7684\u591a\u4e2a\u8d44\u6e90\uff0c\u5982\u679c\u4e3a\u7a7a\uff0c\u8bf4\u660e\u5bb9\u5668\u76d1\u63a7\u529f\u80fd\u5f02\u5e38\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#72","title":"7.2. \u914d\u7f6e\u6307\u6807\u4e0a\u62a5","text":"<p>\u4fee\u6539\u5168\u5c40\u914d\u7f6e\u6587\u4ef6\uff0c\u542f\u7528 SLI Metrics \u4e0a\u62a5\u3002</p> <p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n# \u542f\u7528\u6307\u6807\u4e0a\u62a5\uff1a\ncase $(yq e '.serviceMonitor.enabled' environments/default/custom.yaml) in\n  null)\n    tee -a environments/default/custom.yaml &lt;&lt;&lt; $'serviceMonitor:\\n  enabled: true'\n  ;;\n  true)\n    echo \"environments/default/custom.yaml \u4e2d\u914d\u7f6e\u4e86 .serviceMonitor.enabled=true, \u65e0\u9700\u4fee\u6539.\"\n  ;;\n  *)\n    echo \"environments/default/custom.yaml \u4e2d\u914d\u7f6e\u4e86 .serviceMonitor.enabled \u4e3a\u5176\u4ed6\u503c, \u8bf7\u624b\u52a8\u4fee\u6539\u503c\u4e3a true.\"\n  ;;\nesac\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#73","title":"7.3. \u91cd\u542f\u5f85\u4e0a\u62a5\u6307\u6807\u7684\u5e73\u53f0","text":"<p>\u4e3a\u4e86\u5b9e\u73b0\u6307\u6807\u4e0a\u62a5\uff0c\u9700\u8981\u8c03\u6574\u5bf9\u5e94\u5e73\u53f0\u7684 helm release\u3002</p> <p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n# \u53d8\u66f4\u5bf9\u5e94\u7684release\nhelmfile -f base-blueking.yaml.gotmpl apply\nhelmfile -f 03-bcs.yaml.gotmpl apply\nhelmfile -f 04-bkmonitor.yaml.gotmpl apply\nhelmfile -f 04-bklog-search.yaml.gotmpl apply\n</code></pre></p> <p>\u5982\u679c\u770b\u5230\u5982\u4e0b\u62a5\u9519\uff0c\u8bf4\u660e\u6ca1\u6709\u6b63\u786e\u914d\u7f6e\u5bb9\u5668\u76d1\u63a7\u529f\u80fd\uff0c\u8bf7\u91cd\u65b0\u914d\u7f6e\u3002 <pre><code>Error: unable to build kubernetes objects from release manifest: unable to recognize \"\": no matches for kind \"ServiceMonitor\" in version \"monitoring.coreos.com/v1\"\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#74","title":"7.4. \u5173\u95ed\u6307\u6807\u4e0a\u62a5","text":"<p>\u5982\u679c\u542f\u7528 SLI Metrics \u540e\uff0c\u5bfc\u81f4\u73af\u5883\u4e0d\u7a33\u5b9a\uff0c\u53ef\u4ee5\u5173\u95ed SLI Metrics \u4e0a\u62a5\u3002</p> <p>\u5148\u4fee\u6539\u5168\u5c40\u914d\u7f6e\u6587\u4ef6\uff1a<code>environments/default/custom.yaml</code>\uff0c\u5c06 <code>.serviceMonitor.enabled</code> \u6539\u4e3a <code>false</code>\uff0c\u6216\u8005\u5c06\u914d\u7f6e\u9879\u5220\u6389\u3002</p> <p>\u7136\u540e\u53c2\u8003\u4e0a\u9762\u7684 \u201c\u91cd\u542f\u5f85\u4e0a\u62a5\u6307\u6807\u7684\u5e73\u53f0\u201d \u7ae0\u8282\u53d8\u66f4\u5404 release\u3002\u5f85\u91cd\u542f\u5b8c\u6bd5\u5373\u4f1a\u505c\u6b62\u4e0a\u62a5\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#75","title":"7.5. \u5bfc\u5165\u4eea\u8868\u76d8","text":"<p>\u767b\u5f55\u76d1\u63a7\u5e73\u53f0\uff0c\u5e76\u5207\u6362\u5230\u201c\u4eea\u8868\u76d8\u201d\u754c\u9762\u3002</p> <p>\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u7684\u201c\u6279\u91cf\u5bfc\u51fa\u548c\u5bfc\u5165\u201d\u83dc\u5355\uff0c\u70b9\u51fb\u201c\u70b9\u51fb\u5bfc\u5165\u201d\u6309\u94ae\uff0c\u8fdb\u5165\u5bfc\u5165\u754c\u9762\u3002</p> <p>\u8bf7\u4e0b\u8f7d\u5982\u4e0b\u6587\u4ef6\u5bfc\u5165: * bk_monitor-dashboards-sli-20221008.tar.gz</p> <p>\u5bfc\u5165\u6210\u529f\u540e\uff0c\u65e0\u9700\u914d\u7f6e\u76d1\u63a7\u76ee\u6807\uff0c\u70b9\u51fb\u5b8c\u6210\u7ed3\u675f\u6574\u4e2a\u5bfc\u5165\u6d41\u7a0b\u3002</p> <p>\u7136\u540e\u8bf7\u56de\u5230\u201c\u4eea\u8868\u76d8\u201d\u754c\u9762\uff0c\u627e\u5230\u5e76\u8fdb\u5165 \u201c[BlueKing] \u5404\u4ea7\u54c1\u770b\u677f\u5165\u53e3\u201d \u4eea\u8868\u76d8\u3002\u60a8\u53ef\u4ee5\u4ece\u8fd9\u91cc\u5feb\u901f\u8bbf\u95ee\u84dd\u9cb8\u5404\u5e73\u53f0\u7684\u4eea\u8868\u76d8\u3002</p> <p>\u63d0\u793a</p> <p>\u60a8\u53ef\u4ee5\u6536\u85cf\u6b64\u4eea\u8868\u76d8\u3002\u5237\u65b0\u9875\u9762\u540e\uff0c\u5373\u53ef\u5728\u5de6\u4fa7\u5bfc\u822a\u680f\u770b\u5230\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#76","title":"7.6. \u5df2\u77e5\u95ee\u9898","text":"<p>\u76ee\u524d\u90e8\u5206 panel \u52a0\u8f7d\u65f6\u53ef\u80fd\u51fa\u73b0\u62a5\u9519\uff0c\u8bf7\u7b49\u5f85\u6211\u4eec\u540e\u7eed\u4f18\u5316\u3002 <pre><code>\u8bf7\u6c42\u7cfb\u7edf'unify-query'\u9519\u8bef\uff0c\u8fd4\u56de\u6d88\u606f: {\"error\":\"expanding series: db: process, err:[get cluster failed]\"}\uff0c\u8bf7\u6c42URL: http://bk-monitor-unify-query-http:10205/query/ts\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#8","title":"8. \u84dd\u9cb8\u5404\u5e73\u53f0\u5bb9\u5668\u65e5\u5fd7\u4e0a\u62a5","text":"<p>\u63d0\u793a</p> <p>\u5982\u679c\u4e0a\u62a5\u84dd\u9cb8\u7684\u6267\u884c\u65e5\u5fd7\uff0c\u4f1a\uff1a 1. \u5927\u5e45\u63d0\u9ad8 <code>elasticsearch</code> \u7684\u78c1\u76d8\u53ca\u5185\u5b58\u5f00\u9500\u5efa\u8bae\u989d\u5916\u51c6\u5907 300G \u78c1\u76d8\u53ca 4GB \u5185\u5b58\u4f59\u91cf\u3002\u540c\u65f6\u78c1\u76d8 IO \u538b\u529b\u5927\u589e\uff0c\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528 SSD \u5b58\u50a8\u3002 2. \u4f1a\u663e\u8457\u63d0\u5347 \u76d1\u63a7\u5e73\u53f0 <code>transfer</code> \u6a21\u5757\u7684 CPU \u5f00\u9500\uff0c\u8bf7\u6ce8\u610f\u89c2\u5bdf\u8d44\u6e90\u7528\u91cf\u63d0\u5347\u5bf9\u5e94 pod \u7684 <code>resources.limits</code>\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#81","title":"8.1. \u524d\u7f6e\u68c0\u67e5","text":"<p>\u5bb9\u5668\u65e5\u5fd7\u91c7\u96c6\u529f\u80fd\u9700\u8981\u5728\u6240\u6709 k8s node \uff08\u5305\u62ec master \uff09\u90e8\u7f72 gse-agent\u3002\u8bf7\u5148\u5728 \u201c\u8282\u70b9\u7ba1\u7406\u201d \u4e2d\u5b8c\u6210 agent \u5b89\u88c5\u3002</p> <p>\u5b8c\u6210 \u201c\u90e8\u7f72\u5bb9\u5668\u65e5\u5fd7\u91c7\u96c6\u5668\u201d \u7ae0\u8282\u540e\uff0c\u53ef\u5728 \u4e2d\u63a7\u673a \u68c0\u67e5\uff1a <pre><code>kubectl get crd bklogconfigs.bk.tencent.com\n</code></pre> \u9884\u671f\u770b\u5230\u4e00\u6761\u8bb0\u5f55\u3002</p> <p>\u5982\u679c\u663e\u793a <code>Error from server (NotFound): customresourcedefinitions.apiextensions.k8s.io \"bklogconfigs.bk.tencent.com\" not found</code>\uff0c\u8bf7\u5148\u786e\u4fdd\u91c7\u96c6\u5668\u542f\u52a8\u6210\u529f\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#82","title":"8.2. \u542f\u7528\u65e5\u5fd7\u4e0a\u62a5","text":"<p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u5168\u5c40\u542f\u7528\u65e5\u5fd7\u4e0a\u62a5\u529f\u80fd\u3002</p> <p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n# \u542f\u7528\u65e5\u5fd7\u91c7\u96c6\uff1a\ncase $(yq e '.bkLogConfig.enabled' environments/default/custom.yaml) in\n  null)\n    tee -a environments/default/custom.yaml &lt;&lt;&lt; $'bkLogConfig:\\n  enabled: true'\n  ;;\n  true)\n    echo \"environments/default/custom.yaml \u4e2d\u914d\u7f6e\u4e86 .bkLogConfig.enabled=true, \u65e0\u9700\u4fee\u6539.\"\n  ;;\n  *)\n    echo \"environments/default/custom.yaml \u4e2d\u914d\u7f6e\u4e86 .bkLogConfig.enabled \u4e3a\u5176\u4ed6\u503c, \u8bf7\u624b\u52a8\u4fee\u6539\u503c\u4e3a true.\"\n  ;;\nesac\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#83","title":"8.3. \u91cd\u542f\u65e5\u5fd7\u5e73\u53f0","text":"<p>\u6709 2 \u4e2a\u7528\u9014\uff1a 1. \u663e\u793a \u201c\u68c0\u7d22\u201d -- \u201c\u6570\u636e\u67e5\u8be2\u201d \u91cc\u7684\u9884\u7f6e\u7684\u84dd\u9cb8\u5404\u5e73\u53f0\u7684\u65e5\u5fd7\u91c7\u96c6\u7d22\u5f15\u3002 2. \u4e0a\u62a5\u6570\u636e\u81f3\u4e0a\u8ff0\u7d22\u5f15\u91cc\u7684 <code>[\u91c7\u96c6\u9879]bklogsearch</code>\u3002</p> <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n# \u5148\u53d8\u66f4\u65e5\u5fd7\u5e73\u53f0\nhelmfile -f 04-bklog-search.yaml.gotmpl apply\n</code></pre>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#84","title":"8.4. \u91cd\u542f\u5176\u4ed6\u5e73\u53f0","text":"<p>\u76ee\u524d\u84dd\u9cb8\u6240\u6709\u5e73\u53f0\u9ed8\u8ba4\u8bfb\u53d6\u5168\u5c40\u65e5\u5fd7\u4e0a\u62a5\u8bbe\u7f6e\uff0c\u5982\u9700\u8986\u76d6\uff0c\u8bf7\u81ea\u884c\u65b0\u589e\u6216\u4fee\u6539\u5bf9\u5e94\u7684 custom-values \u6587\u4ef6\u3002</p> <p>\u4e3a\u4e86\u5b9e\u73b0\u91c7\u96c6\u9879\u4e0a\u62a5\uff0c\u9700\u8981\u91cd\u542f\u4e00\u6b21\u91c7\u96c6\u9879\u5bf9\u5e94\u7684 helm release\u3002</p> <p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n# \u7136\u540e\u53d8\u66f4\u5176\u4ed6\u5e73\u53f0\nhelmfile -f base-blueking.yaml.gotmpl apply\nhelmfile -f 03-bcs.yaml.gotmpl apply\nhelmfile -f 04-bkmonitor.yaml.gotmpl apply\n</code></pre></p> <p>\u6ce8\uff1a 1. \u5982\u9700\u91cd\u542f\u84dd\u9cb8\u57fa\u7840\u5957\u9910\u7684\u6307\u5b9a helm release\uff0c\u8bf7\u4f7f\u7528\u6b64\u547d\u4ee4\uff1a <code>helmfile -f base-blueking.yaml.gotmpl -l name=release\u540d\u5b57 sync</code>\u3002 2. bk-ci \u7684\u65e5\u5fd7\u91c7\u96c6\u8fd8\u5728\u8c03\u8bd5\u4e2d\uff0c\u6682\u672a\u9884\u7f6e\u91c7\u96c6\u9879\u3002</p> <p>\u91cd\u542f\u5b8c\u6bd5\u540e\uff0c\u5927\u6982\u7b49 10 \u5206\u949f\uff0c\u56de\u5230\u201c\u65e5\u5fd7\u5e73\u53f0\u201d\u2014\u2014\u201c\u68c0\u7d22\u201d\u3002\u5c55\u5f00\u201c\u7d22\u5f15\u96c6\u201d\u4e0b\u62c9\u6846\uff0c\u5373\u53ef\u770b\u5230\u91c7\u96c6\u9879\u53f3\u4fa7\u7684\u201c\u65e0\u6570\u636e\u201d\u6807\u7b7e\u6d88\u5931\uff0c\u53ef\u4ee5\u641c\u7d22\u65e5\u5fd7\u4e86\u3002</p> <p>\u5982\u679c\u8d85\u8fc7 20 \u5206\u949f\u65e0\u6570\u636e\uff0c\u8bf7\u6b65\u9aa4\u662f\u5426\u9519\u6f0f\uff0c\u4ee5\u53ca\u65e5\u5fd7\u5e73\u53f0\u662f\u5426\u6b63\u5e38\u3002TODO \u6392\u67e5\u6307\u5f15</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/4-1%20%E9%83%A8%E7%BD%B2%E7%9B%91%E6%8E%A7%E6%97%A5%E5%BF%97%E5%A5%97%E9%A4%90/#_5","title":"\u4e0b\u4e00\u6b65","text":"<p>\u90e8\u7f72\u6301\u7eed\u96c6\u6210\u5957\u9910\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/","title":"5 1 \u90e8\u7f72\u6301\u7eed\u96c6\u6210\u5957\u9910","text":"<p>\u84dd\u9cb8\u6301\u7eed\u96c6\u6210\u5957\u9910\u5305\u542b\u201c\u84dd\u76fe\u201d\uff08\u6d41\u6c34\u7ebf\uff09\u5e73\u53f0\u548c\u201c\u4ee3\u7801\u68c0\u67e5\u201d\u7cfb\u7edf\u3002\u4f7f\u7528\u201c\u84dd\u76fe\u201d\u4f5c\u4e3a\u4e3b\u5165\u53e3\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#_1","title":"\u90e8\u7f72\u84dd\u76fe\u5e73\u53f0","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#1","title":"1. \u68c0\u67e5\u4f9d\u8d56","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#11","title":"1.1. \u84dd\u9cb8\u7248\u672c","text":"<p>\u652f\u6301\u5728\u84dd\u9cb8 7.1.0 \u53ca\u540e\u7eed\u7248\u672c \u52a0\u88c5\u6b64\u5957\u9910\uff0c\u5176\u4e2d 7.1.0 \u9700\u8981\u989d\u5916\u6267\u884c\u4e00\u4e9b\u6b65\u9aa4\uff0c\u8bf7\u7559\u610f\u63d0\u793a\u3002</p> <p>\u5728\u4e2d\u63a7\u673a\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u786e\u8ba4\u84dd\u9cb8\u7248\u672c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\ncat VERSION\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#12","title":"1.2. \u6d41\u7a0b\u670d\u52a1","text":"<p>\u65b0\u7684 RBAC \u6743\u9650\u65b9\u6848\u7531 \u6743\u9650\u4e2d\u5fc3 \u63d0\u4f9b\u80fd\u529b\u652f\u6491\uff0c\u4f1a\u8c03\u7528 \u6d41\u7a0b\u670d\u52a1 \u5904\u7406\u6743\u9650\u5355\u636e\uff0c\u8bf7\u63d0\u524d\u5b89\u88c5\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#2-chart","title":"2. \u68c0\u67e5 chart \u7248\u672c","text":"<p>\u5728\u00a0\u4e2d\u63a7\u673a\u00a0\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u7248\u672c\uff1a</p> <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\ngrep bk-ci environments/default/version.yaml\n</code></pre> <p>\u9884\u671f\u8f93\u51fa\uff1a</p> <pre><code> bk-ci: \"3.0.10-beta.2\"\n</code></pre> <p>\u5982\u679c\u770b\u5230\u7684\u7248\u672c\u4f4e\u4e8e\u00a0<code>3.0.10-beta.2</code>\uff0c\u8bf7\u53c2\u8003\u4e0a\u9762\u7684 \u201c\u84dd\u9cb8 7.1.0 \u90e8\u7f72\u524d\u7684\u989d\u5916\u6b65\u9aa4\u201d \u7ae0\u8282\u64cd\u4f5c\u3002</p> <p>\u5982\u914d\u7f6e\u6587\u4ef6\u7248\u672c\u6b63\u786e\uff0c\u5219\u5f00\u59cb\u68c0\u67e5\u4ed3\u5e93\u91cc\u7684\u7248\u672c\uff1a</p> <pre><code>helm search repo bk-ci --version 3.0.10-beta.2\n</code></pre> <p>\u9884\u671f\u8f93\u51fa\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>NAME              CHART VERSION   APP VERSION     DESCRIPTION\nblueking/bk-ci    3.0.10-beta.2   v2.0.0-beta.34  \u7565\n</code></pre> <p>\u5982\u679c\u63d0\u793a\u00a0<code>No results found</code>\uff0c\u8bf7\u6267\u884c\u00a0<code>helm repo update</code>\u00a0\u547d\u4ee4\u5237\u65b0 helm \u4ed3\u5e93\u7f13\u5b58\u540e\u91cd\u8bd5\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#3-coredns","title":"3. \u914d\u7f6e coredns","text":"<p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nBK_DOMAIN=$(yq e '.domain.bkDomain' environments/default/custom.yaml)  # \u4ece\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e2d\u63d0\u53d6, \u4e5f\u53ef\u81ea\u884c\u8d4b\u503c\nIP1=$(kubectl get svc -A -l app.kubernetes.io/instance=ingress-nginx -o jsonpath='{.items[0].spec.clusterIP}')\n./scripts/control_coredns.sh update \"$IP1\" devops.$BK_DOMAIN\n./scripts/control_coredns.sh list  # \u68c0\u67e5\u6dfb\u52a0\u7684\u8bb0\u5f55\u3002\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#4","title":"4. \u90e8\u7f72\u84dd\u76fe","text":"<p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nhelmfile -f 03-bkci.yaml.gotmpl sync  # \u90e8\u7f72\n# \u5728admin\u684c\u9762\u6dfb\u52a0\u5e94\u7528\uff0c\u4e5f\u53ef\u4ee5\u767b\u5f55\u540e\u81ea\u884c\u6dfb\u52a0\u3002\nscripts/add_user_desktop_app.sh -u \"admin\" -a \"bk_ci\"\n# \u8bbe\u4e3a\u9ed8\u8ba4\u5e94\u7528\u3002\nscripts/set_desktop_default_app.sh -a \"bk_ci\"\n</code></pre> \u90e8\u7f72\u9700 5 ~ 10 \u5206\u949f\u3002\u4e0a\u8ff0\u547d\u4ee4\u7ed3\u675f\u540e\uff0c\u53ef\u5728\u4e2d\u63a7\u673a\u68c0\u67e5\u6240\u6709 Pod \u662f\u5426\u6b63\u5e38\uff1a <pre><code>kubectl get pod -A | grep bk-ci\n</code></pre></p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u90e8\u7f72\u671f\u95f4\u51fa\u9519\uff0c\u8bf7\u5148\u67e5\u9605 \u300a\u95ee\u9898\u6848\u4f8b\u300b\u6587\u6863\u3002</p> <p>\u95ee\u9898\u89e3\u51b3\u540e\uff0c\u53ef\u91cd\u65b0\u6267\u884c <code>helmfile</code> \u547d\u4ee4\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#5","title":"5. \u6ce8\u518c\u9ed8\u8ba4\u6784\u5efa\u955c\u50cf","text":"<p>\u6211\u4eec\u63d0\u4f9b\u4e86 <code>bkci/ci</code> \u955c\u50cf\u7528\u4e8e\u63d0\u4f9b\u6784\u5efa\u73af\u5883\u3002\u4e3a\u4e86\u52a0\u901f\u955c\u50cf\u4e0b\u8f7d\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u4fee\u6539\u955c\u50cf\u5730\u5740\u4e3a <code>hub.bktencent.com/bkci/ci</code>\uff0c\u6216\u8005\u4e3a\u4f60\u81ea\u5df1\u6258\u7ba1\u7684\u5185\u7f51 registry\u3002</p> <p>\u5148\u68c0\u67e5\u6570\u636e\u5e93\u6709\u6ca1\u6709\u5386\u53f2\u6570\u636e\uff1a <pre><code>kubectl exec -it -n blueking bk-ci-mysql-0 -- /bin/bash -c 'MYSQL_PWD=\"$MYSQL_ROOT_PASSWORD\" mysql -u root -e \"USE devops_ci_store; SELECT IMAGE_NAME,IMAGE_CODE,IMAGE_REPO_NAME FROM T_IMAGE WHERE IMAGE_CODE = \\\"bkci\\\" ;\"'\n</code></pre> \u8bf7\u6839\u636e\u7ed3\u679c\u8fdb\u884c\u64cd\u4f5c\uff1a * \u5982\u679c\u6709\u663e\u793a\u955c\u50cf\u6570\u636e\uff0c\u53ef\u4ee5\u4fee\u6539\u955c\u50cf\u5730\u5740\u4e3a\u84dd\u9cb8\u56fd\u5185\u4ed3\u5e93\uff0c\u4e5f\u53ef\u6539\u4e3a\u4f60\u5df2\u7ecf\u7f13\u5b58\u5728\u5185\u7f51\u7684\u955c\u50cf\uff1a   <pre><code>kubectl exec -it -n blueking bk-ci-mysql-0 -- /bin/bash -c 'MYSQL_PWD=\"$MYSQL_ROOT_PASSWORD\" mysql -u root -e \"USE devops_ci_store; UPDATE  T_IMAGE SET IMAGE_REPO_NAME=\\\"hub.bktencent.com/bkci/ci\\\" WHERE IMAGE_CODE = \\\"bkci\\\" ;\"'\n</code></pre>   \u7136\u540e\u91cd\u65b0\u67e5\u8be2\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u770b\u5230 <code>IMAGE_REPO_NAME</code> \u5217\u5df2\u7ecf\u66f4\u65b0\u3002 * \u5982\u679c\u6ca1\u6709\u955c\u50cf\uff0c\u53ef\u4ee5\u65b0\u589e\uff1a   <pre><code>kubectl exec -n blueking deploy/bk-ci-bk-ci-store -- \\\n  curl -vs http://bk-ci-bk-ci-store.blueking.svc.cluster.local/api/op/market/image/init -X POST \\\n    -H 'X-DEVOPS-UID: admin' -H 'Content-type: application/json' -d '{\"imageCode\":\"bkci\",\"imageName\":\"bkci\",\"imageRepo\":\"hub.bktencent.com/bkci/ci\",\"projectCode\":\"demo\",\"userId\":\"admin\"}' | jq .\n</code></pre></p> <p>\u63d0\u793a</p> <p>\u5f53\u4f60\u5355\u72ec\u5378\u8f7d\u84dd\u76fe\u91cd\u88c5\u540e\uff0c\u53ef\u80fd\u51fa\u73b0\u67e5\u8be2\u955c\u50cf\u4e3a\u7a7a\uff0c\u4f46\u662f\u65b0\u589e\u955c\u50cf\u65f6\u62a5\u9519 <code>{ status: 400, message: \"\u6743\u9650\u4e2d\u5fc3\u521b\u5efa\u9879\u76ee\u5931\u8d25\" }</code> \u7684\u60c5\u51b5\u3002\u8fd9\u662f\u56e0\u4e3a\u6743\u9650\u4e2d\u5fc3\u5b58\u5728\u84dd\u76fe <code>demo</code> \u9879\u76ee\u7684\u6570\u636e\u6240\u81f4\uff0c\u6211\u4eec\u540e\u7eed\u4f1a\u4f18\u5316\u84dd\u76fe\u5355\u72ec\u5378\u8f7d\u7684\u6587\u6863\u3002\u8bf7\u5148\u624b\u52a8\u65b0\u5efa\u9879\u76ee\uff0c\u5e76\u4fee\u6539\u4e0a\u8ff0\u4ee3\u7801\u4e2d <code>projectCode</code> \u5b57\u6bb5\u7684\u503c\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#6","title":"6. \u5bf9\u63a5\u5236\u54c1\u5e93","text":"<p>\u84dd\u76fe\u4f9d\u9760\u84dd\u9cb8\u5236\u54c1\u5e93\u6765\u63d0\u4f9b\u6d41\u6c34\u7ebf\u4ed3\u5e93\u548c\u81ea\u5b9a\u4e49\u4ed3\u5e93\uff0c\u9700\u8981\u8c03\u6574\u5236\u54c1\u5e93\u7684\u8ba4\u8bc1\u6a21\u5f0f\u3002</p> <p>\u5f53 <code>bk-ci</code> release \u6210\u529f\u542f\u52a8\u540e\uff0c\u6211\u4eec\u5f00\u59cb\u914d\u7f6e\u84dd\u9cb8\u5236\u54c1\u5e93\uff0c\u5e76\u6ce8\u518c\u5230\u84dd\u76fe\u4e2d\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#61-bk-repo-custom-values","title":"6.1. \u4fee\u6539 bk-repo custom values","text":"<p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\ncase $(yq e '.auth.config.realm' environments/default/bkrepo-custom-values.yaml.gotmpl 2&gt;/dev/null) in\n  null|\"\")\n    tee -a environments/default/bkrepo-custom-values.yaml.gotmpl &lt;&lt;&lt; $'auth:\\n  config:\\n    realm: devops'\n  ;;\n  devops)\n    echo \"environments/default/bkrepo-custom-values.yaml.gotmpl \u4e2d\u914d\u7f6e\u4e86 .auth.config.realm=devops, \u65e0\u9700\u4fee\u6539.\"\n  ;;\n  *)\n    echo \"environments/default/bkrepo-custom-values.yaml.gotmpl \u4e2d\u914d\u7f6e\u4e86 .auth.config.realm \u4e3a\u5176\u4ed6\u503c, \u8bf7\u624b\u52a8\u4fee\u6539\u503c\u4e3a devops.\"\n  ;;\nesac\n</code></pre></p> <p>\u4fee\u6539\u6210\u529f\u540e\uff0c\u7ee7\u7eed\u5728\u5de5\u4f5c\u76ee\u5f55\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4f7f\u4fee\u6539\u751f\u6548\uff1a <pre><code>helmfile -f base-blueking.yaml.gotmpl -l name=bk-repo apply\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#62","title":"6.2. \u68c0\u67e5\u914d\u7f6e\u662f\u5426\u751f\u6548","text":"<p>\u68c0\u67e5 release \u751f\u6548\u7684 values \u548c configmap \u662f\u5426\u91cd\u65b0\u6e32\u67d3\u3002</p> <p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>helm get values -n blueking bk-repo | yq e '.auth.config.realm' - ;\\\nkubectl get cm -n blueking bk-repo-bkrepo-auth -o json | jq -r '.data.\"application.yml\"' | yq e '.auth.realm' -\n</code></pre> \u9884\u671f 2 \u6761\u547d\u4ee4\u5747\u663e\u793a <code>devops</code>\u3002\u5982\u679c\u4efb\u610f\u914d\u7f6e\u6ca1\u6709\u751f\u6548\uff0c\u8bf7\u68c0\u67e5\u4e0a\u8ff0 helmfile \u547d\u4ee4\u7684\u8f93\u51fa\u662f\u5426\u6b63\u5e38\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#63-bk-repo-auth","title":"6.3. \u91cd\u542f bk-repo auth \u5fae\u670d\u52a1","text":"<p>\u56e0\u4e3a deployment \u6ca1\u6709\u53d8\u52a8\uff0c\u6240\u4ee5\u4e0d\u4f1a\u81ea\u52a8\u91cd\u542f\uff0c\u6b64\u5904\u9700\u8981\u5355\u72ec\u91cd\u542f\uff1a <pre><code>kubectl rollout restart deployment -n blueking bk-repo-bkrepo-auth\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#64","title":"6.4. \u5728\u84dd\u76fe\u4e2d\u6ce8\u518c\u5236\u54c1\u5e93","text":"<p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nBK_DOMAIN=$(yq e '.domain.bkDomain' environments/default/custom.yaml)  # \u4ece\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e2d\u63d0\u53d6, \u4e5f\u53ef\u81ea\u884c\u8d4b\u503c\n# \u5411project\u5fae\u670d\u52a1\u6ce8\u518c\u5236\u54c1\u5e93\nkubectl exec -i -n blueking deploy/bk-ci-bk-ci-project -- curl -sS -X PUT -H 'Content-Type: application/json' -H 'Accept: application/json' -H 'X-DEVOPS-UID: admin' -d \"{\\\"showProjectList\\\":true,\\\"showNav\\\":true,\\\"status\\\":\\\"ok\\\",\\\"deleted\\\":false,\\\"iframeUrl\\\":\\\"//bkrepo.$BK_DOMAIN/ui/\\\"}\" \"http://bk-ci-bk-ci-project.blueking.svc.cluster.local/api/op/services/update/Repo\"\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#7","title":"7. \u6d41\u6c34\u7ebf\u63d2\u4ef6","text":"<p>\u84dd\u9cb8\u7cbe\u9009\u4e86\u4e00\u6279\u6d41\u6c34\u7ebf\u63d2\u4ef6\uff0c\u53ef\u4ee5\u63d0\u4f9b\u66f4\u591a\u7684\u80fd\u529b\u3002\u66f4\u591a\u63d2\u4ef6\u8bf7\u63a2\u7d22 https://github.com/orgs/TencentBlueKing/repositories?q=ci \u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#71","title":"7.1. \u63d2\u4ef6\u4fe1\u606f\u8868","text":"<p>\u5bb9\u5668\u5316\u73af\u5883\u4e2d\u65e0\u6cd5\u76f4\u63a5\u901a\u8fc7 \u4f5c\u4e1a\u5e73\u53f0 \u4f20\u8f93\u6587\u4ef6\uff0c\u6545\u6682\u672a\u63d0\u4f9b\u5bf9\u63a5 \u4f5c\u4e1a\u5e73\u53f0 \u7684\u63d2\u4ef6\u3002\u76f8\u5173\u6539\u9020\u8ba1\u5212\u8bf7\u5173\u6ce8\uff1a https://github.com/TencentBlueKing/bk-ci/issues/9450</p> \u4ee3\u53f7\uff08atomCode\uff09 \u63d2\u4ef6\u540d\u79f0 \u63cf\u8ff0 uploadArtifact \u5f52\u6863\u6784\u4ef6 \u672c\u63d2\u4ef6\u5c06\u6784\u5efa\u673a\u672c\u5730\u7684\u6587\u4ef6\u5f52\u6863\u81f3\u6d41\u6c34\u7ebf\u4ed3\u5e93\u6216\u81ea\u5b9a\u4e49\u4ed3\u5e93\uff0c\u5bf9\u4ea7\u51fa\u7269\u8fdb\u884c\u5f52\u6863 uploadReport \u5f52\u6863\u62a5\u544a \u53ef\u5c06\u6784\u5efa\u673a\u4e0a\u7684 html \u62a5\u544a\u5f52\u6863\uff0c\u540c\u65f6\u53d1\u9001\u90ae\u4ef6\u51fa\u6765 downloadArtifact \u62c9\u53d6\u6784\u4ef6 \u5c06\u5236\u54c1\u5e93\u4e2d\u7684\u6587\u4ef6\u62c9\u53d6\u5230\u6784\u5efa\u673a\u4e0a\uff0c\u652f\u6301\u62c9\u53d6\u6d41\u6c34\u7ebf\u4ed3\u5e93\u6216\u81ea\u5b9a\u4e49\u4ed3\u5e93 checkout Checkout checkout \u63d2\u4ef6\u4e3a\u84dd\u76fe\u5e73\u53f0\u63d0\u4f9b\u57fa\u672c\u7684 git \u62c9\u53d6\u64cd\u4f5c\uff0c\u53ef\u4ee5\u62c9\u53d6\u6240\u6709\u7684 git \u4ed3\u5e93 run RunScript Execute the script plugin. Support cross-system use. sendEmail sendEmail Send email to any one SubPipelineExec \u5b50\u6d41\u6c34\u7ebf\u8c03\u7528 \u4ee5\u540c\u6b65/\u5f02\u6b65\u7684\u65b9\u5f0f\u542f\u52a8\u8fd0\u884c\u6307\u5b9a\u7684\u9879\u76ee\u4e0b\u7684\u6d41\u6c34\u7ebf AcrossProjectDistribution \u8de8\u9879\u76ee\u63a8\u9001\u6784\u4ef6 \u8de8\u9879\u76ee\u4e0a\u4f20\u6784\u4ef6\u81f3\u5176\u4ed6\u9879\u76ee\u81ea\u5b9a\u4e49\u4ed3\u5e93 CodeCCCheckAtom CodeCC \u4ee3\u7801\u68c0\u67e5 \u652f\u6301 Linux\u3001MacOS\u3001Windows \u7cfb\u7edf\u4e0b\u6267\u884c\u6240\u6709 CodeCC \u4ee3\u7801\u68c0\u67e5\u5de5\u5177\uff0c\u5305\u62ec\u4ee3\u7801\u7f3a\u9677\uff08bkcheck \u7b49\uff09\u3001\u5b89\u5168\u6f0f\u6d1e\uff08\u654f\u611f\u4fe1\u606f\u3001\u9ad8\u5371\u7ec4\u4ef6\u7b49\uff09\u3001\u4ee3\u7801\u89c4\u8303\uff08CppLint\u3001CheckStyle \u7b49\uff09\u3001\u5708\u590d\u6742\u5ea6\u3001\u91cd\u590d\u7387\u7b49\u3002"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#72","title":"7.2. \u4e0b\u8f7d\u63d2\u4ef6","text":"<p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>bkdl-7.1-stable.sh -ur latest ci-plugins\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#73","title":"7.3. \u4e0a\u4f20\u63d2\u4ef6","text":"<p>\u6b64\u64cd\u4f5c\u53ea\u80fd\u65b0\u5efa\u63d2\u4ef6\uff0c\u6bcf\u4e2a\u63d2\u4ef6\u53ea\u80fd\u4e0a\u4f20\u4e00\u6b21\uff0c\u5982\u679c\u91cd\u590d\u6267\u884c\u4f1a\u62a5\u9519 <code>{status\": 2100001, \"message\": \"\u7cfb\u7edf\u5185\u90e8\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\", \u2026}</code>\u3002</p> <p>\u540e\u7eed\u5982\u9700\u66f4\u65b0\u63d2\u4ef6\uff0c\u8bf7\u8bbf\u95ee \u201c\u84dd\u76fe\u201d \u2014\u2014 \u201c\u7814\u53d1\u5546\u5e97\u201d \u2014\u2014 \u201c\u5de5\u4f5c\u53f0\u201d \u754c\u9762\uff0c\u5728\u5217\u8868\u4e2d\u627e\u5230\u5bf9\u5e94\u63d2\u4ef6\u9009\u62e9 \u201c\u5347\u7ea7\u201d \u64cd\u4f5c\u3002</p> <p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nfor f in ../ci-plugins/*.zip; do\n  atom=\"${f##*/}\"\n  atom=${atom%.zip}\n  echo &gt;&amp;2 \"upload $atom from $f\"\n  kubectl exec -i -n blueking deploy/bk-ci-bk-ci-store -- \\\n    curl -s \\\n      http://bk-ci-bk-ci-store.blueking.svc.cluster.local/api/op/pipeline/atom/deploy/\"?publisher=admin\" \\\n      -H 'X-DEVOPS-UID: admin' -F atomCode=$atom -F file=@- &lt; \"$f\" | jq .\n  # \u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u63d2\u4ef6\uff0c\u5168\u90e8\u9879\u76ee\u53ef\u89c1\u3002\n  kubectl exec -n blueking deploy/bk-ci-bk-ci-store -- \\\n    curl -s http://bk-ci-bk-ci-store.blueking.svc.cluster.local/api/op/pipeline/atom/default/atomCodes/$atom \\\n      -H 'X-DEVOPS-UID: admin' -X POST | jq .\ndone\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#8","title":"8. \u6d4f\u89c8\u5668\u8bbf\u95ee","text":"<p>\u9700\u8981\u914d\u7f6e\u57df\u540d <code>devops.$BK_DOMAIN</code>\u3002</p> <p>\u914d\u7f6e\u6210\u529f\u540e\uff0c\u5373\u53ef\u5728\u684c\u9762\u6253\u5f00 \u201c\u6301\u7eed\u96c6\u6210\u5e73\u53f0-\u84dd\u76fe\u201d \u5e94\u7528\u4e86\u3002</p> <p>\u84dd\u76fe\u5185\u7f6e\u4e86 <code>demo</code> \u9879\u76ee\uff0c\u4ec5\u7528\u4e8e\u521d\u59cb\u5316\u7528\u9014\uff0c\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\uff0c\u8bf7\u5728\u767b\u5f55\u540e\u521b\u5efa\u65b0\u7684\u9879\u76ee\u3002</p> <p>\u9879\u76ee\u521b\u5efa\u6210\u529f\u540e\uff0c\u540c\u6b65\u6743\u9650\u7f13\u5b58\u9700\u7b49\u5f85 10 \u79d2\uff0c\u5982\u679c\u8fdb\u5165\u6d41\u6c34\u7ebf\u754c\u9762\u540e\uff0c\u5728\u9879\u76ee\u9009\u62e9\u6846\u770b\u4e0d\u5230\u521a\u521b\u5efa\u7684\u9879\u76ee\uff0c\u8bf7\u7b49\u5f85\u540e\u518d\u5237\u65b0\u9875\u9762\uff0c\u7136\u540e\u9009\u62e9\u9879\u76ee\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#_2","title":"\u90e8\u7f72\u4ee3\u7801\u68c0\u67e5\u7cfb\u7edf","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#9","title":"9. \u68c0\u67e5\u4f9d\u8d56","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#91","title":"9.1. \u84dd\u9cb8\u7248\u672c","text":"<p>\u6211\u4eec\u5728 7.1.2 \u5b8c\u5584\u4e86\u4ee3\u7801\u68c0\u67e5\u7684\u90e8\u7f72\u914d\u7f6e\u3002</p> <p>\u5728\u4e2d\u63a7\u673a\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u786e\u8ba4\u84dd\u9cb8\u7248\u672c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\ncat VERSION\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#92","title":"9.2. \u84dd\u76fe\u7248\u672c","text":"<p>\u8bf7\u5148\u90e8\u7f72\u84dd\u76fe 2.0\u3002</p> <p>\u767b\u5f55\u5230 \u4e2d\u63a7\u673a\uff0c\u5148\u68c0\u67e5 bk-ci \u7684\u7248\u672c\uff1a <pre><code>helm list -A -l name=bk-ci\n</code></pre> \u67e5\u770b <code>APP VERSIO</code> \u5217\u91cc\u7684\u7248\u672c\u53f7\uff0c\u9884\u671f\u5927\u4e8e\u7b49\u4e8e <code>2.0.0-beta.34</code>\uff0c\u5982\u679c\u7248\u672c\u8f83\u65e7\uff0c\u8bf7\u53c2\u8003\u4e0a\u6587 \u201c\u90e8\u7f72\u84dd\u76fe\u5e73\u53f0\u201d \u91cd\u65b0\u64cd\u4f5c\u4e00\u6b21\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#10-chart","title":"10. \u68c0\u67e5 chart \u7248\u672c","text":"<p>\u5728 \u4e2d\u63a7\u673a \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u7248\u672c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\ngrep bk-codecc environments/default/version.yaml\n</code></pre> \u9884\u671f\u8f93\u51fa\uff1a</p> <pre><code>  bk-codecc: \"3.0.0-beta.1\"\n</code></pre> <p>\u5982\u679c\u770b\u5230\u7684\u7248\u672c\u4f4e\u4e8e <code>3.0.0-beta.1</code>\uff0c\u8bf7\u5148\u5347\u7ea7\u84dd\u9cb8\u7248\u672c\u3002</p> <p>\u5982\u914d\u7f6e\u6587\u4ef6\u7248\u672c\u6b63\u786e\uff0c\u5219\u5f00\u59cb\u68c0\u67e5\u4ed3\u5e93\u91cc\u7684\u7248\u672c\uff1a <pre><code>helm search repo bk-codecc --version 3.0.0-beta.1\n</code></pre> \u9884\u671f\u8f93\u51fa\u5982\u4e0b\u6240\u793a\uff1a</p> <p><pre><code>NAME               CHART VERSION   APP VERSION     DESCRIPTION\nblueking/bk-codecc 3.0.0-beta.1    2.0.0-beta.4    \u7565\n</code></pre> \u5982\u679c\u63d0\u793a <code>No results found</code>\uff0c\u8bf7\u6267\u884c <code>helm repo update</code> \u547d\u4ee4\u5237\u65b0 helm \u4ed3\u5e93\u7f13\u5b58\u540e\u91cd\u8bd5\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#11-coredns","title":"11. \u914d\u7f6e coredns","text":"<p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nBK_DOMAIN=$(yq e '.domain.bkDomain' environments/default/custom.yaml)  # \u4ece\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e2d\u63d0\u53d6, \u4e5f\u53ef\u81ea\u884c\u8d4b\u503c\nIP1=$(kubectl get svc -A -l app.kubernetes.io/instance=ingress-nginx -o jsonpath='{.items[0].spec.clusterIP}')\n./scripts/control_coredns.sh update \"$IP1\" codecc.$BK_DOMAIN\n./scripts/control_coredns.sh list  # \u68c0\u67e5\u6dfb\u52a0\u7684\u8bb0\u5f55\u3002\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#12_1","title":"12. \u90e8\u7f72","text":"<p>\u8bf7\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nhelmfile -f 03-bkcodecc.yaml.gotmpl sync  # \u90e8\u7f72\n</code></pre> \u90e8\u7f72\u9700 5 ~ 10 \u5206\u949f\u3002\u4e0a\u8ff0\u547d\u4ee4\u7ed3\u675f\u540e\uff0c\u53ef\u5728\u4e2d\u63a7\u673a\u68c0\u67e5\u6240\u6709 Pod \u662f\u5426\u6b63\u5e38\uff1a <pre><code>kubectl get pod -A | grep bk-codecc\n</code></pre></p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u90e8\u7f72\u671f\u95f4\u51fa\u9519\uff0c\u8bf7\u5148\u67e5\u9605 \u300a\u95ee\u9898\u6848\u4f8b\u300b\u6587\u6863\u3002</p> <p>\u95ee\u9898\u89e3\u51b3\u540e\uff0c\u53ef\u91cd\u65b0\u6267\u884c <code>helmfile</code> \u547d\u4ee4\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#13-codecccheckatom","title":"13. \u84dd\u76fe\u63d2\u4ef6 CodeCCCheckAtom","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#131-codecccheckatom","title":"13.1. \u4e0a\u67b6\u63d2\u4ef6 CodeCCCheckAtom","text":"<p>\u4e0a\u6587\u90e8\u7f72\u84dd\u76fe\u65f6\u7684 \u201c\u6d41\u6c34\u7ebf\u63d2\u4ef6\u201d \u7ae0\u8282\u4e2d\uff0c\u6709\u4e0a\u67b6\u63d2\u4ef6 <code>CodeCCCheckAtom</code>\uff08CodeCC \u4ee3\u7801\u68c0\u67e5\uff09\u3002</p> <p>\u5982\u679c\u6b64\u524d\u672a\u4e0a\u67b6\uff0c\u8bf7\u5148\u53c2\u8003\u8be5\u6587\u6863\u4e0a\u67b6\u5230\u7814\u53d1\u5546\u5e97\u3002\u4ee5\u5907\u5404\u9879\u76ee\u81ea\u884c\u5b89\u88c5\uff0c\u7136\u540e\u6d41\u6c34\u7ebf\u4e2d\u624d\u80fd\u4f7f\u7528\u63d2\u4ef6\u53d1\u8d77\u4efb\u52a1\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#132-codecccheckatom","title":"13.2. \u914d\u7f6e\u63d2\u4ef6 CodeCCCheckAtom","text":"<p>\u76ee\u524d CodeCCCheckAtom \u63d2\u4ef6\u9700\u8981\u914d\u7f6e\u540e\u65b9\u53ef\u4f7f\u7528\u3002</p> <p>\u8fdb\u5165\u914d\u7f6e\u754c\u9762\uff1a * \u4f60\u53ef\u4ee5\u4fee\u6539\u5982\u4e0b\u94fe\u63a5\u4e2d\u7684\u57df\u540d\u90e8\u5206\uff0c\u5feb\u901f\u76f4\u8fbe\uff1a <code>http://devops.bkce7.bktencent.com/console/store/manage/atom/CodeCCCheckAtom/setting/private</code> * \u6216\u8005\u4ece\u84dd\u9cb8\u684c\u9762\u6253\u5f00 \u201c\u84dd\u76fe\u201d \u5e94\u7528\uff0c\u8fdb\u5165\u201c\u7814\u53d1\u5546\u5e97\u201d \u2014\u2014 \u201c\u5de5\u4f5c\u53f0\u201d \u754c\u9762\u3002\u5728\u6d41\u6c34\u7ebf\u63d2\u4ef6\u5217\u8868\u4e2d\u627e\u5230 CodeCC \u4ee3\u7801\u68c0\u67e5\uff08\u6216\u82f1\u6587\u7248\u7684 \u201cCodeCC Code Check\u201d\uff09\uff0c\u70b9\u51fb\u540d\u79f0\u8fdb\u5165\u63d2\u4ef6\u4fe1\u606f\u6982\u89c8\u754c\u9762\uff0c\u5207\u6362\u5230 \u201c\u57fa\u672c\u8bbe\u7f6e\u201d\uff0c\u7136\u540e\u5207\u6362\u4e3a \u201c\u79c1\u6709\u914d\u7f6e\u201d\u3002</p> <p>\u5728 \u201c\u79c1\u6709\u914d\u7f6e\u201d \u754c\u9762\uff0c\u70b9\u51fb \u201c\u65b0\u589e\u914d\u7f6e\u201d \u6309\u94ae\u65b0\u589e\u5982\u4e0b\u56db\u4e2a\u914d\u7f6e\u9879\uff1a</p> \u5b57\u6bb5\u540d \u5b57\u6bb5\u503c\u53ca\u53d6\u503c\u8bf4\u660e \u9002\u7528\u8303\u56f4 \u63cf\u8ff0 <code>BK_CODECC_PRIVATE_URL</code> <code>http://codecc.bkce7.bktencent.com</code> \uff08\u5982\u679c\u6709\u81ea\u5b9a\u4e49\u57df\u540d\uff0c\u8bf7\u81ea\u884c\u4fee\u6539\u3002\u6b64\u9009\u9879\u6ce8\u610f\u914d\u7f6e coredns \u6dfb\u52a0 codecc \u57df\u540d\uff09 \u5168\u90e8 <code>BK_CODECC_PUBLIC_URL</code> <code>http://codecc.bkce7.bktencent.com</code> \uff08\u5982\u679c\u6709\u81ea\u5b9a\u4e49\u57df\u540d\uff0c\u8bf7\u81ea\u884c\u4fee\u6539\u3002\uff09 \u5168\u90e8 <code>BK_CODECC_ENCRYPTOR_KEY</code> <code>abcde</code> \uff08\u9ed8\u8ba4: abcde , \u4e0d\u7528\u8c03\u6574\uff09 \u540e\u7aef <code>BK_CI_PUBLIC_URL</code> <code>http://devops.bkce7.bktencent.com</code> \uff08\u5982\u679c\u6709\u81ea\u5b9a\u4e49\u57df\u540d\uff0c\u8bf7\u81ea\u884c\u4fee\u6539\u3002\uff09 \u5168\u90e8"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#14","title":"14. \u6d4f\u89c8\u5668\u8bbf\u95ee","text":"<p>\u9700\u8981\u914d\u7f6e\u57df\u540d <code>codecc.$BK_DOMAIN</code>\uff0c\u64cd\u4f5c\u6b65\u9aa4\u5df2\u7ecf\u5e76\u5165\u300a\u90e8\u7f72\u6b65\u9aa4\u8be6\u89e3 \u2014\u2014 \u540e\u53f0\u300b \u6587\u6863 \u7684 \u201c\u914d\u7f6e\u7528\u6237\u4fa7\u7684 DNS\u201d \u7ae0\u8282\u3002</p> <p>\u57df\u540d\u914d\u7f6e\u6210\u529f\u540e\uff0c\u5148\u5728\u684c\u9762\u6253\u5f00 \u201c\u6301\u7eed\u96c6\u6210\u5e73\u53f0-\u84dd\u76fe\u201d \u5e94\u7528\u3002\u7136\u540e\u5c55\u5f00\u9876\u90e8\u5bfc\u822a\u680f\u7684 \u201c\u670d\u52a1\u201d \u83dc\u5355\uff0c\u5728 \u201c\u5f00\u53d1\u201d \u5206\u7ec4\u4e2d\u627e\u5230 \u201c\u4ee3\u7801\u68c0\u67e5\u201d \u94fe\u63a5\u6253\u5f00\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#_3","title":"\u84dd\u76fe\u4f18\u5316\u9879","text":"<p>\u8bf7\u6309\u9700\u9009\u62e9\u4f18\u5316\u9879\u76ee\uff0c\u4ee5\u52a0\u901f\u6784\u5efa\u8fc7\u7a0b\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#15","title":"15. \u63d0\u524d\u5728\u6784\u5efa\u673a\u62c9\u53d6\u6784\u5efa\u955c\u50cf","text":"<p>\u53c2\u8003 \u201c\u6ce8\u518c\u9ed8\u8ba4\u6784\u5efa\u955c\u50cf\u201d \u6b65\u9aa4\u8bbe\u7f6e\u7684\u6784\u5efa\u955c\u50cf\u3002\u63d0\u524d\u5728\u6240\u6709 node \u62c9\u53d6\u6b64\u955c\u50cf\uff0c\u53ef\u4ee5\u52a0\u5feb \u6784\u5efa\u73af\u5883 \u542f\u52a8\u901f\u5ea6\u3002</p> <p>\u5982\u679c\u4f60\u6709 \u57fa\u4e8e\u4e0a\u8ff0\u955c\u50cf \u5236\u4f5c\u5176\u4ed6\u6784\u5efa\u955c\u50cf\uff0c\u4e5f\u53ef\u63d0\u524d\u62c9\u53d6\u5230 node \u4e0a\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#16","title":"16. \u8c03\u6574\u6d41\u6c34\u7ebf\u6784\u5efa\u5bb9\u5668\u89c4\u683c","text":"<p>\u76ee\u524d\u6d41\u6c34\u7ebf\u9ed8\u8ba4\u5bb9\u5668\u89c4\u683c\u8f83\u4f4e\uff0c\u7f16\u8bd1\u65f6\u901f\u5ea6\u8f83\u6162\uff0c\u4e14\u53ef\u80fd\u56e0\u4e3a\u5185\u5b58\u4e0d\u8db3\u5bfc\u81f4 OOM\uff0c\u53ef\u6309\u5982\u4e0b\u65b9\u6cd5\u8c03\u6574\uff1a 1. \u589e\u5927\u5168\u5c40\u6784\u5efa\u673a\u914d\u989d\u3002\u6b64\u914d\u7f6e\u4f1a\u5bfc\u81f4\u8d44\u6e90\u7528\u91cf\u66b4\u6da8\uff0c\u5efa\u8bae\u914d\u7f6e\u72ec\u7acb\u6784\u5efa\u96c6\u7fa4\u3002 2. \u5bfc\u5165\u79c1\u6709\u6784\u5efa\u673a\u6765\u5b8c\u6210\u9ad8\u8d1f\u8f7d\u7684\u6784\u5efa\u4efb\u52a1\u3002</p> <p>TODO \u8c03\u6574 pod limits</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#17","title":"17. \u4f7f\u7528\u72ec\u7acb\u7684\u6784\u5efa\u96c6\u7fa4","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6d41\u6c34\u7ebf\u590d\u7528\u4e86\u84dd\u9cb8\u6240\u5728\u96c6\u7fa4\u8fdb\u884c\u6784\u5efa\u4efb\u52a1\u3002</p> <p>\u5982\u679c\u4f60\u6709\u8db3\u591f\u7684\u8d44\u6e90\uff0c\u4e14\u5b58\u5728\u9891\u7e41\u7684\u6784\u5efa\u9700\u6c42\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u72ec\u7acb\u7684 k8s \u96c6\u7fa4\uff0c\u907f\u514d\u5e72\u6270\u5230\u84dd\u9cb8\u96c6\u7fa4\u3002</p> <p>TODO \u6dfb\u52a0 build k8s</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/5-1%20%E9%83%A8%E7%BD%B2%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%A5%97%E9%A4%90/#_4","title":"\u4e0b\u4e00\u6b65","text":"<p>\u90e8\u7f72\u8fd0\u7ef4\u5f00\u53d1\u5e73\u53f0\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/","title":"6 1 \u90e8\u7f72\u8fd0\u7ef4\u5f00\u53d1\u5e73\u53f0","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#1","title":"1. \u90e8\u7f72\u8fd0\u7ef4\u5f00\u53d1\u5e73\u53f0","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#11","title":"1.1. \u5728\u4e2d\u63a7\u673a\u4f7f\u7528\u811a\u672c\u90e8\u7f72","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#111","title":"1.1.1. \u4e0b\u8f7d\u5b89\u88c5\u5305","text":"<p>\u5728 \u4e2d\u63a7\u673a \u8fd0\u884c\uff1a <pre><code>bkdl-7.1-stable.sh -ur latest lesscode\n</code></pre></p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#112","title":"1.1.2. \u4f7f\u7528\u811a\u672c\u90e8\u7f72","text":"<p>\u5728 \u4e2d\u63a7\u673a \u8fd0\u884c\uff1a</p> <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nscripts/setup_bkce7.sh -i lesscode\n# \u76ee\u524dlesscode\u9996\u6b21\u90e8\u7f72\u4f1a\u8d85\u65f6\uff0c\u9700\u91cd\u65b0\u90e8\u7f72\u4e00\u6b21\u3002\u6b64\u95ee\u9898\u4fee\u590d\u4e2d\u3002\nscripts/setup_bkce7.sh -i lesscode -f\n</code></pre> <p>\u76ee\u524dlesscode\u9996\u6b21\u90e8\u7f72\u4f1a\u8d85\u65f6\uff0c\u9700\u91cd\u65b0\u90e8\u7f72\u4e00\u6b21\u3002\u6b64\u95ee\u9898\u4fee\u590d\u4e2d\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#2","title":"2. \u90e8\u7f72\u540e\u7684\u914d\u7f6e","text":""},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#21","title":"2.1. \u914d\u7f6e\u8bbf\u95ee\u5730\u5740","text":"<p>\u8fd0\u7ef4\u5f00\u53d1\u5e73\u53f0\u9884\u671f\u4f7f\u7528\u72ec\u7acb\u57df\u540d\u8bbf\u95ee\u3002</p> <p>\u8bf7\u767b\u5f55\u84dd\u9cb8\u684c\u9762\uff0c\u6253\u5f00 \u201c\u5f00\u53d1\u8005\u4e2d\u5fc3\u201d\u5e94\u7528\uff0c\u5f00\u59cb\u914d\u7f6e\uff1a 1. \u5c55\u5f00\u4fa7\u680f \u201c\u5e94\u7528\u5f15\u64ce\u201d\uff0c\u70b9\u51fb\u8fdb\u5165 \u201c\u8bbf\u95ee\u5165\u53e3\u201d \u754c\u9762\u3002 2. \u5207\u6362\u9876\u90e8 Tab \u5230 \u201c\u72ec\u7acb\u57df\u540d\u201d\u3002\u5728 \u201c\u57df\u540d\u7ba1\u7406\u201d \u4e0b\uff0c\u70b9\u51fb \u201c\u6dfb\u52a0\u57df\u540d\u201d \u6309\u94ae\u3002 3. \u5728\u5f39\u6846\u4e2d\u9009\u62e9 \u201c\u751f\u4ea7\u73af\u5883\u201d\uff0c\u8f93\u5165\u5730\u5740\uff1a <code>lesscode.${BK_DOMAIN}</code>\uff08\u8bf7\u66ff\u6362 <code>${BK_DOMAIN}</code> \u4e3a\u4f60\u7684\u57df\u540d\uff09\u3002\u4fdd\u6301\u8def\u5f84\u4e3a <code>/</code> \u4e0d\u53d8\uff0c\u7ed1\u5b9a\u5230 <code>default</code> \u6a21\u5757\u3002\u70b9\u51fb \u201c\u786e\u5b9a\u201d \u6309\u94ae\u5373\u53ef\u3002 4. \u5c55\u5f00\u4fa7\u680f \u201c\u5e94\u7528\u63a8\u5e7f\u201d\uff0c\u70b9\u51fb\u8fdb\u5165 \u201c\u5e94\u7528\u5e02\u573a\u201d \u754c\u9762\u3002 5. \u9ed8\u8ba4\u5728 \u201c\u53d1\u5e03\u7ba1\u7406\u201d Tab \u4e0b\uff0c\u5207\u6362\u8bbf\u95ee\u5730\u5740\u7c7b\u578b\u4e3a \u201c\u4e3b\u6a21\u5757\u751f\u4ea7\u73af\u5883\u72ec\u7acb\u57df\u540d\u201d\uff0c\u70b9\u51fb \u201c\u66f4\u6539\u8bbf\u95ee\u5730\u5740\u201d \u6309\u94ae\u3002 6. \u914d\u7f6e DNS \u89e3\u6790\uff0c\u5c06 <code>lesscode.${BK_DOMAIN}</code> \u6307\u5411 <code>apps.${BK_DOMAIN}</code> \u4e00\u81f4\u7684 IP\u3002 7. \u5728\u6d4f\u89c8\u5668\u8f93\u5165\u57df\u540d\u8bbf\u95ee\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#22","title":"2.2. \u5b8c\u5584\u5e94\u7528\u90e8\u7f72\u73af\u5883","text":"<p>\u5f53\u9879\u76ee\u5f00\u53d1\u5230\u4e00\u5b9a\u9636\u6bb5\u540e\uff0c\u4f60\u9700\u8981\u201c\u90e8\u7f72\u201d\u6b64\u9879\u76ee\u5230\u84dd\u9cb8 PaaS \u5e73\u53f0\uff0c\u524d\u7aef\u9879\u76ee\u5728\u6784\u5efa\u65f6\u9700\u8981\u4e0b\u8f7d npm \u5305\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#221-node","title":"2.2.1. node \u5f00\u53d1\u73af\u5883","text":"<p>\u8bf7\u53c2\u8003 \u300a\u4e0a\u4f20 PaaS runtimes \u5230\u5236\u54c1\u5e93\u300b\u6587\u6863\uff0c\u5b8c\u6210\u201c\u4e0b\u8f7d\u57fa\u7840\u6587\u4ef6\u201d\u3001\u201c\u4e0b\u8f7d nodejs \u73af\u5883\u201d\u53ca\u201c\u4e0a\u4f20\u6587\u4ef6\u201d\u7ae0\u8282\uff0c\u4e0a\u4f20\u6587\u4ef6\u5230\u5236\u54c1\u5e93\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#23-coredns","title":"2.3. \u914d\u7f6e coredns","text":"<p>\u53ef\u89c6\u5316\u5e73\u53f0\u652f\u6301\u8c03\u8bd5 API \uff0c\u4f1a\u5728 pod \u5185\u6784\u9020\u5e76\u53d1\u8d77 HTTP \u8bf7\u6c42\u3002\u6b64\u65f6\u57df\u540d\u89e3\u6790\u7531 coredns \u8d1f\u8d23\uff0c\u8bf7\u5c3d\u91cf\u914d\u7f6e coredns \u7684\u4e0a\u6e38 DNS \u5b9e\u73b0\u89e3\u6790\uff0c\u5982\u679c\u65e0\u6cd5\u5b9e\u73b0\uff0c\u53ef\u53c2\u8003\u672c\u7ae0\u8282\u6dfb\u52a0 hosts \u8bb0\u5f55\u5e94\u6025\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#231","title":"2.3.1. \u6dfb\u52a0\u84dd\u9cb8\u57df\u540d","text":"<p>\u5982\u679c\u4f60\u4f7f\u7528\u4e86\u8fd0\u7ef4\u5f00\u53d1\u5e73\u53f0\u7684 \u201c\u6570\u636e\u6e90\u7ba1\u7406\u201d \u529f\u80fd\uff0c\u5219\u8bf7\u6c42\u7684\u57df\u540d\u4e3a <code>lesscode.$BK_DOMAIN</code>\uff0c\u8bf7\u53c2\u8003\u5982\u4e0b\u6b65\u9aa4\u8fdb\u884c\u914d\u7f6e\u3002</p> <p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\nBK_DOMAIN=$(yq e '.domain.bkDomain' environments/default/custom.yaml)  # \u4ece\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e2d\u63d0\u53d6, \u4e5f\u53ef\u81ea\u884c\u8d4b\u503c\nIP1=$(kubectl get svc -A -l app.kubernetes.io/instance=ingress-nginx -o jsonpath='{.items[0].spec.clusterIP}')\n./scripts/control_coredns.sh update \"$IP1\" lesscode.$BK_DOMAIN\n./scripts/control_coredns.sh list  # \u68c0\u67e5\u6dfb\u52a0\u7684\u8bb0\u5f55\u3002\n</code></pre> \u5176\u4ed6\u84dd\u9cb8\u57df\u540d\u540c\u7406\uff0c\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"TMP/1%20%E8%93%9D%E9%B2%B8%E9%83%A8%E7%BD%B2/6-1%20%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/#232","title":"2.3.2. \u53ef\u9009\uff1a\u6dfb\u52a0\u5176\u4ed6\u57df\u540d","text":"<p>\u5982\u679c\u4f60\u7684\u5176\u4ed6\u670d\u52a1\u7aef\u57df\u540d\u9700\u8981\u6dfb\u52a0\u89e3\u6790\uff0c\u4e5f\u80fd\u6dfb\u52a0 hosts \u8bb0\u5f55\u4e34\u65f6\u89e3\u51b3\u95ee\u9898\u3002\u6b63\u5f0f\u73af\u5883\u8bf7\u914d\u7f6e coredns \u7684\u4e0a\u6e38 DNS \u670d\u52a1\u5668\u3002</p> <p>\u6ce8\u610f</p> <p>\u6b64\u914d\u7f6e\u5bf9\u6574\u4e2a k8s \u96c6\u7fa4\u751f\u6548\uff0c\u96c6\u7fa4\u4e2d\u6240\u6709 pod \u5728\u89e3\u6790\u5230\u8fd9\u4e9b\u57df\u540d\u65f6\uff0c\u90fd\u4f1a\u53d8\u4e3a\u6b64\u5904\u6307\u5b9a IP\u3002\u8bf7\u6ce8\u610f\u53ca\u65f6\u66f4\u65b0\u3002</p> <p>\u5728 \u4e2d\u63a7\u673a \u6267\u884c\uff1a <pre><code>cd ~/bkce7.1-install/blueking/  # \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n./scripts/control_coredns.sh update \"\u57df\u540d\u89e3\u6790\u7684IP\" \"\u81ea\u5b9a\u4e49\u57df\u540d\"\n./scripts/control_coredns.sh list  # \u68c0\u67e5\u6dfb\u52a0\u7684\u8bb0\u5f55\u3002\n</code></pre> \u5982\u679c\u6709\u591a\u6761\u8bb0\u5f55\uff0c\u8bf7\u81ea\u884c\u5c01\u88c5\u811a\u672c\u5b9e\u73b0\u6279\u91cf\u5904\u7406\u3002</p>"},{"location":"TMP/2%20%E8%93%9D%E9%B2%B8%E9%85%8D%E7%BD%AE/%E8%BF%9B%E7%A8%8B%E7%9B%91%E6%8E%A7/","title":"\u8fdb\u7a0b\u76d1\u63a7","text":"<p>\u5fc5\u9700\u6761\u4ef6:\u8fdb\u7a0b\u76d1\u63a7\u9700\u5148\u786e\u4fdd\u5df2\u5b89\u88c5\u91c7\u96c6\u5668agent\u53cabkmonitorbeat\u91c7\u96c6\u63d2\u4ef6 agent\u5b89\u88c5\u6587\u6863</p>"},{"location":"TMP/2%20%E8%93%9D%E9%B2%B8%E9%85%8D%E7%BD%AE/%E8%BF%9B%E7%A8%8B%E7%9B%91%E6%8E%A7/#1","title":"1\u3001\u914d\u7f6e\u8fdb\u7a0b\u91c7\u96c6","text":"<p>.\u76d1\u63a7\u5e73\u53f0-\u96c6\u6210-\u6570\u636e\u91c7\u96c6-\u65b0\u5efa </p> <p></p> <p>\u65b0\u5efa\u8fdb\u7a0b\u7c7b\u7684\u6570\u636e\u91c7\u96c6</p> <p></p> <p></p> <p>\u9009\u62e9\u9700\u8981\u8fdb\u884c\u76d1\u63a7\u7684\u4e3b\u673a</p> <p></p> <p>\u5bf9\u9700\u76d1\u63a7\u7684\u4e3b\u673a\u4e0b\u53d1\u8fdb\u7a0b\u91c7\u96c6\u914d\u7f6e\uff0c\u4e0b\u53d1\u6210\u529f\u53ef\u5728\u6570\u636e\u91c7\u96c6\u7684\u8fdb\u7a0b\u5904\uff0c\u901a\u8fc7\u201c\u53ef\u89c6\u5316\u201d\u67e5\u770b\u91c7\u96c6\u6570\u636e</p> <p></p> <p></p>"},{"location":"TMP/2%20%E8%93%9D%E9%B2%B8%E9%85%8D%E7%BD%AE/%E8%BF%9B%E7%A8%8B%E7%9B%91%E6%8E%A7/#2","title":"2\u3001\u914d\u7f6e\u8fdb\u7a0b\u76d1\u63a7","text":"<p>\u914d\u7f6e-\u544a\u8b66\u7b56\u7565-\u65b0\u5efa\u7b56\u7565</p> <p></p> <p>\u5728\u914d\u7f6e\u5e73\u53f0\u91cc\u914d\u7f6e\u8fdb\u7a0b\u4fe1\u606f\u7684\u76d1\u542c</p> <p></p> <p>\u914d\u7f6e\u544a\u8b66\u673a\u5236</p> <p>1\u3001\u8bbe\u7f6e\u544a\u8b66\u7b56\u7565\u540d\u79f0</p> <p></p> <p>2\u3001\u9009\u62e9\u544a\u8b66\u8fdb\u7a0b\u6307\u6807</p> <p></p> <p>3\u3001\u8bbe\u7f6e\u544a\u8b66\u89e6\u53d1\u6761\u4ef6\u53ca\u901a\u77e5\u8bbe\u7f6e</p> <p></p> <p></p> <p>\u9644\uff1a\u90e8\u5206\u91c7\u96c6\u6307\u6807\u8bf4\u660e</p> <p></p> <p></p>"},{"location":"TMP/%E7%AE%A1%E7%90%86/%E6%8B%9B%E8%81%98/%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E8%AE%BE%E8%AE%A1/","title":"\u5b9e\u4e60\u751f\u9762\u8bd5\u95ee\u9898\u8bbe\u8ba1","text":"<p>\u4e3a\u4e86\u5168\u9762\u8bc4\u4f30\u5b9e\u4e60\u751f\u7684\u4e3a\u4eba\u5904\u4e16\u6001\u5ea6\u3001\u4e13\u4e1a\u8bfe\u6210\u7ee9\u4e0e\u5b66\u4e60\u6001\u5ea6\uff0c\u4ee5\u53ca\u901a\u7528\u6280\u80fd\uff0c\u53ef\u4ee5\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u8bbe\u8ba1\u95ee\u9898\uff1a</p>"},{"location":"TMP/%E7%AE%A1%E7%90%86/%E6%8B%9B%E8%81%98/%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E8%AE%BE%E8%AE%A1/#_1","title":"\u4e3a\u4eba\u5904\u4e16\u6001\u5ea6","text":"<p>\u56e2\u961f\u5408\u4f5c</p> <p>\u95ee\u98981\uff1a\u8bf7\u63cf\u8ff0\u4e00\u6b21\u4f60\u5728\u56e2\u961f\u4e2d\u5408\u4f5c\u5b8c\u6210\u4efb\u52a1\u7684\u7ecf\u5386\u3002\u4f60\u5728\u8fd9\u4e2a\u56e2\u961f\u4e2d\u7684\u89d2\u8272\u662f\u4ec0\u4e48\uff1f\u4f60\u662f\u5982\u4f55\u4e0e\u56e2\u961f\u6210\u5458\u534f\u4f5c\u7684\uff1f</p> <p>\u95ee\u98982\uff1a\u5f53\u56e2\u961f\u4e2d\u51fa\u73b0\u610f\u89c1\u5206\u6b67\u65f6\uff0c\u4f60\u4f1a\u5982\u4f55\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\uff1f</p> <p>\u6c9f\u901a\u80fd\u529b</p> <p>\u95ee\u98983\uff1a\u8bf7\u5206\u4eab\u4e00\u6b21\u4f60\u9700\u8981\u5411\u4ed6\u4eba\u89e3\u91ca\u590d\u6742\u6982\u5ff5\u6216\u4efb\u52a1\u7684\u7ecf\u5386\u3002\u4f60\u662f\u5982\u4f55\u786e\u4fdd\u5bf9\u65b9\u7406\u89e3\u4f60\u7684\u610f\u601d\u7684\uff1f</p> <p>\u95ee\u98984\uff1a\u5982\u679c\u4f60\u53d1\u73b0\u540c\u4e8b\u5728\u5de5\u4f5c\u4e2d\u9047\u5230\u56f0\u96be\uff0c\u4f60\u4f1a\u5982\u4f55\u63d0\u4f9b\u5e2e\u52a9\uff1f</p> <p>\u804c\u4e1a\u9053\u5fb7</p> <p>\u95ee\u98985\uff1a\u8bf7\u63cf\u8ff0\u4e00\u6b21\u4f60\u5728\u5de5\u4f5c\u6216\u5b66\u4e60\u4e2d\u9047\u5230\u9053\u5fb7\u56f0\u5883\u7684\u7ecf\u5386\u3002\u4f60\u662f\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\uff1f</p> <p>\u95ee\u98986\uff1a\u5982\u679c\u4f60\u53d1\u73b0\u540c\u4e8b\u5728\u5de5\u4f5c\u4e2d\u6709\u4e0d\u8bda\u5b9e\u7684\u884c\u4e3a\uff08\u5982\u7be1\u6539\u6570\u636e\uff09\uff0c\u4f60\u4f1a\u600e\u4e48\u505a\uff1f</p> <p>\u81ea\u6211\u7ba1\u7406</p> <p>\u95ee\u98987\uff1a\u5f53\u4f60\u9762\u5bf9\u591a\u4e2a\u4efb\u52a1\u548c\u7d27\u8feb\u7684\u622a\u6b62\u65e5\u671f\u65f6\uff0c\u4f60\u662f\u5982\u4f55\u7ba1\u7406\u81ea\u5df1\u7684\u65f6\u95f4\u548c\u4f18\u5148\u7ea7\u7684\uff1f</p> <p>\u95ee\u98988\uff1a\u8bf7\u63cf\u8ff0\u4e00\u6b21\u4f60\u5728\u5de5\u4f5c\u6216\u5b66\u4e60\u4e2d\u9047\u5230\u632b\u6298\u7684\u7ecf\u5386\u3002\u4f60\u662f\u5982\u4f55\u5e94\u5bf9\u548c\u514b\u670d\u8fd9\u4e9b\u6311\u6218\u7684\uff1f</p>"},{"location":"TMP/%E7%AE%A1%E7%90%86/%E6%8B%9B%E8%81%98/%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E8%AE%BE%E8%AE%A1/#_2","title":"\u4e13\u4e1a\u8bfe\u6210\u7ee9\u4e0e\u5b66\u4e60\u6001\u5ea6","text":"<p>\u4e13\u4e1a\u8bfe\u6210\u7ee9</p> <p>\u95ee\u98989\uff1a\u8bf7\u4ecb\u7ecd\u4e00\u4e0b\u4f60\u7684\u4e13\u4e1a\u8bfe\u6210\u7ee9\u60c5\u51b5\u3002\u6709\u54ea\u4e9b\u8bfe\u7a0b\u662f\u4f60\u7684\u5f3a\u9879\uff1f\u4e3a\u4ec0\u4e48\uff1f</p> <p>\u95ee\u989810\uff1a\u6709\u6ca1\u6709\u54ea\u95e8\u8bfe\u7a0b\u662f\u4f60\u7684\u5f31\u9879\uff1f\u4f60\u662f\u5982\u4f55\u52aa\u529b\u63d0\u9ad8\u8fd9\u95e8\u8bfe\u7a0b\u6210\u7ee9\u7684\uff1f</p> <p>\u5b66\u4e60\u6001\u5ea6</p> <p>\u95ee\u989811\uff1a\u8bf7\u5206\u4eab\u4e00\u6b21\u4f60\u4e3b\u52a8\u5bfb\u6c42\u989d\u5916\u5b66\u4e60\u8d44\u6e90\uff08\u5982\u4e66\u7c4d\u3001\u5728\u7ebf\u8bfe\u7a0b\u3001\u5b9e\u9a8c\u5ba4\u9879\u76ee\u7b49\uff09\u6765\u6df1\u5165\u7406\u89e3\u67d0\u4e2a\u4e13\u4e1a\u77e5\u8bc6\u70b9\u7684\u7ecf\u5386\u3002</p> <p>\u95ee\u989812\uff1a\u5728\u5b66\u4e60\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u9047\u5230\u96be\u4ee5\u7406\u89e3\u6216\u638c\u63e1\u7684\u5185\u5bb9\uff0c\u4f60\u901a\u5e38\u4f1a\u91c7\u53d6\u54ea\u4e9b\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e9b\u56f0\u96be\uff1f</p>"},{"location":"TMP/%E7%AE%A1%E7%90%86/%E6%8B%9B%E8%81%98/%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E8%AE%BE%E8%AE%A1/#_3","title":"\u901a\u7528\u6280\u80fd\u8003\u5bdf","text":"<p>\u8ba1\u7b97\u673a\u6280\u80fd</p> <p>\u95ee\u989813\uff1a\u8bf7\u63cf\u8ff0\u4e00\u6b21\u4f60\u4f7f\u7528\u67d0\u79cd\u8f6f\u4ef6\u5de5\u5177\uff08\u5982 Excel\u3001Python\u3001MATLAB \u7b49\uff09\u89e3\u51b3\u5b9e\u9645\u95ee\u9898\u7684\u7ecf\u5386\u3002\u8fd9\u5bf9\u4f60\u7684\u5de5\u4f5c\u6216\u5b66\u4e60\u6709\u4ec0\u4e48\u5e2e\u52a9\uff1f</p> <p>\u8bed\u8a00\u80fd\u529b</p> <p>\u95ee\u989814: \u8bf7\u5206\u4eab\u4e00\u6b21\u4f60\u9700\u8981\u7528\u82f1\u8bed\uff08\u6216\u5176\u4ed6\u5916\u8bed\uff09\u8fdb\u884c\u4ea4\u6d41\u6216\u5b8c\u6210\u4efb\u52a1\u7684\u7ecf\u5386\u3002\u8fd9\u5bf9\u4f60\u7684\u5de5\u4f5c\u6216\u5b66\u4e60\u6709\u4ec0\u4e48\u5e2e\u52a9\uff1f</p> <p>\u5206\u6790\u4e0e\u89e3\u51b3\u95ee\u9898\u80fd\u529b</p> <p>\u95ee\u989815: \u8bf7\u63cf\u8ff0\u4e00\u6b21\u590d\u6742\u7684\u95ee\u9898\u89e3\u51b3\u8fc7\u7a0b\uff0c\u5305\u62ec\u8bc6\u522b\u95ee\u9898\u3001\u5206\u6790\u539f\u56e0\u4ee5\u53ca\u6700\u7ec8\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u9002\u5e94\u80fd\u529b</p> <p>\u95ee\u989816: \u5f53\u73af\u5883\u6216\u8981\u6c42\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f60\u662f\u5982\u4f55\u9002\u5e94\u5e76\u7ee7\u7eed\u9ad8\u6548\u5de5\u4f5c\u7684\uff1f\u8bf7\u4e3e\u4e00\u4e2a\u5177\u4f53\u4f8b\u5b50\u3002</p>"},{"location":"TMP/%E7%AE%A1%E7%90%86/%E6%8B%9B%E8%81%98/%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E8%AE%BE%E8%AE%A1/#_4","title":"\u95ee\u9898\u8bbe\u8ba1\u76ee\u7684","text":"<ul> <li>\u56e2\u961f\u5408\u4f5c\u548c\u6c9f\u901a\u80fd\u529b</li> <li>\u76ee\u76841.1. \u56e2\u961f\u5408\u4f5c\u80fd\u529b\u8bc4\u4f30<ul> <li>\u95ee\u98981\u548c2\u65e8\u5728\u4e86\u89e3\u5019\u9009\u4eba\u5728\u56e2\u961f\u4e2d\u7684\u89d2\u8272\u3001\u4e0e\u56e2\u961f\u6210\u5458\u534f\u4f5c\u7684\u65b9\u6cd5\u4ee5\u53ca\u5904\u7406\u51b2\u7a81\u7684\u65b9\u5f0f\uff0c\u4ece\u800c\u8bc4\u4f30\u5176\u56e2\u961f\u5408\u4f5c\u80fd\u529b\u3002</li> </ul> </li> <li>\u76ee\u76841.2. \u6c9f\u901a\u6280\u5de7\u8bc4\u4f30<ul> <li>\u95ee\u98983\u548c4\u65e8\u5728\u8bc4\u4f30\u5019\u9009\u4eba\u7684\u6c9f\u901a\u6280\u5de7\uff0c\u7279\u522b\u662f\u5728\u89e3\u91ca\u590d\u6742\u6982\u5ff5\u548c\u5e2e\u52a9\u540c\u4e8b\u65b9\u9762\u3002</li> </ul> </li> <li>\u804c\u4e1a\u9053\u5fb7\u548c\u81ea\u6211\u7ba1\u7406\u80fd\u529b</li> <li>\u76ee\u76841.3. \u804c\u4e1a\u9053\u5fb7\u89c2\u5ff5\u8bc4\u4f30<ul> <li>\u95ee\u98985\u548c6\u65e8\u5728\u4e86\u89e3\u5019\u9009\u4eba\u7684\u804c\u4e1a\u9053\u5fb7\u89c2\u5ff5\uff0c\u7279\u522b\u662f\u5728\u9762\u5bf9\u9053\u5fb7\u56f0\u5883\u548c\u4e0d\u8bda\u5b9e\u884c\u4e3a\u65f6\u7684\u53cd\u5e94\u3002</li> </ul> </li> <li>\u76ee\u76841.4. \u81ea\u6211\u7ba1\u7406\u80fd\u529b\u8bc4\u4f30<ul> <li>\u95ee\u98987\u548c8\u65e8\u5728\u8bc4\u4f30\u5019\u9009\u4eba\u7684\u81ea\u6211\u7ba1\u7406\u80fd\u529b\uff0c\u7279\u522b\u662f\u5728\u9762\u5bf9\u591a\u4e2a\u4efb\u52a1\u3001\u7d27\u8feb\u622a\u6b62\u65e5\u671f\u4ee5\u53ca\u632b\u6298\u65f6\u7684\u8868\u73b0\u3002</li> </ul> </li> <li>\u4e13\u4e1a\u8bfe\u6210\u7ee9\u548c\u5b66\u4e60\u6001\u5ea6</li> <li>\u76ee\u76842.1. \u4e13\u4e1a\u8bfe\u6210\u7ee9\u8bc4\u4f30<ul> <li>\u95ee\u98989\u548c10\u65e8\u5728\u4e86\u89e3\u5019\u9009\u4eba\u5728\u4e13\u4e1a\u8bfe\u7a0b\u4e0a\u7684\u8868\u73b0\uff0c\u5305\u62ec\u5f3a\u9879\u8bfe\u7a0b\u3001\u5f31\u9879\u8bfe\u7a0b\u53ca\u5176\u6539\u8fdb\u65b9\u6cd5\u3002</li> </ul> </li> <li>\u76ee\u76842.2. \u5b66\u4e60\u6001\u5ea6\u8bc4\u4f30<ul> <li>\u95ee\u989811\u548c12\u65e8\u5728\u8bc4\u4f30\u5019\u9009\u4eba\u5bf9\u5f85\u5b66\u4e60\u7684\u6001\u5ea6\uff0c\u5305\u62ec\u4e3b\u52a8\u5bfb\u6c42\u989d\u5916\u5b66\u4e60\u8d44\u6e90\u7684\u65b9\u6cd5\uff0c\u4ee5\u53ca\u89e3\u51b3\u5b66\u4e60\u56f0\u96be\u7684\u65b9\u6cd5\u3002</li> </ul> </li> <li>\u901a\u7528\u6280\u80fd\u8003\u5bdf</li> <li>\u76ee\u76843.1. \u6280\u672f\u5e94\u7528\u80fd\u529b\u8bc4\u4f30<ul> <li>\u95ee\u989813\u65e8\u5728\u4e86\u89e3\u5019\u9009\u4eba\u5bf9\u8ba1\u7b97\u673a\u8f6f\u4ef6\u5de5\u5177\u5e94\u7528\u60c5\u51b5\u53ca\u5176\u5b9e\u9645\u6548\u679c\u3002</li> </ul> </li> <li>\u76ee\u76843.2. \u8bed\u8a00\u80fd\u529b\u8bc4\u4f30<ul> <li>\u95ee\u989814\u65e8\u5728\u4e86\u89e3\u5019\u9009\u4eba\u5728\u591a\u8bed\u8a00\u73af\u5883\u4e0b\u5de5\u4f5c\u7684\u9002\u5e94\u6027\u53ca\u5b9e\u9645\u7ecf\u9a8c\u3002</li> </ul> </li> <li>\u76ee\u76843.3 \u5206\u6790\u4e0e\u89e3\u51b3\u95ee\u9898\u80fd\u529b\u8bc4\u4f30<ul> <li>\u95ee\u989815\u65e8\u5728\u4e86\u89e3\u5019\u9009\u4eba\u8bc6\u522b\u3001\u5206\u6790\u53ca\u89e3\u51b3\u590d\u6742\u95ee\u9898\u7684\u65b9\u6cd5\u3002</li> </ul> </li> <li>\u76ee\u76843.4 \u9002\u5e94\u53d8\u5316\u80fd\u529b\u8bc4\u4f30<ul> <li>\u95ee\u989816\u65e8\u5728\u4e86\u89e3\u5019\u9009\u4eba\u5728\u73af\u5883\u53d8\u5316\u60c5\u51b5\u4e0b\u4fdd\u6301\u9ad8\u6548\u5de5\u4f5c\u7684\u9002\u5e94\u6027\u3002</li> </ul> </li> </ul> <p>\u901a\u8fc7\u8fd9\u4e9b\u89d2\u5ea6\u7684\u95ee\u9898\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u66f4\u5168\u9762\u5730\u4e86\u89e3\u5b9e\u4e60\u751f\u5019\u9009\u4eba\u7684\u4e3a\u4eba\u5904\u4e16\u6001\u5ea6\u3001\u4e13\u4e1a\u8bfe\u6210\u7ee9\u53ca\u5176\u5b66\u4e60\u6001\u5ea6\uff0c\u4ee5\u53ca\u5176\u901a\u7528\u6280\u80fd\uff0c\u4ece\u800c\u505a\u51fa\u66f4\u660e\u667a\u7684\u62db\u8058\u51b3\u7b56\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"<pre><code>INSERT INTO \"dcim_virtualchassis\" (\"id\", \"created\", \"last_updated\", \"_custom_field_data\", \"name\", \"domain\", \"master_id\") VALUES ('6ced6931-b5c0-46fd-849d-91a56c09df2c', '2024-08-08 09:56:23.266604+08', '2024-08-08 09:57:33.815879+08', '{}', 'CGO-XC-AG00-W', '', 'bca41eb1-063e-4107-ae01-9b7ace03987a');\n\nINSERT INTO \"dcim_virtualchassis\" (\"id\", \"created\", \"last_updated\", \"_custom_field_data\", \"name\", \"domain\", \"master_id\") VALUES ('497bba2e-c243-4c1c-9284-ac2004d8a551', '2024-08-09 09:55:29.332993+08', '2024-08-09 09:56:25.341444+08', '{}', 'CGO-XC-MSCG00', '', 'e9c97450-5527-4da3-9aab-7a74033f1fca');\n</code></pre> <p>\u597d\u7684\uff0c\u4ee5\u4e0b\u662f\u5c06\u8fd9\u4e24\u6761\u00a0<code>INSERT</code>\u00a0\u8bed\u53e5\u6539\u4e3a\u00a0<code>UPDATE</code>\u00a0\u8bed\u53e5\u7684\u5b8c\u6574\u8f93\u51fa\uff1a</p> <pre><code>UPDATE \"dcim_virtualchassis\"\nSET \"created\" = '2024-08-08 09:56:23.266604+08',\n    \"last_updated\" = '2024-08-08 09:57:33.815879+08',\n    \"_custom_field_data\" = '{}',\n    \"name\" = 'CGO-XC-AG00-W',\n    \"domain\" = '',\n    \"master_id\" = 'bca41eb1-063e-4107-ae01-9b7ace03987a'\nWHERE \"id\" = '6ced6931-b5c0-46fd-849d-91a56c09df2c';\n\nUPDATE \"dcim_virtualchassis\"\nSET \"created\" = '2024-08-09 09:55:29.332993+08',\n    \"last_updated\" = '2024-08-09 09:56:25.341444+08',\n    \"_custom_field_data\" = '{}',\n    \"name\" = 'CGO-XC-MSCG00',\n    \"domain\" = '',\n    \"master_id\" = 'e9c97450-5527-4da3-9aab-7a74033f1fca'\nWHERE \"id\" = '497bba2e-c243-4c1c-9284-ac2004d8a551';\n\n\n\u66f4\u65b0\u201c dcim_virtualchassis\u201d\n\u8bbe\u7f6e\u201c\u521b\u5efa\u201d ='2024 - 0809 09\uff1a55\uff1a29 .332993 + 0808'\uff0c\n    \u201c last_update\u201d ='202409090956\uff1a25 .341444 +0808'\uff0c\n    \u201c _ custom_field_data\u201d ='{}'\uff0c\n    \u201c\u540d\u79f0\u201d =' CGO-XC-MSCG00'\uff0c\n    \u201c\u57df\u201d= ''\uff0c\n    \u201c\u4e3b_id\u201d=' e9 c97450 -5527 -4 da3 -9 aab -7 a74033 f1 fca'\n\u5176\u4e2d\u201c id\u201d ='497 bba2 e-c243\u20134 c1 c\u20139284-ac20048 d8 a551';\n</code></pre> <p>\u8fd9\u4e9b\u00a0<code>UPDATE</code>\u00a0\u8bed\u53e5\u5c06\u4f1a\u66f4\u65b0\u8868\u4e2d\u5df2\u6709\u7684\u8bb0\u5f55\uff0c\u800c\u4e0d\u662f\u63d2\u5165\u65b0\u7684\u8bb0\u5f55\u3002\u8bf7\u786e\u4fdd\u5728\u6267\u884c\u8fd9\u4e9b\u8bed\u53e5\u4e4b\u524d\uff0c\u8868\u4e2d\u5df2\u7ecf\u5b58\u5728\u76f8\u5e94\u7684\u00a0<code>id</code>\u00a0\u503c\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u66f4\u65b0\u5931\u8d25\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%9C%AA%E5%91%BD%E5%90%8D/#navicatsql-insert-into","title":"navicat\u6267\u884cSQL INSERT INTO\u8bed\u53e5\u65f6\uff0c\u5982\u4f55\u5ffd\u7565\u5df2\u5b58\u5728\u7684\u6570\u636e\uff1f","text":"<p>\u5728Navicat\u4e2d\u6267\u884c <code>INSERT INTO</code> \u8bed\u53e5\u65f6\uff0c\u5982\u679c\u5e0c\u671b\u5ffd\u7565\u5df2\u5b58\u5728\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u4f60\u4f7f\u7528\u7684\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08DBMS\uff09\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684DBMS\u7684\u5904\u7406\u65b9\u5f0f\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%9C%AA%E5%91%BD%E5%90%8D/#mysql","title":"MySQL","text":"<p>\u5728MySQL\u4e2d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>INSERT IGNORE</code> \u6216\u8005 <code>REPLACE INTO</code> \u6765\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%9C%AA%E5%91%BD%E5%90%8D/#insert-ignore","title":"\u4f7f\u7528 <code>INSERT IGNORE</code>","text":"<p>\u590d\u5236\u4ee3\u7801</p> <pre><code>INSERT IGNORE INTO \"dcim_virtualchassis\" (\"id\", \"created\", \"last_updated\", \"_custom_field_data\", \"name\", \"domain\", \"master_id\") \nVALUES ('0aad51f9-e999-4259-9aef-427076054caf', '2024-08-08 09:37:06.974113+08', '2024-08-08 09:39:46.53758+08', '{}', 'CGO-XC-05A-AG00-G', '', 'eeca5bfc-6942-4b84-a7d2-56b86e71e4b8');\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%9C%AA%E5%91%BD%E5%90%8D/#replace-into","title":"\u4f7f\u7528 <code>REPLACE INTO</code>","text":"<p>\u590d\u5236\u4ee3\u7801</p> <pre><code>REPLACE INTO \"dcim_virtualchassis\" (\"id\", \"created\", \"last_updated\", \"_custom_field_data\", \"name\", \"domain\", \"master_id\") \nVALUES ('0aad51f9-e999-4259-9aef-427076054caf', '2024-08-08 09:37:06.974113+08', '2024-08-08 09:39:46.53758+08', '{}', 'CGO-XC-05A-AG00-G', '', 'eeca5bfc-6942-4b84-a7d2-56b86e71e4b8');\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%9C%AA%E5%91%BD%E5%90%8D/#postgresql","title":"PostgreSQL","text":"<p>\u5728PostgreSQL\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>ON CONFLICT</code> \u5b50\u53e5\u6765\u5b9e\u73b0\u8fd9\u4e00\u529f\u80fd\uff1a</p> <p>\u590d\u5236\u4ee3\u7801</p> <pre><code>INSERT INTO \"dcim_virtualchassis\" (\"id\", \"created\", \"last_updated\", \"_custom_field_data\", \"name\", \"domain\", \"master_id\") \nVALUES ('0aad51f9-e999-4259-9aef-427076054caf', '2024-08-08 09:37:06.974113+08', '2024-08-08 09:39:46.53758+08', '{}', 'CGO-XC-05A-AG00-G', '', 'eeca5bfc-6942-4b84-a7d2-56b86e71e4b8')\nON CONFLICT (\"id\") DO NOTHING;\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%9C%AA%E5%91%BD%E5%90%8D/#sqlite","title":"SQLite","text":"<p>\u5728SQLite\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>INSERT OR IGNORE</code>\uff1a</p> <p>\u590d\u5236\u4ee3\u7801</p> <pre><code>INSERT OR IGNORE INTO \"dcim_virtualchassis\" (\"id\", \"created\", \"last_updated\", \"_custom_field_data\", \"name\", \"domain\", \"master_id\") \nVALUES ('0aad51f9-e999-4259-9aef-427076054caf', '2024-08-08 09:37:06.974113+08', '2024-08-08 09:39:46.53758+08', '{}', 'CGO-XC-05A-AG00-G', '', 'eeca5bfc-6942-4b84-a7d2-56b86e71e4b8');\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%9C%AA%E5%91%BD%E5%90%8D/#sql-server","title":"SQL Server","text":"<p>\u5728SQL Server\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u5408\u5e76\u8bed\u53e5\uff08MERGE\uff09\u6765\u5b9e\u73b0\u7c7b\u4f3c\u7684\u6548\u679c\uff1a</p> <p>\u590d\u5236\u4ee3\u7801</p> <pre><code>MERGE INTO dcim_virtualchassis AS target\nUSING (SELECT '0aad51f9-e999' AS id, \n              CAST('2024 - 0808 09\uff1a37\uff1a06 .974113 +0808' AS datetimeoffset) AS created,\n              CAST('202408080939\uff1a46 .53758 +0808' AS datetimeoffset) AS last_updated,\n              '{}' AS _custom_field_data,\n              'CGO-XC -05 A -AG00 -G' AS name,\n              '' AS domain,\n              ' eeca5 bfc -6942 -4 b84 -a7 d2\u201356 b86 e71 e4 b8' AS master_id) AS source\nON target.id = source.id\nWHEN NOT MATCHED BY TARGET THEN\n    INSERT (id, created, last_updated, _custom_field_data, name, domain, master_id)\n    VALUES (source.id, source.created, source.last_updated, source._custom_field_data, source.name, source.domain, source.master_id);\n</code></pre> <p>\u6839\u636e\u4f60\u6240\u4f7f\u7528\u7684\u6570\u636e\u5e93\u7c7b\u578b\uff0c\u9009\u62e9\u76f8\u5e94\u7684\u65b9\u6cd5\u6765\u5ffd\u7565\u5df2\u5b58\u5728\u7684\u6570\u636e\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E6%95%99%E7%A8%8B/MySQL%E5%87%BD%E6%95%B0/","title":"MySQL\u51fd\u6570","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E6%95%99%E7%A8%8B/MySQL%E5%87%BD%E6%95%B0/#1-mysql-avg","title":"1. MySQL AVG\uff1a\u6c42\u5e73\u5747\u503c","text":"<p>MySQL AVG() \u51fd\u6570\u901a\u8fc7\u8ba1\u7b97\u8fd4\u56de\u7684\u884c\u6570\u548c\u6bcf\u4e00\u884c\u6570\u636e\u7684\u548c\uff0c\u6c42\u5f97\u6307\u5b9a\u5217\u6570\u636e\u7684\u5e73\u5747\u503c\u3002</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u5b66\u751f\u6210\u7ee9\u8868 tb_students_score\uff0c\u5b66\u751f\u6210\u7ee9\u8868\u7684\u6570\u636e\u5185\u5bb9\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; use test_db;\nDatabase changed\nmysql&gt; SELECT * FROM tb_students_score;\n+--------------+---------------+\n| student_name | student_score |\n+--------------+---------------+\n| Dany         |            90 |\n| Green        |            99 |\n| Henry        |            95 |\n| Jane         |            98 |\n| Jim          |            88 |\n| John         |            94 |\n| Lily         |           100 |\n| Susan        |            96 |\n| Thomas       |            93 |\n| Tom          |            89 |\n+--------------+---------------+\n10 rows in set (0.13 sec)\n</code></pre> <p>\u3010\u5b9e\u4f8b\u3011\u5728 tb_students_score \u8868\u4e2d\uff0c\u67e5\u8be2\u6240\u6709\u5b66\u751f\u6210\u7ee9\u7684\u5e73\u5747\u503c\uff0c\u8f93\u5165\u7684 SQL \u8bed\u53e5\u548c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; SELECT AVG(student_score)\n    -&gt; AS score_avg\n    -&gt; FROM tb_students_score;\n+-----------+\n| score_avg |\n+-----------+\n|   94.2000 |\n+-----------+\n1 row in set (0.03 sec)\n</code></pre> <p>\u63d0\u793a</p> <p>\u4f7f\u7528 AVG() \u51fd\u6570\u65f6\uff0c\u53c2\u6570\u4e3a\u8981\u8ba1\u7b97\u7684\u5217\u540d\u79f0\uff0c\u82e5\u8981\u5f97\u5230\u591a\u4e2a\u5217\u7684\u5e73\u5747\u503c\uff0c\u5219\u9700\u8981\u5728\u6bcf\u4e00\u5217\u90fd\u4f7f\u7528 AVG() \u51fd\u6570\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E6%95%99%E7%A8%8B/MySQL%E5%87%BD%E6%95%B0/#2-mysql-count","title":"2. MySQL COUNT\u51fd\u6570\uff1a\u7edf\u8ba1\u67e5\u8be2\u7ed3\u679c\u7684\u884c\u6570","text":"<p>MySQL COUNT() \u51fd\u6570\u7edf\u8ba1\u6570\u636e\u8868\u4e2d\u5305\u542b\u7684\u8bb0\u5f55\u884c\u7684\u603b\u6570\uff0c\u6216\u8005\u6839\u636e\u67e5\u8be2\u7ed3\u679c\u8fd4\u56de\u5217\u4e2d\u5305\u542b\u7684\u6570\u636e\u884c\u6570\uff0c\u4f7f\u7528\u65b9\u6cd5\u6709\u4ee5\u4e0b\u4e24\u79cd\uff1a</p> <ul> <li>COUNT(*) \u8ba1\u7b97\u8868\u4e2d\u603b\u7684\u884c\u6570\uff0c\u65e0\u8bba\u67d0\u5217\u6709\u6570\u503c\u6216\u8005\u4e3a\u7a7a\u503c\u3002</li> <li>COUNT\uff08\u5b57\u6bb5\u540d\uff09\u8ba1\u7b97\u6307\u5b9a\u5217\u4e0b\u603b\u7684\u884c\u6570\uff0c\u8ba1\u7b97\u65f6\u5c06\u5ffd\u7565\u7a7a\u503c\u7684\u884c\u3002</li> </ul> <p>\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u5b66\u751f\u6210\u7ee9\u8868 tb_students_score\uff0c\u5b66\u751f\u6210\u7ee9\u8868\u7684\u6570\u636e\u5185\u5bb9\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; use test_db;\nDatabase changed\nmysql&gt; SELECT * FROM tb_students_score;\n+--------------+---------------+\n| student_name | student_score |\n+--------------+---------------+\n| Dany         |            90 |\n| Green        |            99 |\n| Henry        |            95 |\n| Jane         |            98 |\n| Jim          |            88 |\n| John         |            94 |\n| Lily         |           100 |\n| Susan        |            96 |\n| Thomas       |            93 |\n| Tom          |            89 |\n+--------------+---------------+\n10 rows in set (0.13 sec)\n</code></pre> <p>\u3010\u5b9e\u4f8b\u3011\u67e5\u8be2 tb_students_score \u8868\u4e2d\u603b\u7684\u884c\u6570\uff0c\u8f93\u5165\u7684 SQL \u8bed\u53e5\u548c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; SELECT COUNT(student_name)\n    -&gt; AS students_number\n    -&gt; FROM tb_students_score;\n+-----------------+\n| students_number |\n+-----------------+\n|              10 |\n+-----------------+\n1 row in set (0.03 sec)\n</code></pre> <p>\u7531\u67e5\u8be2\u7ed3\u679c\u53ef\u4ee5\u770b\u5230\uff0cCOUNT(*) \u8fd4\u56de tb_students_score \u8868\u4e2d\u8bb0\u5f55\u7684\u603b\u884c\u6570\uff0c\u65e0\u8bba\u503c\u662f\u4ec0\u4e48\u3002\u8fd4\u56de\u7684\u603b\u6570\u7684\u540d\u79f0\u4e3a students_number\u3002</p> <p>\u63d0\u793a\uff1a\u5728\u8ba1\u7b97\u603b\u6570\u7684\u65f6\u5019\u5bf9\u5f85 NULL \u503c\u7684\u65b9\u5f0f\u662f\uff0c\u6307\u5b9a\u5217\u7684\u503c\u4e3a\u7a7a\u7684\u884c\u88ab COUNT() \u51fd\u6570\u5ffd\u7565\uff0c\u4f46\u82e5\u4e0d\u6307\u5b9a\u5217\uff0c\u800c\u5728 COUNT() \u51fd\u6570\u4e2d\u4f7f\u7528\u661f\u53f7\u201c*\u201d\uff0c\u5219\u6240\u6709\u8bb0\u5f55\u90fd\u4e0d\u5ffd\u7565\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E6%95%99%E7%A8%8B/MySQL%E5%87%BD%E6%95%B0/#3-mysql-max","title":"3. MySQL MAX\u51fd\u6570\uff1a\u67e5\u8be2\u6307\u5b9a\u5217\u7684\u6700\u5927\u503c","text":"<p>MAX() \u51fd\u6570\u662f\u7528\u6765\u8fd4\u56de\u6307\u5b9a\u5217\u4e2d\u7684\u6700\u5927\u503c\u3002</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u5b66\u751f\u6210\u7ee9\u8868 tb_students_score\uff0c\u5b66\u751f\u6210\u7ee9\u8868\u7684\u6570\u636e\u5185\u5bb9\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; use test_db;\nDatabase changed\nmysql&gt; SELECT * FROM tb_students_score;\n+--------------+---------------+\n| student_name | student_score |\n+--------------+---------------+\n| Dany         |            90 |\n| Green        |            99 |\n| Henry        |            95 |\n| Jane         |            98 |\n| Jim          |            88 |\n| John         |            94 |\n| Lily         |           100 |\n| Susan        |            96 |\n| Thomas       |            93 |\n| Tom          |            89 |\n+--------------+---------------+\n10 rows in set (0.13 sec)\n</code></pre> <p>\u3010\u5b9e\u4f8b 1\u3011\u5728 tb_students_score \u8868\u4e2d\u67e5\u627e\u6700\u9ad8\u7684\u6210\u7ee9\uff0c\u8f93\u5165\u7684 SQL \u8bed\u53e5\u548c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; SELECT MAX(student_score)\n    -&gt; AS max_score\n    -&gt; FROM tb_students_score;\n+-----------+\n| max_score |\n+-----------+\n|       100 |\n+-----------+\n1 row in set (0.06 sec)\n</code></pre> <p>\u7531\u8fd0\u884c\u7ed3\u679c\u53ef\u4ee5\u770b\u5230\uff0cMAX() \u51fd\u6570\u67e5\u8be2\u51fa student_score \u5b57\u6bb5\u7684\u6700\u5927\u503c\u4e3a 100\u3002</p> <p>MAX() \u51fd\u6570\u4e0d\u4ec5\u9002\u7528\u4e8e\u67e5\u627e\u6570\u503c\u7c7b\u578b\uff0c\u4e5f\u53ef\u5e94\u7528\u4e8e\u5b57\u7b26\u7c7b\u578b\u3002</p> <p>\u3010\u5b9e\u4f8b 2\u3011\u5728 tb_students_score \u8868\u4e2d\u67e5\u627e student_name \u7684\u6700\u5927\u503c\uff0c\u8f93\u5165\u7684 SQL \u8bed\u53e5\u548c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; SELECT MAX(student_name)\n    -&gt; AS max_name\n    -&gt; FROM tb_students_score;\n+----------+\n| max_name |\n+----------+\n| Tom      |\n+----------+\n1 row in set (0.03 sec)\n</code></pre> <p>\u7531\u8fd0\u884c\u7ed3\u679c\u53ef\u4ee5\u770b\u5230\uff0cMAX() \u51fd\u6570\u53ef\u4ee5\u5bf9\u5b57\u6bcd\u8fdb\u884c\u5927\u5c0f\u5224\u65ad\uff0c\u5e76\u8fd4\u56de\u6700\u5927\u7684\u5b57\u7b26\u6216\u8005\u5b57\u7b26\u4e32\u503c\u3002</p> <p>\u6ce8\u610f\uff1aMAX() \u51fd\u6570\u8fd8\u53ef\u4ee5\u8fd4\u56de\u4efb\u610f\u5217\u4e2d\u7684\u6700\u5927\u503c\uff0c\u5305\u62ec\u8fd4\u56de\u5b57\u7b26\u7c7b\u578b\u7684\u6700\u5927\u503c\u3002\u5728\u5bf9\u5b57\u7b26\u7c7b\u578b\u7684\u6570\u636e\u8fdb\u884c\u6bd4\u8f83\u65f6\uff0c\u6309\u7167\u5b57\u7b26\u7684 ASCII \u7801\u503c\u5927\u5c0f\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ece a\uff5ez\uff0ca \u7684 ASCII \u7801\u6700\u5c0f\uff0cz \u7684\u6700\u5927\u3002\u5728\u6bd4\u8f83\u65f6\uff0c\u5148\u6bd4\u8f83\u7b2c\u4e00\u4e2a\u5b57\u7b26\uff0c\u5982\u679c\u76f8\u7b49\uff0c\u7ee7\u7eed\u6bd4\u8f83\u4e0b\u4e00\u4e2a\u5b57\u7b26\uff0c\u4e00\u76f4\u5230\u4e24\u4e2a\u5b57\u7b26\u4e0d\u76f8\u7b49\u6216\u8005\u5b57\u7b26\u7ed3\u675f\u4e3a\u6b62\u3002\u4f8b\u5982\uff0cb \u4e0e t \u6bd4\u8f83\u65f6\uff0ct \u4e3a\u6700\u5927\u503c\uff1bbcd \u4e0e bca \u6bd4\u8f83\u65f6\uff0cbcd \u4e3a\u6700\u5927\u503c\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E6%95%99%E7%A8%8B/MySQL%E5%87%BD%E6%95%B0/#4-mysql-min","title":"4. MySQL MIN\u51fd\u6570\uff1a\u67e5\u8be2\u6307\u5b9a\u5217\u7684\u6700\u5c0f\u503c","text":"<p>MIN() \u51fd\u6570\u662f\u7528\u6765\u8fd4\u56de\u67e5\u8be2\u5217\u4e2d\u7684\u6700\u5c0f\u503c\u3002</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u5b66\u751f\u6210\u7ee9\u8868 tb_students_score\uff0c\u5b66\u751f\u6210\u7ee9\u8868\u7684\u6570\u636e\u5185\u5bb9\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; use test_db;\nDatabase changed\nmysql&gt; SELECT * FROM tb_students_score;\n+--------------+---------------+\n| student_name | student_score |\n+--------------+---------------+\n| Dany         |            90 |\n| Green        |            99 |\n| Henry        |            95 |\n| Jane         |            98 |\n| Jim          |            88 |\n| John         |            94 |\n| Lily         |           100 |\n| Susan        |            96 |\n| Thomas       |            93 |\n| Tom          |            89 |\n+--------------+---------------+\n10 rows in set (0.13 sec)\n</code></pre> <p>\u3010\u5b9e\u4f8b\u3011\u5728 tb_students_score \u8868\u4e2d\u67e5\u627e\u6700\u4f4e\u7684\u6210\u7ee9\uff0c\u8f93\u5165\u7684 SQL \u8bed\u53e5\u548c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; SELECT MIN(student_score)\n    -&gt; AS min_score\n    -&gt; FROM tb_students_score;\n+-----------+\n| min_score |\n+-----------+\n|        88 |\n+-----------+\n1 row in set (0.00 sec)\n</code></pre> <p>\u7531\u7ed3\u679c\u53ef\u4ee5\u770b\u5230\uff0cMIN() \u51fd\u6570\u67e5\u8be2\u51fa student_score \u5b57\u6bb5\u7684\u6700\u5c0f\u503c\u4e3a 88\u3002</p> <p>\u63d0\u793a\uff1aMIN() \u51fd\u6570\u4e0e MAX() \u51fd\u6570\u7c7b\u4f3c\uff0c\u4e0d\u4ec5\u9002\u7528\u4e8e\u67e5\u627e\u6570\u503c\u7c7b\u578b\uff0c\u4e5f\u53ef\u5e94\u7528\u4e8e\u5b57\u7b26\u7c7b\u578b\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E6%95%99%E7%A8%8B/MySQL%E5%87%BD%E6%95%B0/#5-mysql-sum","title":"5. MySQL SUM\u51fd\u6570\uff1a\u6c42\u548c","text":"<p>MySQL SUM() \u662f\u4e00\u4e2a\u6c42\u603b\u548c\u7684\u51fd\u6570\uff0c\u8fd4\u56de\u6307\u5b9a\u5217\u503c\u7684\u603b\u548c\u3002</p> <p>SUM() \u51fd\u6570\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f</p> <ul> <li>\u5982\u679c\u5728\u6ca1\u6709\u8fd4\u56de\u5339\u914d\u884c SELECT \u8bed\u53e5\u4e2d\u4f7f\u7528 SUM \u51fd\u6570\uff0c\u5219 SUM \u51fd\u6570\u8fd4\u56de NULL\uff0c\u800c\u4e0d\u662f 0\u3002</li> <li>DISTINCT \u8fd0\u7b97\u7b26\u5141\u8bb8\u8ba1\u7b97\u96c6\u5408\u4e2d\u7684\u4e0d\u540c\u503c\u3002</li> <li>SUM \u51fd\u6570\u5ffd\u7565\u8ba1\u7b97\u4e2d\u7684 NULL \u503c\u3002</li> </ul> <p>\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u5b66\u751f\u6210\u7ee9\u8868 tb_students_score\uff0c\u5b66\u751f\u6210\u7ee9\u8868\u7684\u6570\u636e\u5185\u5bb9\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; use test_db;\nDatabase changed\nmysql&gt; SELECT * FROM tb_students_score;\n+--------------+---------------+\n| student_name | student_score |\n+--------------+---------------+\n| Dany         |            90 |\n| Green        |            99 |\n| Henry        |            95 |\n| Jane         |            98 |\n| Jim          |            88 |\n| John         |            94 |\n| Lily         |           100 |\n| Susan        |            96 |\n| Thomas       |            93 |\n| Tom          |            89 |\n+--------------+---------------+\n10 rows in set (0.13 sec)\n</code></pre> <p>\u3010\u5b9e\u4f8b\u3011\u5728 tb_students_score \u8868\u4e2d\u8ba1\u7b97\u5b66\u751f\u6210\u7ee9\u7684\u603b\u5206\uff0c\u8f93\u5165\u7684 SQL \u8bed\u53e5\u548c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mysql&gt; SELECT SUM(student_score)\n    -&gt; AS score_sum\n    -&gt; FROM tb_students_score;\n+-----------+\n| score_sum |\n+-----------+\n|       942 |\n+-----------+\n1 row in set (0.00 sec)\n</code></pre> <p>\u7531\u67e5\u8be2\u7ed3\u679c\u53ef\u4ee5\u770b\u5230\uff0cSUM() \u51fd\u6570\u8fd4\u56de\u5b66\u751f\u7684\u6240\u6709\u6210\u7ee9\u4e4b\u548c\u4e3a 942\u3002</p> <p>\u63d0\u793a\uff1aSUM() \u51fd\u6570\u5728\u8ba1\u7b97\u65f6\uff0c\u5ffd\u7565\u5217\u503c\u4e3a NULL \u7684\u884c\u3002</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E5%8A%9E%E5%85%AC/%E5%86%85%E7%BD%91%E7%9B%B4%E6%92%AD%E6%96%B9%E6%A1%88/","title":"\u5185\u7f51\u76f4\u64ad\u65b9\u6848","text":"<p>\u642d\u5efa\u516c\u53f8\u5185\u90e8\u76f4\u64ad\u5e73\u53f0\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u5f00\u6e90\u8f6f\u4ef6\u5b9e\u73b0\uff0c\u8fd9\u6837\u4e0d\u4ec5\u53ef\u4ee5\u8282\u7701\u6210\u672c\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u516c\u53f8\u7684\u5177\u4f53\u9700\u6c42\u8fdb\u884c\u5b9a\u5236\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u57fa\u4e8e\u5f00\u6e90\u8f6f\u4ef6\u642d\u5efa\u516c\u53f8\u5185\u90e8\u76f4\u64ad\u5e73\u53f0\u7684\u6b65\u9aa4\uff1a</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E5%8A%9E%E5%85%AC/%E5%86%85%E7%BD%91%E7%9B%B4%E6%92%AD%E6%96%B9%E6%A1%88/#1","title":"1. \u9009\u62e9\u5408\u9002\u7684\u5f00\u6e90\u8f6f\u4ef6","text":"<p>\u9009\u62e9\u5408\u9002\u7684\u5f00\u6e90\u76f4\u64ad\u8f6f\u4ef6\u662f\u7b2c\u4e00\u6b65\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684\u5f00\u6e90\u76f4\u64ad\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>OBS Studio: \u4e00\u4e2a\u514d\u8d39\u7684\u5f00\u6e90\u89c6\u9891\u5f55\u5236\u548c\u76f4\u64ad\u8f6f\u4ef6\u3002</li> <li>Nginx + RTMP Module: Nginx \u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684 HTTP \u548c\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0cRTMP \u6a21\u5757\u53ef\u4ee5\u7528\u4e8e\u5b9e\u65f6\u6d41\u5a92\u4f53\u4f20\u8f93\u3002</li> <li>Red5: \u4e00\u4e2a\u5f00\u6e90\u7684\u5a92\u4f53\u670d\u52a1\u5668\uff0c\u652f\u6301\u6d41\u5a92\u4f53\u3001\u804a\u5929\u3001\u5171\u4eab\u767d\u677f\u7b49\u529f\u80fd\u3002</li> <li>Jitsi: \u4e00\u4e2a\u5f00\u6e90\u7684\u89c6\u9891\u4f1a\u8bae\u89e3\u51b3\u65b9\u6848\uff0c\u4e5f\u652f\u6301\u76f4\u64ad\u529f\u80fd\u3002</li> </ul>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E5%8A%9E%E5%85%AC/%E5%86%85%E7%BD%91%E7%9B%B4%E6%92%AD%E6%96%B9%E6%A1%88/#2","title":"2. \u642d\u5efa\u57fa\u7840\u73af\u5883","text":"<p>\u9700\u8981\u51c6\u5907\u4e00\u53f0\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e91\u670d\u52a1\u5668\u6216\u516c\u53f8\u5185\u90e8\u7684\u7269\u7406\u670d\u52a1\u5668\u3002</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E5%8A%9E%E5%85%AC/%E5%86%85%E7%BD%91%E7%9B%B4%E6%92%AD%E6%96%B9%E6%A1%88/#nginx-rtmp","title":"\u5b89\u88c5 Nginx \u548c RTMP \u6a21\u5757","text":"<pre><code># \u5b89\u88c5\u4f9d\u8d56\nsudo apt-get update\nsudo apt-get install build-essential libpcre3 libpcre3-dev libssl-dev\n\n# \u4e0b\u8f7d Nginx \u548c RTMP \u6a21\u5757\u6e90\u7801\nwget http://nginx.org/download/nginx-1.20.1.tar.gz\nwget https://github.com/arut/nginx-rtmp-module/archive/master.zip\n\n# \u89e3\u538b\u6e90\u7801\u5305\ntar -zxvf nginx-1.20.1.tar.gz\nunzip master.zip\n\n# \u7f16\u8bd1\u548c\u5b89\u88c5 Nginx \u4e0e RTMP \u6a21\u5757\ncd nginx-1.20.1\n./configure --with-http_ssl_module --add-module=../nginx-rtmp-module-master\nmake\nsudo make install\n\n# \u542f\u52a8 Nginx\nsudo /usr/local/nginx/sbin/nginx\n</code></pre>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E5%8A%9E%E5%85%AC/%E5%86%85%E7%BD%91%E7%9B%B4%E6%92%AD%E6%96%B9%E6%A1%88/#3-nginx-rtmp","title":"3. \u914d\u7f6e Nginx \u7684 RTMP \u6a21\u5757","text":"<p>\u7f16\u8f91\u00a0<code>nginx.conf</code>\u00a0\u6587\u4ef6\uff1a</p> <pre><code>sudo vim /usr/local/nginx/conf/nginx.conf\n</code></pre> <p>\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff1a</p> <pre><code>rtmp {\n    server {\n        listen 1935;\n        chunk_size 4096;\n\n        application live {\n            live on;\n            record off;\n\n            # \u63a8\u6d41\u5730\u5740 (\u63a8\u9001\u5230\u8fd9\u4e2a URL)\n            push rtmp://localhost/live;\n        }\n    }\n}\n\nhttp {\n    server {\n        listen 8080;\n\n        location / {\n            root html;\n            index index.html index.htm;\n        }\n\n        location /hls {\n            types {\n                application/vnd.apple.mpegurl m3u8;\n                video/mp2t ts;\n            }\n            alias /tmp/hls;\n            expires -1;\n        }\n\n        location /stat {\n            rtmp_stat all;\n            rtmp_stat_stylesheet stat.xsl;\n        }\n\n        location /stat.xsl {\n            root html;\n        }\n    }\n}\n</code></pre>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E5%8A%9E%E5%85%AC/%E5%86%85%E7%BD%91%E7%9B%B4%E6%92%AD%E6%96%B9%E6%A1%88/#4-obs-studio","title":"4. \u5b89\u88c5\u548c\u914d\u7f6e OBS Studio","text":"<p>OBS Studio \u53ef\u4ee5\u5728\u5404\u5927\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5b89\u88c5\uff08Windows, MacOS, Linux\uff09\uff0c\u5b89\u88c5\u540e\u8fdb\u884c\u5982\u4e0b\u914d\u7f6e\uff1a</p> <ol> <li>\u6253\u5f00 OBS Studio\uff0c\u70b9\u51fb\u201c\u8bbe\u7f6e\u201d\u3002</li> <li>\u5728\u201c\u6d41\u201d\u9009\u9879\u5361\u4e2d\uff0c\u9009\u62e9\u201c\u81ea\u5b9a\u4e49\u6d41\u5a92\u4f53\u670d\u52a1\u201d\u3002</li> <li>\u8f93\u5165 RTMP URL\uff0c\u4f8b\u5982\uff1a<code>rtmp://&lt;your_server_ip&gt;/live</code>\u3002</li> <li>\u8bbe\u7f6e\u597d\u5176\u4ed6\u53c2\u6570\u540e\uff0c\u5f00\u59cb\u63a8\u6d41\u3002</li> </ol>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E5%8A%9E%E5%85%AC/%E5%86%85%E7%BD%91%E7%9B%B4%E6%92%AD%E6%96%B9%E6%A1%88/#5","title":"5. \u64ad\u653e\u76f4\u64ad\u5185\u5bb9","text":"<p>\u53ef\u4ee5\u4f7f\u7528 VLC \u6216\u8005\u7f51\u9875\u64ad\u653e\u5668\u64ad\u653e\u76f4\u64ad\u5185\u5bb9\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5728 VLC \u4e2d\u6253\u5f00\u7f51\u7edc\u4e32\u6d41\uff1a<code>rtmp://&lt;your_server_ip&gt;/live</code>\u3002</p> <p>\u4e5f\u53ef\u4ee5\u5728\u7f51\u9875\u4e2d\u5d4c\u5165\u64ad\u653e\u5668\uff0c\u4f8b\u5982 Video.js\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;link href=\"https://vjs.zencdn.net/7.11.4/video-js.css\" rel=\"stylesheet\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;video id=\"my_video_1\" class=\"video-js vjs-default-skin\" controls preload=\"auto\" width=\"640\" height=\"264\"\n           data-setup='{\"fluid\": true}'&gt;\n        &lt;source src=\"http://&lt;your_server_ip&gt;:8080/hls/stream.m3u8\" type=\"application/x-mpegURL\"&gt;\n    &lt;/video&gt;\n\n    &lt;script src=\"https://vjs.zencdn.net/7.11.4/video.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E5%8A%9E%E5%85%AC/%E5%86%85%E7%BD%91%E7%9B%B4%E6%92%AD%E6%96%B9%E6%A1%88/#_1","title":"\u603b\u7ed3","text":"<p>\u901a\u8fc7\u4e0a\u8ff0\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u57fa\u4e8e Nginx \u548c OBS Studio \u642d\u5efa\u4e00\u4e2a\u7b80\u5355\u800c\u9ad8\u6548\u7684\u516c\u53f8\u5185\u90e8\u76f4\u64ad\u5e73\u53f0\u3002\u5f53\u7136\uff0c\u6839\u636e\u5177\u4f53\u9700\u6c42\uff0c\u8fd8\u53ef\u4ee5\u8fdb\u4e00\u6b65\u4f18\u5316\u548c\u6269\u5c55\u529f\u80fd\uff0c\u5982\u589e\u52a0\u7528\u6237\u8ba4\u8bc1\u3001\u804a\u5929\u4e92\u52a8\u7b49\u529f\u80fd\u3002</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7/MIBs/Huawei/HUAWEI-SYS-MAN-MIB/hwPatchFileTable/","title":"hwPatchFileTable\u8be6\u7ec6\u63cf\u8ff0","text":"<p>\u8be5\u8868\u63cf\u8ff0\u4e86\u7cfb\u7edf\u8865\u4e01\u6587\u4ef6\u5217\u8868\u3002</p> <p>\u8be5\u8868\u7684\u7d22\u5f15\u662fhwPatchFileIndex</p> OID \u8282\u70b9\u540d\u79f0 \u6570\u636e\u7c7b\u578b \u6700\u5927\u8bbf\u95ee\u6743\u9650 \u542b\u4e49 \u5b9e\u73b0\u89c4\u683c 1.3.6.1.4.1.2011.5.25.19.1.8.2.1.1 hwPatchFileIndex Unsigned32 not-accessible \u7d22\u5f15\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.2.1.2 hwPatchFileName DisplayString read-only \u8865\u4e01\u6587\u4ef6\u540d\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.2.1.3 hwPatchFileSize Integer32 read-only \u8865\u4e01\u6587\u4ef6\u5927\u5c0f\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.2.1.4 hwPatchFileLocation DisplayString read-only \u8865\u4e01\u6587\u4ef6\u6240\u5904\u4f4d\u7f6e\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.2.1.5 hwPatchFileVersion DisplayString read-only \u8865\u4e01\u6587\u4ef6\u7684\u7248\u672c\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7/MIBs/Huawei/HUAWEI-SYS-MAN-MIB/hwPatchFileTable/#_1","title":"\u521b\u5efa\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u521b\u5efa\u64cd\u4f5c\u3002</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7/MIBs/Huawei/HUAWEI-SYS-MAN-MIB/hwPatchFileTable/#_2","title":"\u4fee\u6539\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u4fee\u6539\u64cd\u4f5c\u3002</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7/MIBs/Huawei/HUAWEI-SYS-MAN-MIB/hwPatchFileTable/#_3","title":"\u5220\u9664\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u5220\u9664\u64cd\u4f5c\u3002</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7/MIBs/Huawei/HUAWEI-SYS-MAN-MIB/hwPatchFileTable/#_4","title":"\u8bfb\u53d6\u7ea6\u675f","text":"<p>\u666e\u901a\u7684\u589e\u52a0\u548c\u5220\u9664\u6587\u4ef6\uff0c\u4e0d\u5f71\u54cd\u8be5\u8868\u7684\u7d22\u5f15\uff0c\u4f46\u5907\u677f\u7684\u63d2\u5165\u3001\u5907\u677f\u7684\u62d4\u51fa\u3001\u4e3b\u5907\u5012\u6362\u4ee5\u53ca\u5907\u677f\u91cd\u542f\u7b49\uff0c\u4f1a\u5f71\u54cd\u5230\u7d22\u5f15\u7684\u53d8\u5316\uff1b\u4f8b\u5982\uff0c\u539f\u6709\u7d22\u5f15\u4e3a1\u30012\u30013\u7684\u4e09\u4e2a\u6587\u4ef6\uff0c\u5220\u96642\u53f7\u6587\u4ef6\uff0c\u5219\u8be5\u8868\u8bfb\u53d6\u4e3a1\u30013\u53f7\u6587\u4ef6\uff1b\u82e5\u6b64\u65f6\uff0c\u518d\u6709\u5907\u677f\u7684\u63d2\u5165\u3001\u5907\u677f\u7684\u62d4\u51fa\u3001\u4e3b\u5907\u5012\u6362\u4ee5\u53ca\u5907\u677f\u91cd\u542f\u7b49\u52a8\u4f5c\u53d1\u751f\uff0c\u5219\u8be5\u8868\u8bfb\u53d6\u4e3a1\u30012\uff08\u539f3\u53f7\u6587\u4ef6\uff09\u53f7\u6587\u4ef6\u3002</p> <p>\u4ee5\u4e0b\u8282\u70b9\u652f\u6301\uff1a</p> <ul> <li>hwPatchFileName</li> <li>hwPatchFileLocation</li> <li>hwPatchFileSize</li> <li>hwPatchFileVersion</li> </ul> <p>\u65e0</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7/MIBs/Huawei/HUAWEI-SYS-MAN-MIB/hwPatchTable/","title":"hwPatchTable\u8be6\u7ec6\u63cf\u8ff0","text":"<p>\u8be5\u8868\u7528\u6765\u914d\u7f6e\u8865\u4e01\u64cd\u4f5c\u548c\u67e5\u8be2\u3002</p> <p>\u8be5\u8868\u7684\u7d22\u5f15\u662fhwSlotIndex, hwPatchIndex\u3002</p> OID \u8282\u70b9\u540d\u79f0 \u6570\u636e\u7c7b\u578b \u6700\u5927\u8bbf\u95ee\u6743\u9650 \u542b\u4e49 \u5b9e\u73b0\u89c4\u683c 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.1 hwPatchSlotIndex Integer32 not-accessible \u63d2\u69fd\u7d22\u5f15\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.2 hwPatchIndex Unsigned32 not-accessible \u8865\u4e01\u7d22\u5f15\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.3 hwPatchUsedFileName DisplayString read-only \u8865\u4e01\u6587\u4ef6\u540d\u5b57\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.4 hwPatchVersion DisplayString read-only \u8865\u4e01\u6587\u4ef6\u7248\u672c\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.5 hwPatchDescription DisplayString read-only \u8865\u4e01\u63cf\u8ff0\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.6 hwPatchProgramVersion DisplayString read-only \u4e3b\u673a\u8f6f\u4ef6\u7684\u7248\u672c\u53f7\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.7 hwPatchFuncNum Integer32 read-only \u8865\u4e01\u5305\u542b\u7684\u529f\u80fd\u4e2a\u6570\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.8 hwPatchTextLen Integer32 read-only \u8865\u4e01\u7f16\u7801\u957f\u5ea6\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.9 hwPatchDataLen Integer32 read-only \u8865\u4e01\u6587\u4ef6\u6570\u636e\u957f\u5ea6\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.10 hwPatchType INTEGER read-only \u8865\u4e01\u7c7b\u578b\u3002hotCommon(1): \u70ed\u8865\u4e01\u3002hotTemporary(2): \u4e34\u65f6\u70ed\u8865\u4e01\u3002coolCommon(3): \u51b7\u8865\u4e01\u3002coolTemporary(4): \u4e34\u65f6\u51b7\u8865\u4e01\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.11 hwPatchBuildTime DateAndTime read-only \u8865\u4e01\u521b\u5efa\u65f6\u95f4\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.12 hwPatchActiveTime DateAndTime read-only \u8865\u4e01\u751f\u6548\u65f6\u95f4\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.13 hwPatchAdminStatus INTEGER read-write \u8865\u4e01\u64cd\u4f5c\u72b6\u6001\uff1arun (1)\u8868\u793a\u5c06\u8865\u4e01\u72b6\u6001\u53d8\u4e3a\u8fd0\u884c\uff08run\uff09\u72b6\u6001\uff1bactive(2) \u8868\u793a\u5c06\u8865\u4e01\u72b6\u6001\u53d8\u4e3a\u6fc0\u6d3b\uff08active\uff09\u72b6\u6001\uff1bdeactive (3)\u8868\u793a\u5c06\u8865\u4e01\u72b6\u6001\u53d8\u4e3a\u53bb\u6fc0\u6d3b\uff08deactive\uff09\u72b6\u6001\uff1bdelete (4) \u8868\u793a\u5c06\u8865\u4e01\u5220\u9664\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.14 hwPatchOperateState INTEGER read-only \u8865\u4e01\u8fd0\u884c\u72b6\u6001\uff1apatchRunning(1)\u8868\u793a\u5f53\u524d\u8865\u4e01\u8fd0\u884c\u72b6\u6001\u4e3a\u8fd0\u884c\u6001\uff08running\uff09\uff1bpatchActive(2)\u8868\u793a\u5f53\u524d\u8865\u4e01\u8fd0\u884c\u72b6\u6001\u4e3a\u6fc0\u6d3b\u6001\uff08active\uff09\uff1bpatchDeactive(3)\u8868\u793a\u5f53\u524d\u8865\u4e01\u8fd0\u884c\u72b6\u6001\u4e3a\u672a\u6fc0\u6d3b\u6001\uff08deactive\uff09\uff1bpatchDeleting(4)\u8868\u793a\u5f53\u524d\u8865\u4e01\u88ab\u5220\u9664\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.15 hwPatchOperateDestType INTEGER read-create \u8865\u4e01\u64cd\u4f5c\u7c7b\u578b\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002 1.3.6.1.4.1.2011.5.25.19.1.8.5.1.1.16 hwPatchOperateDestIndex DisplayString read-create \u8865\u4e01\u64cd\u4f5c\u7d22\u5f15\u3002 \u5b9e\u73b0\u4e0eMIB\u6587\u4ef6\u5b9a\u4e49\u4e00\u81f4\u3002"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7/MIBs/Huawei/HUAWEI-SYS-MAN-MIB/hwPatchTable/#_1","title":"\u521b\u5efa\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u521b\u5efa\u64cd\u4f5c\u3002</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7/MIBs/Huawei/HUAWEI-SYS-MAN-MIB/hwPatchTable/#_2","title":"\u4fee\u6539\u7ea6\u675f","text":"<p>\u65e0</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7/MIBs/Huawei/HUAWEI-SYS-MAN-MIB/hwPatchTable/#_3","title":"\u5220\u9664\u7ea6\u675f","text":"<p>\u8be5\u8868\u4e0d\u652f\u6301\u5220\u9664\u64cd\u4f5c\u3002</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7/MIBs/Huawei/HUAWEI-SYS-MAN-MIB/hwPatchTable/#_4","title":"\u8bfb\u53d6\u7ea6\u675f","text":"<p>\u65e0</p>"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E8%BF%90%E7%BB%B4/Nautobot/%E9%83%A8%E7%BD%B2/","title":"\u90e8\u7f72","text":"https://github.com/nautobot/nautobot https://hub.docker.com/r/networktocode/nautobot"},{"location":"%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E8%BF%90%E7%BB%B4/Nautobot/%E9%83%A8%E7%BD%B2/#_1","title":"\u6570\u636e\u5e93","text":"<pre><code>docker pull networktocode/nautobot:latest-py3.11\n</code></pre>"}]}